var P1=Object.defineProperty;var M1=(m,C,l)=>C in m?P1(m,C,{enumerable:!0,configurable:!0,writable:!0,value:l}):m[C]=l;var Gt=(m,C,l)=>M1(m,typeof C!="symbol"?C+"":C,l);(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))g(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const h of e.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&g(h)}).observe(document,{childList:!0,subtree:!0});function l(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function g(t){if(t.ep)return;t.ep=!0;const e=l(t);fetch(t.href,e)}})();function R1(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Vo={exports:{}},L1=Vo.exports,Zv;function O1(){return Zv||(Zv=1,function(m,C){(function(g,t){m.exports=t()})(L1,function(){return function(l){var g={};function t(e){if(g[e])return g[e].exports;var h=g[e]={i:e,l:!1,exports:{}};return l[e].call(h.exports,h,h.exports,t),h.l=!0,h.exports}return t.m=l,t.c=g,t.d=function(e,h,r){t.o(e,h)||Object.defineProperty(e,h,{enumerable:!0,get:r})},t.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,h){if(h&1&&(e=t(e)),h&8||h&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),h&2&&typeof e!="string")for(var a in e)t.d(r,a,(function(s){return e[s]}).bind(null,a));return r},t.n=function(e){var h=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(h,"a",h),h},t.o=function(e,h){return Object.prototype.hasOwnProperty.call(e,h)},t.p="",t(t.s=1528)}([function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}function e(i,n,f){var o=f?i[n]:Object.getOwnPropertyDescriptor(i,n);return!f&&o.value&&typeof o.value=="object"&&(o=o.value),o&&t(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function h(i,n){var f=Object.getOwnPropertyDescriptor(i,n);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function r(i,n,f,o){for(var u in n)if(n.hasOwnProperty(u)){var d=e(n,u,f);if(d!==!1){var c=o||i;if(h(c.prototype,u)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(i.prototype,u,d)}else i.prototype[u]=n[u]}}function a(i,n){if(n){Array.isArray(n)||(n=[n]);for(var f=0;f<n.length;f++)r(i,n[f].prototype||n[f])}}function s(i){i||(i={});var n,f;if(i.initialize){if(typeof i.initialize!="function")throw new Error("initialize must be a function");n=i.initialize,delete i.initialize}else if(i.Extends){var o=i.Extends;n=function(){o.apply(this,arguments)}}else n=function(){};i.Extends?(n.prototype=Object.create(i.Extends.prototype),n.prototype.constructor=n,f=i.Extends,delete i.Extends):n.prototype.constructor=n;var u=null;return i.Mixins&&(u=i.Mixins,delete i.Mixins),a(n,u),r(n,i,!0,f),n}s.extend=r,s.mixin=a,s.ignoreFinals=!1,l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=typeof e;return!e||a==="number"||a==="string"?r:e.hasOwnProperty(h)&&e[h]!==void 0?e[h]:r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(124),r=new e({initialize:function(s,i){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(i===void 0&&(i=s),this.x=s||0,this.y=i||0)},clone:function(){return new r(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,s){return s===void 0&&(s=a),this.x=a,this.y=s,this},setTo:function(a,s){return this.set(a,s)},setToPolar:function(a,s){return s==null&&(s=1),this.x=Math.cos(a)*s,this.y=Math.sin(a)*s,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,s){return h(this.x,a.x,s)&&h(this.y,a.y,s)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var s=a.x-this.x,i=a.y-this.y;return Math.sqrt(s*s+i*i)},distanceSq:function(a){var s=a.x-this.x,i=a.y-this.y;return s*s+i*i},length:function(){var a=this.x,s=this.y;return Math.sqrt(a*a+s*s)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,s=this.y;return a*a+s*s},normalize:function(){var a=this.x,s=this.y,i=a*a+s*s;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=s*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,s){s===void 0&&(s=0);var i=this.x,n=this.y;return this.x=i+s*(a.x-i),this.y=n+s*(a.y-n),this},transformMat3:function(a){var s=this.x,i=this.y,n=a.val;return this.x=n[0]*s+n[3]*i+n[6],this.y=n[1]*s+n[4]*i+n[7],this},transformMat4:function(a){var s=this.x,i=this.y,n=a.val;return this.x=n[0]*s+n[4]*i+n[12],this.y=n[1]*s+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var s=this.length();return s&&s>a&&this.scale(a/s),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var s=Math.cos(a),i=Math.sin(a);return this.set(s*this.x-i*this.y,i*this.x+s*this.y)}});r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(56),r=new e({initialize:function(s,i){s===void 0&&(s=0),i===void 0&&(i=s),this.type=h.POINT,this.x=s,this.y=i},setTo:function(a,s){return a===void 0&&(a=0),s===void 0&&(s=a),this.x=a,this.y=s,this}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(24),r=t(20),a=new e({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(s,i){a.prototype.hasOwnProperty(s)||(a.prototype[s]=i)},a.remove=function(s){a.prototype.hasOwnProperty(s)&&delete a.prototype[s]},h.register("GameObjectFactory",a,"add"),l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(!e||typeof e=="number")return r;if(e.hasOwnProperty(h))return e[h];if(h.indexOf(".")!==-1){for(var a=h.split("."),s=e,i=r,n=0;n<a.length;n++)if(s.hasOwnProperty(a[n]))i=s[a[n]],s=s[a[n]];else{i=r;break}return i}else return r};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={install:function(h){for(var r in t)h[r]=t[r]},register:function(h,r){t[h]=r},destroy:function(){t={}}};l.exports=e},function(l,g,t){var e=Object.prototype.hasOwnProperty,h="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(h=!1));function a(f,o,u){this.fn=f,this.context=o,this.once=u||!1}function s(f,o,u,d,c){if(typeof u!="function")throw new TypeError("The listener must be a function");var v=new a(u,d||f,c),p=h?h+o:o;return f._events[p]?f._events[p].fn?f._events[p]=[f._events[p],v]:f._events[p].push(v):(f._events[p]=v,f._eventsCount++),f}function i(f,o){--f._eventsCount===0?f._events=new r:delete f._events[o]}function n(){this._events=new r,this._eventsCount=0}n.prototype.eventNames=function(){var o=[],u,d;if(this._eventsCount===0)return o;for(d in u=this._events)e.call(u,d)&&o.push(h?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(u)):o},n.prototype.listeners=function(o){var u=h?h+o:o,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var c=0,v=d.length,p=new Array(v);c<v;c++)p[c]=d[c].fn;return p},n.prototype.listenerCount=function(o){var u=h?h+o:o,d=this._events[u];return d?d.fn?1:d.length:0},n.prototype.emit=function(o,u,d,c,v,p){var x=h?h+o:o;if(!this._events[x])return!1;var y=this._events[x],S=arguments.length,E,A;if(y.fn){switch(y.once&&this.removeListener(o,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,c),!0;case 5:return y.fn.call(y.context,u,d,c,v),!0;case 6:return y.fn.call(y.context,u,d,c,v,p),!0}for(A=1,E=new Array(S-1);A<S;A++)E[A-1]=arguments[A];y.fn.apply(y.context,E)}else{var M=y.length,L;for(A=0;A<M;A++)switch(y[A].once&&this.removeListener(o,y[A].fn,void 0,!0),S){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,u);break;case 3:y[A].fn.call(y[A].context,u,d);break;case 4:y[A].fn.call(y[A].context,u,d,c);break;default:if(!E)for(L=1,E=new Array(S-1);L<S;L++)E[L-1]=arguments[L];y[A].fn.apply(y[A].context,E)}}return!0},n.prototype.on=function(o,u,d){return s(this,o,u,d,!1)},n.prototype.once=function(o,u,d){return s(this,o,u,d,!0)},n.prototype.removeListener=function(o,u,d,c){var v=h?h+o:o;if(!this._events[v])return this;if(!u)return i(this,v),this;var p=this._events[v];if(p.fn)p.fn===u&&(!c||p.once)&&(!d||p.context===d)&&i(this,v);else{for(var x=0,y=[],S=p.length;x<S;x++)(p[x].fn!==u||c&&!p[x].once||d&&p[x].context!==d)&&y.push(p[x]);y.length?this._events[v]=y.length===1?y[0]:y:i(this,v)}return this},n.prototype.removeAllListeners=function(o){var u;return o?(u=h?h+o:o,this._events[u]&&i(this,u)):(this._events=new r,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=h,n.EventEmitter=n,l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(57),r=t(171),a=t(306),s=t(56),i=t(47),n=t(174),f=new e({initialize:function(u,d,c,v){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=s.RECTANGLE,this.x=u,this.y=d,this.width=c,this.height=v},contains:function(o,u){return h(this,o,u)},getPoint:function(o,u){return r(this,o,u)},getPoints:function(o,u,d){return a(this,o,u,d)},getRandomPoint:function(o){return n(this,o)},setTo:function(o,u,d,c){return this.x=o,this.y=u,this.width=d,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(o,u){return u===void 0&&(u=o),this.x=o,this.y=u,this},setSize:function(o,u){return u===void 0&&(u=o),this.width=o,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(o){return o===void 0&&(o=new i),o.setTo(this.x,this.y,this.right,this.y),o},getLineB:function(o){return o===void 0&&(o=new i),o.setTo(this.right,this.y,this.right,this.bottom),o},getLineC:function(o){return o===void 0&&(o=new i),o.setTo(this.right,this.bottom,this.x,this.bottom),o},getLineD:function(o){return o===void 0&&(o=new i),o.setTo(this.x,this.bottom,this.x,this.y),o},left:{get:function(){return this.x},set:function(o){o>=this.right?this.width=0:this.width=this.right-o,this.x=o}},right:{get:function(){return this.x+this.width},set:function(o){o<=this.x?this.width=0:this.width=o-this.x}},top:{get:function(){return this.y},set:function(o){o>=this.bottom?this.height=0:this.height=this.bottom-o,this.y=o}},bottom:{get:function(){return this.y+this.height},set:function(o){o<=this.y?this.height=0:this.height=o-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Alpha:t(607),AlphaSingle:t(303),BlendMode:t(304),ComputedSize:t(608),Crop:t(609),Depth:t(305),Flip:t(610),GetBounds:t(611),Mask:t(309),Origin:t(632),PathFollower:t(633),Pipeline:t(167),ScrollFactor:t(312),Size:t(634),Texture:t(635),TextureCrop:t(636),Tint:t(637),ToJSON:t(176),Transform:t(313),TransformMatrix:t(25),Visible:t(314)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e){for(var h="",r=0;r<e;++r)r>0&&(h+=`
else `),r<e-1&&(h+="if(test == "+r+".0){}");return h}l.exports={getTintFromFloats:function(e,h,r,a){var s=(e*255|0)&255,i=(h*255|0)&255,n=(r*255|0)&255,f=(a*255|0)&255;return(f<<24|s<<16|i<<8|n)>>>0},getTintAppendFloatAlpha:function(e,h){var r=(h*255|0)&255;return(r<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,h){var r=(e>>16|0)&255,a=(e>>8|0)&255,s=(e|0)&255,i=(h*255|0)&255;return(i<<24|s<<16|a<<8|r)>>>0},getFloatsFromUintRGB:function(e){var h=(e>>16|0)&255,r=(e>>8|0)&255,a=(e|0)&255;return[h/255,r/255,a/255]},checkShaderMax:function(e,h){(!h||h===-1)&&(h=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));for(var r=e.createShader(e.FRAGMENT_SHADER),a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var s=a.replace(/%forloop%/gi,t(h));if(e.shaderSource(r,s),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))h=h/2|0;else break}return h},parseFragmentShaderMaxTextures:function(e,h){if(!e)return"";for(var r="",a=0;a<h;a++)a>0&&(r+=`
	else `),a<h-1&&(r+="if (outTexId < "+a+".5)"),r+=`
	{`,r+=`
		texture = texture2D(uMainSampler[`+a+"], outTexCoord);",r+=`
	}`;return e=e.replace(/%count%/gi,h.toString()),e.replace(/%forloop%/gi,r)}}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(193),h=t(6),r=function(a,s,i){var n=h(a,s,null);if(n===null)return i;if(Array.isArray(n))return e.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return e.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return e.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(s);return n};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(176),r=t(101),a=t(9),s=t(75),i=t(20),n=new e({Extends:a,initialize:function(o,u){a.call(this),this.scene=o,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),o.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(f,o){return this.data||(this.data=new r(this)),this.data.set(f,o),this},incData:function(f,o){return this.data||(this.data=new r(this)),this.data.inc(f,o),this},toggleData:function(f){return this.data||(this.data=new r(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new r(this)),this.data.get(f)},setInteractive:function(f,o,u){return this.scene.sys.input.enable(this,f,o,u),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(f){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,o=this.parentContainer,u=[];o&&(u.unshift(o.getIndex(f)),f=o,o.parentContainer);)o=o.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(f)):u.unshift(this.scene.sys.displayList.getIndex(f)),u},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),f.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(24),r=t(20),a=new e({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(s,i){a.prototype.hasOwnProperty(s)||(a.prototype[s]=i)},a.remove=function(s){a.prototype.hasOwnProperty(s)&&delete a.prototype[s]},h.register("GameObjectCreator",a,"make"),l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(7),h=function(){var r,a,s,i,n,f,o=arguments[0]||{},u=1,d=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},u=2),d===u&&(o=this,--u);u<d;u++)if((r=arguments[u])!=null)for(a in r)s=o[a],i=r[a],o!==i&&(c&&i&&(e(i)||(n=Array.isArray(i)))?(n?(n=!1,f=s&&Array.isArray(s)?s:[]):f=s&&e(s)?s:{},o[a]=h(c,f,i)):i!==void 0&&(o[a]=i));return o};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return Math.max(h,Math.min(r,e))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),h=new e,r=new e,a=new e,s={camera:h,sprite:r,calc:a},i=function(n,f,o){var u=h,d=r,c=a;return d.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(f.matrix),o?(u.multiplyWithOffset(o,-f.scrollX*n.scrollFactorX,-f.scrollY*n.scrollFactorY),d.e=n.x,d.f=n.y):(d.e-=f.scrollX*n.scrollFactorX,d.f-=f.scrollY*n.scrollFactorY),u.multiply(d,c),s};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:t(656),BOOT:t(657),CREATE:t(658),DESTROY:t(659),PAUSE:t(660),POST_UPDATE:t(661),PRE_RENDER:t(662),PRE_UPDATE:t(663),READY:t(664),REMOVED_FROM_SCENE:t(665),RENDER:t(666),RESUME:t(667),SHUTDOWN:t(668),SLEEP:t(669),START:t(670),TRANSITION_COMPLETE:t(671),TRANSITION_INIT:t(672),TRANSITION_OUT:t(673),TRANSITION_START:t(674),TRANSITION_WAKE:t(675),UPDATE:t(676),WAKE:t(677)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BLUR:t(612),BOOT:t(613),CONTEXT_LOST:t(614),CONTEXT_RESTORED:t(615),DESTROY:t(616),FOCUS:t(617),HIDDEN:t(618),PAUSE:t(619),POST_RENDER:t(620),POST_STEP:t(621),PRE_RENDER:t(622),PRE_STEP:t(623),READY:t(624),RESUME:t(625),STEP:t(626),VISIBLE:t(627)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(95),a=t(2),s=t(155),i=t(240),n=t(517),f=t(156),o=new e({initialize:function(d,c){this.loader=d,this.cache=a(c,"cache",!1),this.type=a(c,"type",!1),this.key=a(c,"key",!1);var v=this.key;if(d.prefix&&d.prefix!==""&&(this.key=d.prefix+v),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var p=a(c,"url");p===void 0?p=d.path+v+"."+a(c,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(p=d.path+p),this.url=p,this.src="",this.xhrSettings=f(a(c,"responseType",void 0)),a(c,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?h.FILE_POPULATED:h.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(c,"config",{}),this.multiFile,this.linkFile},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===h.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=h.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=n(this,this.loader.xhr))},onLoad:function(u,d){var c=u.responseURL&&(u.responseURL.indexOf("file://")===0||u.responseURL.indexOf("capacitor://")===0),v=c&&d.target.status===0,p=!(d.target&&d.target.status!==200)||v;u.readyState===4&&u.status>=400&&u.status<=599&&(p=!1),this.state=h.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=h.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=h.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=h.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(u){u===void 0&&(u=this.data);var d=this.key,c=this.type;this.loader.emit(r.FILE_COMPLETE,d,c,u),this.loader.emit(r.FILE_KEY_COMPLETE+c+"-"+d,d,c,u),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});o.createObjectURL=function(u,d,c){if(typeof URL=="function")u.src=URL.createObjectURL(d);else{var v=new FileReader;v.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(d.type||c)+";base64,"+v.result.split(",")[1]},v.onerror=u.onerror,v.readAsDataURL(d)}},o.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},l.exports=o},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={},h={};h.register=function(r,a,s,i){i===void 0&&(i=!1),t[r]={plugin:a,mapping:s,custom:i}},h.registerCustom=function(r,a,s,i){e[r]={plugin:a,mapping:s,data:i}},h.hasCore=function(r){return t.hasOwnProperty(r)},h.hasCustom=function(r){return e.hasOwnProperty(r)},h.getCore=function(r){return t[r]},h.getCustom=function(r){return e[r]},h.getCustomClass=function(r){return e.hasOwnProperty(r)?e[r].plugin:null},h.remove=function(r){t.hasOwnProperty(r)&&delete t[r]},h.removeCustom=function(r){e.hasOwnProperty(r)&&delete e[r]},h.destroyCorePlugins=function(){for(var r in t)t.hasOwnProperty(r)&&delete t[r]},h.destroyCustomPlugins=function(){for(var r in e)e.hasOwnProperty(r)&&delete e[r]},l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(14),r=t(3),a=new e({initialize:function(i,n,f,o,u,d){i===void 0&&(i=1),n===void 0&&(n=0),f===void 0&&(f=0),o===void 0&&(o=1),u===void 0&&(u=0),d===void 0&&(d=0),this.matrix=new Float32Array([i,n,f,o,u,d,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,i=s[0],n=s[1],f=s[2],o=s[3];return i||n?n>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):f||o?h.TAU-(o>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,i){var n=this.matrix;return n[4]=n[0]*s+n[2]*i+n[4],n[5]=n[1]*s+n[3]*i+n[5],this},scale:function(s,i){var n=this.matrix;return n[0]*=s,n[1]*=s,n[2]*=i,n[3]*=i,this},rotate:function(s){var i=Math.sin(s),n=Math.cos(s),f=this.matrix,o=f[0],u=f[1],d=f[2],c=f[3];return f[0]=o*n+d*i,f[1]=u*n+c*i,f[2]=o*-i+d*n,f[3]=u*-i+c*n,this},multiply:function(s,i){var n=this.matrix,f=s.matrix,o=n[0],u=n[1],d=n[2],c=n[3],v=n[4],p=n[5],x=f[0],y=f[1],S=f[2],E=f[3],A=f[4],M=f[5],L=i===void 0?this:i;return L.a=x*o+y*d,L.b=x*u+y*c,L.c=S*o+E*d,L.d=S*u+E*c,L.e=A*o+M*d+v,L.f=A*u+M*c+p,L},multiplyWithOffset:function(s,i,n){var f=this.matrix,o=s.matrix,u=f[0],d=f[1],c=f[2],v=f[3],p=f[4],x=f[5],y=i*u+n*c+p,S=i*d+n*v+x,E=o[0],A=o[1],M=o[2],L=o[3],F=o[4],O=o[5];return f[0]=E*u+A*c,f[1]=E*d+A*v,f[2]=M*u+L*c,f[3]=M*d+L*v,f[4]=F*u+O*c+y,f[5]=F*d+O*v+S,this},transform:function(s,i,n,f,o,u){var d=this.matrix,c=d[0],v=d[1],p=d[2],x=d[3],y=d[4],S=d[5];return d[0]=s*c+i*p,d[1]=s*v+i*x,d[2]=n*c+f*p,d[3]=n*v+f*x,d[4]=o*c+u*p+y,d[5]=o*v+u*x+S,this},transformPoint:function(s,i,n){n===void 0&&(n={x:0,y:0});var f=this.matrix,o=f[0],u=f[1],d=f[2],c=f[3],v=f[4],p=f[5];return n.x=s*o+i*d+v,n.y=s*u+i*c+p,n},invert:function(){var s=this.matrix,i=s[0],n=s[1],f=s[2],o=s[3],u=s[4],d=s[5],c=i*o-n*f;return s[0]=o/c,s[1]=-n/c,s[2]=-f/c,s[3]=i/c,s[4]=(f*d-o*u)/c,s[5]=-(i*d-n*u)/c,this},copyFrom:function(s){var i=this.matrix;return i[0]=s.a,i[1]=s.b,i[2]=s.c,i[3]=s.d,i[4]=s.e,i[5]=s.f,this},copyFromArray:function(s){var i=this.matrix;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],this},copyToContext:function(s){var i=this.matrix;return s.transform(i[0],i[1],i[2],i[3],i[4],i[5]),s},setToContext:function(s){var i=this.matrix;return s.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),s},copyToArray:function(s){var i=this.matrix;return s===void 0?s=[i[0],i[1],i[2],i[3],i[4],i[5]]:(s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[4]=i[4],s[5]=i[5]),s},setTransform:function(s,i,n,f,o,u){var d=this.matrix;return d[0]=s,d[1]=i,d[2]=n,d[3]=f,d[4]=o,d[5]=u,this},decomposeMatrix:function(){var s=this.decomposedMatrix,i=this.matrix,n=i[0],f=i[1],o=i[2],u=i[3],d=n*u-f*o;if(s.translateX=i[4],s.translateY=i[5],n||f){var c=Math.sqrt(n*n+f*f);s.rotation=f>0?Math.acos(n/c):-Math.acos(n/c),s.scaleX=c,s.scaleY=d/c}else if(o||u){var v=Math.sqrt(o*o+u*u);s.rotation=Math.PI*.5-(u>0?Math.acos(-o/v):-Math.acos(o/v)),s.scaleX=d/v,s.scaleY=v}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,i,n,f,o){var u=this.matrix,d=Math.sin(n),c=Math.cos(n);return u[4]=s,u[5]=i,u[0]=c*f,u[1]=d*f,u[2]=-d*o,u[3]=c*o,this},applyInverse:function(s,i,n){n===void 0&&(n=new r);var f=this.matrix,o=f[0],u=f[1],d=f[2],c=f[3],v=f[4],p=f[5],x=1/(o*c+d*-u);return n.x=c*x*s+-d*x*i+(p*d-v*c)*x,n.y=o*x*i+-u*x*s+(-p*o+v*u)*x,n},getX:function(s,i){return s*this.a+i*this.c+this.e},getY:function(s,i){return s*this.b+i*this.d+this.f},getXRound:function(s,i,n){var f=this.getX(s,i);return n&&(f=Math.round(f)),f},getYRound:function(s,i,n){var f=this.getY(s,i);return n&&(f=Math.round(f)),f},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=function(r,a,s,i,n,f){r===void 0&&(r=0),a===void 0&&(a=0),s===void 0&&(s=f.width),i===void 0&&(i=f.height),n||(n={});var o=e(n,"isNotEmpty",!1),u=e(n,"isColliding",!1),d=e(n,"hasInterestingFace",!1);r<0&&(s+=r,r=0),a<0&&(i+=a,a=0),r+s>f.width&&(s=Math.max(f.width-r,0)),a+i>f.height&&(i=Math.max(f.height-a,0));for(var c=[],v=a;v<a+i;v++)for(var p=r;p<r+s;p++){var x=f.data[v][p];if(x!==null){if(o&&x.index===-1||u&&!x.collides||d&&!x.hasInterestingFace)continue;c.push(x)}}return c};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s,i){a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=1);var n,f=0,o=e.length;if(i===1)for(n=s;n<o;n++)e[n][h]=r+f*a,f++;else for(n=s;n>=0;n--)e[n][h]=r+f*a,f++;return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),h=t(13),r=function(a,s,i){s.x=h(i,"x",0),s.y=h(i,"y",0),s.depth=h(i,"depth",0),s.flipX=h(i,"flipX",!1),s.flipY=h(i,"flipY",!1);var n=h(i,"scale",null);typeof n=="number"?s.setScale(n):n!==null&&(s.scaleX=h(n,"x",1),s.scaleY=h(n,"y",1));var f=h(i,"scrollFactor",null);typeof f=="number"?s.setScrollFactor(f):f!==null&&(s.scrollFactorX=h(f,"x",1),s.scrollFactorY=h(f,"y",1)),s.rotation=h(i,"rotation",0);var o=h(i,"angle",null);o!==null&&(s.angle=o),s.alpha=h(i,"alpha",1);var u=h(i,"origin",null);if(typeof u=="number")s.setOrigin(u);else if(u!==null){var d=h(u,"x",.5),c=h(u,"y",.5);s.setOrigin(d,c)}s.blendMode=h(i,"blendMode",e.NORMAL),s.visible=h(i,"visible",!0);var v=h(i,"add",!0);return v&&a.sys.displayList.add(s),s.preUpdate&&a.sys.updateList.add(s),s};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=function(r,a,s,i,n){var f=i.alpha*s.alpha;if(f<=0)return!1;var o=e(s,i,n).calc;return a.globalCompositeOperation=r.blendModes[s.blendMode],a.globalAlpha=f,a.save(),o.setToContext(a),a.imageSmoothingEnabled=!(!r.antialias||s.frame&&s.frame.source.scaleMode),!0};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),h=t(192),r=[],a=!1,s=function(){var i=function(x,y,S,E,A){y===void 0&&(y=1),S===void 0&&(S=1),E===void 0&&(E=e.CANVAS),A===void 0&&(A=!1);var M,L=o(E);return L===null?(L={parent:x,canvas:document.createElement("canvas"),type:E},E===e.CANVAS&&r.push(L),M=L.canvas):(L.parent=x,M=L.canvas),A&&(L.parent=M),M.width=y,M.height=S,a&&E===e.CANVAS&&h.disable(M.getContext("2d")),M},n=function(x,y,S){return i(x,y,S,e.CANVAS)},f=function(x,y,S){return i(x,y,S,e.WEBGL)},o=function(x){if(x===void 0&&(x=e.CANVAS),x===e.WEBGL)return null;for(var y=0;y<r.length;y++){var S=r[y];if(!S.parent&&S.type===x)return S}return null},u=function(x){var y=x instanceof HTMLCanvasElement;r.forEach(function(S){(y&&S.canvas===x||!y&&S.parent===x)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},d=function(){var x=0;return r.forEach(function(y){y.parent&&x++}),x},c=function(){return r.length-d()},v=function(){a=!0},p=function(){a=!1};return{create2D:n,create:i,createWebGL:f,disableSmoothing:v,enableSmoothing:p,first:o,free:c,pool:r,remove:u,total:d}};l.exports=s()},function(l,g){var t={};l.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(h,r){var a,s;typeof r=="boolean"?(a=2,s=r):(a=1,s=!0);for(var i=a;i<arguments.length;i++){var n=arguments[i];if(n)for(var f in n)s&&n[f]&&n[f].constructor===Object&&(!h[f]||h[f].constructor===Object)?(h[f]=h[f]||{},t.extend(h[f],s,n[f])):h[f]=n[f]}return h},t.clone=function(h,r){return t.extend({},r,h)},t.keys=function(h){if(Object.keys)return Object.keys(h);var r=[];for(var a in h)r.push(a);return r},t.values=function(h){var r=[];if(Object.keys){for(var a=Object.keys(h),s=0;s<a.length;s++)r.push(h[a[s]]);return r}for(var i in h)r.push(h[i]);return r},t.get=function(h,r,a,s){r=r.split(".").slice(a,s);for(var i=0;i<r.length;i+=1)h=h[r[i]];return h},t.set=function(h,r,a,s,i){var n=r.split(".").slice(s,i);return t.get(h,r,0,-1)[n[n.length-1]]=a,a},t.shuffle=function(h){for(var r=h.length-1;r>0;r--){var a=Math.floor(t.random()*(r+1)),s=h[r];h[r]=h[a],h[a]=s}return h},t.choose=function(h){return h[Math.floor(t.random()*h.length)]},t.isElement=function(h){return typeof HTMLElement<"u"?h instanceof HTMLElement:!!(h&&h.nodeType&&h.nodeName)},t.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"},t.isFunction=function(h){return typeof h=="function"},t.isPlainObject=function(h){return typeof h=="object"&&h.constructor===Object},t.isString=function(h){return Object.prototype.toString.call(h)==="[object String]"},t.clamp=function(h,r,a){return h<r?r:h>a?a:h},t.sign=function(h){return h<0?-1:1},t.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(h,r){return h=typeof h<"u"?h:0,r=typeof r<"u"?r:1,h+e()*(r-h)};var e=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(h){return h=h.replace("#",""),h.length==3&&(h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2)),parseInt(h,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(h,r){if(h.indexOf)return h.indexOf(r);for(var a=0;a<h.length;a++)if(h[a]===r)return a;return-1},t.map=function(h,r){if(h.map)return h.map(r);for(var a=[],s=0;s<h.length;s+=1)a.push(r(h[s]));return a},t.topologicalSort=function(h){var r=[],a=[],s=[];for(var i in h)!a[i]&&!s[i]&&t._topologicalSort(i,a,s,h,r);return r},t._topologicalSort=function(h,r,a,s,i){var n=s[h]||[];a[h]=!0;for(var f=0;f<n.length;f+=1){var o=n[f];a[o]||r[o]||t._topologicalSort(o,r,a,s,i)}a[h]=!1,r[h]=!0,i.push(h)},t.chain=function(){for(var h=[],r=0;r<arguments.length;r+=1){var a=arguments[r];a._chained?h.push.apply(h,a._chained):h.push(a)}var s=function(){for(var i,n=new Array(arguments.length),f=0,o=arguments.length;f<o;f++)n[f]=arguments[f];for(f=0;f<h.length;f+=1){var u=h[f].apply(i,n);typeof u<"u"&&(i=u)}return i};return s._chained=h,s},t.chainPathBefore=function(h,r,a){return t.set(h,r,t.chain(a,t.get(h,r)))},t.chainPathAfter=function(h,r,a){return t.set(h,r,t.chain(t.get(h,r),a))}}()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={VERSION:"3.55.2",BlendModes:t(35),ScaleModes:t(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(15),a=t(47),s=new e({Extends:r,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScrollFactor,h.Transform,h.Visible],initialize:function(n,f,o){f===void 0&&(f="Shape"),r.call(this,n,f),this.geom=o,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(i,n){return n===void 0&&(n=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(i,n,f){return f===void 0&&(f=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=n,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,n){return this.width=i,this.height=n,this},setDisplaySize:function(i,n){return this.displayWidth=i,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=function(r){return r*e.DEG_TO_RAD};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DESTROY:t(743),FADE_IN_COMPLETE:t(744),FADE_IN_START:t(745),FADE_OUT_COMPLETE:t(746),FADE_OUT_START:t(747),FLASH_COMPLETE:t(748),FLASH_START:t(749),FOLLOW_UPDATE:t(750),PAN_COMPLETE:t(751),PAN_START:t(752),POST_RENDER:t(753),PRE_RENDER:t(754),ROTATE_COMPLETE:t(755),ROTATE_START:t(756),SHAKE_COMPLETE:t(757),SHAKE_START:t(758),ZOOM_COMPLETE:t(759),ZOOM_START:t(760)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(103),r=t(328),a=t(188),s=t(329),i=new e({initialize:function(f,o,u,d){f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,o,u,d)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,f,o,u,d){return u===void 0&&(u=255),d===void 0&&(d=!0),this._locked=!0,this.red=n,this.green=f,this.blue=o,this.alpha=u,this._locked=!1,this.update(d)},setGLTo:function(n,f,o,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=n,this.greenGL=f,this.blueGL=o,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,f,o){return a(n,f,o,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var f=this.r,o=this.g,u=this.b,d=this.a;return this._color=h(f,o,u),this._color32=r(f,o,u,d),this._rgba="rgba("+f+","+o+","+u+","+d/255+")",n&&s(f,o,u,this),this},updateHSV:function(){var n=this.r,f=this.g,o=this.b;return s(n,f,o,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,f){n===void 0&&(n=0),f===void 0&&(f=255);var o=Math.floor(n+Math.random()*(f-n)),u=Math.floor(n+Math.random()*(f-n)),d=Math.floor(n+Math.random()*(f-n));return this.setTo(o,u,d)},randomGray:function(n,f){n===void 0&&(n=0),f===void 0&&(f=255);var o=Math.floor(n+Math.random()*(f-n));return this.setTo(o,o,o)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var f=this.r,o=this.g,u=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(n/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(n/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),this.setTo(f,o,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,a(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,a(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,a(this._h,this._s,n,this)}}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=s||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this},max:function(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this},clone:function(){return new h(this.x,this.y,this.z)},addVectors:function(r,a){return this.x=r.x+a.x,this.y=r.y+a.y,this.z=r.z+a.z,this},crossVectors:function(r,a){var s=r.x,i=r.y,n=r.z,f=a.x,o=a.y,u=a.z;return this.x=i*u-n*o,this.y=n*f-s*u,this.z=s*o-i*f,this},equals:function(r){return this.x===r.x&&this.y===r.y&&this.z===r.z},copy:function(r){return this.x=r.x,this.y=r.y,this.z=r.z||0,this},set:function(r,a,s){return typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=a||0,this.z=s||0),this},setFromMatrixPosition:function(r){return this.fromArray(r.val,12)},setFromMatrixColumn:function(r,a){return this.fromArray(r.val,a*4)},fromArray:function(r,a){return a===void 0&&(a=0),this.x=r[a],this.y=r[a+1],this.z=r[a+2],this},add:function(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z||0,this},addScalar:function(r){return this.x+=r,this.y+=r,this.z+=r,this},addScale:function(r,a){return this.x+=r.x*a,this.y+=r.y*a,this.z+=r.z*a||0,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z||0,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z||1,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r,this.z*=r):(this.x=0,this.y=0,this.z=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(r){var a=r.x-this.x,s=r.y-this.y,i=r.z-this.z||0;return Math.sqrt(a*a+s*s+i*i)},distanceSq:function(r){var a=r.x-this.x,s=r.y-this.y,i=r.z-this.z||0;return a*a+s*s+i*i},length:function(){var r=this.x,a=this.y,s=this.z;return Math.sqrt(r*r+a*a+s*s)},lengthSq:function(){var r=this.x,a=this.y,s=this.z;return r*r+a*a+s*s},normalize:function(){var r=this.x,a=this.y,s=this.z,i=r*r+a*a+s*s;return i>0&&(i=1/Math.sqrt(i),this.x=r*i,this.y=a*i,this.z=s*i),this},dot:function(r){return this.x*r.x+this.y*r.y+this.z*r.z},cross:function(r){var a=this.x,s=this.y,i=this.z,n=r.x,f=r.y,o=r.z;return this.x=s*o-i*f,this.y=i*n-a*o,this.z=a*f-s*n,this},lerp:function(r,a){a===void 0&&(a=0);var s=this.x,i=this.y,n=this.z;return this.x=s+a*(r.x-s),this.y=i+a*(r.y-i),this.z=n+a*(r.z-n),this},applyMatrix3:function(r){var a=this.x,s=this.y,i=this.z,n=r.val;return this.x=n[0]*a+n[3]*s+n[6]*i,this.y=n[1]*a+n[4]*s+n[7]*i,this.z=n[2]*a+n[5]*s+n[8]*i,this},applyMatrix4:function(r){var a=this.x,s=this.y,i=this.z,n=r.val,f=1/(n[3]*a+n[7]*s+n[11]*i+n[15]);return this.x=(n[0]*a+n[4]*s+n[8]*i+n[12])*f,this.y=(n[1]*a+n[5]*s+n[9]*i+n[13])*f,this.z=(n[2]*a+n[6]*s+n[10]*i+n[14])*f,this},transformMat3:function(r){var a=this.x,s=this.y,i=this.z,n=r.val;return this.x=a*n[0]+s*n[3]+i*n[6],this.y=a*n[1]+s*n[4]+i*n[7],this.z=a*n[2]+s*n[5]+i*n[8],this},transformMat4:function(r){var a=this.x,s=this.y,i=this.z,n=r.val;return this.x=n[0]*a+n[4]*s+n[8]*i+n[12],this.y=n[1]*a+n[5]*s+n[9]*i+n[13],this.z=n[2]*a+n[6]*s+n[10]*i+n[14],this},transformCoordinates:function(r){var a=this.x,s=this.y,i=this.z,n=r.val,f=a*n[0]+s*n[4]+i*n[8]+n[12],o=a*n[1]+s*n[5]+i*n[9]+n[13],u=a*n[2]+s*n[6]+i*n[10]+n[14],d=a*n[3]+s*n[7]+i*n[11]+n[15];return this.x=f/d,this.y=o/d,this.z=u/d,this},transformQuat:function(r){var a=this.x,s=this.y,i=this.z,n=r.x,f=r.y,o=r.z,u=r.w,d=u*a+f*i-o*s,c=u*s+o*a-n*i,v=u*i+n*s-f*a,p=-n*a-f*s-o*i;return this.x=d*u+p*-n+c*-o-v*-f,this.y=c*u+p*-f+v*-n-d*-o,this.z=v*u+p*-o+d*-f-c*-n,this},project:function(r){var a=this.x,s=this.y,i=this.z,n=r.val,f=n[0],o=n[1],u=n[2],d=n[3],c=n[4],v=n[5],p=n[6],x=n[7],y=n[8],S=n[9],E=n[10],A=n[11],M=n[12],L=n[13],F=n[14],O=n[15],B=1/(a*d+s*x+i*A+O);return this.x=(a*f+s*c+i*y+M)*B,this.y=(a*o+s*v+i*S+L)*B,this.z=(a*u+s*p+i*E+F)*B,this},projectViewMatrix:function(r,a){return this.applyMatrix4(r).applyMatrix4(a)},unprojectViewMatrix:function(r,a){return this.applyMatrix4(r).applyMatrix4(a)},unproject:function(r,a){var s=r.x,i=r.y,n=r.z,f=r.w,o=this.x-s,u=f-this.y-1-i,d=this.z;return this.x=2*o/n-1,this.y=2*u/f-1,this.z=2*d-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});h.ZERO=new h,h.RIGHT=new h(1,0,0),h.LEFT=new h(-1,0,0),h.UP=new h(0,-1,0),h.DOWN=new h(0,1,0),h.FORWARD=new h(0,0,1),h.BACK=new h(0,0,-1),h.ONE=new h(1,1,1),l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(l,g,t){var e={};l.exports=e;var h=t(64),r=t(83),a=t(165),s=t(32),i=t(84),n=t(271);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(o){var u={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!o.hasOwnProperty("position")&&o.hasOwnProperty("vertices")?o.position=h.centre(o.vertices):o.hasOwnProperty("vertices")||(u.vertices=h.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var d=s.extend(u,o);return f(d,o),d.setOnCollideWith=function(c,v){return v?this.onCollideWith[c.id]=v:delete this.onCollideWith[c.id],this},d},e.nextGroup=function(o){return o?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(o,u){u=u||{},e.set(o,{bounds:o.bounds||i.create(o.vertices),positionPrev:o.positionPrev||r.clone(o.position),anglePrev:o.anglePrev||o.angle,vertices:o.vertices,parts:o.parts||[o],isStatic:o.isStatic,isSleeping:o.isSleeping,parent:o.parent||o});var d=o.bounds;if(h.rotate(o.vertices,o.angle,o.position),n.rotate(o.axes,o.angle),i.update(d,o.vertices,o.velocity),e.set(o,{axes:u.axes||o.axes,area:u.area||o.area,mass:u.mass||o.mass,inertia:u.inertia||o.inertia}),o.parts.length===1){var c=o.centerOfMass,v=o.centerOffset,p=d.max.x-d.min.x,x=d.max.y-d.min.y;c.x=-(d.min.x-o.position.x)/p,c.y=-(d.min.y-o.position.y)/x,v.x=p*c.x,v.y=x*c.y}};e.set=function(o,u,d){var c;typeof u=="string"&&(c=u,u={},u[c]=d);for(c in u)if(Object.prototype.hasOwnProperty.call(u,c))switch(d=u[c],c){case"isStatic":e.setStatic(o,d);break;case"isSleeping":a.set(o,d);break;case"mass":e.setMass(o,d);break;case"density":e.setDensity(o,d);break;case"inertia":e.setInertia(o,d);break;case"vertices":e.setVertices(o,d);break;case"position":e.setPosition(o,d);break;case"angle":e.setAngle(o,d);break;case"velocity":e.setVelocity(o,d);break;case"angularVelocity":e.setAngularVelocity(o,d);break;case"parts":e.setParts(o,d);break;case"centre":e.setCentre(o,d);break;default:o[c]=d}},e.setStatic=function(o,u){for(var d=0;d<o.parts.length;d++){var c=o.parts[d];c.isStatic=u,u?(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia},c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null)}},e.setMass=function(o,u){var d=o.inertia/(o.mass/6);o.inertia=d*(u/6),o.inverseInertia=1/o.inertia,o.mass=u,o.inverseMass=1/o.mass,o.density=o.mass/o.area},e.setDensity=function(o,u){e.setMass(o,u*o.area),o.density=u},e.setInertia=function(o,u){o.inertia=u,o.inverseInertia=1/o.inertia},e.setVertices=function(o,u){u[0].body===o?o.vertices=u:o.vertices=h.create(u,o),o.axes=n.fromVertices(o.vertices),o.area=h.area(o.vertices),e.setMass(o,o.density*o.area);var d=h.centre(o.vertices);h.translate(o.vertices,d,-1),e.setInertia(o,e._inertiaScale*h.inertia(o.vertices,o.mass)),h.translate(o.vertices,o.position),i.update(o.bounds,o.vertices,o.velocity)},e.setParts=function(o,u,d){var c;for(u=u.slice(0),o.parts.length=0,o.parts.push(o),o.parent=o,c=0;c<u.length;c++){var v=u[c];v!==o&&(v.parent=o,o.parts.push(v))}if(o.parts.length!==1){if(d=typeof d<"u"?d:!0,d){var p=[];for(c=0;c<u.length;c++)p=p.concat(u[c].vertices);h.clockwiseSort(p);var x=h.hull(p),y=h.centre(x);e.setVertices(o,x),h.translate(o.vertices,y)}var S=e._totalProperties(o),E=S.centre.x,A=S.centre.y,M=o.bounds,L=o.centerOfMass,F=o.centerOffset;i.update(M,o.vertices,o.velocity),L.x=-(M.min.x-E)/(M.max.x-M.min.x),L.y=-(M.min.y-A)/(M.max.y-M.min.y),F.x=E,F.y=A,o.area=S.area,o.parent=o,o.position.x=E,o.position.y=A,o.positionPrev.x=E,o.positionPrev.y=A,e.setMass(o,S.mass),e.setInertia(o,S.inertia),e.setPosition(o,S.centre)}},e.setCentre=function(o,u,d){d?(o.positionPrev.x+=u.x,o.positionPrev.y+=u.y,o.position.x+=u.x,o.position.y+=u.y):(o.positionPrev.x=u.x-(o.position.x-o.positionPrev.x),o.positionPrev.y=u.y-(o.position.y-o.positionPrev.y),o.position.x=u.x,o.position.y=u.y)},e.setPosition=function(o,u){var d=r.sub(u,o.position);o.positionPrev.x+=d.x,o.positionPrev.y+=d.y;for(var c=0;c<o.parts.length;c++){var v=o.parts[c];v.position.x+=d.x,v.position.y+=d.y,h.translate(v.vertices,d),i.update(v.bounds,v.vertices,o.velocity)}},e.setAngle=function(o,u){var d=u-o.angle;o.anglePrev+=d;for(var c=0;c<o.parts.length;c++){var v=o.parts[c];v.angle+=d,h.rotate(v.vertices,d,o.position),n.rotate(v.axes,d),i.update(v.bounds,v.vertices,o.velocity),c>0&&r.rotateAbout(v.position,d,o.position,v.position)}},e.setVelocity=function(o,u){o.positionPrev.x=o.position.x-u.x,o.positionPrev.y=o.position.y-u.y,o.velocity.x=u.x,o.velocity.y=u.y,o.speed=r.magnitude(o.velocity)},e.setAngularVelocity=function(o,u){o.anglePrev=o.angle-u,o.angularVelocity=u,o.angularSpeed=Math.abs(o.angularVelocity)},e.translate=function(o,u){e.setPosition(o,r.add(o.position,u))},e.rotate=function(o,u,d){if(!d)e.setAngle(o,o.angle+u);else{var c=Math.cos(u),v=Math.sin(u),p=o.position.x-d.x,x=o.position.y-d.y;e.setPosition(o,{x:d.x+(p*c-x*v),y:d.y+(p*v+x*c)}),e.setAngle(o,o.angle+u)}},e.scale=function(o,u,d,c){var v=0,p=0;c=c||o.position;for(var x=0;x<o.parts.length;x++){var y=o.parts[x];y.scale.x=u,y.scale.y=d,h.scale(y.vertices,u,d,c),y.axes=n.fromVertices(y.vertices),y.area=h.area(y.vertices),e.setMass(y,o.density*y.area),h.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),e.setInertia(y,e._inertiaScale*h.inertia(y.vertices,y.mass)),h.translate(y.vertices,{x:y.position.x,y:y.position.y}),x>0&&(v+=y.area,p+=y.inertia),y.position.x=c.x+(y.position.x-c.x)*u,y.position.y=c.y+(y.position.y-c.y)*d,i.update(y.bounds,y.vertices,o.velocity)}o.parts.length>1&&(o.area=v,o.isStatic||(e.setMass(o,o.density*v),e.setInertia(o,p))),o.circleRadius&&(u===d?o.circleRadius*=u:o.circleRadius=null)},e.update=function(o,u,d,c){var v=Math.pow(u*d*o.timeScale,2),p=1-o.frictionAir*d*o.timeScale,x=o.position.x-o.positionPrev.x,y=o.position.y-o.positionPrev.y;o.velocity.x=x*p*c+o.force.x/o.mass*v,o.velocity.y=y*p*c+o.force.y/o.mass*v,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.position.x+=o.velocity.x,o.position.y+=o.velocity.y,o.angularVelocity=(o.angle-o.anglePrev)*p*c+o.torque/o.inertia*v,o.anglePrev=o.angle,o.angle+=o.angularVelocity,o.speed=r.magnitude(o.velocity),o.angularSpeed=Math.abs(o.angularVelocity);for(var S=0;S<o.parts.length;S++){var E=o.parts[S];h.translate(E.vertices,o.velocity),S>0&&(E.position.x+=o.velocity.x,E.position.y+=o.velocity.y),o.angularVelocity!==0&&(h.rotate(E.vertices,o.angularVelocity,o.position),n.rotate(E.axes,o.angularVelocity),S>0&&r.rotateAbout(E.position,o.angularVelocity,o.position,E.position)),i.update(E.bounds,E.vertices,o.velocity)}},e.applyForce=function(o,u,d){o.force.x+=d.x,o.force.y+=d.y;var c={x:u.x-o.position.x,y:u.y-o.position.y};o.torque+=c.x*d.y-c.y*d.x},e._totalProperties=function(o){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=o.parts.length===1?0:1;d<o.parts.length;d++){var c=o.parts[d],v=c.mass!==1/0?c.mass:1;u.mass+=v,u.area+=c.area,u.inertia+=c.inertia,u.centre=r.add(u.centre,r.mult(c.position,v))}return u.centre=r.div(u.centre,u.mass),u}})()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y+e.height-e.height*e.originY};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x+e.width-e.width*e.originX};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s,i){a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=1);var n,f=0,o=e.length;if(i===1)for(n=s;n<o;n++)e[n][h]+=r+f*a,f++;else for(n=s;n>=0;n--)e[n][h]+=r+f*a,f++;return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(307),r=t(172),a=t(56),s=t(173),i=t(3),n=new e({initialize:function(o,u,d,c){o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=a.LINE,this.x1=o,this.y1=u,this.x2=d,this.y2=c},getPoint:function(f,o){return h(this,f,o)},getPoints:function(f,o,u){return r(this,f,o,u)},getRandomPoint:function(f){return s(this,f)},setTo:function(f,o,u,d){return f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=0),this.x1=f,this.y1=o,this.x2=u,this.y2=d,this},getPointA:function(f){return f===void 0&&(f=new i),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new i),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});l.exports=n},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=r||h.fillColor,i=a||h.fillAlpha,n=(s&16711680)>>>16,f=(s&65280)>>>8,o=s&255;e.fillStyle="rgba("+n+","+f+","+o+","+i+")"};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n){var f=[];n.forEach(function(u){u&&f.push(u)}),this.loader=a,this.type=s,this.key=i,this.multiKeyIndex=a.multiKeyIndex++,this.files=f,this.complete=!1,this.pending=f.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var o=0;o<f.length;o++)f[o].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var a=this.files.indexOf(r);a!==-1&&this.pending--},onFileFailed:function(r){var a=this.files.indexOf(r);a!==-1&&this.failed++}});l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=e-r,i=h-a;return Math.sqrt(s*s+i*i)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BOOT:t(922),DESTROY:t(923),DRAG_END:t(924),DRAG_ENTER:t(925),DRAG:t(926),DRAG_LEAVE:t(927),DRAG_OVER:t(928),DRAG_START:t(929),DROP:t(930),GAME_OUT:t(931),GAME_OVER:t(932),GAMEOBJECT_DOWN:t(933),GAMEOBJECT_DRAG_END:t(934),GAMEOBJECT_DRAG_ENTER:t(935),GAMEOBJECT_DRAG:t(936),GAMEOBJECT_DRAG_LEAVE:t(937),GAMEOBJECT_DRAG_OVER:t(938),GAMEOBJECT_DRAG_START:t(939),GAMEOBJECT_DROP:t(940),GAMEOBJECT_MOVE:t(941),GAMEOBJECT_OUT:t(942),GAMEOBJECT_OVER:t(943),GAMEOBJECT_POINTER_DOWN:t(944),GAMEOBJECT_POINTER_MOVE:t(945),GAMEOBJECT_POINTER_OUT:t(946),GAMEOBJECT_POINTER_OVER:t(947),GAMEOBJECT_POINTER_UP:t(948),GAMEOBJECT_POINTER_WHEEL:t(949),GAMEOBJECT_UP:t(950),GAMEOBJECT_WHEEL:t(951),MANAGER_BOOT:t(952),MANAGER_PROCESS:t(953),MANAGER_UPDATE:t(954),POINTER_DOWN:t(955),POINTER_DOWN_OUTSIDE:t(956),POINTER_MOVE:t(957),POINTER_OUT:t(958),POINTER_OVER:t(959),POINTER_UP:t(960),POINTER_UP_OUTSIDE:t(961),POINTER_WHEEL:t(962),POINTERLOCK_CHANGE:t(963),PRE_UPDATE:t(964),SHUTDOWN:t(965),START:t(966),UPDATE:t(967)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.y=h+e.height*e.originY,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x=h+e.width*e.originX,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x=h-e.width+e.width*e.originX,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.y=h-e.height+e.height*e.originY,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e.width<=0||e.height<=0?!1:e.x<=h&&e.x+e.width>=h&&e.y<=r&&e.y+e.height>=r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(175),r=t(9),a=t(374),s=t(2),i=t(69),n=t(91),f=t(141),o=t(12),u=t(375),d=new e({Extends:r,initialize:function(v){r.call(this);var p=v.game,x=p.renderer,y=x.gl;this.name=s(v,"name","WebGLPipeline"),this.game=p,this.renderer=x,this.manager,this.gl=y,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=s(v,"topology",y.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=s(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1},boot:function(){var c,v=this.gl,p=this.config,x=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var y=this.renderTargets,S=s(p,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var E=x.width,A=x.height;if(typeof S=="number")for(c=0;c<S;c++)y.push(new f(x,E,A,1,0,!0));else if(Array.isArray(S))for(c=0;c<S.length;c++){var M=s(S[c],"scale",1),L=s(S[c],"minFilter",0),F=s(S[c],"autoClear",1);y.push(new f(x,E,A,M,L,F))}y.length&&(this.currentRenderTarget=y[0]),this.setShadersFromConfig(p);var O=this.shaders,B=0;for(c=0;c<O.length;c++)O[c].vertexSize>B&&(B=O[c].vertexSize);var N=s(p,"batchSize",x.config.batchSize);this.vertexCapacity=N*6;var G=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=G,this.bytes=new Uint8Array(G),this.vertexViewF32=new Float32Array(G),this.vertexViewU32=new Uint32Array(G);var Y=s(p,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=x.createVertexBuffer(G,v.STATIC_DRAW)):this.vertexBuffer=x.createVertexBuffer(G.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),c=O.length-1;c>=0;c--)O[c].rebind();this.hasBooted=!0,x.on(n.RESIZE,this.resize,this),x.on(n.PRE_RENDER,this.onPreRender,this),x.on(n.RENDER,this.onRender,this),x.on(n.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,v){var p=this.renderer;if(c!==this.currentShader||p.currentProgram!==this.currentShader.program){this.flush(),p.resetTextures();var x=this.setVertexBuffer();x&&!v&&(v=!0),c.bind(v,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var v=this.shaders,p=0;p<v.length;p++)if(v[p].name===c)return v[p]},setShadersFromConfig:function(c){var v,p=this.shaders,x=this.renderer;for(v=0;v<p.length;v++)p[v].destroy();var y="vertShader",S="fragShader",E="attributes",A=s(c,y,null),M=o.parseFragmentShaderMaxTextures(s(c,S,null),x.maxTextures),L=s(c,E,null),F=s(c,"shaders",[]),O=F.length;if(O===0)A&&M&&(this.shaders=[new u(this,"default",A,M,h(L))]);else{var B=[];for(v=0;v<O;v++){var N=F[v],G=s(N,"name","default"),Y=s(N,y,A),H=o.parseFragmentShaderMaxTextures(s(N,S,M),x.maxTextures),b=s(N,E,L);Y&&H&&B.push(new u(this,G,Y,H,h(b)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(c,v){return v===void 0&&(v=c.frame),this.currentUnit=this.renderer.setTextureSource(v.source),this.currentUnit},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},resize:function(c,v){(c!==this.width||v!==this.height)&&this.flush(),this.width=c,this.height=v;for(var p=this.renderTargets,x=0;x<p.length;x++)p[x].resize(c,v);return this.setProjectionMatrix(c,v),this.emit(a.RESIZE,c,v,this),this.onResize(c,v),this},setProjectionMatrix:function(c,v){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=c,this.projectionHeight=v,p.ortho(0,c,v,0,-1e3,1e3);for(var x=this.shaders,y="uProjectionMatrix",S=0;S<x.length;S++){var E=x[S];E.hasUniform(y)&&(E.resetUniform(y),E.setMatrix4fv(y,!1,p.val,E))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==v)&&this.setProjectionMatrix(c,v)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var v=this.setVertexBuffer();return c.bind(v),this.currentShader=c,this.emit(a.BIND,this,c),this.onActive(c),this},rebind:function(c){this.setVertexBuffer();for(var v=this.shaders,p=v.length-1;p>=0;p--){var x=v[p].rebind();(!c||x===c)&&(this.currentShader=x)}return this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var c=this.gl,v=this.vertexBuffer;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==v?(c.bindBuffer(c.ARRAY_BUFFER,v),!0):!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var v=this.gl,p=this.vertexCount,x=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),p===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,p*x)),v.drawArrays(this.topology,0,p)),this.vertexCount=0,this.emit(a.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,v,p,x,y,S,E){var A=this.vertexViewF32,M=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++L]=c,A[++L]=v,A[++L]=p,A[++L]=x,A[++L]=y,A[++L]=S,M[++L]=E,this.vertexCount++},batchQuad:function(c,v,p,x,y,S,E,A,M,L,F,O,B,N,G,Y,H,b,Z,$){$===void 0&&($=this.currentUnit);var w=!1;return this.shouldFlush(6)&&(this.flush(),w=!0,$=this.setTexture2D(Z)),this.batchVert(v,p,L,F,$,b,N),this.batchVert(x,y,L,B,$,b,Y),this.batchVert(S,E,O,B,$,b,H),this.batchVert(v,p,L,F,$,b,N),this.batchVert(S,E,O,B,$,b,H),this.batchVert(A,M,O,F,$,b,G),this.onBatch(c),w},batchTri:function(c,v,p,x,y,S,E,A,M,L,F,O,B,N,G,Y,H){H===void 0&&(H=this.currentUnit);var b=!1;return this.shouldFlush(3)&&(this.flush(),b=!0,H=this.setTexture2D(Y)),this.batchVert(v,p,A,M,H,G,O),this.batchVert(x,y,A,F,H,G,B),this.batchVert(S,E,L,F,H,G,N),this.onBatch(c),b},drawFillRect:function(c,v,p,x,y,S,E,A){E===void 0&&(E=this.renderer.whiteTexture.glTexture),A===void 0&&(A=!0),c=Math.floor(c),v=Math.floor(v);var M=Math.floor(c+p),L=Math.floor(v+x),F=this.setTexture2D(E),O=o.getTintAppendFloatAlphaAndSwap(y,S),B=0,N=0,G=1,Y=1;A&&(N=1,Y=0),this.batchQuad(null,c,v,c,L,M,L,M,v,B,N,G,Y,O,O,O,O,0,E,F)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(c),this.currentUnit},bindTexture:function(c,v){v===void 0&&(v=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+v),p.bindTexture(p.TEXTURE_2D,c),this},bindRenderTarget:function(c,v){return this.bindTexture(c.texture,v)},setTime:function(c){return this.set1f(c,this.game.loop.getDuration()),this},set1f:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set1f(c,v),this},set2f:function(c,v,p,x){return x===void 0&&(x=this.currentShader),x.set2f(c,v,p),this},set3f:function(c,v,p,x,y){return y===void 0&&(y=this.currentShader),y.set3f(c,v,p,x),this},set4f:function(c,v,p,x,y,S){return S===void 0&&(S=this.currentShader),S.set4f(c,v,p,x,y),this},set1fv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set1fv(c,v),this},set2fv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set2fv(c,v),this},set3fv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set3fv(c,v),this},set4fv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set4fv(c,v),this},set1iv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set1iv(c,v),this},set2iv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set2iv(c,v),this},set3iv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set3iv(c,v),this},set4iv:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set4iv(c,v),this},set1i:function(c,v,p){return p===void 0&&(p=this.currentShader),p.set1i(c,v),this},set2i:function(c,v,p,x){return x===void 0&&(x=this.currentShader),x.set2i(c,v,p),this},set3i:function(c,v,p,x,y){return y===void 0&&(y=this.currentShader),y.set3i(c,v,p,x),this},set4i:function(c,v,p,x,y,S){return S===void 0&&(S=this.currentShader),S.set4i(c,v,p,x,y),this},setMatrix2fv:function(c,v,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix2fv(c,v,p),this},setMatrix3fv:function(c,v,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix3fv(c,v,p),this},setMatrix4fv:function(c,v,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix4fv(c,v,p),this},destroy:function(){this.emit(a.DESTROY,this);var c,v=this.shaders;for(c=0;c<v.length;c++)v[c].destroy();var p=this.renderTargets;for(c=0;c<p.length;c++)p[c].destroy();this.gl.deleteBuffer(this.vertexBuffer);var x=this.renderer;return x.off(n.RESIZE,this.resize,this),x.off(n.PRE_RENDER,this.onPreRender,this),x.off(n.RENDER,this.onRender,this),x.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function e(D,V,z){z=z||2;var X=V&&V.length,j=X?V[0]*z:D.length,K=h(D,0,j,z,!0),Q=[];if(!K||K.next===K.prev)return Q;var k,_,it,at,ot,ct,ut;if(X&&(K=o(D,V,K,z)),D.length>80*z){k=it=D[0],_=at=D[1];for(var mt=z;mt<j;mt+=z)ot=D[mt],ct=D[mt+1],ot<k&&(k=ot),ct<_&&(_=ct),ot>it&&(it=ot),ct>at&&(at=ct);ut=Math.max(it-k,at-_),ut=ut!==0?1/ut:0}return a(K,Q,z,k,_,ut),Q}function h(D,V,z,X,j){var K,Q;if(j===w(D,V,z,X)>0)for(K=V;K<z;K+=X)Q=b(K,D[K],D[K+1],Q);else for(K=z-X;K>=V;K-=X)Q=b(K,D[K],D[K+1],Q);return Q&&L(Q,Q.next)&&(Z(Q),Q=Q.next),Q}function r(D,V){if(!D)return D;V||(V=D);var z=D,X;do if(X=!1,!z.steiner&&(L(z,z.next)||M(z.prev,z,z.next)===0)){if(Z(z),z=V=z.prev,z===z.next)break;X=!0}else z=z.next;while(X||z!==V);return V}function a(D,V,z,X,j,K,Q){if(D){!Q&&K&&p(D,X,j,K);for(var k=D,_,it;D.prev!==D.next;){if(_=D.prev,it=D.next,K?i(D,X,j,K):s(D)){V.push(_.i/z),V.push(D.i/z),V.push(it.i/z),Z(D),D=it.next,k=it.next;continue}if(D=it,D===k){Q?Q===1?(D=n(r(D),V,z),a(D,V,z,X,j,K,2)):Q===2&&f(D,V,z,X,j,K):a(r(D),V,z,X,j,K,1);break}}}}function s(D){var V=D.prev,z=D,X=D.next;if(M(V,z,X)>=0)return!1;for(var j=D.next.next;j!==D.prev;){if(E(V.x,V.y,z.x,z.y,X.x,X.y,j.x,j.y)&&M(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function i(D,V,z,X){var j=D.prev,K=D,Q=D.next;if(M(j,K,Q)>=0)return!1;for(var k=j.x<K.x?j.x<Q.x?j.x:Q.x:K.x<Q.x?K.x:Q.x,_=j.y<K.y?j.y<Q.y?j.y:Q.y:K.y<Q.y?K.y:Q.y,it=j.x>K.x?j.x>Q.x?j.x:Q.x:K.x>Q.x?K.x:Q.x,at=j.y>K.y?j.y>Q.y?j.y:Q.y:K.y>Q.y?K.y:Q.y,ot=y(k,_,V,z,X),ct=y(it,at,V,z,X),ut=D.prevZ,mt=D.nextZ;ut&&ut.z>=ot&&mt&&mt.z<=ct;){if(ut!==D.prev&&ut!==D.next&&E(j.x,j.y,K.x,K.y,Q.x,Q.y,ut.x,ut.y)&&M(ut.prev,ut,ut.next)>=0||(ut=ut.prevZ,mt!==D.prev&&mt!==D.next&&E(j.x,j.y,K.x,K.y,Q.x,Q.y,mt.x,mt.y)&&M(mt.prev,mt,mt.next)>=0))return!1;mt=mt.nextZ}for(;ut&&ut.z>=ot;){if(ut!==D.prev&&ut!==D.next&&E(j.x,j.y,K.x,K.y,Q.x,Q.y,ut.x,ut.y)&&M(ut.prev,ut,ut.next)>=0)return!1;ut=ut.prevZ}for(;mt&&mt.z<=ct;){if(mt!==D.prev&&mt!==D.next&&E(j.x,j.y,K.x,K.y,Q.x,Q.y,mt.x,mt.y)&&M(mt.prev,mt,mt.next)>=0)return!1;mt=mt.nextZ}return!0}function n(D,V,z){var X=D;do{var j=X.prev,K=X.next.next;!L(j,K)&&F(j,X,X.next,K)&&G(j,K)&&G(K,j)&&(V.push(j.i/z),V.push(X.i/z),V.push(K.i/z),Z(X),Z(X.next),X=D=K),X=X.next}while(X!==D);return r(X)}function f(D,V,z,X,j,K){var Q=D;do{for(var k=Q.next.next;k!==Q.prev;){if(Q.i!==k.i&&A(Q,k)){var _=H(Q,k);Q=r(Q,Q.next),_=r(_,_.next),a(Q,V,z,X,j,K),a(_,V,z,X,j,K);return}k=k.next}Q=Q.next}while(Q!==D)}function o(D,V,z,X){var j=[],K,Q,k,_,it;for(K=0,Q=V.length;K<Q;K++)k=V[K]*X,_=K<Q-1?V[K+1]*X:D.length,it=h(D,k,_,X,!1),it===it.next&&(it.steiner=!0),j.push(S(it));for(j.sort(u),K=0;K<j.length;K++)d(j[K],z),z=r(z,z.next);return z}function u(D,V){return D.x-V.x}function d(D,V){if(V=c(D,V),V){var z=H(V,D);r(V,V.next),r(z,z.next)}}function c(D,V){var z=V,X=D.x,j=D.y,K=-1/0,Q;do{if(j<=z.y&&j>=z.next.y&&z.next.y!==z.y){var k=z.x+(j-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(k<=X&&k>K){if(K=k,k===X){if(j===z.y)return z;if(j===z.next.y)return z.next}Q=z.x<z.next.x?z:z.next}}z=z.next}while(z!==V);if(!Q)return null;if(X===K)return Q;var _=Q,it=Q.x,at=Q.y,ot=1/0,ct;z=Q;do X>=z.x&&z.x>=it&&X!==z.x&&E(j<at?X:K,j,it,at,j<at?K:X,j,z.x,z.y)&&(ct=Math.abs(j-z.y)/(X-z.x),G(z,D)&&(ct<ot||ct===ot&&(z.x>Q.x||z.x===Q.x&&v(Q,z)))&&(Q=z,ot=ct)),z=z.next;while(z!==_);return Q}function v(D,V){return M(D.prev,D,V.prev)<0&&M(V.next,D,D.next)<0}function p(D,V,z,X){var j=D;do j.z===null&&(j.z=y(j.x,j.y,V,z,X)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==D);j.prevZ.nextZ=null,j.prevZ=null,x(j)}function x(D){var V,z,X,j,K,Q,k,_,it=1;do{for(z=D,D=null,K=null,Q=0;z;){for(Q++,X=z,k=0,V=0;V<it&&(k++,X=X.nextZ,!!X);V++);for(_=it;k>0||_>0&&X;)k!==0&&(_===0||!X||z.z<=X.z)?(j=z,z=z.nextZ,k--):(j=X,X=X.nextZ,_--),K?K.nextZ=j:D=j,j.prevZ=K,K=j;z=X}K.nextZ=null,it*=2}while(Q>1);return D}function y(D,V,z,X,j){return D=32767*(D-z)*j,V=32767*(V-X)*j,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,D|V<<1}function S(D){var V=D,z=D;do(V.x<z.x||V.x===z.x&&V.y<z.y)&&(z=V),V=V.next;while(V!==D);return z}function E(D,V,z,X,j,K,Q,k){return(j-Q)*(V-k)-(D-Q)*(K-k)>=0&&(D-Q)*(X-k)-(z-Q)*(V-k)>=0&&(z-Q)*(K-k)-(j-Q)*(X-k)>=0}function A(D,V){return D.next.i!==V.i&&D.prev.i!==V.i&&!N(D,V)&&(G(D,V)&&G(V,D)&&Y(D,V)&&(M(D.prev,D,V.prev)||M(D,V.prev,V))||L(D,V)&&M(D.prev,D,D.next)>0&&M(V.prev,V,V.next)>0)}function M(D,V,z){return(V.y-D.y)*(z.x-V.x)-(V.x-D.x)*(z.y-V.y)}function L(D,V){return D.x===V.x&&D.y===V.y}function F(D,V,z,X){var j=B(M(D,V,z)),K=B(M(D,V,X)),Q=B(M(z,X,D)),k=B(M(z,X,V));return!!(j!==K&&Q!==k||j===0&&O(D,z,V)||K===0&&O(D,X,V)||Q===0&&O(z,D,X)||k===0&&O(z,V,X))}function O(D,V,z){return V.x<=Math.max(D.x,z.x)&&V.x>=Math.min(D.x,z.x)&&V.y<=Math.max(D.y,z.y)&&V.y>=Math.min(D.y,z.y)}function B(D){return D>0?1:D<0?-1:0}function N(D,V){var z=D;do{if(z.i!==D.i&&z.next.i!==D.i&&z.i!==V.i&&z.next.i!==V.i&&F(z,z.next,D,V))return!0;z=z.next}while(z!==D);return!1}function G(D,V){return M(D.prev,D,D.next)<0?M(D,V,D.next)>=0&&M(D,D.prev,V)>=0:M(D,V,D.prev)<0||M(D,D.next,V)<0}function Y(D,V){var z=D,X=!1,j=(D.x+V.x)/2,K=(D.y+V.y)/2;do z.y>K!=z.next.y>K&&z.next.y!==z.y&&j<(z.next.x-z.x)*(K-z.y)/(z.next.y-z.y)+z.x&&(X=!X),z=z.next;while(z!==D);return X}function H(D,V){var z=new $(D.i,D.x,D.y),X=new $(V.i,V.x,V.y),j=D.next,K=V.prev;return D.next=V,V.prev=D,z.next=j,j.prev=z,X.next=z,z.prev=X,K.next=X,X.prev=K,X}function b(D,V,z,X){var j=new $(D,V,z);return X?(j.next=X.next,j.prev=X,X.next.prev=j,X.next=j):(j.prev=j,j.next=j),j}function Z(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function $(D,V,z){this.i=D,this.x=V,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(D,V,z,X){var j=V&&V.length,K=j?V[0]*z:D.length,Q=Math.abs(w(D,0,K,z));if(j)for(var k=0,_=V.length;k<_;k++){var it=V[k]*z,at=k<_-1?V[k+1]*z:D.length;Q-=Math.abs(w(D,it,at,z))}var ot=0;for(k=0;k<X.length;k+=3){var ct=X[k]*z,ut=X[k+1]*z,mt=X[k+2]*z;ot+=Math.abs((D[ct]-D[mt])*(D[ut+1]-D[ct+1])-(D[ct]-D[ut])*(D[mt+1]-D[ct+1]))}return Q===0&&ot===0?0:Math.abs((ot-Q)/Q)};function w(D,V,z,X){for(var j=0,K=V,Q=z-X;K<z;K+=X)j+=(D[Q]-D[K])*(D[K+1]+D[Q+1]),Q=K;return j}e.flatten=function(D){for(var V=D[0][0].length,z={vertices:[],holes:[],dimensions:V},X=0,j=0;j<D.length;j++){for(var K=0;K<D[j].length;K++)for(var Q=0;Q<V;Q++)z.vertices.push(D[j][K][Q]);j>0&&(X+=D[j-1].length,z.holes.push(X))}return z},l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=r||h.strokeColor,i=a||h.strokeAlpha,n=(s&16711680)>>>16,f=(s&65280)>>>8,o=s&255;e.strokeStyle="rgba("+n+","+f+","+o+","+i+")",e.lineWidth=h.lineWidth};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(6),n=t(7),f=new e({Extends:r,initialize:function(u,d,c,v,p){var x="json";if(n(d)){var y=d;d=s(y,"key"),c=s(y,"url"),v=s(y,"xhrSettings"),x=s(y,"extension",x),p=s(y,"dataKey",p)}var S={type:"json",cache:u.cacheManager.json,extension:x,responseType:"text",key:d,url:c,xhrSettings:v,config:p};r.call(this,u,S),n(c)&&(p?this.data=i(c,p):this.data=c,this.state=h.FILE_POPULATED)},onProcess:function(){if(this.state!==h.FILE_POPULATED){this.state=h.FILE_PROCESSING;try{var o=JSON.parse(this.xhrLoader.responseText)}catch(d){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),d}var u=this.config;typeof u=="string"?this.data=i(o,u,o):this.data=o}this.onProcessComplete()}});a.register("json",function(o,u,d,c){if(Array.isArray(o))for(var v=0;v<o.length;v++)this.addFile(new f(this,o[v]));else this.addFile(new f(this,o,u,c,d));return this}),l.exports=f},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),h=t(26),r=function(a,s,i,n,f){for(var o=null,u=null,d=null,c=null,v=h(a,s,i,n,null,f),p=0;p<v.length;p++){var x=v[p];x&&(x.collides?(o=e(x.x,x.y-1,!0,f),u=e(x.x,x.y+1,!0,f),d=e(x.x-1,x.y,!0,f),c=e(x.x+1,x.y,!0,f),x.faceTop=!(o&&o.collides),x.faceBottom=!(u&&u.collides),x.faceLeft=!(d&&d.collides),x.faceRight=!(c&&c.collides)):x.resetFaces())}};l.exports=r},function(l,g,t){var e={};l.exports=e;var h=t(83),r=t(32);(function(){e.create=function(a,s){for(var i=[],n=0;n<a.length;n++){var f=a[n],o={x:f.x,y:f.y,index:n,body:s,isInternal:!1,contact:null,offset:null};o.contact={vertex:o,normalImpulse:0,tangentImpulse:0},i.push(o)}return i},e.fromPath=function(a,s){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return a.replace(i,function(f,o,u){n.push({x:parseFloat(o),y:parseFloat(u)})}),e.create(n,s)},e.centre=function(a){for(var s=e.area(a,!0),i={x:0,y:0},n,f,o,u=0;u<a.length;u++)o=(u+1)%a.length,n=h.cross(a[u],a[o]),f=h.mult(h.add(a[u],a[o]),n),i=h.add(i,f);return h.div(i,6*s)},e.mean=function(a){for(var s={x:0,y:0},i=0;i<a.length;i++)s.x+=a[i].x,s.y+=a[i].y;return h.div(s,a.length)},e.area=function(a,s){for(var i=0,n=a.length-1,f=0;f<a.length;f++)i+=(a[n].x-a[f].x)*(a[n].y+a[f].y),n=f;return s?i/2:Math.abs(i)/2},e.inertia=function(a,s){for(var i=0,n=0,f=a,o,u,d=0;d<f.length;d++)u=(d+1)%f.length,o=Math.abs(h.cross(f[u],f[d])),i+=o*(h.dot(f[u],f[u])+h.dot(f[u],f[d])+h.dot(f[d],f[d])),n+=o;return s/6*(i/n)},e.translate=function(a,s,i){var n;if(i)for(n=0;n<a.length;n++)a[n].x+=s.x*i,a[n].y+=s.y*i;else for(n=0;n<a.length;n++)a[n].x+=s.x,a[n].y+=s.y;return a},e.rotate=function(a,s,i){if(s!==0){for(var n=Math.cos(s),f=Math.sin(s),o=0;o<a.length;o++){var u=a[o],d=u.x-i.x,c=u.y-i.y;u.x=i.x+(d*n-c*f),u.y=i.y+(d*f+c*n)}return a}},e.contains=function(a,s){for(var i=0;i<a.length;i++){var n=a[i],f=a[(i+1)%a.length];if((s.x-n.x)*(f.y-n.y)+(s.y-n.y)*(n.x-f.x)>0)return!1}return!0},e.scale=function(a,s,i,n){if(s===1&&i===1)return a;n=n||e.centre(a);for(var f,o,u=0;u<a.length;u++)f=a[u],o=h.sub(f,n),a[u].x=n.x+o.x*s,a[u].y=n.y+o.y*i;return a},e.chamfer=function(a,s,i,n,f){typeof s=="number"?s=[s]:s=s||[8],i=typeof i<"u"?i:-1,n=n||2,f=f||14;for(var o=[],u=0;u<a.length;u++){var d=a[u-1>=0?u-1:a.length-1],c=a[u],v=a[(u+1)%a.length],p=s[u<s.length?u:s.length-1];if(p===0){o.push(c);continue}var x=h.normalise({x:c.y-d.y,y:d.x-c.x}),y=h.normalise({x:v.y-c.y,y:c.x-v.x}),S=Math.sqrt(2*Math.pow(p,2)),E=h.mult(r.clone(x),p),A=h.normalise(h.mult(h.add(x,y),.5)),M=h.sub(c,h.mult(A,S)),L=i;i===-1&&(L=Math.pow(p,.32)*1.75),L=r.clamp(L,n,f),L%2===1&&(L+=1);for(var F=Math.acos(h.dot(x,y)),O=F/L,B=0;B<L;B++)o.push(h.add(h.rotate(E,O*B),M))}return o},e.clockwiseSort=function(a){var s=e.mean(a);return a.sort(function(i,n){return h.angle(s,i)-h.angle(s,n)}),a},e.isConvex=function(a){var s=0,i=a.length,n,f,o,u;if(i<3)return null;for(n=0;n<i;n++)if(f=(n+1)%i,o=(n+2)%i,u=(a[f].x-a[n].x)*(a[o].y-a[f].y),u-=(a[f].y-a[n].y)*(a[o].x-a[f].x),u<0?s|=1:u>0&&(s|=2),s===3)return!1;return s!==0?!0:null},e.hull=function(a){var s=[],i=[],n,f;for(a=a.slice(0),a.sort(function(o,u){var d=o.x-u.x;return d!==0?d:o.y-u.y}),f=0;f<a.length;f+=1){for(n=a[f];i.length>=2&&h.cross3(i[i.length-2],i[i.length-1],n)<=0;)i.pop();i.push(n)}for(f=a.length-1;f>=0;f-=1){for(n=a[f];s.length>=2&&h.cross3(s[s.length-2],s[s.length-1],n)<=0;)s.pop();s.push(n)}return s.pop(),i.pop(),s.concat(i)}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(66),r=t(300),a=t(301),s=t(56),i=t(170),n=new e({initialize:function(o,u,d){o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=s.CIRCLE,this.x=o,this.y=u,this._radius=d,this._diameter=d*2},contains:function(f,o){return h(this,f,o)},getPoint:function(f,o){return r(this,f,o)},getPoints:function(f,o,u){return a(this,f,o,u)},getRandomPoint:function(f){return i(this,f)},setTo:function(f,o,u){return this.x=f,this.y=o,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,o){return o===void 0&&(o=f),this.x=f,this.y=o,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});l.exports=n},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(e.radius>0&&h>=e.left&&h<=e.right&&r>=e.top&&r<=e.bottom){var a=(e.x-h)*(e.x-h),s=(e.y-r)*(e.y-r);return a+s<=e.radius*e.radius}else return!1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=r-h;return h+((e-h)%a+a)%a};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(39),r=1e-6,a=new e({initialize:function(d){this.val=new Float32Array(16),d?this.copy(d):this.identity()},clone:function(){return new a(this)},set:function(u){return this.copy(u)},setValues:function(u,d,c,v,p,x,y,S,E,A,M,L,F,O,B,N){var G=this.val;return G[0]=u,G[1]=d,G[2]=c,G[3]=v,G[4]=p,G[5]=x,G[6]=y,G[7]=S,G[8]=E,G[9]=A,G[10]=M,G[11]=L,G[12]=F,G[13]=O,G[14]=B,G[15]=N,this},copy:function(u){var d=u.val;return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,d,c){var v=s.fromQuat(c),p=v.val,x=d.x,y=d.y,S=d.z;return this.setValues(p[0]*x,p[1]*x,p[2]*x,0,p[4]*y,p[5]*y,p[6]*y,0,p[8]*S,p[9]*S,p[10]*S,0,u.x,u.y,u.z,1)},xyz:function(u,d,c){this.identity();var v=this.val;return v[12]=u,v[13]=d,v[14]=c,this},scaling:function(u,d,c){this.zero();var v=this.val;return v[0]=u,v[5]=d,v[10]=c,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,d=u[1],c=u[2],v=u[3],p=u[6],x=u[7],y=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=d,u[6]=u[9],u[7]=u[13],u[8]=c,u[9]=p,u[11]=u[14],u[12]=v,u[13]=x,u[14]=y,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,d=u[0],c=u[1],v=u[2],p=u[3],x=u[4],y=u[5],S=u[6],E=u[7],A=u[8],M=u[9],L=u[10],F=u[11],O=u[12],B=u[13],N=u[14],G=u[15],Y=d*y-c*x,H=d*S-v*x,b=d*E-p*x,Z=c*S-v*y,$=c*E-p*y,w=v*E-p*S,D=A*B-M*O,V=A*N-L*O,z=A*G-F*O,X=M*N-L*B,j=M*G-F*B,K=L*G-F*N,Q=Y*K-H*j+b*X+Z*z-$*V+w*D;return Q?(Q=1/Q,this.setValues((y*K-S*j+E*X)*Q,(v*j-c*K-p*X)*Q,(B*w-N*$+G*Z)*Q,(L*$-M*w-F*Z)*Q,(S*z-x*K-E*V)*Q,(d*K-v*z+p*V)*Q,(N*b-O*w-G*H)*Q,(A*w-L*b+F*H)*Q,(x*j-y*z+E*D)*Q,(c*z-d*j-p*D)*Q,(O*$-B*b+G*Y)*Q,(M*b-A*$-F*Y)*Q,(y*V-x*X-S*D)*Q,(d*X-c*V+v*D)*Q,(B*H-O*Z-N*Y)*Q,(A*Z-M*H+L*Y)*Q)):this},adjoint:function(){var u=this.val,d=u[0],c=u[1],v=u[2],p=u[3],x=u[4],y=u[5],S=u[6],E=u[7],A=u[8],M=u[9],L=u[10],F=u[11],O=u[12],B=u[13],N=u[14],G=u[15];return this.setValues(y*(L*G-F*N)-M*(S*G-E*N)+B*(S*F-E*L),-(c*(L*G-F*N)-M*(v*G-p*N)+B*(v*F-p*L)),c*(S*G-E*N)-y*(v*G-p*N)+B*(v*E-p*S),-(c*(S*F-E*L)-y*(v*F-p*L)+M*(v*E-p*S)),-(x*(L*G-F*N)-A*(S*G-E*N)+O*(S*F-E*L)),d*(L*G-F*N)-A*(v*G-p*N)+O*(v*F-p*L),-(d*(S*G-E*N)-x*(v*G-p*N)+O*(v*E-p*S)),d*(S*F-E*L)-x*(v*F-p*L)+A*(v*E-p*S),x*(M*G-F*B)-A*(y*G-E*B)+O*(y*F-E*M),-(d*(M*G-F*B)-A*(c*G-p*B)+O*(c*F-p*M)),d*(y*G-E*B)-x*(c*G-p*B)+O*(c*E-p*y),-(d*(y*F-E*M)-x*(c*F-p*M)+A*(c*E-p*y)),-(x*(M*N-L*B)-A*(y*N-S*B)+O*(y*L-S*M)),d*(M*N-L*B)-A*(c*N-v*B)+O*(c*L-v*M),-(d*(y*N-S*B)-x*(c*N-v*B)+O*(c*S-v*y)),d*(y*L-S*M)-x*(c*L-v*M)+A*(c*S-v*y))},determinant:function(){var u=this.val,d=u[0],c=u[1],v=u[2],p=u[3],x=u[4],y=u[5],S=u[6],E=u[7],A=u[8],M=u[9],L=u[10],F=u[11],O=u[12],B=u[13],N=u[14],G=u[15],Y=d*y-c*x,H=d*S-v*x,b=d*E-p*x,Z=c*S-v*y,$=c*E-p*y,w=v*E-p*S,D=A*B-M*O,V=A*N-L*O,z=A*G-F*O,X=M*N-L*B,j=M*G-F*B,K=L*G-F*N;return Y*K-H*j+b*X+Z*z-$*V+w*D},multiply:function(u){var d=this.val,c=d[0],v=d[1],p=d[2],x=d[3],y=d[4],S=d[5],E=d[6],A=d[7],M=d[8],L=d[9],F=d[10],O=d[11],B=d[12],N=d[13],G=d[14],Y=d[15],H=u.val,b=H[0],Z=H[1],$=H[2],w=H[3];return d[0]=b*c+Z*y+$*M+w*B,d[1]=b*v+Z*S+$*L+w*N,d[2]=b*p+Z*E+$*F+w*G,d[3]=b*x+Z*A+$*O+w*Y,b=H[4],Z=H[5],$=H[6],w=H[7],d[4]=b*c+Z*y+$*M+w*B,d[5]=b*v+Z*S+$*L+w*N,d[6]=b*p+Z*E+$*F+w*G,d[7]=b*x+Z*A+$*O+w*Y,b=H[8],Z=H[9],$=H[10],w=H[11],d[8]=b*c+Z*y+$*M+w*B,d[9]=b*v+Z*S+$*L+w*N,d[10]=b*p+Z*E+$*F+w*G,d[11]=b*x+Z*A+$*O+w*Y,b=H[12],Z=H[13],$=H[14],w=H[15],d[12]=b*c+Z*y+$*M+w*B,d[13]=b*v+Z*S+$*L+w*N,d[14]=b*p+Z*E+$*F+w*G,d[15]=b*x+Z*A+$*O+w*Y,this},multiplyLocal:function(u){var d=this.val,c=u.val;return this.setValues(d[0]*c[0]+d[1]*c[4]+d[2]*c[8]+d[3]*c[12],d[0]*c[1]+d[1]*c[5]+d[2]*c[9]+d[3]*c[13],d[0]*c[2]+d[1]*c[6]+d[2]*c[10]+d[3]*c[14],d[0]*c[3]+d[1]*c[7]+d[2]*c[11]+d[3]*c[15],d[4]*c[0]+d[5]*c[4]+d[6]*c[8]+d[7]*c[12],d[4]*c[1]+d[5]*c[5]+d[6]*c[9]+d[7]*c[13],d[4]*c[2]+d[5]*c[6]+d[6]*c[10]+d[7]*c[14],d[4]*c[3]+d[5]*c[7]+d[6]*c[11]+d[7]*c[15],d[8]*c[0]+d[9]*c[4]+d[10]*c[8]+d[11]*c[12],d[8]*c[1]+d[9]*c[5]+d[10]*c[9]+d[11]*c[13],d[8]*c[2]+d[9]*c[6]+d[10]*c[10]+d[11]*c[14],d[8]*c[3]+d[9]*c[7]+d[10]*c[11]+d[11]*c[15],d[12]*c[0]+d[13]*c[4]+d[14]*c[8]+d[15]*c[12],d[12]*c[1]+d[13]*c[5]+d[14]*c[9]+d[15]*c[13],d[12]*c[2]+d[13]*c[6]+d[14]*c[10]+d[15]*c[14],d[12]*c[3]+d[13]*c[7]+d[14]*c[11]+d[15]*c[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,d){var c=u.val,v=d.val,p=c[0],x=c[4],y=c[8],S=c[12],E=c[1],A=c[5],M=c[9],L=c[13],F=c[2],O=c[6],B=c[10],N=c[14],G=c[3],Y=c[7],H=c[11],b=c[15],Z=v[0],$=v[4],w=v[8],D=v[12],V=v[1],z=v[5],X=v[9],j=v[13],K=v[2],Q=v[6],k=v[10],_=v[14],it=v[3],at=v[7],ot=v[11],ct=v[15];return this.setValues(p*Z+x*V+y*K+S*it,E*Z+A*V+M*K+L*it,F*Z+O*V+B*K+N*it,G*Z+Y*V+H*K+b*it,p*$+x*z+y*Q+S*at,E*$+A*z+M*Q+L*at,F*$+O*z+B*Q+N*at,G*$+Y*z+H*Q+b*at,p*w+x*X+y*k+S*ot,E*w+A*X+M*k+L*ot,F*w+O*X+B*k+N*ot,G*w+Y*X+H*k+b*ot,p*D+x*j+y*_+S*ct,E*D+A*j+M*_+L*ct,F*D+O*j+B*_+N*ct,G*D+Y*j+H*_+b*ct)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,d,c){var v=this.val;return v[12]=v[0]*u+v[4]*d+v[8]*c+v[12],v[13]=v[1]*u+v[5]*d+v[9]*c+v[13],v[14]=v[2]*u+v[6]*d+v[10]*c+v[14],v[15]=v[3]*u+v[7]*d+v[11]*c+v[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,d,c){var v=this.val;return v[0]=v[0]*u,v[1]=v[1]*u,v[2]=v[2]*u,v[3]=v[3]*u,v[4]=v[4]*d,v[5]=v[5]*d,v[6]=v[6]*d,v[7]=v[7]*d,v[8]=v[8]*c,v[9]=v[9]*c,v[10]=v[10]*c,v[11]=v[11]*c,this},makeRotationAxis:function(u,d){var c=Math.cos(d),v=Math.sin(d),p=1-c,x=u.x,y=u.y,S=u.z,E=p*x,A=p*y;return this.setValues(E*x+c,E*y-v*S,E*S+v*y,0,E*y+v*S,A*y+c,A*S-v*x,0,E*S-v*y,A*S+v*x,p*S*S+c,0,0,0,0,1)},rotate:function(u,d){var c=this.val,v=d.x,p=d.y,x=d.z,y=Math.sqrt(v*v+p*p+x*x);if(Math.abs(y)<r)return this;y=1/y,v*=y,p*=y,x*=y;var S=Math.sin(u),E=Math.cos(u),A=1-E,M=c[0],L=c[1],F=c[2],O=c[3],B=c[4],N=c[5],G=c[6],Y=c[7],H=c[8],b=c[9],Z=c[10],$=c[11],w=c[12],D=c[13],V=c[14],z=c[15],X=v*v*A+E,j=p*v*A+x*S,K=x*v*A-p*S,Q=v*p*A-x*S,k=p*p*A+E,_=x*p*A+v*S,it=v*x*A+p*S,at=p*x*A-v*S,ot=x*x*A+E;return this.setValues(M*X+B*j+H*K,L*X+N*j+b*K,F*X+G*j+Z*K,O*X+Y*j+$*K,M*Q+B*k+H*_,L*Q+N*k+b*_,F*Q+G*k+Z*_,O*Q+Y*k+$*_,M*it+B*at+H*ot,L*it+N*at+b*ot,F*it+G*at+Z*ot,O*it+Y*at+$*ot,w,D,V,z)},rotateX:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),p=d[4],x=d[5],y=d[6],S=d[7],E=d[8],A=d[9],M=d[10],L=d[11];return d[4]=p*v+E*c,d[5]=x*v+A*c,d[6]=y*v+M*c,d[7]=S*v+L*c,d[8]=E*v-p*c,d[9]=A*v-x*c,d[10]=M*v-y*c,d[11]=L*v-S*c,this},rotateY:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),p=d[0],x=d[1],y=d[2],S=d[3],E=d[8],A=d[9],M=d[10],L=d[11];return d[0]=p*v-E*c,d[1]=x*v-A*c,d[2]=y*v-M*c,d[3]=S*v-L*c,d[8]=p*c+E*v,d[9]=x*c+A*v,d[10]=y*c+M*v,d[11]=S*c+L*v,this},rotateZ:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),p=d[0],x=d[1],y=d[2],S=d[3],E=d[4],A=d[5],M=d[6],L=d[7];return d[0]=p*v+E*c,d[1]=x*v+A*c,d[2]=y*v+M*c,d[3]=S*v+L*c,d[4]=E*v-p*c,d[5]=A*v-x*c,d[6]=M*v-y*c,d[7]=L*v-S*c,this},fromRotationTranslation:function(u,d){var c=u.x,v=u.y,p=u.z,x=u.w,y=c+c,S=v+v,E=p+p,A=c*y,M=c*S,L=c*E,F=v*S,O=v*E,B=p*E,N=x*y,G=x*S,Y=x*E;return this.setValues(1-(F+B),M+Y,L-G,0,M-Y,1-(A+B),O+N,0,L+G,O-N,1-(A+F),0,d.x,d.y,d.z,1)},fromQuat:function(u){var d=u.x,c=u.y,v=u.z,p=u.w,x=d+d,y=c+c,S=v+v,E=d*x,A=d*y,M=d*S,L=c*y,F=c*S,O=v*S,B=p*x,N=p*y,G=p*S;return this.setValues(1-(L+O),A+G,M-N,0,A-G,1-(E+O),F+B,0,M+N,F-B,1-(E+L),0,0,0,0,1)},frustum:function(u,d,c,v,p,x){var y=1/(d-u),S=1/(v-c),E=1/(p-x);return this.setValues(p*2*y,0,0,0,0,p*2*S,0,0,(d+u)*y,(v+c)*S,(x+p)*E,-1,0,0,x*p*2*E,0)},perspective:function(u,d,c,v){var p=1/Math.tan(u/2),x=1/(c-v);return this.setValues(p/d,0,0,0,0,p,0,0,0,0,(v+c)*x,-1,0,0,2*v*c*x,0)},perspectiveLH:function(u,d,c,v){return this.setValues(2*c/u,0,0,0,0,2*c/d,0,0,0,0,-v/(c-v),1,0,0,c*v/(c-v),0)},ortho:function(u,d,c,v,p,x){var y=u-d,S=c-v,E=p-x;return y=y===0?y:1/y,S=S===0?S:1/S,E=E===0?E:1/E,this.setValues(-2*y,0,0,0,0,-2*S,0,0,0,0,2*E,0,(u+d)*y,(v+c)*S,(x+p)*E,1)},lookAtRH:function(u,d,c){var v=this.val;return o.subVectors(u,d),o.getLengthSquared()===0&&(o.z=1),o.normalize(),n.crossVectors(c,o),n.getLengthSquared()===0&&(Math.abs(c.z)===1?o.x+=1e-4:o.z+=1e-4,o.normalize(),n.crossVectors(c,o)),n.normalize(),f.crossVectors(o,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=f.x,v[5]=f.y,v[6]=f.z,v[8]=o.x,v[9]=o.y,v[10]=o.z,this},lookAt:function(u,d,c){var v=u.x,p=u.y,x=u.z,y=c.x,S=c.y,E=c.z,A=d.x,M=d.y,L=d.z;if(Math.abs(v-A)<r&&Math.abs(p-M)<r&&Math.abs(x-L)<r)return this.identity();var F=v-A,O=p-M,B=x-L,N=1/Math.sqrt(F*F+O*O+B*B);F*=N,O*=N,B*=N;var G=S*B-E*O,Y=E*F-y*B,H=y*O-S*F;N=Math.sqrt(G*G+Y*Y+H*H),N?(N=1/N,G*=N,Y*=N,H*=N):(G=0,Y=0,H=0);var b=O*H-B*Y,Z=B*G-F*H,$=F*Y-O*G;return N=Math.sqrt(b*b+Z*Z+$*$),N?(N=1/N,b*=N,Z*=N,$*=N):(b=0,Z=0,$=0),this.setValues(G,b,F,0,Y,Z,O,0,H,$,B,0,-(G*v+Y*p+H*x),-(b*v+Z*p+$*x),-(F*v+O*p+B*x),1)},yawPitchRoll:function(u,d,c){this.zero(),s.zero(),i.zero();var v=this.val,p=s.val,x=i.val,y=Math.sin(c),S=Math.cos(c);return v[10]=1,v[15]=1,v[0]=S,v[1]=y,v[4]=-y,v[5]=S,y=Math.sin(d),S=Math.cos(d),p[0]=1,p[15]=1,p[5]=S,p[10]=S,p[9]=-y,p[6]=y,y=Math.sin(u),S=Math.cos(u),x[5]=1,x[15]=1,x[0]=S,x[2]=-y,x[8]=y,x[10]=S,this.multiplyLocal(s),this.multiplyLocal(i),this},setWorldMatrix:function(u,d,c,v,p){return this.yawPitchRoll(u.y,u.x,u.z),s.scaling(c.x,c.y,c.z),i.xyz(d.x,d.y,d.z),this.multiplyLocal(s),this.multiplyLocal(i),v&&this.multiplyLocal(v),p&&this.multiplyLocal(p),this},multiplyToMat4:function(u,d){var c=this.val,v=u.val,p=c[0],x=c[1],y=c[2],S=c[3],E=c[4],A=c[5],M=c[6],L=c[7],F=c[8],O=c[9],B=c[10],N=c[11],G=c[12],Y=c[13],H=c[14],b=c[15],Z=v[0],$=v[1],w=v[2],D=v[3],V=v[4],z=v[5],X=v[6],j=v[7],K=v[8],Q=v[9],k=v[10],_=v[11],it=v[12],at=v[13],ot=v[14],ct=v[15];return d.setValues(Z*p+$*E+w*F+D*G,$*x+$*A+w*O+D*Y,w*y+$*M+w*B+D*H,D*S+$*L+w*N+D*b,V*p+z*E+X*F+j*G,V*x+z*A+X*O+j*Y,V*y+z*M+X*B+j*H,V*S+z*L+X*N+j*b,K*p+Q*E+k*F+_*G,K*x+Q*A+k*O+_*Y,K*y+Q*M+k*B+_*H,K*S+Q*L+k*N+_*b,it*p+at*E+ot*F+ct*G,it*x+at*A+ot*O+ct*Y,it*y+at*M+ot*B+ct*H,it*S+at*L+ot*N+ct*b)},fromRotationXYTranslation:function(u,d,c){var v=d.x,p=d.y,x=d.z,y=Math.sin(u.x),S=Math.cos(u.x),E=Math.sin(u.y),A=Math.cos(u.y),M=v,L=p,F=x,O=-y,B=0-O*E,N=0-S*E,G=O*A,Y=S*A;return c||(M=A*v+E*x,L=B*v+S*p+G*x,F=N*v+y*p+Y*x),this.setValues(A,B,N,0,0,S,y,0,E,G,Y,0,M,L,F,1)},getMaxScaleOnAxis:function(){var u=this.val,d=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],c=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],v=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(d,c,v))}}),s=new a,i=new a,n=new h,f=new h,o=new h;l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COMPLETE:t(987),DECODED:t(988),DECODED_ALL:t(989),DESTROY:t(990),DETUNE:t(991),GLOBAL_DETUNE:t(992),GLOBAL_MUTE:t(993),GLOBAL_RATE:t(994),GLOBAL_VOLUME:t(995),LOOP:t(996),LOOPED:t(997),MUTE:t(998),PAN:t(999),PAUSE_ALL:t(1e3),PAUSE:t(1001),PLAY:t(1002),RATE:t(1003),RESUME_ALL:t(1004),RESUME:t(1005),SEEK:t(1006),STOP_ALL:t(1007),STOP:t(1008),UNLOCKED:t(1009),VOLUME:t(1010)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function f(o,u,d,c,v){var p="png",x;if(i(u)){var y=u;u=s(y,"key"),d=s(y,"url"),x=s(y,"normalMap"),c=s(y,"xhrSettings"),p=s(y,"extension",p),v=s(y,"frameConfig")}Array.isArray(d)&&(x=d[1],d=d[0]);var S={type:"image",cache:o.textureManager,extension:p,responseType:"blob",key:u,url:d,xhrSettings:c,config:v};if(r.call(this,o,S),x){var E=new f(o,this.key,x,c,v);E.type="normalMap",this.setLink(E),o.addFile(E)}},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){r.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(f.data),f.onProcessError()},r.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var f,o=this.linkFile;o&&o.state===h.FILE_COMPLETE?(this.type==="image"?f=this.cache.addImage(this.key,this.data,o.data):f=this.cache.addImage(o.key,o.data,this.data),this.pendingDestroy(f),o.pendingDestroy(f)):o||(f=this.cache.addImage(this.key,this.data),this.pendingDestroy(f))}});a.register("image",function(f,o,u){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new n(this,f[d]));else this.addFile(new n(this,f,o,u));return this}),l.exports=n},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),h=t(0),r=t(11),a=t(15),s=t(1065),i=new h({Extends:a,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,s],initialize:function(f,o,u,d,c){a.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(d,c),this.setPosition(o,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,f){this.anims.update(n,f)},play:function(n,f){return this.anims.play(n,f)},playReverse:function(n,f){return this.anims.playReverse(n,f)},playAfterDelay:function(n,f){return this.anims.playAfterDelay(n,f)},playAfterRepeat:function(n,f){return this.anims.playAfterRepeat(n,f)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return r.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});l.exports=i},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){if(!(h>=e.length)){for(var r=e.length-1,a=e[h],s=h;s<r;s++)e[s]=e[s+1];return e.length=r,a}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:t(643),DESTROY:t(644),REMOVED_FROM_SCENE:t(645),VIDEO_COMPLETE:t(646),VIDEO_CREATED:t(647),VIDEO_ERROR:t(648),VIDEO_LOOP:t(649),VIDEO_PLAY:t(650),VIDEO_SEEKED:t(651),VIDEO_SEEKING:t(652),VIDEO_STOP:t(653),VIDEO_TIMEOUT:t(654),VIDEO_UNLOCKED:t(655)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return r===void 0&&(r=0),h===0?e:(e-=r,e=h*Math.floor(e/h),a?(r+e)/h:r+e)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h={};for(var r in e)Array.isArray(e[r])?h[r]=e[r].slice(0):h[r]=e[r];return h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=e.length;if(h<0||h>s||h>=r||r>s||h+r>s){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,s){return String(a).localeCompare(s)}function e(a,s){var i=a.length;if(i<=1)return a;for(var n=new Array(i),f=1;f<i;f*=2){h(a,s,f,n);var o=a;a=n,n=o}return a}function h(a,s,i,n){var f=a.length,o=0,u=i*2,d,c,v,p,x;for(d=0;d<f;d+=u)for(c=d+i,v=c+i,c>f&&(c=f),v>f&&(v=f),p=d,x=c;;)if(p<c&&x<v)s(a[p],a[x])<=0?n[o++]=a[p++]:n[o++]=a[x++];else if(p<c)n[o++]=a[p++];else if(x<v)n[o++]=a[x++];else break}var r=function(a,s){s===void 0&&(s=t);var i=e(a,s);return i!==a&&h(i,null,a.length,a),a};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(134),h=t(205),r=function(a,s){var i=e.Power0;if(typeof a=="string")if(e.hasOwnProperty(a))i=e[a];else{var n="";a.indexOf(".")&&(n=a.substr(a.indexOf(".")+1),n.toLowerCase()==="in"?n="easeIn":n.toLowerCase()==="out"?n="easeOut":n.toLowerCase()==="inout"&&(n="easeInOut")),a=h(a.substr(0,a.indexOf(".")+1)+n),e.hasOwnProperty(a)&&(i=e[a])}else typeof a=="function"?i=a:Array.isArray(a)&&a.length;if(!s)return i;var f=s.slice(0);return f.unshift(0),function(o){return f[0]=o,i.apply(this,f)}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),h=function(r,a,s,i,n){var f=r.strokeTint,o=e.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*s);f.TL=o,f.TR=o,f.BL=o,f.BR=o;var u=a.pathData,d=u.length-1,c=a.lineWidth,v=c/2,p=u[0]-i,x=u[1]-n;a.closePath||(d-=2);for(var y=2;y<d;y+=2){var S=u[y]-i,E=u[y+1]-n;r.batchLine(p,x,S,E,v,v,c,y-2,a.closePath?y===d-1:!1),p=S,x=E}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(115),r=t(476),a=t(477),s=t(56),i=t(47),n=t(181),f=new e({initialize:function(u,d,c,v,p,x){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),p===void 0&&(p=0),x===void 0&&(x=0),this.type=s.TRIANGLE,this.x1=u,this.y1=d,this.x2=c,this.y2=v,this.x3=p,this.y3=x},contains:function(o,u){return h(this,o,u)},getPoint:function(o,u){return r(this,o,u)},getPoints:function(o,u,d){return a(this,o,u,d)},getRandomPoint:function(o){return n(this,o)},setTo:function(o,u,d,c,v,p){return o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),p===void 0&&(p=0),this.x1=o,this.y1=u,this.x2=d,this.y2=c,this.x3=v,this.y3=p,this},getLineA:function(o){return o===void 0&&(o=new i),o.setTo(this.x1,this.y1,this.x2,this.y2),o},getLineB:function(o){return o===void 0&&(o=new i),o.setTo(this.x2,this.y2,this.x3,this.y3),o},getLineC:function(o){return o===void 0&&(o=new i),o.setTo(this.x3,this.y3,this.x1,this.y1),o},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(o){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-o:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-o:u=this.x3-o,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(o){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-o:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-o:u=this.x3-o,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(o){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-o:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-o:u=this.y3-o,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(o){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-o:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-o:u=this.y3-o,this.y1-=u,this.y2-=u,this.y3-=u}}});l.exports=f},function(l,g){var t={};l.exports=t,function(){t.create=function(e,h){return{x:e||0,y:h||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,h,r){var a=Math.cos(h),s=Math.sin(h);r||(r={});var i=e.x*a-e.y*s;return r.y=e.x*s+e.y*a,r.x=i,r},t.rotateAbout=function(e,h,r,a){var s=Math.cos(h),i=Math.sin(h);a||(a={});var n=r.x+((e.x-r.x)*s-(e.y-r.y)*i);return a.y=r.y+((e.x-r.x)*i+(e.y-r.y)*s),a.x=n,a},t.normalise=function(e){var h=t.magnitude(e);return h===0?{x:0,y:0}:{x:e.x/h,y:e.y/h}},t.dot=function(e,h){return e.x*h.x+e.y*h.y},t.cross=function(e,h){return e.x*h.y-e.y*h.x},t.cross3=function(e,h,r){return(h.x-e.x)*(r.y-e.y)-(h.y-e.y)*(r.x-e.x)},t.add=function(e,h,r){return r||(r={}),r.x=e.x+h.x,r.y=e.y+h.y,r},t.sub=function(e,h,r){return r||(r={}),r.x=e.x-h.x,r.y=e.y-h.y,r},t.mult=function(e,h){return{x:e.x*h,y:e.y*h}},t.div=function(e,h){return{x:e.x/h,y:e.y/h}},t.perp=function(e,h){return h=h===!0?-1:1,{x:h*-e.y,y:h*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,h){return Math.atan2(h.y-e.y,h.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(l,g){var t={};l.exports=t,function(){t.create=function(e){var h={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(h,e),h},t.update=function(e,h,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var a=0;a<h.length;a++){var s=h[a];s.x>e.max.x&&(e.max.x=s.x),s.x<e.min.x&&(e.min.x=s.x),s.y>e.max.y&&(e.max.y=s.y),s.y<e.min.y&&(e.min.y=s.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},t.contains=function(e,h){return h.x>=e.min.x&&h.x<=e.max.x&&h.y>=e.min.y&&h.y<=e.max.y},t.overlaps=function(e,h){return e.min.x<=h.max.x&&e.max.x>=h.min.x&&e.max.y>=h.min.y&&e.min.y<=h.max.y},t.translate=function(e,h){e.min.x+=h.x,e.max.x+=h.x,e.min.y+=h.y,e.max.y+=h.y},t.shift=function(e,h){var r=e.max.x-e.min.x,a=e.max.y-e.min.y;e.min.x=h.x,e.max.x=h.x+r,e.min.y=h.y,e.max.y=h.y+a}}()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(0),r=t(11),a=t(502),s=new h({Mixins:[r.Alpha,r.Flip,r.Visible],initialize:function(n,f,o,u,d,c,v,p){this.layer=n,this.index=f,this.x=o,this.y=u,this.width=d,this.height=c,this.right,this.bottom,this.baseWidth=v!==void 0?v:d,this.baseHeight=p!==void 0?p:c,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(i,n){return!(i<this.pixelX||n<this.pixelY||i>this.right||n>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=i.properties,this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var n=this.tilemapLayer;return n?n.tileToWorldX(this.x,i):this.x*this.baseWidth},getRight:function(i){var n=this.tilemapLayer;return n?this.getLeft(i)+this.width*n.scaleX:this.getLeft(i)+this.width},getTop:function(i){var n=this.tilemapLayer;return n?n.tileToWorldY(this.y,i)-(this.height-this.baseHeight)*n.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(i){var n=this.tilemapLayer;return n?this.getTop(i)+this.height*n.scaleY:this.getTop(i)+this.height},getBounds:function(i,n){return n===void 0&&(n=new a),n.x=this.getLeft(),n.y=this.getTop(),n.width=this.getRight()-n.x,n.height=this.getBottom()-n.y,n},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,n,f,o){return!(f<=this.pixelX||o<=this.pixelY||i>=this.right||n>=this.bottom)},isInteresting:function(i,n){return i&&n?this.canCollide||this.hasInterestingFace:i?this.collides:n?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var n=this.tilemapLayer;n&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,n,f,o,u){if(n===void 0&&(n=i),f===void 0&&(f=i),o===void 0&&(o=i),u===void 0&&(u=!0),this.collideLeft=i,this.collideRight=n,this.collideUp=f,this.collideDown=o,this.faceLeft=i,this.faceRight=n,this.faceTop=f,this.faceBottom=o,u){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,n){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=n),this},setSize:function(i,n,f,o){return i!==void 0&&(this.width=i),n!==void 0&&(this.height=n),f!==void 0&&(this.baseWidth=f),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===e.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===e.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===e.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===e.HEXAGONAL){var n=this.layer.hexSideLength,f=(this.baseHeight-n)/2+n;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*f}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var n=i.gidMap[this.index];if(n)return n}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});l.exports=s},function(l,g,t){var e={};l.exports=e;var h=t(64),r=t(32),a=t(41),s=t(84),i=t(83),n=t(1393);(function(){e.rectangle=function(f,o,u,d,c){c=c||{};var v={label:"Rectangle Body",position:{x:f,y:o},vertices:h.fromPath("L 0 0 L "+u+" 0 L "+u+" "+d+" L 0 "+d)};if(c.chamfer){var p=c.chamfer;v.vertices=h.chamfer(v.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete c.chamfer}return a.create(r.extend({},v,c))},e.trapezoid=function(f,o,u,d,c,v){v=v||{},c*=.5;var p=(1-c*2)*u,x=u*c,y=x+p,S=y+x,E;c<.5?E="L 0 0 L "+x+" "+-d+" L "+y+" "+-d+" L "+S+" 0":E="L 0 0 L "+y+" "+-d+" L "+S+" 0";var A={label:"Trapezoid Body",position:{x:f,y:o},vertices:h.fromPath(E)};if(v.chamfer){var M=v.chamfer;A.vertices=h.chamfer(A.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete v.chamfer}return a.create(r.extend({},A,v))},e.circle=function(f,o,u,d,c){d=d||{};var v={label:"Circle Body",circleRadius:u};c=c||25;var p=Math.ceil(Math.max(10,Math.min(c,u)));return p%2===1&&(p+=1),e.polygon(f,o,p,u,r.extend({},v,d))},e.polygon=function(f,o,u,d,c){if(c=c||{},u<3)return e.circle(f,o,d,c);for(var v=2*Math.PI/u,p="",x=v*.5,y=0;y<u;y+=1){var S=x+y*v,E=Math.cos(S)*d,A=Math.sin(S)*d;p+="L "+E.toFixed(3)+" "+A.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:f,y:o},vertices:h.fromPath(p)};if(c.chamfer){var L=c.chamfer;M.vertices=h.chamfer(M.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete c.chamfer}return a.create(r.extend({},M,c))},e.fromVertices=function(f,o,u,d,c,v,p){var x,y,S,E,A,M;for(d=d||{},y=[],c=typeof c<"u"?c:!1,v=typeof v<"u"?v:.01,p=typeof p<"u"?p:10,n||r.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),r.isArray(u[0])||(u=[u]),M=0;M<u.length;M+=1)if(E=u[M],S=h.isConvex(E),S||!n)S?E=h.clockwiseSort(E):E=h.hull(E),y.push({position:{x:f,y:o},vertices:E});else{var L=E.map(function(N){return[N.x,N.y]});n.makeCCW(L),v!==!1&&n.removeCollinearPoints(L,v);var F=n.quickDecomp(L);for(A=0;A<F.length;A++){var O=F[A],B=O.map(function(N){return{x:N[0],y:N[1]}});p>0&&h.area(B)<p||y.push({position:h.centre(B),vertices:B})}}for(A=0;A<y.length;A++)y[A]=a.create(r.extend(y[A],d));return c&&e.flagCoincidentParts(y,5),y.length>1?(x=a.create(r.extend({parts:y.slice(0)},d)),a.setPosition(x,{x:f,y:o}),x):y[0]},e.flagCoincidentParts=function(f,o){o===void 0&&(o=5);for(var u=0;u<f.length;u++)for(var d=f[u],c=u+1;c<f.length;c++){var v=f[c];if(s.overlaps(d.bounds,v.bounds))for(var p=d.vertices,x=v.vertices,y=0;y<d.vertices.length;y++)for(var S=0;S<v.vertices.length;S++){var E=i.magnitudeSquared(i.sub(p[(y+1)%p.length],x[S])),A=i.magnitudeSquared(i.sub(p[y],x[(S+1)%x.length]));E<o&&A<o&&(p[y].isInternal=!0,x[S].isInternal=!0)}}return f}})()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX+e.width*.5};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.width*e.originX;return e.x=h+r-e.width*.5,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY+e.height*.5};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.height*e.originY;return e.y=h+r-e.height*.5,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={POST_RENDER:t(628),PRE_RENDER:t(629),RENDER:t(630),RESIZE:t(631)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),h=function(r,a,s,i){i===void 0&&(i=r);var n;if(!Array.isArray(a))return n=r.indexOf(a),n!==-1?(e(r,n),s&&s.call(i,a),a):null;for(var f=a.length-1,o=[];f>=0;){var u=a[f];n=r.indexOf(u),n!==-1&&(e(r,n),o.push(u),s&&s.call(i,u)),f--}return o};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(199),r=t(10),a=t(3),s=new e({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,n){return n===void 0&&(n=32),i.strokePoints(this.getPoints(n))},getBounds:function(i,n){i||(i=new r),n===void 0&&(n=16);var f=this.getLength();n>f&&(n=f/2);var o=Math.max(1,Math.round(f/n));return h(this.getSpacedPoints(o),i)},getDistancePoints:function(i){var n=this.getLength(),f=Math.max(1,n/i);return this.getSpacedPoints(f)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],f,o=this.getPoint(0,this._tmpVec2A),u=0;n.push(0);for(var d=1;d<=i;d++)f=this.getPoint(d/i,this._tmpVec2B),u+=f.distance(o),n.push(u),o.copy(f);return this.cacheArcLengths=n,n},getPointAt:function(i,n){var f=this.getUtoTmapping(i);return this.getPoint(f,n)},getPoints:function(i,n,f){f===void 0&&(f=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var o=0;o<=i;o++)f.push(this.getPoint(o/i));return f},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,n,f){f===void 0&&(f=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var o=0;o<=i;o++){var u=this.getUtoTmapping(o/i,null,i);f.push(this.getPoint(u))}return f},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,n){n===void 0&&(n=new a);var f=1e-4,o=i-f,u=i+f;return o<0&&(o=0),u>1&&(u=1),this.getPoint(o,this._tmpVec2A),this.getPoint(u,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,n){var f=this.getUtoTmapping(i);return this.getTangent(f,n)},getTFromDistance:function(i,n){return i<=0?0:this.getUtoTmapping(0,i,n)},getUtoTmapping:function(i,n,f){var o=this.getLengths(f),u=0,d=o.length,c;n?c=Math.min(n,o[d-1]):c=i*o[d-1];for(var v=0,p=d-1,x;v<=p;)if(u=Math.floor(v+(p-v)/2),x=o[u]-c,x<0)v=u+1;else if(x>0)p=u-1;else{p=u;break}if(u=p,o[u]===c)return u/(d-1);var y=o[u],S=o[u+1],E=S-y,A=(c-y)/E;return(u+A)/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(968),COMPLETE:t(969),FILE_COMPLETE:t(970),FILE_KEY_COMPLETE:t(971),FILE_LOAD_ERROR:t(972),FILE_LOAD:t(973),FILE_PROGRESS:t(974),POST_PROCESS:t(975),PROGRESS:t(976),START:t(977)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a,s){s===void 0&&(s=new e);var i=r.x1,n=r.y1,f=r.x2,o=r.y2,u=a.x1,d=a.y1,c=a.x2,v=a.y2,p=(c-u)*(n-d)-(v-d)*(i-u),x=(f-i)*(n-d)-(o-n)*(i-u),y=(v-d)*(f-i)-(c-u)*(o-n);if(y===0)return!1;var S=p/y,E=x/y;return S>=0&&S<=1&&E>=0&&E<=1?(s.x=i+S*(f-i),s.y=n+S*(o-n),!0):!1};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=function(r,a,s){return r=e(r,0,1),(s-a)*r+a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e&&e.hasOwnProperty(h)?e[h]:r};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(315),r=new e({initialize:function(s,i){this.parent=s,this.events=i,i||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(h.DESTROY,this.destroy,this)},get:function(a){var s=this.list;if(Array.isArray(a)){for(var i=[],n=0;n<a.length;n++)i.push(s[a[n]]);return i}else return s[a]},getAll:function(){var a={};for(var s in this.list)this.list.hasOwnProperty(s)&&(a[s]=this.list[s]);return a},query:function(a){var s={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(s[i]=this.list[i]);return s},set:function(a,s){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,s);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,s){if(this._frozen)return this;s===void 0&&(s=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+s),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,s){if(this._frozen)return this;if(this.has(a))this.values[a]=s;else{var i=this,n=this.list,f=this.events,o=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return n[a]},set:function(u){if(!i._frozen){var d=n[a];n[a]=u,f.emit(h.CHANGE_DATA,o,a,u,d),f.emit(h.CHANGE_DATA_KEY+a,o,u,d)}}}),n[a]=s,f.emit(h.SET_DATA,o,a,s)}return this},each:function(a,s){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var f in this.list)i[1]=f,i[2]=this.list[f],a.apply(s,i);return this},merge:function(a,s){s===void 0&&(s=!0);for(var i in a)a.hasOwnProperty(i)&&(s||!s&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var s=0;s<a.length;s++)this.removeValue(a[s]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var s=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(h.REMOVE_DATA,this.parent,a,s)}return this},pop:function(a){var s=void 0;return!this._frozen&&this.has(a)&&(s=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(h.REMOVE_DATA,this.parent,a,s)),s},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(h.CHANGE_DATA),this.events.off(h.SET_DATA),this.events.off(h.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var s in this.list)this.list[s]!==void 0&&a++;return a}}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a){if(this.entries={},this.size=0,Array.isArray(a))for(var s=0;s<a.length;s++)this.set(a[s][0],a[s][1])},set:function(r,a){return this.has(r)||this.size++,this.entries[r]=a,this},get:function(r){if(this.has(r))return this.entries[r]},getArray:function(){var r=[],a=this.entries;for(var s in a)r.push(a[s]);return r},has:function(r){return this.entries.hasOwnProperty(r)},delete:function(r){return this.has(r)&&(delete this.entries[r],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(r){delete this.entries[r]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var r=[],a=this.entries;for(var s in a)r.push(a[s]);return r},dump:function(){var r=this.entries;console.group("Map");for(var a in r)console.log(a,r[a]);console.groupEnd()},each:function(r){var a=this.entries;for(var s in a)if(r(s,a[s])===!1)break;return this},contains:function(r){var a=this.entries;for(var s in a)if(a[s]===r)return!0;return!1},merge:function(r,a){a===void 0&&(a=!1);var s=this.entries,i=r.entries;for(var n in i)s.hasOwnProperty(n)&&a?s[n]=i[n]:this.set(n,i[n]);return this}});l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e<<16|h<<8|r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ENTER_FULLSCREEN:t(800),FULLSCREEN_FAILED:t(801),FULLSCREEN_UNSUPPORTED:t(802),LEAVE_FULLSCREEN:t(803),ORIENTATION_CHANGE:t(804),RESIZE:t(805)}},function(l,g,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var h={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function r(){if(typeof importScripts=="function")return h;var a=navigator.userAgent;/Windows/.test(a)?h.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(h.iOS=!0,h.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),h.iOSVersion=parseInt(RegExp.$1,10)):h.macOS=!0:/Android/.test(a)?h.android=!0:/Linux/.test(a)?h.linux=!0:/iP[ao]d|iPhone/i.test(a)?(h.iOS=!0,navigator.appVersion.match(/OS (\d+)/),h.iOSVersion=parseInt(RegExp.$1,10),h.iPhone=a.toLowerCase().indexOf("iphone")!==-1,h.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?h.kindle=!0:/CrOS/.test(a)&&(h.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(h.android=!1,h.iOS=!1,h.macOS=!1,h.windows=!0,h.windowsPhone=!0);var s=/Silk/.test(a);return(h.windows||h.macOS||h.linux&&!s||h.chromeOS)&&(h.desktop=!0),(h.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(h.desktop=!1),navigator.standalone&&(h.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(h.cordova=!0),window.ejecta!==void 0&&(h.ejecta=!0)),typeof e<"u"&&e.versions&&e.versions.node&&(h.node=!0),h.node&&typeof e.versions=="object"&&(h.nodeWebkit=!!e.versions["node-webkit"],h.electron=!!e.versions.electron),/Crosswalk/.test(a)&&(h.crosswalk=!0),h.pixelRatio=window.devicePixelRatio||1,h}l.exports=r()}).call(this,t(807))},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(861),ERROR:t(862),LOAD:t(863),READY:t(864),REMOVE:t(865)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(59),r=t(2),a=t(878),s=t(879),i=t(25),n=t(12),f=t(107),o=t(58),u=new e({Extends:o,initialize:function(c){var v=c.game.renderer,p=r(c,"fragShader",a);c.fragShader=n.parseFragmentShaderMaxTextures(p,v.maxTextures),c.vertShader=r(c,"vertShader",s),c.attributes=r(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),o.call(this,c),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){o.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(d,c,v){this.manager.set(this,d);var p=this._tempMatrix1,x=this._tempMatrix2,y=this._tempMatrix3,S=d.frame,E=S.glTexture,A=S.u0,M=S.v0,L=S.u1,F=S.v1,O=S.x,B=S.y,N=S.cutWidth,G=S.cutHeight,Y=S.customPivot,H=d.displayOriginX,b=d.displayOriginY,Z=-H+O,$=-b+B;if(d.isCropped){var w=d._crop;(w.flipX!==d.flipX||w.flipY!==d.flipY)&&S.updateCropUVs(w,d.flipX,d.flipY),A=w.u0,M=w.v0,L=w.u1,F=w.v1,N=w.width,G=w.height,O=w.x,B=w.y,Z=-H+O,$=-b+B}var D=1,V=1;d.flipX&&(Y||(Z+=-S.realWidth+H*2),D=-1),(d.flipY||S.source.isGLTexture&&!E.flipY)&&(Y||($+=-S.realHeight+b*2),V=-1),x.applyITRS(d.x,d.y,d.rotation,d.scaleX*D,d.scaleY*V),p.copyFrom(c.matrix),v?(p.multiplyWithOffset(v,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),x.e=d.x,x.f=d.y):(x.e-=c.scrollX*d.scrollFactorX,x.f-=c.scrollY*d.scrollFactorY),p.multiply(x,y);var z=Z+N,X=$+G,j=c.roundPixels,K=y.getXRound(Z,$,j),Q=y.getYRound(Z,$,j),k=y.getXRound(Z,X,j),_=y.getYRound(Z,X,j),it=y.getXRound(z,X,j),at=y.getYRound(z,X,j),ot=y.getXRound(z,$,j),ct=y.getYRound(z,$,j),ut=n.getTintAppendFloatAlpha,mt=c.alpha,Nt=ut(d.tintTopLeft,mt*d._alphaTL),Mt=ut(d.tintTopRight,mt*d._alphaTR),Ct=ut(d.tintBottomLeft,mt*d._alphaBL),ft=ut(d.tintBottomRight,mt*d._alphaBR);this.shouldFlush(6)&&this.flush();var wt=this.setGameObject(d,S);this.manager.preBatch(d),this.batchQuad(d,K,Q,k,_,it,at,ot,ct,A,M,L,F,Nt,Mt,Ct,ft,d.tintFill,E,wt),this.manager.postBatch(d)},batchTexture:function(d,c,v,p,x,y,S,E,A,M,L,F,O,B,N,G,Y,H,b,Z,$,w,D,V,z,X,j,K,Q,k,_,it){this.manager.set(this,d);var at=this._tempMatrix1,ot=this._tempMatrix2,ct=this._tempMatrix3,ut=H/v+j,mt=b/p+K,Nt=(H+Z)/v+j,Mt=(b+$)/p+K,Ct=S,ft=E,wt=-G,Tt=-Y;if(d.isCropped){var Lt=d._crop,xe=Lt.width,ye=Lt.height;Ct=xe,ft=ye,S=xe,E=ye,H=Lt.x,b=Lt.y;var bt=H,Ut=b;F&&(bt=Z-Lt.x-xe),O&&(Ut=$-Lt.y-ye),ut=bt/v+j,mt=Ut/p+K,Nt=(bt+xe)/v+j,Mt=(Ut+ye)/p+K,wt=-G+H,Tt=-Y+b}O=O^(!_&&c.isRenderTexture?1:0),F&&(Ct*=-1,wt+=S),O&&(ft*=-1,Tt+=E);var _t=wt+Ct,Zt=Tt+ft;ot.applyITRS(x,y,L,A,M),at.copyFrom(Q.matrix),k?(at.multiplyWithOffset(k,-Q.scrollX*B,-Q.scrollY*N),ot.e=x,ot.f=y):(ot.e-=Q.scrollX*B,ot.f-=Q.scrollY*N),at.multiply(ot,ct);var Jt=Q.roundPixels,ue=ct.getXRound(wt,Tt,Jt),Be=ct.getYRound(wt,Tt,Jt),ci=ct.getXRound(wt,Zt,Jt),_e=ct.getYRound(wt,Zt,Jt),ti=ct.getXRound(_t,Zt,Jt),vi=ct.getYRound(_t,Zt,Jt),je=ct.getXRound(_t,Tt,Jt),os=ct.getYRound(_t,Tt,Jt);it===void 0&&(it=this.renderer.setTexture2D(c)),d&&this.manager.preBatch(d),this.batchQuad(d,ue,Be,ci,_e,ti,vi,je,os,ut,mt,Nt,Mt,w,D,V,z,X,c,it),d&&this.manager.postBatch(d)},batchTextureFrame:function(d,c,v,p,x,y,S){this.manager.set(this);var E=this._tempMatrix1.copyFrom(y),A=this._tempMatrix2,M=c+d.width,L=v+d.height;S?E.multiply(S,A):A=E;var F=A.getX(c,v),O=A.getY(c,v),B=A.getX(c,L),N=A.getY(c,L),G=A.getX(M,L),Y=A.getY(M,L),H=A.getX(M,v),b=A.getY(M,v),Z=this.renderer.setTextureSource(d.source);p=n.getTintAppendFloatAlpha(p,x),this.batchQuad(null,F,O,B,N,G,Y,H,b,d.u0,d.v0,d.u1,d.v1,p,p,p,p,0,d.glTexture,Z)},batchFillRect:function(d,c,v,p,x,y){this.renderer.pipelines.set(this);var S=this.calcMatrix;y&&y.multiply(x,S);var E=d+v,A=c+p,M=S.getX(d,c),L=S.getY(d,c),F=S.getX(d,A),O=S.getY(d,A),B=S.getX(E,A),N=S.getY(E,A),G=S.getX(E,c),Y=S.getY(E,c),H=this.fillTint;this.batchQuad(null,M,L,F,O,B,N,G,Y,0,0,1,1,H.TL,H.TR,H.BL,H.BR,2)},batchFillTriangle:function(d,c,v,p,x,y,S,E){this.renderer.pipelines.set(this);var A=this.calcMatrix;E&&E.multiply(S,A);var M=A.getX(d,c),L=A.getY(d,c),F=A.getX(v,p),O=A.getY(v,p),B=A.getX(x,y),N=A.getY(x,y),G=this.fillTint;this.batchTri(null,M,L,F,O,B,N,0,0,1,1,G.TL,G.TR,G.BL,2)},batchStrokeTriangle:function(d,c,v,p,x,y,S,E,A){var M=this.tempTriangle;M[0].x=d,M[0].y=c,M[0].width=S,M[1].x=v,M[1].y=p,M[1].width=S,M[2].x=x,M[2].y=y,M[2].width=S,M[3].x=d,M[3].y=c,M[3].width=S,this.batchStrokePath(M,S,!1,E,A)},batchFillPath:function(d,c,v){this.renderer.pipelines.set(this);var p=this.calcMatrix;v&&v.multiply(c,p);for(var x=d.length,y=this.polygonCache,S,E,A=this.fillTint.TL,M=this.fillTint.TR,L=this.fillTint.BL,F=0;F<x;++F)E=d[F],y.push(E.x,E.y);S=h(y),x=S.length;for(var O=0;O<x;O+=3){var B=S[O+0]*2,N=S[O+1]*2,G=S[O+2]*2,Y=y[B+0],H=y[B+1],b=y[N+0],Z=y[N+1],$=y[G+0],w=y[G+1],D=p.getX(Y,H),V=p.getY(Y,H),z=p.getX(b,Z),X=p.getY(b,Z),j=p.getX($,w),K=p.getY($,w);this.batchTri(null,D,V,z,X,j,K,0,0,1,1,A,M,L,2)}y.length=0},batchStrokePath:function(d,c,v,p,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=d.length-1,S=0;S<y;S++){var E=d[S],A=d[S+1];this.batchLine(E.x,E.y,A.x,A.y,E.width/2,A.width/2,c,S,!v&&S===y-1,p,x)}},batchLine:function(d,c,v,p,x,y,S,E,A,M,L){this.renderer.pipelines.set(this);var F=this.calcMatrix;L&&L.multiply(M,F);var O=v-d,B=p-c,N=Math.sqrt(O*O+B*B),G=x*(p-c)/N,Y=x*(d-v)/N,H=y*(p-c)/N,b=y*(d-v)/N,Z=v-H,$=p-b,w=d-G,D=c-Y,V=v+H,z=p+b,X=d+G,j=c+Y,K=F.getX(Z,$),Q=F.getY(Z,$),k=F.getX(w,D),_=F.getY(w,D),it=F.getX(V,z),at=F.getY(V,z),ot=F.getX(X,j),ct=F.getY(X,j),ut=this.strokeTint,mt=ut.TL,Nt=ut.TR,Mt=ut.BL,Ct=ut.BR;if(this.batchQuad(null,ot,ct,k,_,K,Q,it,at,0,0,1,1,mt,Nt,Mt,Ct,2),!(S<=2)){var ft=this.prevQuad,wt=this.firstQuad;E>0&&ft[4]?this.batchQuad(null,ot,ct,k,_,ft[0],ft[1],ft[2],ft[3],0,0,1,1,mt,Nt,Mt,Ct,2):(wt[0]=ot,wt[1]=ct,wt[2]=k,wt[3]=_,wt[4]=1),A&&wt[4]?this.batchQuad(null,K,Q,it,at,wt[0],wt[1],wt[2],wt[3],0,0,1,1,mt,Nt,Mt,Ct,2):(ft[0]=K,ft[1]=Q,ft[2]=it,ft[3]=at,ft[4]=1)}}});l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(18),r=t(17),a=new e({initialize:function(i,n,f,o,u,d,c){this.texture=i,this.name=n,this.source=i.source[f],this.sourceIndex=f,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(d,c,o,u)},setSize:function(s,i,n,f){n===void 0&&(n=0),f===void 0&&(f=0),this.cutX=n,this.cutY=f,this.cutWidth=s,this.cutHeight=i,this.width=s,this.height=i,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(i/2);var o=this.data,u=o.cut;u.x=n,u.y=f,u.w=s,u.h=i,u.r=n+s,u.b=f+i,o.sourceSize.w=s,o.sourceSize.h=i,o.spriteSourceSize.w=s,o.spriteSourceSize.h=i,o.radius=.5*Math.sqrt(s*s+i*i);var d=o.drawImage;return d.x=n,d.y=f,d.width=s,d.height=i,this.updateUVs()},setTrim:function(s,i,n,f,o,u){var d=this.data,c=d.spriteSourceSize;return d.trim=!0,d.sourceSize.w=s,d.sourceSize.h=i,c.x=n,c.y=f,c.w=o,c.h=u,c.r=n+o,c.b=f+u,this.x=n,this.y=f,this.width=o,this.height=u,this.halfWidth=o*.5,this.halfHeight=u*.5,this.centerX=Math.floor(o/2),this.centerY=Math.floor(u/2),this.updateUVs()},setCropUVs:function(s,i,n,f,o,u,d){var c=this.cutX,v=this.cutY,p=this.cutWidth,x=this.cutHeight,y=this.realWidth,S=this.realHeight;i=h(i,0,y),n=h(n,0,S),f=h(f,0,y-i),o=h(o,0,S-n);var E=c+i,A=v+n,M=f,L=o,F=this.data;if(F.trim){var O=F.spriteSourceSize;f=h(f,0,p-i),o=h(o,0,x-n);var B=i+f,N=n+o,G=!(O.r<i||O.b<n||O.x>B||O.y>N);if(G){var Y=Math.max(O.x,i),H=Math.max(O.y,n),b=Math.min(O.r,B)-Y,Z=Math.min(O.b,N)-H;M=b,L=Z,u?E=c+(p-(Y-O.x)-b):E=c+(Y-O.x),d?A=v+(x-(H-O.y)-Z):A=v+(H-O.y),i=Y,n=H,f=b,o=Z}else E=0,A=0,M=0,L=0}else u&&(E=c+(p-i-f)),d&&(A=v+(x-n-o));var $=this.source.width,w=this.source.height;return s.u0=Math.max(0,E/$),s.v0=Math.max(0,A/w),s.u1=Math.min(1,(E+M)/$),s.v1=Math.min(1,(A+L)/w),s.x=i,s.y=n,s.cx=E,s.cy=A,s.cw=M,s.ch=L,s.width=f,s.height=o,s.flipX=u,s.flipY=d,s},updateCropUVs:function(s,i,n){return this.setCropUVs(s,s.x,s.y,s.width,s.height,i,n)},setUVs:function(s,i,n,f,o,u){var d=this.data.drawImage;return d.width=s,d.height=i,this.u0=n,this.v0=f,this.u1=o,this.v1=u,this},updateUVs:function(){var s=this.cutX,i=this.cutY,n=this.cutWidth,f=this.cutHeight,o=this.data.drawImage;o.width=n,o.height=f;var u=this.source.width,d=this.source.height;return this.u0=s/u,this.v0=i/d,this.u1=(s+n)/u,this.v1=(i+f)/d,this},updateUVsInverted:function(){var s=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/i,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var s=new a(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=r(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),h=t(0),r=t(1),a=t(79),s=new h({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=r,this.removeCallback=r,this._sortKey=""},add:function(i,n){return n?e.Add(this.list,i):e.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,n,f){return f?e.AddAt(this.list,i,n):e.AddAt(this.list,i,n,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,n){return i?(n===void 0&&(n=function(f,o){return f[i]-o[i]}),a(this.list,n),this):this},getByName:function(i){return e.GetFirst(this.list,"name",i)},getRandom:function(i,n){return e.GetRandom(this.list,i,n)},getFirst:function(i,n,f,o){return e.GetFirst(this.list,i,n,f,o)},getAll:function(i,n,f,o){return e.GetAll(this.list,i,n,f,o)},count:function(i,n){return e.CountAllMatching(this.list,i,n)},swap:function(i,n){e.Swap(this.list,i,n)},moveTo:function(i,n){return e.MoveTo(this.list,i,n)},moveAbove:function(i,n){return e.MoveAbove(this.list,i,n)},moveBelow:function(i,n){return e.MoveBelow(this.list,i,n)},remove:function(i,n){return n?e.Remove(this.list,i):e.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,n){return n?e.RemoveAt(this.list,i):e.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,n,f){return f?e.RemoveBetween(this.list,i,n):e.RemoveBetween(this.list,i,n,this.removeCallback,this)},removeAll:function(i){for(var n=this.list.length;n--;)this.remove(this.list[n],i);return this},bringToTop:function(i){return e.BringToTop(this.list,i)},sendToBack:function(i){return e.SendToBack(this.list,i)},moveUp:function(i){return e.MoveUp(this.list,i),i},moveDown:function(i){return e.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(i,n){return e.Replace(this.list,i,n)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,n,f,o){return e.SetAll(this.list,i,n,f,o),this},each:function(i,n){for(var f=[null],o=2;o<arguments.length;o++)f.push(arguments[o]);for(o=0;o<this.list.length;o++)f[0]=this.list[o],i.apply(n,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(112),r=t(445),a=t(446),s=t(56),i=t(180),n=new e({initialize:function(o,u,d,c){o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=s.ELLIPSE,this.x=o,this.y=u,this.width=d,this.height=c},contains:function(f,o){return h(this,f,o)},getPoint:function(f,o){return r(this,f,o)},getPoints:function(f,o,u){return a(this,f,o,u)},getRandomPoint:function(f){return i(this,f)},setTo:function(f,o,u,d){return this.x=f,this.y=o,this.width=u,this.height=d,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,o){return o===void 0&&(o=f),this.x=f,this.y=o,this},setSize:function(f,o){return o===void 0&&(o=f),this.width=f,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});l.exports=n},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(e.width<=0||e.height<=0)return!1;var a=(h-e.x)/e.width,s=(r-e.y)/e.height;return a*=a,s*=s,a+s<.25};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(275),h=t(0),r=t(75),a=t(9),s=t(207),i=t(2),n=t(6),f=t(7),o=t(437),u=t(149),d=t(73),c=new h({Extends:a,initialize:function(p,x,y){a.call(this),y?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?f(x[0])&&(y=x,x=null):f(x)&&(y=x,x=null),this.scene=p,this.children=new u,this.isParent=!0,this.type="Group",this.classType=i(y,"classType",d),this.name=i(y,"name",""),this.active=i(y,"active",!0),this.maxSize=i(y,"maxSize",-1),this.defaultKey=i(y,"defaultKey",null),this.defaultFrame=i(y,"defaultFrame",null),this.runChildUpdate=i(y,"runChildUpdate",!1),this.createCallback=i(y,"createCallback",null),this.removeCallback=i(y,"removeCallback",null),this.createMultipleCallback=i(y,"createMultipleCallback",null),this.internalCreateCallback=i(y,"internalCreateCallback",null),this.internalRemoveCallback=i(y,"internalRemoveCallback",null),x&&this.addMultiple(x),y&&this.createMultiple(y),this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,p,x,y,S,E){if(v===void 0&&(v=0),p===void 0&&(p=0),x===void 0&&(x=this.defaultKey),y===void 0&&(y=this.defaultFrame),S===void 0&&(S=!0),E===void 0&&(E=!0),this.isFull())return null;var A=new this.classType(this.scene,v,p,x,y);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=S,A.setActive(E),this.add(A),A},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var p=[];if(v[0].key)for(var x=0;x<v.length;x++){var y=this.createFromConfig(v[x]);p=p.concat(y)}return p},createFromConfig:function(v){if(this.isFull())return[];this.classType=i(v,"classType",this.classType);var p=i(v,"key",void 0),x=i(v,"frame",null),y=i(v,"visible",!0),S=i(v,"active",!0),E=[];if(p===void 0)return E;Array.isArray(p)||(p=[p]),Array.isArray(x)||(x=[x]);var A=i(v,"repeat",0),M=i(v,"randomKey",!1),L=i(v,"randomFrame",!1),F=i(v,"yoyo",!1),O=i(v,"quantity",!1),B=i(v,"frameQuantity",1),N=i(v,"max",0),G=o(p,x,{max:N,qty:O||B,random:M,randomB:L,repeat:A,yoyo:F});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback);for(var Y=0;Y<G.length;Y++){var H=this.create(0,0,G[Y].a,G[Y].b,y,S);if(!H)break;E.push(H)}var b=n(v,"setXY.x",0),Z=n(v,"setXY.y",0),$=n(v,"setXY.stepX",0),w=n(v,"setXY.stepY",0);e.SetXY(E,b,Z,$,w);var D=n(v,"setRotation.value",0),V=n(v,"setRotation.step",0);e.SetRotation(E,D,V);var z=n(v,"setScale.x",1),X=n(v,"setScale.y",z),j=n(v,"setScale.stepX",0),K=n(v,"setScale.stepY",0);e.SetScale(E,z,X,j,K);var Q=n(v,"setOrigin.x",.5),k=n(v,"setOrigin.y",Q),_=n(v,"setOrigin.stepX",0),it=n(v,"setOrigin.stepY",0);e.SetOrigin(E,Q,k,_,it);var at=n(v,"setAlpha.value",1),ot=n(v,"setAlpha.step",0);e.SetAlpha(E,at,ot);var ct=n(v,"setDepth.value",0),ut=n(v,"setDepth.step",0);e.SetDepth(E,ct,ut);var mt=n(v,"setScrollFactor.x",1),Nt=n(v,"setScrollFactor.y",mt),Mt=n(v,"setScrollFactor.stepX",0),Ct=n(v,"setScrollFactor.stepY",0);e.SetScrollFactor(E,mt,Nt,Mt,Ct);var ft=i(v,"hitArea",null),wt=i(v,"hitAreaCallback",null);ft&&e.SetHitArea(E,ft,wt);var Tt=i(v,"gridAlign",!1);return Tt&&e.GridAlign(E,Tt),this.createMultipleCallback&&this.createMultipleCallback.call(this,E),E},preUpdate:function(v,p){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),y=0;y<x.length;y++){var S=x[y];S.active&&S.update(v,p)}},add:function(v,p){return p===void 0&&(p=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),p&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(r.DESTROY,this.remove,this),this)},addMultiple:function(v,p){if(p===void 0&&(p=!1),Array.isArray(v))for(var x=0;x<v.length;x++)this.add(v[x],p);return this},remove:function(v,p,x){return p===void 0&&(p=!1),x===void 0&&(x=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(r.DESTROY,this.remove,this),x?v.destroy():p&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,p){v===void 0&&(v=!1),p===void 0&&(p=!1);for(var x=this.children,y=0;y<x.size;y++){var S=x.entries[y];S.off(r.DESTROY,this.remove,this),p?S.destroy():v&&(S.removeFromDisplayList(),S.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,p,x,y){return s(this.children.entries,v,p,x,y)},getFirst:function(v,p,x,y,S,E,A){return this.getHandler(!0,1,v,p,x,y,S,E,A)},getFirstNth:function(v,p,x,y,S,E,A,M){return this.getHandler(!0,v,p,x,y,S,E,A,M)},getLast:function(v,p,x,y,S,E,A){return this.getHandler(!1,1,v,p,x,y,S,E,A)},getLastNth:function(v,p,x,y,S,E,A,M){return this.getHandler(!1,v,p,x,y,S,E,A,M)},getHandler:function(v,p,x,y,S,E,A,M,L){x===void 0&&(x=!1),y===void 0&&(y=!1);var F,O,B=0,N=this.children.entries;if(v)for(O=0;O<N.length;O++)if(F=N[O],F.active===x){if(B++,B===p)break}else F=null;else for(O=N.length-1;O>=0;O--)if(F=N[O],F.active===x){if(B++,B===p)break}else F=null;return F?(typeof S=="number"&&(F.x=S),typeof E=="number"&&(F.y=E),F):y?this.create(S,E,A,M,L):null},get:function(v,p,x,y,S){return this.getFirst(!1,!0,v,p,x,y,S)},getFirstAlive:function(v,p,x,y,S,E){return this.getFirst(!0,v,p,x,y,S,E)},getFirstDead:function(v,p,x,y,S,E){return this.getFirst(!1,v,p,x,y,S,E)},playAnimation:function(v,p){return e.PlayAnimation(this.children.entries,v,p),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var p=0,x=0;x<this.children.size;x++)this.children.entries[x].active===v&&p++;return p},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),p=this.maxSize===-1?999999999999:this.maxSize;return p-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,p,x,y,S){return e.PropertyValueSet(this.children.entries,v,p,x,y,S),this},propertyValueInc:function(v,p,x,y,S){return e.PropertyValueInc(this.children.entries,v,p,x,y,S),this},setX:function(v,p){return e.SetX(this.children.entries,v,p),this},setY:function(v,p){return e.SetY(this.children.entries,v,p),this},setXY:function(v,p,x,y){return e.SetXY(this.children.entries,v,p,x,y),this},incX:function(v,p){return e.IncX(this.children.entries,v,p),this},incY:function(v,p){return e.IncY(this.children.entries,v,p),this},incXY:function(v,p,x,y){return e.IncXY(this.children.entries,v,p,x,y),this},shiftPosition:function(v,p,x){return e.ShiftPosition(this.children.entries,v,p,x),this},angle:function(v,p){return e.Angle(this.children.entries,v,p),this},rotate:function(v,p){return e.Rotate(this.children.entries,v,p),this},rotateAround:function(v,p){return e.RotateAround(this.children.entries,v,p),this},rotateAroundDistance:function(v,p,x){return e.RotateAroundDistance(this.children.entries,v,p,x),this},setAlpha:function(v,p){return e.SetAlpha(this.children.entries,v,p),this},setTint:function(v,p,x,y){return e.SetTint(this.children.entries,v,p,x,y),this},setOrigin:function(v,p,x,y){return e.SetOrigin(this.children.entries,v,p,x,y),this},scaleX:function(v,p){return e.ScaleX(this.children.entries,v,p),this},scaleY:function(v,p){return e.ScaleY(this.children.entries,v,p),this},scaleXY:function(v,p,x,y){return e.ScaleXY(this.children.entries,v,p,x,y),this},setDepth:function(v,p){return e.SetDepth(this.children.entries,v,p),this},setBlendMode:function(v){return e.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,p){return e.SetHitArea(this.children.entries,v,p),this},shuffle:function(){return e.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,p,x){return e.SetVisible(this.children.entries,v,p,x),this},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(v,p){v===void 0&&(v=!1),p===void 0&&(p=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(r.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(p,v),this.scene=void 0,this.children=void 0)}});l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),h=function(r,a,s,i,n,f){for(var o=e.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*i),u=s.pathData,d=s.pathIndexes,c=0;c<d.length;c+=3){var v=d[c]*2,p=d[c+1]*2,x=d[c+2]*2,y=u[v+0]-n,S=u[v+1]-f,E=u[p+0]-n,A=u[p+1]-f,M=u[x+0]-n,L=u[x+1]-f,F=a.getX(y,S),O=a.getY(y,S),B=a.getX(E,A),N=a.getY(E,A),G=a.getX(M,L),Y=a.getY(M,L);r.batchTri(s,F,O,B,N,G,Y,0,0,1,1,o,o,o,2)}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=e.x3-e.x1,s=e.y3-e.y1,i=e.x2-e.x1,n=e.y2-e.y1,f=h-e.x1,o=r-e.y1,u=a*a+s*s,d=a*i+s*n,c=a*f+s*o,v=i*i+n*n,p=i*f+n*o,x=u*v-d*d,y=x===0?0:1/x,S=(v*c-d*p)*y,E=(u*p-d*c)*y;return S>=0&&E>=0&&S+E<1};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(10),r=t(3);function a(i,n,f,o){var u=i-f,d=n-o,c=u*u+d*d;return Math.sqrt(c)}var s=new e({initialize:function(n,f,o){this.vertex1=n,this.vertex2=f,this.vertex3=o,this.bounds=new h,this._inCenter=new r},getInCenter:function(i){i===void 0&&(i=!0);var n=this.vertex1,f=this.vertex2,o=this.vertex3,u,d,c,v,p,x;i?(u=n.x,d=n.y,c=f.x,v=f.y,p=o.x,x=o.y):(u=n.vx,d=n.vy,c=f.vx,v=f.vy,p=o.vx,x=o.vy);var y=a(p,x,c,v),S=a(u,d,p,x),E=a(c,v,u,d),A=y+S+E;return this._inCenter.set((u*y+c*S+p*E)/A,(d*y+v*S+x*E)/A)},contains:function(i,n,f){var o=this.vertex1,u=this.vertex2,d=this.vertex3,c=o.vx,v=o.vy,p=u.vx,x=u.vy,y=d.vx,S=d.vy;if(f){var E=f.a,A=f.b,M=f.c,L=f.d,F=f.e,O=f.f;c=o.vx*E+o.vy*M+F,v=o.vx*A+o.vy*L+O,p=u.vx*E+u.vy*M+F,x=u.vx*A+u.vy*L+O,y=d.vx*E+d.vy*M+F,S=d.vx*A+d.vy*L+O}var B=y-c,N=S-v,G=p-c,Y=x-v,H=i-c,b=n-v,Z=B*B+N*N,$=B*G+N*Y,w=B*H+N*b,D=G*G+Y*Y,V=G*H+Y*b,z=Z*D-$*$,X=z===0?0:1/z,j=(D*w-$*V)*X,K=(Z*V-$*w)*X;return j>=0&&K>=0&&j+K<1},isCounterClockwise:function(i){var n=this.vertex1,f=this.vertex2,o=this.vertex3,u=(f.vx-n.vx)*(o.vy-n.vy)-(f.vy-n.vy)*(o.vx-n.vx);return i<=0?u>=0:u<0},load:function(i,n,f,o,u){return f=this.vertex1.load(i,n,f,o,u),f=this.vertex2.load(i,n,f,o,u),f=this.vertex3.load(i,n,f,o,u),f},transformCoordinatesLocal:function(i,n,f,o){return this.vertex1.transformCoordinatesLocal(i,n,f,o),this.vertex2.transformCoordinatesLocal(i,n,f,o),this.vertex3.transformCoordinatesLocal(i,n,f,o),this},updateBounds:function(){var i=this.vertex1,n=this.vertex2,f=this.vertex3,o=this.bounds;return o.x=Math.min(i.vx,n.vx,f.vx),o.y=Math.min(i.vy,n.vy,f.vy),o.width=Math.max(i.vx,n.vx,f.vx)-o.x,o.height=Math.max(i.vy,n.vy,f.vy)-o.y,this},isInView:function(i,n,f,o,u,d,c,v,p,x,y){var S=this.vertex1.update(u,d,c,v,p,x,y,o),E=this.vertex2.update(u,d,c,v,p,x,y,o),A=this.vertex3.update(u,d,c,v,p,x,y,o);if(S.ta<=0&&E.ta<=0&&A.ta<=0||n&&!this.isCounterClockwise(f))return!1;var M=this.bounds;M.x=Math.min(S.tx,E.tx,A.tx),M.y=Math.min(S.ty,E.ty,A.ty),M.width=Math.max(S.tx,E.tx,A.tx)-M.x,M.height=Math.max(S.ty,E.ty,A.ty)-M.y;var L=i.x+i.width,F=i.y+i.height;return M.width<=0||M.height<=0||i.width<=0||i.height<=0?!1:!(M.right<i.x||M.bottom<i.y||M.x>L||M.y>F)},translate:function(i,n){n===void 0&&(n=0);var f=this.vertex1,o=this.vertex2,u=this.vertex3;return f.x+=i,f.y+=n,o.x+=i,o.y+=n,u.x+=i,u.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(i){var n=this.getInCenter();this.translate(i-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var n=this.getInCenter();this.translate(0,i-n.y)}},alpha:{get:function(){var i=this.vertex1,n=this.vertex2,f=this.vertex3;return(i.alpha+n.alpha+f.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,n=this.vertex2,f=this.vertex3;return(i.vz+n.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(12),r=t(39),a=new e({Extends:r,initialize:function(i,n,f,o,u,d,c,v,p,x){d===void 0&&(d=16777215),c===void 0&&(c=1),v===void 0&&(v=0),p===void 0&&(p=0),x===void 0&&(x=0),r.call(this,i,n,f),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=p,this.nz=x,this.u=o,this.v=u,this.color=d,this.alpha=c,this.tx=0,this.ty=0,this.ta=0},setUVs:function(s,i){return this.u=s,this.v=i,this},transformCoordinatesLocal:function(s,i,n,f){var o=this.x,u=this.y,d=this.z,c=s.val,v=o*c[0]+u*c[4]+d*c[8]+c[12],p=o*c[1]+u*c[5]+d*c[9]+c[13],x=o*c[2]+u*c[6]+d*c[10]+c[14],y=o*c[3]+u*c[7]+d*c[11]+c[15];this.vx=v/y*i,this.vy=-(p/y)*n,f<=0?this.vz=x/y:this.vz=-(x/y)},update:function(s,i,n,f,o,u,d,c){var v=this.vx*s+this.vy*n+o,p=this.vx*i+this.vy*f+u;return d&&(v=Math.round(v),p=Math.round(p)),this.tx=v,this.ty=p,this.ta=this.alpha*c,this},load:function(s,i,n,f,o){return s[++n]=this.tx,s[++n]=this.ty,s[++n]=this.u,s[++n]=this.v,s[++n]=f,s[++n]=o,i[++n]=h.getTintAppendFloatAlpha(this.color,this.ta),n}});l.exports=a},function(l,g,t){var e={};l.exports=e;var h=t(166),r=t(32),a=t(84),s=t(41);(function(){e.create=function(i){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},i)},e.setModified=function(i,n,f,o){if(h.trigger(i,"compositeModified",i),i.isModified=n,f&&i.parent&&e.setModified(i.parent,n,f,o),o)for(var u=0;u<i.composites.length;u++){var d=i.composites[u];e.setModified(d,n,f,o)}},e.add=function(i,n){var f=[].concat(n);h.trigger(i,"beforeAdd",{object:n});for(var o=0;o<f.length;o++){var u=f[o];switch(u.type){case"body":if(u.parent!==u){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,u);break;case"constraint":e.addConstraint(i,u);break;case"composite":e.addComposite(i,u);break;case"mouseConstraint":e.addConstraint(i,u.constraint);break}}return h.trigger(i,"afterAdd",{object:n}),i},e.remove=function(i,n,f){var o=[].concat(n);h.trigger(i,"beforeRemove",{object:n});for(var u=0;u<o.length;u++){var d=o[u];switch(d.type){case"body":e.removeBody(i,d,f);break;case"constraint":e.removeConstraint(i,d,f);break;case"composite":e.removeComposite(i,d,f);break;case"mouseConstraint":e.removeConstraint(i,d.constraint);break}}return h.trigger(i,"afterRemove",{object:n}),i},e.addComposite=function(i,n){return i.composites.push(n),n.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,n,f){var o=i.composites.indexOf(n);if(o!==-1&&(e.removeCompositeAt(i,o),e.setModified(i,!0,!0,!1)),f)for(var u=0;u<i.composites.length;u++)e.removeComposite(i.composites[u],n,!0);return i},e.removeCompositeAt=function(i,n){return i.composites.splice(n,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,n){return i.bodies.push(n),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,n,f){var o=i.bodies.indexOf(n);if(o!==-1&&(e.removeBodyAt(i,o),e.setModified(i,!0,!0,!1)),f)for(var u=0;u<i.composites.length;u++)e.removeBody(i.composites[u],n,!0);return i},e.removeBodyAt=function(i,n){return i.bodies.splice(n,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,n){return i.constraints.push(n),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,n,f){var o=i.constraints.indexOf(n);if(o!==-1&&e.removeConstraintAt(i,o),f)for(var u=0;u<i.composites.length;u++)e.removeConstraint(i.composites[u],n,!0);return i},e.removeConstraintAt=function(i,n){return i.constraints.splice(n,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,n,f){if(f)for(var o=0;o<i.composites.length;o++)e.clear(i.composites[o],n,!0);return n?i.bodies=i.bodies.filter(function(u){return u.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){for(var n=[].concat(i.bodies),f=0;f<i.composites.length;f++)n=n.concat(e.allBodies(i.composites[f]));return n},e.allConstraints=function(i){for(var n=[].concat(i.constraints),f=0;f<i.composites.length;f++)n=n.concat(e.allConstraints(i.composites[f]));return n},e.allComposites=function(i){for(var n=[].concat(i.composites),f=0;f<i.composites.length;f++)n=n.concat(e.allComposites(i.composites[f]));return n},e.get=function(i,n,f){var o,u;switch(f){case"body":o=e.allBodies(i);break;case"constraint":o=e.allConstraints(i);break;case"composite":o=e.allComposites(i).concat(i);break}return o?(u=o.filter(function(d){return d.id.toString()===n.toString()}),u.length===0?null:u[0]):null},e.move=function(i,n,f){return e.remove(i,n),e.add(f,n),i},e.rebase=function(i){for(var n=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),f=0;f<n.length;f++)n[f].id=r.nextId();return e.setModified(i,!0,!0,!1),i},e.translate=function(i,n,f){for(var o=f?e.allBodies(i):i.bodies,u=0;u<o.length;u++)s.translate(o[u],n);return e.setModified(i,!0,!0,!1),i},e.rotate=function(i,n,f,o){for(var u=Math.cos(n),d=Math.sin(n),c=o?e.allBodies(i):i.bodies,v=0;v<c.length;v++){var p=c[v],x=p.position.x-f.x,y=p.position.y-f.y;s.setPosition(p,{x:f.x+(x*u-y*d),y:f.y+(x*d+y*u)}),s.rotate(p,n)}return e.setModified(i,!0,!0,!1),i},e.scale=function(i,n,f,o,u){for(var d=u?e.allBodies(i):i.bodies,c=0;c<d.length;c++){var v=d[c],p=v.position.x-o.x,x=v.position.y-o.y;s.setPosition(v,{x:o.x+p*n,y:o.y+x*f}),s.scale(v,n,f)}return e.setModified(i,!0,!0,!1),i},e.bounds=function(i){for(var n=e.allBodies(i),f=[],o=0;o<n.length;o+=1){var u=n[o];f.push(u.bounds.min,u.bounds.max)}return a.create(f)}})()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e>=0&&e<r.width&&h>=0&&h<r.height};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(29),r=t(2),a=new e({initialize:function(i){i===void 0&&(i={}),this.name=r(i,"name","layer"),this.x=r(i,"x",0),this.y=r(i,"y",0),this.width=r(i,"width",0),this.height=r(i,"height",0),this.tileWidth=r(i,"tileWidth",0),this.tileHeight=r(i,"tileHeight",0),this.baseTileWidth=r(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=r(i,"baseTileHeight",this.tileHeight),this.orientation=r(i,"orientation",h.ORTHOGONAL),this.widthInPixels=r(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=r(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=r(i,"alpha",1),this.visible=r(i,"visible",!0),this.properties=r(i,"properties",[]),this.indexes=r(i,"indexes",[]),this.collideIndexes=r(i,"collideIndexes",[]),this.callbacks=r(i,"callbacks",[]),this.bodies=r(i,"bodies",[]),this.data=r(i,"data",[]),this.tilemapLayer=r(i,"tilemapLayer",null),this.hexSideLength=r(i,"hexSideLength",0)}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(29),r=t(2),a=new e({initialize:function(i){i===void 0&&(i={}),this.name=r(i,"name","map"),this.width=r(i,"width",0),this.height=r(i,"height",0),this.infinite=r(i,"infinite",!1),this.tileWidth=r(i,"tileWidth",0),this.tileHeight=r(i,"tileHeight",0),this.widthInPixels=r(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=r(i,"heightInPixels",this.height*this.tileHeight),this.format=r(i,"format",null),this.orientation=r(i,"orientation",h.ORTHOGONAL),this.renderOrder=r(i,"renderOrder","right-down"),this.version=r(i,"version","1"),this.properties=r(i,"properties",{}),this.layers=r(i,"layers",[]),this.images=r(i,"images",[]),this.objects=r(i,"objects",{}),this.collision=r(i,"collision",{}),this.tilesets=r(i,"tilesets",[]),this.imageCollections=r(i,"imageCollections",[]),this.tiles=r(i,"tiles",[]),this.hexSideLength=r(i,"hexSideLength",0)}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n,f,o,u,d){(i===void 0||i<=0)&&(i=32),(n===void 0||n<=0)&&(n=32),f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u={}),d===void 0&&(d={}),this.name=a,this.firstgid=s,this.tileWidth=i,this.tileHeight=n,this.tileMargin=f,this.tileSpacing=o,this.tileProperties=u,this.tileData=d,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var a=this.getTileData(r);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){return this.image=r,this.glTexture=r.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(r,a){return r!==void 0&&(this.tileWidth=r),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,a){return r!==void 0&&(this.tileMargin=r),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,a){var s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(s%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),s=Math.floor(s),i=Math.floor(i),this.rows=s,this.columns=i,this.total=s*i,this.texCoordinates.length=0;for(var n=this.tileMargin,f=this.tileMargin,o=0;o<this.rows;o++){for(var u=0;u<this.columns;u++)this.texCoordinates.push({x:n,y:f}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,f+=this.tileHeight+this.tileSpacing}return this}});l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return r===void 0&&(r=1e-4),Math.abs(e-h)<r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(15),a=t(1068),s=new e({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,a],initialize:function(n,f,o,u,d){r.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,d),this.setPosition(f,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.hasOwnProperty(h)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),h=function(r,a){var s=e(r);for(var i in a)s.hasOwnProperty(i)||(s[i]=a[i]);return s};l.exports=h},function(l,g,t){var e={};l.exports=e;var h=t(64),r=t(83),a=t(165),s=t(84),i=t(271),n=t(32);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var o=f;o.bodyA&&!o.pointA&&(o.pointA={x:0,y:0}),o.bodyB&&!o.pointB&&(o.pointB={x:0,y:0});var u=o.bodyA?r.add(o.bodyA.position,o.pointA):o.pointA,d=o.bodyB?r.add(o.bodyB.position,o.pointB):o.pointB,c=r.magnitude(r.sub(u,d));o.length=typeof o.length<"u"?o.length:c,o.id=o.id||n.nextId(),o.label=o.label||"Constraint",o.type="constraint",o.stiffness=o.stiffness||(o.length>0?1:.7),o.damping=o.damping||0,o.angularStiffness=o.angularStiffness||0,o.angleA=o.bodyA?o.bodyA.angle:o.angleA,o.angleB=o.bodyB?o.bodyB.angle:o.angleB,o.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return o.length===0&&o.stiffness>.1?(v.type="pin",v.anchors=!1):o.stiffness<.9&&(v.type="spring"),o.render=n.extend(v,o.render),o},e.preSolveAll=function(f){for(var o=0;o<f.length;o+=1){var u=f[o],d=u.constraintImpulse;u.isStatic||d.x===0&&d.y===0&&d.angle===0||(u.position.x+=d.x,u.position.y+=d.y,u.angle+=d.angle)}},e.solveAll=function(f,o){for(var u=0;u<f.length;u+=1){var d=f[u],c=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(c||v)&&e.solve(f[u],o)}for(u=0;u<f.length;u+=1)d=f[u],c=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!c&&!v&&e.solve(f[u],o)},e.solve=function(f,o){var u=f.bodyA,d=f.bodyB,c=f.pointA,v=f.pointB;if(!(!u&&!d)){u&&!u.isStatic&&(r.rotate(c,u.angle-f.angleA,c),f.angleA=u.angle),d&&!d.isStatic&&(r.rotate(v,d.angle-f.angleB,v),f.angleB=d.angle);var p=c,x=v;if(u&&(p=r.add(u.position,c)),d&&(x=r.add(d.position,v)),!(!p||!x)){var y=r.sub(p,x),S=r.magnitude(y);S<e._minLength&&(S=e._minLength);var E=(S-f.length)/S,A=f.stiffness<1?f.stiffness*o:f.stiffness,M=r.mult(y,E*A),L=(u?u.inverseMass:0)+(d?d.inverseMass:0),F=(u?u.inverseInertia:0)+(d?d.inverseInertia:0),O=L+F,B,N,G,Y,H;if(f.damping){var b=r.create();G=r.div(y,S),H=r.sub(d&&r.sub(d.position,d.positionPrev)||b,u&&r.sub(u.position,u.positionPrev)||b),Y=r.dot(G,H)}u&&!u.isStatic&&(N=u.inverseMass/L,u.constraintImpulse.x-=M.x*N,u.constraintImpulse.y-=M.y*N,u.position.x-=M.x*N,u.position.y-=M.y*N,f.damping&&(u.positionPrev.x-=f.damping*G.x*Y*N,u.positionPrev.y-=f.damping*G.y*Y*N),B=r.cross(c,M)/O*e._torqueDampen*u.inverseInertia*(1-f.angularStiffness),u.constraintImpulse.angle-=B,u.angle-=B),d&&!d.isStatic&&(N=d.inverseMass/L,d.constraintImpulse.x+=M.x*N,d.constraintImpulse.y+=M.y*N,d.position.x+=M.x*N,d.position.y+=M.y*N,f.damping&&(d.positionPrev.x+=f.damping*G.x*Y*N,d.positionPrev.y+=f.damping*G.y*Y*N),B=r.cross(v,M)/O*e._torqueDampen*d.inverseInertia*(1-f.angularStiffness),d.constraintImpulse.angle+=B,d.angle+=B)}}},e.postSolveAll=function(f){for(var o=0;o<f.length;o++){var u=f[o],d=u.constraintImpulse;if(!(u.isStatic||d.x===0&&d.y===0&&d.angle===0)){a.set(u,!1);for(var c=0;c<u.parts.length;c++){var v=u.parts[c];h.translate(v.vertices,d),c>0&&(v.position.x+=d.x,v.position.y+=d.y),d.angle!==0&&(h.rotate(v.vertices,d.angle,u.position),i.rotate(v.axes,d.angle),c>0&&r.rotateAbout(v.position,d.angle,u.position,v.position)),s.update(v.bounds,v.vertices,u.velocity)}d.angle*=e._warming,d.x*=e._warming,d.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+f.pointA.x,y:(f.bodyA?f.bodyA.position.y:0)+f.pointA.y}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+f.pointB.x,y:(f.bodyB?f.bodyB.position.y:0)+f.pointB.y}}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),h=t(65),r=t(66),a=t(0),s=t(11),i=t(15),n=t(10),f=t(57),o=new a({Extends:i,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(d,c,v,p,x){p===void 0&&(p=1),x===void 0&&(x=p),i.call(this,d,"Zone"),this.setPosition(c,v),this.width=p,this.height=x,this.blendMode=e.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,d,c){c===void 0&&(c=!0),this.width=u,this.height=d,this.updateDisplayOrigin();var v=this.input;return c&&v&&!v.customHitArea&&(v.hitArea.width=u,v.hitArea.height=d),this},setDisplaySize:function(u,d){return this.displayWidth=u,this.displayHeight=d,this},setCircleDropZone:function(u){return this.setDropZone(new h(0,0,u),r)},setRectangleDropZone:function(u,d){return this.setDropZone(new n(0,0,u,d),f)},setDropZone:function(u,d){return u===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(u,d,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,d,c){c.addToRenderList(d)},renderWebGL:function(u,d,c){c.addToRenderList(d)}});l.exports=o},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(e.width+e.height)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var h=e.length-1;h>0;h--){var r=Math.floor(Math.random()*(h+1)),a=e[h];e[h]=e[r],e[r]=a}return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD_ANIMATION:t(724),ANIMATION_COMPLETE:t(725),ANIMATION_COMPLETE_KEY:t(726),ANIMATION_REPEAT:t(727),ANIMATION_RESTART:t(728),ANIMATION_START:t(729),ANIMATION_STOP:t(730),ANIMATION_UPDATE:t(731),PAUSE_ALL:t(732),REMOVE_ANIMATION:t(733),RESUME_ALL:t(734)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(36),a=t(9),s=t(37),i=t(10),n=t(25),f=t(187),o=t(3),u=new e({Extends:a,Mixins:[h.Alpha,h.Visible],initialize:function(c,v,p,x){c===void 0&&(c=0),v===void 0&&(v=0),p===void 0&&(p=0),x===void 0&&(x=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=c,this._y=v,this._width=p,this._height=x,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new o(p/2,x/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(d){this.renderList.push(d)},setOrigin:function(d,c){return d===void 0&&(d=.5),c===void 0&&(c=d),this.originX=d,this.originY=c,this},getScroll:function(d,c,v){v===void 0&&(v=new o);var p=this.width*.5,x=this.height*.5;return v.x=d-p,v.y=c-x,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(d){var c=this.width*.5;return this.midPoint.x=d,this.scrollX=d-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(d){var c=this.height*.5;return this.midPoint.y=d,this.scrollY=d-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(d,c){return this.centerOnX(d),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var d=this._bounds,c=this.width*.5,v=this.height*.5;this.midPoint.set(d.centerX,d.centerY),this.scrollX=d.centerX-c,this.scrollY=d.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(d){if(this.disableCull)return d;var c=this.matrix.matrix,v=c[0],p=c[1],x=c[2],y=c[3],S=v*y-p*x;if(!S)return d;var E=c[4],A=c[5],M=this.scrollX,L=this.scrollY,F=this.width,O=this.height,B=this.y,N=B+O,G=this.x,Y=G+F,H=this.culledObjects,b=d.length;S=1/S,H.length=0;for(var Z=0;Z<b;++Z){var $=d[Z];if(!$.hasOwnProperty("width")||$.parentContainer){H.push($);continue}var w=$.width,D=$.height,V=$.x-M*$.scrollFactorX-w*$.originX,z=$.y-L*$.scrollFactorY-D*$.originY,X=V*v+z*x+E,j=V*p+z*y+A,K=(V+w)*v+(z+D)*x+E,Q=(V+w)*p+(z+D)*y+A;K>G&&X<Y&&Q>B&&j<N&&H.push($)}return H},getWorldPoint:function(d,c,v){v===void 0&&(v=new o);var p=this.matrix.matrix,x=p[0],y=p[1],S=p[2],E=p[3],A=p[4],M=p[5],L=x*E-y*S;if(!L)return v.x=d,v.y=c,v;L=1/L;var F=E*L,O=-y*L,B=-S*L,N=x*L,G=(S*M-E*A)*L,Y=(y*A-x*M)*L,H=Math.cos(this.rotation),b=Math.sin(this.rotation),Z=this.zoomX,$=this.zoomY,w=this.scrollX,D=this.scrollY,V=d+(w*H-D*b)*Z,z=c+(w*b+D*H)*$;return v.x=V*F+z*B+G,v.y=V*O+z*N+Y,v},ignore:function(d){var c=this.id;Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var p=d[v];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=c}return this},preRender:function(){this.renderList.length=0;var d=this.width,c=this.height,v=d*.5,p=c*.5,x=this.zoomX,y=this.zoomY,S=this.matrix,E=d*this.originX,A=c*this.originY,M=this.scrollX,L=this.scrollY;this.useBounds&&(M=this.clampX(M),L=this.clampY(L)),this.roundPixels&&(E=Math.round(E),A=Math.round(A)),this.scrollX=M,this.scrollY=L;var F=M+v,O=L+p;this.midPoint.set(F,O);var B=d/x,N=c/y;this.worldView.setTo(F-B/2,O-N/2,B,N),S.applyITRS(this.x+E,this.y+A,this.rotation,x,y),S.translate(-E,-A)},clampX:function(d){var c=this._bounds,v=this.displayWidth,p=c.x+(v-this.width)/2,x=Math.max(p,p+c.width-v);return d<p?d=p:d>x&&(d=x),d},clampY:function(d){var c=this._bounds,v=this.displayHeight,p=c.y+(v-this.height)/2,x=Math.max(p,p+c.height-v);return d<p?d=p:d>x&&(d=x),d},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(d){return d===void 0&&(d=0),this.rotation=r(d),this},setBackgroundColor:function(d){return d===void 0&&(d="rgba(0,0,0,0)"),this.backgroundColor=f(d),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(d,c,v,p,x){return x===void 0&&(x=!1),this._bounds.setTo(d,c,v,p),this.dirty=!0,this.useBounds=!0,x?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(d){d===void 0&&(d=new i);var c=this._bounds;return d.setTo(c.x,c.y,c.width,c.height),d},setName:function(d){return d===void 0&&(d=""),this.name=d,this},setPosition:function(d,c){return c===void 0&&(c=d),this.x=d,this.y=c,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setRoundPixels:function(d){return this.roundPixels=d,this},setScene:function(d){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=d;var c=d.sys;return this.sceneManager=c.game.scene,this.scaleManager=c.scale,this.cameraManager=c.cameras,this.updateSystem(),this},setScroll:function(d,c){return c===void 0&&(c=d),this.scrollX=d,this.scrollY=c,this},setSize:function(d,c){return c===void 0&&(c=d),this.width=d,this.height=c,this},setViewport:function(d,c,v,p){return this.x=d,this.y=c,this.width=v,this.height=p,this},setZoom:function(d,c){return d===void 0&&(d=1),c===void 0&&(c=d),d===0&&(d=.001),c===0&&(c=.001),this.zoomX=d,this.zoomY=c,this},setMask:function(d,c){return c===void 0&&(c=!0),this.mask=d,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var d={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(d.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),d},update:function(){},updateSystem:function(){if(this.scaleManager){var d=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;d&&!this._customViewport?c.customViewports++:!d&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=d}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(d){this._x=d,this.updateSystem()}},y:{get:function(){return this._y},set:function(d){this._y=d,this.updateSystem()}},width:{get:function(){return this._width},set:function(d){this._width=d,this.updateSystem()}},height:{get:function(){return this._height},set:function(d){this._height=d,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(d){this._scrollX=d,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(d){this._scrollY=d,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(d){this._zoomX=d,this._zoomY=d,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(d){this._zoomX=d,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(d){this._zoomY=d,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(334),h=t(335),r=t(336),a=t(337),s=t(338),i=t(339),n=t(340),f=t(341),o=t(342),u=t(343),d=t(344),c=t(345);l.exports={Power0:n,Power1:f.Out,Power2:a.Out,Power3:o.Out,Power4:u.Out,Linear:n,Quad:f.Out,Cubic:a.Out,Quart:o.Out,Quint:u.Out,Sine:d.Out,Expo:i.Out,Circ:r.Out,Elastic:s.Out,Back:e.Out,Bounce:h.Out,Stepped:c,"Quad.easeIn":f.In,"Cubic.easeIn":a.In,"Quart.easeIn":o.In,"Quint.easeIn":u.In,"Sine.easeIn":d.In,"Expo.easeIn":i.In,"Circ.easeIn":r.In,"Elastic.easeIn":s.In,"Back.easeIn":e.In,"Bounce.easeIn":h.In,"Quad.easeOut":f.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":o.Out,"Quint.easeOut":u.Out,"Sine.easeOut":d.Out,"Expo.easeOut":i.Out,"Circ.easeOut":r.Out,"Elastic.easeOut":s.Out,"Back.easeOut":e.Out,"Bounce.easeOut":h.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":o.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":r.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":h.InOut}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return(h-e)*r+e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),h={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function r(){var a=navigator.userAgent;return/Edge\/\d+/.test(a)?h.edge=!0:/Chrome\/(\d+)/.test(a)&&!e.windowsPhone?(h.chrome=!0,h.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(a)?(h.firefox=!0,h.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(a)&&e.iOS?h.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(h.ie=!0,h.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(a)?h.opera=!0:/Safari/.test(a)&&!e.windowsPhone?h.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(h.ie=!0,h.trident=!0,h.tridentVersion=parseInt(RegExp.$1,10),h.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(h.silk=!0),h}l.exports=r()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return Math.random()*(h-e)+e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e>0&&(e&e-1)===0&&h>0&&(h&h-1)===0};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return r===void 0&&(r=0),h===0?e:(e-=r,e=h*Math.ceil(e/h),a?(r+e)/h:r+e)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=s||0,this.z=i||0,this.w=n||0)},clone:function(){return new h(this.x,this.y,this.z,this.w)},copy:function(r){return this.x=r.x,this.y=r.y,this.z=r.z||0,this.w=r.w||0,this},equals:function(r){return this.x===r.x&&this.y===r.y&&this.z===r.z&&this.w===r.w},set:function(r,a,s,i){return typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=a||0,this.z=s||0,this.w=i||0),this},add:function(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z||0,this.w+=r.w||0,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z||0,this.w-=r.w||0,this},scale:function(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this},length:function(){var r=this.x,a=this.y,s=this.z,i=this.w;return Math.sqrt(r*r+a*a+s*s+i*i)},lengthSq:function(){var r=this.x,a=this.y,s=this.z,i=this.w;return r*r+a*a+s*s+i*i},normalize:function(){var r=this.x,a=this.y,s=this.z,i=this.w,n=r*r+a*a+s*s+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=r*n,this.y=a*n,this.z=s*n,this.w=i*n),this},dot:function(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w},lerp:function(r,a){a===void 0&&(a=0);var s=this.x,i=this.y,n=this.z,f=this.w;return this.x=s+a*(r.x-s),this.y=i+a*(r.y-i),this.z=n+a*(r.z-n),this.w=f+a*(r.w-f),this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z||1,this.w*=r.w||1,this},divide:function(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z||1,this.w/=r.w||1,this},distance:function(r){var a=r.x-this.x,s=r.y-this.y,i=r.z-this.z||0,n=r.w-this.w||0;return Math.sqrt(a*a+s*s+i*i+n*n)},distanceSq:function(r){var a=r.x-this.x,s=r.y-this.y,i=r.z-this.z||0,n=r.w-this.w||0;return a*a+s*s+i*i+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(r){var a=this.x,s=this.y,i=this.z,n=this.w,f=r.val;return this.x=f[0]*a+f[4]*s+f[8]*i+f[12]*n,this.y=f[1]*a+f[5]*s+f[9]*i+f[13]*n,this.z=f[2]*a+f[6]*s+f[10]*i+f[14]*n,this.w=f[3]*a+f[7]*s+f[11]*i+f[15]*n,this},transformQuat:function(r){var a=this.x,s=this.y,i=this.z,n=r.x,f=r.y,o=r.z,u=r.w,d=u*a+f*i-o*s,c=u*s+o*a-n*i,v=u*i+n*s-f*a,p=-n*a-f*s-o*i;return this.x=d*u+p*-n+c*-o-v*-f,this.y=c*u+p*-f+v*-n-d*-o,this.z=v*u+p*-o+d*-f-c*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});h.prototype.sub=h.prototype.subtract,h.prototype.mul=h.prototype.multiply,h.prototype.div=h.prototype.divide,h.prototype.dist=h.prototype.distance,h.prototype.distSq=h.prototype.distanceSq,h.prototype.len=h.prototype.length,h.prototype.lenSq=h.prototype.lengthSq,l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(91),r=new e({initialize:function(s,i,n,f,o,u,d){f===void 0&&(f=1),o===void 0&&(o=0),u===void 0&&(u=!0),d===void 0&&(d=!1),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=o,this.autoClear=u,this.autoResize=!1,this.resize(i,n),d&&this.setAutoResize(!0)},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(h.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(h.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,s){var i=a*this.scale,n=s*this.scale;if(i!==this.width||n!==this.height){var f=this.renderer;f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),a*=this.scale,s*=this.scale,a=Math.round(a),s=Math.round(s),a<=0&&(a=1),s<=0&&(s=1),this.texture=f.createTextureFromSource(null,a,s,this.minFilter),this.framebuffer=f.createFramebuffer(a,s,this.texture,!1),this.width=a,this.height=s}return this},bind:function(a,s,i){if(a===void 0&&(a=!1),a&&this.renderer.flush(),s&&i&&this.resize(s,i),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),a&&this.adjustViewport(),this.autoClear){var n=this.renderer.gl;n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)}},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,s=a.gl;a.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var s=this.renderer;return a&&s.flush(),s.popFramebuffer()},destroy:function(){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),a.off(h.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r;if(h)typeof h=="string"?r=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(r=h);else if(e.parentElement||h===null)return e;return r||(r=document.body),r.appendChild(e),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(77),r=t(9),a=t(70),s=t(22),i=t(1),n=t(207),f=t(428),o=new e({Extends:r,initialize:function(d){r.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,d.events.on(s.BLUR,this.onGameBlur,this),d.events.on(s.FOCUS,this.onGameFocus,this),d.events.on(s.PRE_STEP,this.update,this),d.events.once(s.DESTROY,this.destroy,this)},add:i,addAudioSprite:function(u,d){d===void 0&&(d={});var c=this.add(u,d);c.spritemap=this.jsonCache.get(u).spritemap;for(var v in c.spritemap)if(c.spritemap.hasOwnProperty(v)){var p=h(d),x=c.spritemap[v];p.loop=x.hasOwnProperty("loop")?x.loop:!1,c.addMarker({name:v,start:x.start,duration:x.end-x.start,config:p})}return c},get:function(u){return f(this.sounds,"key",u)},getAll:function(u){return n(this.sounds,"key",u)},play:function(u,d){var c=this.add(u);return c.once(a.COMPLETE,c.destroy,c),d?d.name?(c.addMarker(d),c.play(d.name)):c.play(d):c.play()},playAudioSprite:function(u,d,c){var v=this.addAudioSprite(u);return v.once(a.COMPLETE,v.destroy,v),v.play(d,c)},remove:function(u){var d=this.sounds.indexOf(u);return d!==-1?(u.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var d=0,c=this.sounds.length-1;c>=0;c--){var v=this.sounds[c];v.key===u&&(v.destroy(),this.sounds.splice(c,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(a.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(u){var d=0;return this.getAll(u).forEach(function(c){c.stop()&&d++}),d},unlock:i,onBlur:i,onFocus:i,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(u,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var c=this.sounds.length-1;c>=0;c--)this.sounds[c].pendingRemove&&this.sounds.splice(c,1);this.sounds.forEach(function(v){v.update(u,d)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(u,d){var c=this;this.sounds.forEach(function(v,p){v&&!v.pendingRemove&&u.call(d||c,v,p,c.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(a.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,u)}}});l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(70),a=t(17),s=t(1),i=new e({Extends:h,initialize:function(f,o,u){h.call(this),this.manager=f,this.key=o,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=a(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=a(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var f=this.markers[n];return f?(this.markers[n]=null,f):null},play:function(n,f){if(n===void 0&&(n=""),typeof n=="object"&&(f=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var n=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,o=Math.pow(n,f);this.totalRate=this.currentConfig.rate*this.manager.rate*o},destroy:function(){this.pendingRemove||(this.emit(r.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(209),h=t(435),r=function(a,s){if(s===void 0&&(s=90),!e(a))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")a=h(a),a.reverse();else if(s===-90||s===270||s==="rotateRight")a.reverse(),a=h(a);else if(Math.abs(s)===180||s==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(18),r=t(11),a=t(15),s=t(1043),i=t(1044),n=t(212),f=t(10),o=t(1045),u=new e({Extends:a,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Texture,r.Tint,r.Transform,r.Visible,o],initialize:function(c,v,p,x,y,S,E){y===void 0&&(y=""),E===void 0&&(E=0),a.call(this,c,"BitmapText"),this.font=x;var A=this.scene.sys.cache.bitmapFont.get(x);A||console.warn("Invalid BitmapText key: "+x),this.fontData=A.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._align=E,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(v,p),this.setOrigin(0,0),this.initPipeline(),this.setText(y)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(d){return this._fontSize=d,this._dirty=!0,this},setLetterSpacing:function(d){return d===void 0&&(d=0),this._letterSpacing=d,this._dirty=!0,this},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this.text&&(this._text=d.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(d,c,v,p){return d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),p===void 0&&(p=.5),this.dropShadowX=d,this.dropShadowY=c,this.dropShadowColor=v,this.dropShadowAlpha=p,this},setCharacterTint:function(d,c,v,p,x,y,S){d===void 0&&(d=0),c===void 0&&(c=1),v===void 0&&(v=!1),p===void 0&&(p=-1),x===void 0&&(x=p,y=p,S=p);var E=this.text.length;c===-1&&(c=E),d<0&&(d=E+d),d=h(d,0,E-1);for(var A=h(d+c,d,E),M=this.charColors,L=d;L<A;L++){var F=M[L];if(p===-1)M[L]=null;else{var O=v?1:0;F?(F.tintEffect=O,F.tintTL=p,F.tintTR=x,F.tintBL=y,F.tintBR=S):M[L]={tintEffect:O,tintTL:p,tintTR:x,tintBL:y,tintBR:S}}}return this},setWordTint:function(d,c,v,p,x,y,S){c===void 0&&(c=1);for(var E=this.getTextBounds(),A=E.words,M=typeof d=="number",L=0,F=0;F<A.length;F++){var O=A[F];if((M&&F===d||!M&&O.word===d)&&(this.setCharacterTint(O.i,O.word.length,v,p,x,y,S),L++,L===c))return this}return this},getTextBounds:function(d){var c=this._bounds;return(this._dirty||d||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(s(this,d,!0,c),this._dirty=!1),c},getCharacterAt:function(d,c,v){for(var p=this.getLocalPoint(d,c,null,v),x=this.getTextBounds(),y=x.characters,S=new f,E=0;E<y.length;E++){var A=y[E];if(S.setTo(A.x,A.t,A.r-A.x,A.b),S.contains(p.x,p.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(d,c,v){if(c===void 0&&(c=this._fontSize),v===void 0&&(v=this._align),d!==this.font){var p=this.scene.sys.cache.bitmapFont.get(d);p&&(this.font=d,this.fontData=p.data,this._fontSize=c,this._align=v,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),s(this,!1,!0,this._bounds))}return this},setMaxWidth:function(d,c){return this._maxWidth=d,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(d){this._align=d,this._dirty=!0},get:function(){return this._align}},text:{set:function(d){this.setText(d)},get:function(){return this._text}},fontSize:{set:function(d){this._fontSize=d,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(d){this._letterSpacing=d,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(d){this._maxWidth=d,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var d=r.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return d.data=c,d},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=i,u.ParseXMLBitmapFont=n,l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var s=0;s<a.length;s++)this.set(a[s])},set:function(r){return this.entries.indexOf(r)===-1&&this.entries.push(r),this},get:function(r,a){for(var s=0;s<this.entries.length;s++){var i=this.entries[s];if(i[r]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(r){var a=this.entries.indexOf(r);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var r=0;r<this.entries.length;r++){var a=this.entries[r];console.log(a)}console.groupEnd()},each:function(r,a){var s,i=this.entries.slice(),n=i.length;if(a)for(s=0;s<n&&r.call(a,i[s],s)!==!1;s++);else for(s=0;s<n&&r(i[s],s)!==!1;s++);return this},iterate:function(r,a){var s,i=this.entries.length;if(a)for(s=0;s<i&&r.call(a,this.entries[s],s)!==!1;s++);else for(s=0;s<i&&r(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(r){var a,s=[];for(a=1;a<arguments.length;a++)s.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var n=this.entries[a];n[r].apply(n,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(r){return this.entries.indexOf(r)>-1},union:function(r){var a=new h;return r.entries.forEach(function(s){a.set(s)}),this.entries.forEach(function(s){a.set(s)}),a},intersect:function(r){var a=new h;return this.entries.forEach(function(s){r.contains(s)&&a.set(s)}),a},difference:function(r){var a=new h;return this.entries.forEach(function(s){r.contains(s)||a.set(s)}),a},size:{get:function(){return this.entries.length},set:function(r){return r<this.entries.length?this.entries.length=r:this.entries.length}}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(15),a=t(189),s=t(92),i=t(1182),n=new e({Extends:r,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.GetBounds,h.Mask,h.Pipeline,h.ScrollFactor,h.Transform,h.Visible,i],initialize:function(o,u,d,c,v,p,x){c===void 0&&(c=16777215),v===void 0&&(v=128),p===void 0&&(p=1),x===void 0&&(x=.1),r.call(this,o,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.setPosition(u,d),this.color=a(c),this.intensity=p,this.attenuation=x,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});l.exports=n},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=h.width/2,a=h.height/2,s=Math.abs(e.x-h.x-r),i=Math.abs(e.y-h.y-a),n=r+e.radius,f=a+e.radius;if(s>n||i>f)return!1;if(s<=r||i<=a)return!0;var o=s-r,u=i-a,d=o*o,c=u*u,v=e.radius*e.radius;return d+c<=v};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.width<=0||e.height<=0||h.width<=0||h.height<=0?!1:!(e.right<h.x||e.bottom<h.y||e.x>h.right||e.y>h.bottom)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),h={},r={};r.register=function(a,s,i,n,f){h[a]={plugin:s,mapping:i,settingsKey:n,configKey:f}},r.getPlugin=function(a){return h[a]},r.install=function(a){var s=a.scene.sys,i=s.settings.input,n=s.game.config;for(var f in h){var o=h[f].plugin,u=h[f].mapping,d=h[f].settingsKey,c=h[f].configKey;e(i,d,n[c])&&(a[u]=new o(a))}},r.remove=function(a){h.hasOwnProperty(a)&&delete h[a]},l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ANY_KEY_DOWN:t(1323),ANY_KEY_UP:t(1324),COMBO_MATCH:t(1325),DOWN:t(1326),KEY_DOWN:t(1327),KEY_UP:t(1328),UP:t(1329)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:h+e.url:!1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s,i){return e===void 0&&(e=""),h===void 0&&(h=!0),r===void 0&&(r=""),a===void 0&&(a=""),s===void 0&&(s=0),i===void 0&&(i=!1),{responseType:e,async:h,user:r,password:a,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:i}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(243),r=t(73),a=new e({Extends:r,Mixins:[h.Acceleration,h.Angular,h.Bounce,h.Debug,h.Drag,h.Enable,h.Friction,h.Gravity,h.Immovable,h.Mass,h.Pushable,h.Size,h.Velocity],initialize:function(i,n,f,o,u){r.call(this,i,n,f,o,u),this.body=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),h=function(r,a,s,i){if(s===void 0&&(s=!1),e(r,a,i)){var n=i.data[a][r]||null;return n?n.index===-1?s?n:null:n:null}else return null};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=e.data,i=e.width,n=e.height,f=e.tilemapLayer,o=Math.max(0,h.left),u=Math.min(i,h.right),d=Math.max(0,h.top),c=Math.min(n,h.bottom),v,p,x;if(r===0)for(p=d;p<c;p++)for(v=o;s[p]&&v<u;v++)x=s[p][v],!(!x||x.index===-1||!x.visible||x.alpha===0)&&a.push(x);else if(r===1)for(p=d;p<c;p++)for(v=u;s[p]&&v>=o;v--)x=s[p][v],!(!x||x.index===-1||!x.visible||x.alpha===0)&&a.push(x);else if(r===2)for(p=c;p>=d;p--)for(v=o;s[p]&&v<u;v++)x=s[p][v],!(!x||x.index===-1||!x.visible||x.alpha===0)&&a.push(x);else if(r===3)for(p=c;p>=d;p--)for(v=u;s[p]&&v>=o;v--)x=s[p][v],!(!x||x.index===-1||!x.visible||x.alpha===0)&&a.push(x);return f.tilesDrawn=a.length,f.tilesTotal=i*n,a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=r.collideIndexes.indexOf(e);h&&a===-1?r.collideIndexes.push(e):!h&&a!==-1&&r.collideIndexes.splice(a,1)};l.exports=t},function(l,g,t){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=function(r,a,s){if(!a)return{i:0,layers:r.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+e(a,"startx",0)*r.tilewidth+e(a,"offsetx",0),n=a.y+e(a,"starty",0)*r.tileheight+e(a,"offsety",0);return{i:0,layers:a.layers,name:s.name+a.name+"/",opacity:s.opacity*a.opacity,visible:s.visible&&a.visible,x:s.x+i,y:s.y+n}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a;if(e.hasOwnProperty(h)){var s=typeof e[h];s==="function"?a=function(i,n,f,o,u,d){return e[h](i,n,f,o,u,d)}:a=function(){return e[h]}}else typeof r=="function"?a=r:a=function(){return r};return a};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),h=t(13),r=t(99),a=t(80),s=t(162),i=t(583),n=t(263),f=t(6),o=t(264),u=t(266),d=t(268),c=function(v,p,x){x===void 0&&(x=e);for(var y=x.targets?x.targets:n(p),S=i(p),E=s(p,"delay",x.delay),A=s(p,"duration",x.duration),M=f(p,"easeParams",x.easeParams),L=a(f(p,"ease",x.ease),M),F=s(p,"hold",x.hold),O=s(p,"repeat",x.repeat),B=s(p,"repeatDelay",x.repeatDelay),N=r(p,"yoyo",x.yoyo),G=r(p,"flipX",x.flipX),Y=r(p,"flipY",x.flipY),H=[],b=0;b<S.length;b++)for(var Z=S[b].key,$=S[b].value,w=0;w<y.length;w++){var D=o(Z,$),V=d(y[w],w,Z,D.getEnd,D.getStart,D.getActive,a(f($,"ease",L),f($,"easeParams",M)),s($,"delay",E),s($,"duration",A),r($,"yoyo",N),s($,"hold",F),s($,"repeat",O),s($,"repeatDelay",B),r($,"flipX",G),r($,"flipY",Y));H.push(V)}var z=new u(v,H,y);z.offset=h(p,"offset",null),z.completeDelay=h(p,"completeDelay",0),z.loop=Math.round(h(p,"loop",0)),z.loopDelay=Math.round(h(p,"loopDelay",0)),z.paused=r(p,"paused",!1),z.useFrames=r(p,"useFrames",!1);for(var X=f(p,"callbackScope",z),j=[z,null],K=u.TYPES,Q=0;Q<K.length;Q++){var k=K[Q],_=f(p,k,!1);if(_){var it=f(p,k+"Scope",X),at=f(p,k+"Params",[]);z.setCallback(k,_,j.concat(at),it)}}return z};l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(102),r=t(2),a=t(132),s=t(185),i=new e({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(n){var f=this.parent;if(n===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var u=n[o];this.nextAnim===null?this.nextAnim=u:this.nextAnimsQueue.push(u)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(n){this.isPlaying&&this.stop();var f=this.animationManager,o=typeof n=="string"?n:r(n,"key",null),u=this.exists(o)?this.get(o):f.get(o);if(!u)console.warn("Missing animation: "+o);else{this.currentAnim=u;var d=u.getTotalFrames(),c=r(n,"frameRate",u.frameRate),v=r(n,"duration",u.duration);u.calculateDuration(this,d,v,c),this.delay=r(n,"delay",u.delay),this.repeat=r(n,"repeat",u.repeat),this.repeatDelay=r(n,"repeatDelay",u.repeatDelay),this.yoyo=r(n,"yoyo",u.yoyo),this.showOnStart=r(n,"showOnStart",u.showOnStart),this.hideOnComplete=r(n,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=r(n,"skipMissedFrames",u.skipMissedFrames),this.timeScale=r(n,"timeScale",this.timeScale);var p=r(n,"startFrame",0);p>u.getTotalFrames()&&(p=0);var x=u.frames[p];p===0&&!this.forward&&(x=u.getLastFrame()),this.currentFrame=x}return this.parent},pause:function(n){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),n!==void 0&&this.setCurrentFrame(n),this.parent},resume:function(n){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),n!==void 0&&this.setCurrentFrame(n),this.parent},playAfterDelay:function(n,f){if(!this.isPlaying)this.delayCounter=f,this.play(n,!0);else{var o=this.nextAnim,u=this.nextAnimsQueue;o&&u.unshift(o),this.nextAnim=n,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(n,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(n);else{var o=this.nextAnim,u=this.nextAnimsQueue;o&&u.unshift(o),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=n,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(n,f){f===void 0&&(f=!1);var o=this.currentAnim,u=this.parent,d=typeof n=="string"?n:n.key;if(f&&this.isPlaying&&o.key===d)return u;if(o&&this.isPlaying){var c=this.animationManager.getMix(o.key,n);if(c>0)return this.playAfterDelay(n,c)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(n)},playReverse:function(n,f){f===void 0&&(f=!1);var o=typeof n=="string"?n:n.key;return f&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(n))},startAnimation:function(n){this.load(n);var f=this.currentAnim,o=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(n,f){var o=this.currentAnim,u=this.currentFrame,d=this.parent,c=u.textureFrame;d.emit(n,o,u,d,c),f&&d.emit(f+o.key,o,u,d,c)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var n=this.currentFrame;if(!n)return 0;var f=n.progress;return this.inReverse&&(f*=-1),f},setProgress:function(n){return this.forward||(n=1-n),this.setCurrentFrame(this.currentAnim.getFrameByProgress(n)),this.parent},setRepeat:function(n){return this.repeatCounter=n===-1?Number.MAX_VALUE:n,this.parent},globalRemove:function(n,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(n,f){n===void 0&&(n=!1),f===void 0&&(f=!1);var o=this.currentAnim,u=this.parent;return o?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!n,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var n=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(n)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var n=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(n)}return this.parent},stopAfterDelay:function(n){return this._pendingStop=1,this._pendingStopValue=n,this.parent},stopAfterRepeat:function(n){return n===void 0&&(n=1),this.repeatCounter!==-1&&n>this.repeatCounter&&(n=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=n,this.parent},stopOnFrame:function(n){return this._pendingStop=3,this._pendingStopValue=n,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(n,f){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=f*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?o.nextFrame(this):o.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(n){var f=this.parent;return this.currentFrame=n,f.texture=n.frame.texture,f.frame=n.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),n.setAlpha&&(f.alpha=n.alpha),f.setSizeToFrame(),f._originComponent&&(n.frame.customPivot?f.setOrigin(n.frame.pivotX,n.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===n&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(n){return this.anims?this.anims.get(n):null},exists:function(n){return this.anims?this.anims.has(n):!1},create:function(n){var f=n.key,o=!1;return f&&(o=this.get(f),o||(o=new s(this,f,n),this.anims||(this.anims=new h),this.anims.set(f,o))),o},generateFrameNames:function(n,f){return this.animationManager.generateFrameNames(n,f)},generateFrameNumbers:function(n,f){return this.animationManager.generateFrameNumbers(n,f)},remove:function(n){var f=this.get(n);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(n)),f},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});l.exports=i},function(l,g,t){var e={};l.exports=e;var h=t(166);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(r,a){for(var s=a*a*a,i=0;i<r.length;i++){var n=r[i],f=n.speed*n.speed+n.angularSpeed*n.angularSpeed;if(n.force.x!==0||n.force.y!==0){e.set(n,!1);continue}var o=Math.min(n.motion,f),u=Math.max(n.motion,f);n.motion=e._minBias*o+(1-e._minBias)*u,n.sleepThreshold>0&&n.motion<e._motionSleepThreshold*s?(n.sleepCounter+=1,n.sleepCounter>=n.sleepThreshold&&e.set(n,!0)):n.sleepCounter>0&&(n.sleepCounter-=1)}},e.afterCollisions=function(r,a){for(var s=a*a*a,i=0;i<r.length;i++){var n=r[i];if(n.isActive){var f=n.collision,o=f.bodyA.parent,u=f.bodyB.parent;if(!(o.isSleeping&&u.isSleeping||o.isStatic||u.isStatic)&&(o.isSleeping||u.isSleeping)){var d=o.isSleeping&&!o.isStatic?o:u,c=d===o?u:o;!d.isStatic&&c.motion>e._motionWakeThreshold*s&&e.set(d,!1)}}}},e.set=function(r,a){var s=r.isSleeping;a?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,s||h.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,s&&h.trigger(r,"sleepEnd"))}})()},function(l,g,t){var e={};l.exports=e;var h=t(32);(function(){e.on=function(r,a,s){for(var i=a.split(" "),n,f=0;f<i.length;f++)n=i[f],r.events=r.events||{},r.events[n]=r.events[n]||[],r.events[n].push(s);return s},e.off=function(r,a,s){if(!a){r.events={};return}typeof a=="function"&&(s=a,a=h.keys(r.events).join(" "));for(var i=a.split(" "),n=0;n<i.length;n++){var f=r.events[i[n]],o=[];if(s&&f)for(var u=0;u<f.length;u++)f[u]!==s&&o.push(f[u]);r.events[i[n]]=o}},e.trigger=function(r,a,s){var i,n,f,o,u=r.events;if(u&&h.keys(u).length>0){s||(s={}),i=a.split(" ");for(var d=0;d<i.length;d++)if(n=i[d],f=u[n],f){o=h.clone(s,!1),o.name=n,o.source=r;for(var c=0;c<f.length;c++)f[c].apply(r,[o])}}}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(175),h=t(92),r=t(74),a={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(s){s===void 0&&(s=h.MULTI_PIPELINE);var i=this.scene.sys.renderer;if(!i)return!1;var n=i.pipelines;if(this.postPipelines=[],this.pipelineData={},n){var f=n.get(s);if(f)return this.defaultPipeline=f,this.pipeline=f,!0}return!1},setPipeline:function(s,i,n){var f=this.scene.sys.renderer;if(!f)return this;var o=f.pipelines;if(o){var u=o.get(s);u&&(this.pipeline=u),i&&(this.pipelineData=n?e(i):i)}return this},setPostPipeline:function(s,i,n){var f=this.scene.sys.renderer;if(!f)return this;var o=f.pipelines;if(o){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var d=o.getPostPipeline(s[u],this);d&&this.postPipelines.push(d)}i&&(this.pipelineData=n?e(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(s,i){var n=this.pipelineData;return i===void 0?delete n[s]:n[s]=i,this},getPostPipeline:function(s){for(var i=this.postPipelines,n=[],f=0;f<i.length;f++){var o=i[f];(typeof s=="string"&&o.name===s||o instanceof s)&&n.push(o)}return n.length===1?n[0]:n},resetPipeline:function(s,i){return s===void 0&&(s=!1),i===void 0&&(i=!1),this.pipeline=this.defaultPipeline,s&&(this.postPipelines=[],this.hasPostPipeline=!1),i&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var i=this.postPipelines,n=0;n<i.length;n++)i[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.pipelineData={})},removePostPipeline:function(s){for(var i=this.postPipelines,n=i.length-1;n>=0;n--){var f=i[n];(typeof s=="string"&&f.name===s||typeof s!="string"&&f instanceof s)&&(f.destroy(),r(i,n))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DEFAULT:0,LINEAR:0,NEAREST:1};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a,s){return s===void 0&&(s=new e),s.x=r.x+r.radius*Math.cos(a),s.y=r.y+r.radius*Math.sin(a),s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){a===void 0&&(a=new e);var s=2*Math.PI*Math.random(),i=Math.random()+Math.random(),n=i>1?2-i:i,f=n*Math.cos(s),o=n*Math.sin(s);return a.x=r.x+f*r.radius,a.y=r.y+o*r.radius,a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),h=t(4),r=function(a,s,i){if(i===void 0&&(i=new h),s<=0||s>=1)return i.x=a.x,i.y=a.y,i;var n=e(a)*s;return s>.5?(n-=a.width+a.height,n<=a.width?(i.x=a.right-n,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(n-a.width))):n<=a.width?(i.x=a.x+n,i.y=a.y):(i.x=a.right,i.y=a.y+(n-a.width)),i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),h=t(4),r=function(a,s,i,n){n===void 0&&(n=[]),!s&&i>0&&(s=e(a)/i);for(var f=a.x1,o=a.y1,u=a.x2,d=a.y2,c=0;c<s;c++){var v=c/s,p=f+(u-f)*v,x=o+(d-o)*v;n.push(new h(p,x))}return n};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){a===void 0&&(a=new e);var s=Math.random();return a.x=r.x1+s*(r.x2-r.x1),a.y=r.y1+s*(r.y2-r.y1),a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){return a===void 0&&(a=new e),a.x=r.x+Math.random()*r.width,a.y=r.y+Math.random()*r.height,a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h,r,a;if(typeof e!="object"||e===null)return e;h=Array.isArray(e)?[]:{};for(a in e)r=e[a],h[a]=t(r);return h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(h.textureKey=e.texture.key,h.frameKey=e.frame.name),h};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n,f,o,u){u===void 0&&(u=new e);var d=Math.sin(n),c=Math.cos(n),v=c*f,p=d*f,x=-d*o,y=c*o,S=1/(v*y+x*-p);return u.x=y*S*r+-x*S*a+(i*x-s*y)*S,u.y=v*S*a+-p*S*r+(-i*v+s*p)*S,u};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=1);for(var r=null,a=0;a<h;a++)r=e.shift(),e.push(r);return r};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=1);for(var r=null,a=0;a<h;a++)r=e.pop(),e.unshift(r);return r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){a===void 0&&(a=new e);var s=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=r.x+i*Math.cos(s)*r.width/2,a.y=r.y+i*Math.sin(s)*r.height/2,a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){a===void 0&&(a=new e);var s=r.x2-r.x1,i=r.y2-r.y1,n=r.x3-r.x1,f=r.y3-r.y1,o=Math.random(),u=Math.random();return o+u>=1&&(o=1-o,u=1-u),a.x=r.x1+(s*o+n*u),a.y=r.y1+(i*o+f*u),a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){var i=a+Math.atan2(e.y-r,e.x-h);return e.x=h+s*Math.cos(i),e.y=r+s*Math.sin(i),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e=Math.max(0,Math.min(1,(e-h)/(r-h))),e*e*e*(e*(e*6-15)+10)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e<=h?0:e>=r?1:(e=(e-h)/(r-h),e*e*(3-2*e))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(132),a=t(318),s=t(319),i=t(6),n=t(320),f=new h({initialize:function(u,d,c){this.manager=u,this.key=d,this.type="frame",this.frames=this.getFrames(u.textureManager,i(c,"frames",[]),i(c,"defaultTextureKey",null),i(c,"sortFrames",!0)),this.frameRate=i(c,"frameRate",null),this.duration=i(c,"duration",null),this.msPerFrame,this.skipMissedFrames=i(c,"skipMissedFrames",!0),this.delay=i(c,"delay",0),this.repeat=i(c,"repeat",0),this.repeatDelay=i(c,"repeatDelay",0),this.yoyo=i(c,"yoyo",!1),this.showOnStart=i(c,"showOnStart",!1),this.hideOnComplete=i(c,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(r.PAUSE_ALL,this.pause,this),this.manager.on(r.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(o,u,d,c){d===null&&c===null?(o.frameRate=24,o.duration=24/u*1e3):d&&c===null?(o.duration=d,o.frameRate=u/(d/1e3)):(o.frameRate=c,o.duration=u/c*1e3),o.msPerFrame=1e3/o.frameRate},addFrame:function(o){return this.addFrameAt(this.frames.length,o)},addFrameAt:function(o,u){var d=this.getFrames(this.manager.textureManager,u);if(d.length>0){if(o===0)this.frames=d.concat(this.frames);else if(o===this.frames.length)this.frames=this.frames.concat(d);else{var c=this.frames.slice(0,o),v=this.frames.slice(o);this.frames=c.concat(d,v)}this.updateFrameSequence()}return this},checkFrame:function(o){return o>=0&&o<this.frames.length},getFirstTick:function(o){o.accumulator=0,o.nextTick=o.msPerFrame+o.currentFrame.duration},getFrameAt:function(o){return this.frames[o]},getFrames:function(o,u,d,c){c===void 0&&(c=!0);var v=[],p,x,y=1,S,E;if(typeof u=="string"){E=u;var A=o.get(E),M=A.getFrameNames();c&&n(M),u=[],M.forEach(function(G){u.push({key:E,frame:G})})}if(!Array.isArray(u)||u.length===0)return v;for(S=0;S<u.length;S++){var L=u[S],F=i(L,"key",d);if(F){var O=i(L,"frame",0),B=o.getFrame(F,O);x=new s(F,O,y,B),x.duration=i(L,"duration",0),x.isFirst=!p,p&&(p.nextFrame=x,x.prevFrame=p),v.push(x),p=x,y++}}if(v.length>0){x.isLast=!0,x.nextFrame=v[0],v[0].prevFrame=x;var N=1/(v.length-1);for(S=0;S<v.length;S++)v[S].progress=S*N}return v},getNextTick:function(o){o.accumulator-=o.nextTick,o.nextTick=o.msPerFrame+o.currentFrame.duration},getFrameByProgress:function(o){return o=e(o,0,1),a(o,this.frames,"progress")},nextFrame:function(o){var u=o.currentFrame;u.isLast?o.yoyo?this.handleYoyoFrame(o,!1):o.repeatCounter>0?o.inReverse&&o.forward?o.forward=!1:this.repeatAnimation(o):o.complete():this.updateAndGetNextTick(o,u.nextFrame)},handleYoyoFrame:function(o,u){if(u||(u=!1),o.inReverse===!u&&o.repeatCounter>0){(o.repeatDelay===0||o.pendingRepeat)&&(o.forward=u),this.repeatAnimation(o);return}if(o.inReverse!==u&&o.repeatCounter===0){o.complete();return}o.forward=u;var d=u?o.currentFrame.nextFrame:o.currentFrame.prevFrame;this.updateAndGetNextTick(o,d)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(o){var u=o.currentFrame;u.isFirst?o.yoyo?this.handleYoyoFrame(o,!0):o.repeatCounter>0?o.inReverse&&!o.forward?this.repeatAnimation(o):(o.forward=!0,this.repeatAnimation(o)):o.complete():this.updateAndGetNextTick(o,u.prevFrame)},updateAndGetNextTick:function(o,u){o.setCurrentFrame(u),this.getNextTick(o)},removeFrame:function(o){var u=this.frames.indexOf(o);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(o){return this.frames.splice(o,1),this.updateFrameSequence(),this},repeatAnimation:function(o){if(o._pendingStop===2){if(o._pendingStopValue===0)return o.stop();o._pendingStopValue--}o.repeatDelay>0&&!o.pendingRepeat?(o.pendingRepeat=!0,o.accumulator-=o.nextTick,o.nextTick+=o.repeatDelay):(o.repeatCounter--,o.forward?o.setCurrentFrame(o.currentFrame.nextFrame):o.setCurrentFrame(o.currentFrame.prevFrame),o.isPlaying&&(this.getNextTick(o),o.handleRepeat()))},toJSON:function(){var o={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){o.frames.push(u.toJSON())}),o},updateFrameSequence:function(){for(var o=this.frames.length,u=1/(o-1),d,c=0;c<o;c++)d=this.frames[c],d.index=c+1,d.isFirst=!1,d.isLast=!1,d.progress=c*u,c===0?(d.isFirst=!0,o===1?(d.isLast=!0,d.nextFrame=d,d.prevFrame=d):(d.isLast=!1,d.prevFrame=this.frames[o-1],d.nextFrame=this.frames[c+1])):c===o-1&&o>1?(d.isLast=!0,d.prevFrame=this.frames[o-2],d.nextFrame=this.frames[0]):o>1&&(d.prevFrame=this.frames[c-1],d.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(r.PAUSE_ALL,this.pause,this),this.manager.off(r.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var o=0;o<this.frames.length;o++)this.frames[o].destroy();this.frames=[],this.manager=null}});l.exports=f},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h===void 0&&(h=0),r===void 0&&(r=" "),a===void 0&&(a=3),e=e.toString();var s=0;if(h+1>=e.length)switch(a){case 1:e=new Array(h+1-e.length).join(r)+e;break;case 3:var i=Math.ceil((s=h-e.length)/2),n=s-i;e=new Array(n+1).join(r)+e+new Array(i+1).join(r);break;default:e=e+new Array(h+1-e.length).join(r);break}return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(327),h=t(189),r=t(331),a=t(332),s=function(i){var n=typeof i;switch(n){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):e(i);case"number":return h(i);case"object":return r(i)}};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103);function h(a,s,i,n){var f=(a+s*6)%6,o=Math.min(f,4-f,1);return Math.round(255*(n-n*i*Math.max(0,o)))}var r=function(a,s,i,n){s===void 0&&(s=1),i===void 0&&(i=1);var f=h(5,a,s,i),o=h(3,a,s,i),u=h(1,a,s,i);return n?n.setTo?n.setTo(f,o,u,n.alpha,!1):(n.r=f,n.g=o,n.b=u,n.color=e(f,o,u),n):{r:f,g:o,b:u,color:e(f,o,u)}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),h=t(330),r=function(a){var s=h(a);return new e(s.r,s.g,s.b,s.a)};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e.x=h-e.width/2,e.y=r-e.height/2,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),h=t(136),r=t(31),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var n=new ArrayBuffer(4),f=new Uint8Array(n),o=new Uint32Array(n);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,o[0]===3569595041?!0:o[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var n=!1,f=function(){if(window.WebGLRenderingContext)try{var o=r.createWebGL(this),u=o.getContext("webgl")||o.getContext("experimental-webgl"),d=r.create2D(this),c=d.getContext("2d"),v=c.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,r.remove(o),r.remove(d),!!u}catch{return!1}return!1};return a.webGL=f(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,h.firefox&&h.firefoxVersion<21&&(a.getUserMedia=!1),!e.iOS&&(h.ie||h.firefox||h.chrome)&&(a.canvasBitBltShift=!0),(h.safari||h.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=s()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&n,a}l.exports=i()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="",e=function(){var h=function(i){for(var n=["i","webkitI","msI","mozI","oI"],f=0;f<n.length;f++){var o=n[f]+"mageSmoothingEnabled";if(o in i)return o}return null},r=function(i){return t===""&&(t=h(i)),t&&(i[t]=!0),i},a=function(i){return t===""&&(t=h(i)),t&&(i[t]=!1),i},s=function(i){return t!==null?i[t]:null};return{disable:a,enable:r,getPrefix:h,isEnabled:s}};l.exports=e()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=t(17),r={Angle:t(812),Distance:t(821),Easing:t(826),Fuzzy:t(827),Interpolation:t(830),Pow2:t(835),Snap:t(837),RandomDataGenerator:t(839),Average:t(840),Bernstein:t(356),Between:t(195),CatmullRom:t(194),CeilTo:t(841),Clamp:t(18),DegToRad:t(36),Difference:t(842),Euler:t(843),Factorial:t(357),FloatBetween:t(137),FloorTo:t(844),FromPercent:t(98),GetSpeed:t(845),IsEven:t(846),IsEvenStrict:t(847),Linear:t(135),MaxAdd:t(848),Median:t(849),MinSub:t(850),Percent:t(851),RadToDeg:t(196),RandomXY:t(852),RandomXYZ:t(853),RandomXYZW:t(854),Rotate:t(362),RotateAround:t(308),RotateAroundDistance:t(182),RotateTo:t(855),RoundAwayFromZero:t(363),RoundTo:t(856),SinCosTableGenerator:t(857),SmootherStep:t(183),SmoothStep:t(184),ToXY:t(858),TransformXY:t(177),Within:t(859),Wrap:t(68),Vector2:t(3),Vector3:t(39),Vector4:t(140),Matrix3:t(364),Matrix4:t(69),Quaternion:t(365),RotateVec3:t(860)};r=h(!1,r,e),l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){var i=(a-h)*.5,n=(s-r)*.5,f=e*e,o=e*f;return(2*r-2*a+i+n)*o+(-3*r+3*a-2*i-n)*f+i*e+r};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return Math.floor(Math.random()*(h-e+1)+e)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=function(r){return r*e.RAD_TO_DEG};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(r){return this._matrix=r,this._dirty=!0,this},reset:function(){var r=this._matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=1,r[7]=0,r[8]=0,r[9]=0,r[10]=0,r[11]=0,r[12]=1,r[13]=0,r[14]=0,r[15]=0,r[16]=0,r[17]=0,r[18]=1,r[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var r=new Float32Array(this._matrix);r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._data=r,this._dirty=!1}return this._data},brightness:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var s=r;return this.multiply([s,0,0,0,0,0,s,0,0,0,0,0,s,0,0,0,0,0,1,0],a)},saturate:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var s=r*2/3+1,i=(s-1)*-.5;return this.multiply([s,i,i,0,0,i,s,i,0,0,i,i,s,0,0,0,0,0,1,0],a)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1),r=r/180*Math.PI;var s=Math.cos(r),i=Math.sin(r),n=.213,f=.715,o=.072;return this.multiply([n+s*(1-n)+i*-.213,f+s*-.715+i*-.715,o+s*-.072+i*(1-o),0,0,n+s*-.213+i*.143,f+s*(1-f)+i*.14,o+s*-.072+i*-.283,0,0,n+s*-.213+i*-.787,f+s*-.715+i*f,o+s*(1-o)+i*o,0,0,0,0,0,1,0],a)},grayscale:function(r,a){return r===void 0&&(r=1),a===void 0&&(a=!1),this.saturate(-r,a)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],r)},contrast:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var s=r+1,i=-.5*(s-1);return this.multiply([s,0,0,0,i,0,s,0,0,i,0,0,s,0,i,0,0,0,1,0],a)},negative:function(r){return r===void 0&&(r=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],r)},night:function(r,a){return r===void 0&&(r=.1),a===void 0&&(a=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],a)},lsd:function(r){return r===void 0&&(r=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],r)},brown:function(r){return r===void 0&&(r=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r)},multiply:function(r,a){a||this.reset();for(var s=this._matrix,i=[],n=0;n<20;n++)i[n]=s[n];return s[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],s[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],s[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],s[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],s[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],s[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],s[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],s[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],s[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],s[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],s[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],s[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],s[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],s[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],s[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],s[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],s[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],s[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],s[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],s[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19],this._dirty=!0,this}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=t(14),r=function(a,s){if(s===void 0&&(s=new e),a.length===0)return s;for(var i=Number.MAX_VALUE,n=Number.MAX_VALUE,f=h.MIN_SAFE_INTEGER,o=h.MIN_SAFE_INTEGER,u,d,c,v=0;v<a.length;v++)u=a[v],Array.isArray(u)?(d=u[0],c=u[1]):(d=u.x,c=u.y),i=Math.min(i,d),n=Math.min(n,c),f=Math.max(f,d),o=Math.max(o,c);return s.x=i,s.y=n,s.width=f-i,s.height=o-n,s};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(1),r=new e({initialize:function(s,i,n){this._rgb=[0,0,0],this.onChangeCallback=h,this.dirty=!1,this.set(s,i,n)},set:function(a,s,i){return a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=0),this._rgb=[a,s,i],this.onChange(),this},equals:function(a,s,i){var n=this._rgb;return n.r===a&&n.g===s&&n.b===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={CENTER:t(403),ORIENTATION:t(404),SCALE_MODE:t(405),ZOOM:t(406)};l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){e.parentNode&&e.parentNode.removeChild(e)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(144),r=t(197),a=t(20),s=t(419),i=t(420),n=t(33),f=t(1),o=t(421),u=new e({initialize:function(c,v){this.scene=c,this.game,this.renderer,this.config=v,this.settings=o.create(v),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(d){this.settings.status=h.INIT,this.sceneUpdate=f,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var c=d.plugins;this.plugins=c,c.addToScene(this,r.Global,[r.CoreScene,i(this),s(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(d,c){var v=this.events;v.emit(a.PRE_UPDATE,d,c),v.emit(a.UPDATE,d,c),this.sceneUpdate.call(this.scene,d,c),v.emit(a.POST_UPDATE,d,c)},render:function(d){var c=this.displayList;c.depthSort(),this.events.emit(a.PRE_RENDER,d),this.cameras.render(d,c),this.events.emit(a.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var c=this.events,v=this.settings;return this.settings.active&&(v.status=h.PAUSED,v.active=!1,c.emit(a.PAUSE,this,d)),this},resume:function(d){var c=this.events,v=this.settings;return this.settings.active||(v.status=h.RUNNING,v.active=!0,c.emit(a.RESUME,this,d)),this},sleep:function(d){var c=this.events,v=this.settings;return v.status=h.SLEEPING,v.active=!1,v.visible=!1,c.emit(a.SLEEP,this,d),this},wake:function(d){var c=this.events,v=this.settings;return v.status=h.RUNNING,v.active=!0,v.visible=!0,c.emit(a.WAKE,this,d),v.isTransition&&c.emit(a.TRANSITION_WAKE,v.transitionFrom,v.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===h.SLEEPING},isActive:function(){return this.settings.status===h.RUNNING},isPaused:function(){return this.settings.status===h.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,c){return d?this.resume(c):this.pause(c)},start:function(d){var c=this.events,v=this.settings;d&&(v.data=d),v.status=h.START,v.active=!0,v.visible=!0,c.emit(a.START,this),c.emit(a.READY,this,d)},shutdown:function(d){var c=this.events,v=this.settings;c.off(a.TRANSITION_INIT),c.off(a.TRANSITION_START),c.off(a.TRANSITION_COMPLETE),c.off(a.TRANSITION_OUT),v.status=h.SHUTDOWN,v.active=!1,v.visible=!1,this.renderer===n.WEBGL&&this.renderer.resetTextures(!0),c.emit(a.SHUTDOWN,this,d)},destroy:function(){var d=this.events,c=this.settings;c.status=h.DESTROYED,c.active=!1,c.visible=!1,d.emit(a.DESTROY,this),d.removeAllListeners();for(var v=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],p=0;p<v.length;p++)this[v[p]]=null}});l.exports=u},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e&&e[0].toUpperCase()+e.slice(1)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),h=t(0),r=t(109),a=t(424),s="Texture.frame missing: ",i=new h({initialize:function(f,o,u,d,c){Array.isArray(u)||(u=[u]),this.manager=f,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var v=0;v<u.length;v++)this.source.push(new a(this,u[v],d,c))},add:function(n,f,o,u,d,c){if(this.has(n))return null;var v=new r(this,n,f,o,u,d,c);return this.frames[n]=v,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,v},remove:function(n){if(this.has(n)){var f=this.get(n);return f.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames[n]},get:function(n){n||(n=this.firstFrame);var f=this.frames[n];return f||(console.warn(s+n),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(n){for(var f=0;f<this.source.length;f++)if(this.source[f]===n)return f;return-1},getFramesFromTextureSource:function(n,f){f===void 0&&(f=!1);var o=[];for(var u in this.frames)if(!(u==="__BASE"&&!f)){var d=this.frames[u];d.sourceIndex===n&&o.push(d)}return o},getFrameNames:function(n){n===void 0&&(n=!1);var f=Object.keys(this.frames);if(!n){var o=f.indexOf("__BASE");o!==-1&&f.splice(o,1)}return f},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var f=this.frames[n];return f?f.source.image:(console.warn(s+n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var f=this.frames[n],o;return f?o=f.sourceIndex:(console.warn(s+n),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var f=0;f<n.length;f++){var o=this.source[f];this.dataSource.push(new a(this,n[f],o.width,o.height))}},setFilter:function(n){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(n);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(n)},destroy:function(){var n;for(n=0;n<this.source.length;n++)this.source[n].destroy();for(n=0;n<this.dataSource.length;n++)this.dataSource[n].destroy();for(var f in this.frames){var o=this.frames[f];o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var u=this.manager.game.renderer;u&&u.type===e.WEBGL&&u.resetTextures(!0),this.manager=null}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),h=function(r,a,s,i,n){i===void 0&&(i=0),n===void 0&&(n=r.length);var f=[];if(e(r,i,n))for(var o=i;o<n;o++){var u=r[o];(!a||a&&s===void 0&&u.hasOwnProperty(a)||a&&s!==void 0&&u[a]===s)&&f.push(u)}return f};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Matrix:t(1013),Add:t(1021),AddAt:t(1022),BringToTop:t(1023),CountAllMatching:t(1024),Each:t(1025),EachInRange:t(1026),FindClosestInSorted:t(318),GetAll:t(207),GetFirst:t(428),GetRandom:t(210),MoveDown:t(1027),MoveTo:t(1028),MoveUp:t(1029),MoveAbove:t(1030),MoveBelow:t(1031),NumberArray:t(322),NumberArrayStep:t(1032),QuickSelect:t(436),Range:t(437),Remove:t(93),RemoveAt:t(1033),RemoveBetween:t(1034),RemoveRandomElement:t(1035),Replace:t(1036),RotateLeft:t(178),RotateRight:t(179),SafeRange:t(78),SendToBack:t(1037),SetAll:t(1038),Shuffle:t(131),SortByDigits:t(320),SpliceOne:t(74),StableSort:t(79),Swap:t(1039)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var h=e[0].length,r=1;r<e.length;r++)if(e[r].length!==h)return!1;return!0};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){h===void 0&&(h=0),r===void 0&&(r=e.length);var a=h+Math.floor(Math.random()*r);return e[a]===void 0?null:e[a]};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(438),a=new e({Extends:h,initialize:function(){h.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(s){return this._pending.push(s),this._toProcess++,s},remove:function(s){return this._destroy.push(s),this._toProcess++,s},removeAll:function(){for(var s=this._active,i=this._destroy,n=s.length;n--;)i.push(s[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,i=this._active,n,f;for(n=0;n<s.length;n++){f=s[n];var o=i.indexOf(f);o!==-1&&(i.splice(o,1),this.emit(r.PROCESS_QUEUE_REMOVE,f))}for(s.length=0,s=this._pending,n=0;n<s.length;n++)f=s[n],(!this.checkQueue||this.checkQueue&&i.indexOf(f)===-1)&&(i.push(f),this.emit(r.PROCESS_QUEUE_ADD,f));return s.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(h,r){return parseInt(h.getAttribute(r),10)}var e=function(h,r,a,s,i){a===void 0&&(a=0),s===void 0&&(s=0);var n=r.cutX,f=r.cutY,o=r.source.width,u=r.source.height,d=r.sourceIndex,c={},v=h.getElementsByTagName("info")[0],p=h.getElementsByTagName("common")[0];c.font=v.getAttribute("face"),c.size=t(v,"size"),c.lineHeight=t(p,"lineHeight")+s,c.chars={};var x=h.getElementsByTagName("char"),y=r!==void 0&&r.trimmed;if(y)var S=r.height,E=r.width;for(var A=0;A<x.length;A++){var M=x[A],L=t(M,"id"),F=String.fromCharCode(L),O=t(M,"x"),B=t(M,"y"),N=t(M,"width"),G=t(M,"height");y&&(O<E&&(E=O),B<S&&(S=B)),y&&S!==0&&E!==0&&(O-=r.x,B-=r.y);var Y=(n+O)/o,H=(f+B)/u,b=(n+O+N)/o,Z=(f+B+G)/u;if(c.chars[L]={x:O,y:B,width:N,height:G,centerX:Math.floor(N/2),centerY:Math.floor(G/2),xOffset:t(M,"xoffset"),yOffset:t(M,"yoffset"),xAdvance:t(M,"xadvance")+a,data:{},kerning:{},u0:Y,v0:H,u1:b,v1:Z},i&&N!==0&&G!==0){var $=i.add(F,d,O,B,N,G);$&&$.setUVs(N,G,Y,H,b,Z)}}var w=h.getElementsByTagName("kerning");for(A=0;A<w.length;A++){var D=w[A],V=t(D,"first"),z=t(D,"second"),X=t(D,"amount");c.chars[z].kerning[V]=X}return c};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1049),h=t(440),r=t(0),a=t(11),s=t(109),i=t(15),n=t(110),f=new r({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,e],initialize:function(u,d,c,v,p){i.call(this,u,"Blitter"),this.setTexture(v,p),this.setPosition(d,c),this.initPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(o,u,d,c,v){c===void 0&&(c=!0),v===void 0&&(v=this.children.length),d===void 0?d=this.frame:d instanceof s||(d=this.texture.get(d));var p=new h(this,o,u,d,c);return this.children.addAt(p,v,!1),this.dirty=!0,p},createFromCallback:function(o,u,d,c){for(var v=this.createMultiple(u,d,c),p=0;p<v.length;p++){var x=v[p];o.call(this,x,p)}return v},createMultiple:function(o,u,d){u===void 0&&(u=this.frame.name),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);var c=[],v=this;return u.forEach(function(p){for(var x=0;x<o;x++)c.push(v.create(0,0,p,d))}),c},childCanRender:function(o){return o.visible&&o.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),h=t(35),r=t(0),a=t(11),s=t(75),i=t(15),n=t(10),f=t(1052),o=t(441),u=t(3),d=new r({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.Pipeline,a.Transform,a.Visible,f],initialize:function(v,p,x,y){i.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(p,x),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(c){return c===void 0&&(c=!0),this.exclusive=c,this},getBounds:function(c){if(c===void 0&&(c=new n),c.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),p=v.transformPoint(this.x,this.y);c.setTo(p.x,p.y,0,0)}if(this.list.length>0){var x=this.list,y=new n,S=!1;c.setEmpty();for(var E=0;E<x.length;E++){var A=x[E];A.getBounds&&(A.getBounds(y),S?o(y,c,c):(c.setTo(y.x,y.y,y.width,y.height),S=!0))}}return c},addHandler:function(c){c.once(s.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer&&c.parentContainer.remove(c),c.removeFromDisplayList(),c.parentContainer=this)},removeHandler:function(c){c.off(s.DESTROY,this.remove),this.exclusive&&(c.parentContainer=null,c.addToDisplayList())},pointToContainer:function(c,v){v===void 0&&(v=new u),this.parentContainer?this.parentContainer.pointToContainer(c,v):v=new u(c.x,c.y);var p=this.tempTransformMatrix;return p.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),p.invert(),p.transformPoint(c.x,c.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(c){return e.Add(this.list,c,this.maxSize,this.addHandler,this),this},addAt:function(c,v){return e.AddAt(this.list,c,v,this.maxSize,this.addHandler,this),this},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,v){return c?(v===void 0&&(v=function(p,x){return p[c]-x[c]}),e.StableSort(this.list,v),this):this},getByName:function(c){return e.GetFirst(this.list,"name",c)},getRandom:function(c,v){return e.GetRandom(this.list,c,v)},getFirst:function(c,v,p,x){return e.GetFirst(this.list,c,v,p,x)},getAll:function(c,v,p,x){return e.GetAll(this.list,c,v,p,x)},count:function(c,v,p,x){return e.CountAllMatching(this.list,c,v,p,x)},swap:function(c,v){return e.Swap(this.list,c,v),this},moveTo:function(c,v){return e.MoveTo(this.list,c,v),this},moveAbove:function(c,v){return e.MoveAbove(this.list,c,v),this},moveBelow:function(c,v){return e.MoveBelow(this.list,c,v),this},remove:function(c,v){var p=e.Remove(this.list,c,this.removeHandler,this);if(v&&p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)p[x].destroy()}return this},removeAt:function(c,v){var p=e.RemoveAt(this.list,c,this.removeHandler,this);return v&&p&&p.destroy(),this},removeBetween:function(c,v,p){var x=e.RemoveBetween(this.list,c,v,this.removeHandler,this);if(p)for(var y=0;y<x.length;y++)x[y].destroy();return this},removeAll:function(c){var v=e.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(c)for(var p=0;p<v.length;p++)v[p].destroy();return this},bringToTop:function(c){return e.BringToTop(this.list,c),this},sendToBack:function(c){return e.SendToBack(this.list,c),this},moveUp:function(c){return e.MoveUp(this.list,c),this},moveDown:function(c){return e.MoveDown(this.list,c),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(c,v,p){var x=e.Replace(this.list,c,v);return x&&(this.addHandler(v),this.removeHandler(c),p&&c.destroy()),this},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,v,p,x){return e.SetAll(this.list,c,v,p,x),this},each:function(c,v){var p=[null],x,y=this.list.slice(),S=y.length;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<S;x++)p[0]=y[x],c.apply(v,p);return this},iterate:function(c,v){var p=[null],x;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<this.list.length;x++)p[0]=this.list[x],c.apply(v,p);return this},setScrollFactor:function(c,v,p){return v===void 0&&(v=c),p===void 0&&(p=!1),this.scrollFactorX=c,this.scrollFactorY=v,p&&(e.SetAll(this.list,"scrollFactorX",c),e.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),h=t(0),r=t(1057),a=new h({Extends:e,Mixins:[r],initialize:function(i,n,f,o,u,d,c){e.call(this,i,n,f,o,u,d,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,i){return this.cropWidth=s,this.cropHeight=i,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),h=t(0),r=t(217),a=t(303),s=t(304),i=t(305),n=t(309),f=t(167),o=t(312),u=t(313),d=t(314),c=t(111),v=t(15),p=t(2),x=t(6),y=t(14),S=t(1063),E=new h({Extends:v,Mixins:[a,s,i,n,f,u,d,o,S],initialize:function(M,L){var F=x(L,"x",0),O=x(L,"y",0);v.call(this,M,"Graphics"),this.setPosition(F,O),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(L)},setDefaultStyles:function(A){return x(A,"lineStyle",null)&&(this.defaultStrokeWidth=x(A,"lineStyle.width",1),this.defaultStrokeColor=x(A,"lineStyle.color",16777215),this.defaultStrokeAlpha=x(A,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),x(A,"fillStyle",null)&&(this.defaultFillColor=x(A,"fillStyle.color",16777215),this.defaultFillAlpha=x(A,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(A,M,L){return L===void 0&&(L=1),this.commandBuffer.push(r.LINE_STYLE,A,M,L),this._lineWidth=A,this},fillStyle:function(A,M){return M===void 0&&(M=1),this.commandBuffer.push(r.FILL_STYLE,A,M),this},fillGradientStyle:function(A,M,L,F,O,B,N,G){return O===void 0&&(O=1),B===void 0&&(B=O),N===void 0&&(N=O),G===void 0&&(G=O),this.commandBuffer.push(r.GRADIENT_FILL_STYLE,O,B,N,G,A,M,L,F),this},lineGradientStyle:function(A,M,L,F,O,B){return B===void 0&&(B=1),this.commandBuffer.push(r.GRADIENT_LINE_STYLE,A,B,M,L,F,O),this},beginPath:function(){return this.commandBuffer.push(r.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(r.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(r.FILL_PATH),this},fill:function(){return this.commandBuffer.push(r.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(r.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(r.STROKE_PATH),this},fillCircleShape:function(A){return this.fillCircle(A.x,A.y,A.radius)},strokeCircleShape:function(A){return this.strokeCircle(A.x,A.y,A.radius)},fillCircle:function(A,M,L){return this.beginPath(),this.arc(A,M,L,0,y.PI2),this.fillPath(),this},strokeCircle:function(A,M,L){return this.beginPath(),this.arc(A,M,L,0,y.PI2),this.strokePath(),this},fillRectShape:function(A){return this.fillRect(A.x,A.y,A.width,A.height)},strokeRectShape:function(A){return this.strokeRect(A.x,A.y,A.width,A.height)},fillRect:function(A,M,L,F){return this.commandBuffer.push(r.FILL_RECT,A,M,L,F),this},strokeRect:function(A,M,L,F){var O=this._lineWidth/2,B=A-O,N=A+O;return this.beginPath(),this.moveTo(A,M),this.lineTo(A,M+F),this.strokePath(),this.beginPath(),this.moveTo(A+L,M),this.lineTo(A+L,M+F),this.strokePath(),this.beginPath(),this.moveTo(B,M),this.lineTo(N+L,M),this.strokePath(),this.beginPath(),this.moveTo(B,M+F),this.lineTo(N+L,M+F),this.strokePath(),this},fillRoundedRect:function(A,M,L,F,O){O===void 0&&(O=20);var B=O,N=O,G=O,Y=O;return typeof O!="number"&&(B=p(O,"tl",20),N=p(O,"tr",20),G=p(O,"bl",20),Y=p(O,"br",20)),this.beginPath(),this.moveTo(A+B,M),this.lineTo(A+L-N,M),this.arc(A+L-N,M+N,N,-y.TAU,0),this.lineTo(A+L,M+F-Y),this.arc(A+L-Y,M+F-Y,Y,0,y.TAU),this.lineTo(A+G,M+F),this.arc(A+G,M+F-G,G,y.TAU,Math.PI),this.lineTo(A,M+B),this.arc(A+B,M+B,B,-Math.PI,-y.TAU),this.fillPath(),this},strokeRoundedRect:function(A,M,L,F,O){O===void 0&&(O=20);var B=O,N=O,G=O,Y=O;return typeof O!="number"&&(B=p(O,"tl",20),N=p(O,"tr",20),G=p(O,"bl",20),Y=p(O,"br",20)),this.beginPath(),this.moveTo(A+B,M),this.lineTo(A+L-N,M),this.moveTo(A+L-N,M),this.arc(A+L-N,M+N,N,-y.TAU,0),this.lineTo(A+L,M+F-Y),this.moveTo(A+L,M+F-Y),this.arc(A+L-Y,M+F-Y,Y,0,y.TAU),this.lineTo(A+G,M+F),this.moveTo(A+G,M+F),this.arc(A+G,M+F-G,G,y.TAU,Math.PI),this.lineTo(A,M+B),this.moveTo(A,M+B),this.arc(A+B,M+B,B,-Math.PI,-y.TAU),this.strokePath(),this},fillPointShape:function(A,M){return this.fillPoint(A.x,A.y,M)},fillPoint:function(A,M,L){return!L||L<1?L=1:(A-=L/2,M-=L/2),this.commandBuffer.push(r.FILL_RECT,A,M,L,L),this},fillTriangleShape:function(A){return this.fillTriangle(A.x1,A.y1,A.x2,A.y2,A.x3,A.y3)},strokeTriangleShape:function(A){return this.strokeTriangle(A.x1,A.y1,A.x2,A.y2,A.x3,A.y3)},fillTriangle:function(A,M,L,F,O,B){return this.commandBuffer.push(r.FILL_TRIANGLE,A,M,L,F,O,B),this},strokeTriangle:function(A,M,L,F,O,B){return this.commandBuffer.push(r.STROKE_TRIANGLE,A,M,L,F,O,B),this},strokeLineShape:function(A){return this.lineBetween(A.x1,A.y1,A.x2,A.y2)},lineBetween:function(A,M,L,F){return this.beginPath(),this.moveTo(A,M),this.lineTo(L,F),this.strokePath(),this},lineTo:function(A,M){return this.commandBuffer.push(r.LINE_TO,A,M),this},moveTo:function(A,M){return this.commandBuffer.push(r.MOVE_TO,A,M),this},strokePoints:function(A,M,L,F){M===void 0&&(M=!1),L===void 0&&(L=!1),F===void 0&&(F=A.length),this.beginPath(),this.moveTo(A[0].x,A[0].y);for(var O=1;O<F;O++)this.lineTo(A[O].x,A[O].y);return M&&this.lineTo(A[0].x,A[0].y),L&&this.closePath(),this.strokePath(),this},fillPoints:function(A,M,L,F){M===void 0&&(M=!1),L===void 0&&(L=!1),F===void 0&&(F=A.length),this.beginPath(),this.moveTo(A[0].x,A[0].y);for(var O=1;O<F;O++)this.lineTo(A[O].x,A[O].y);return M&&this.lineTo(A[0].x,A[0].y),L&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(A,M){M===void 0&&(M=32);var L=A.getPoints(M);return this.strokePoints(L,!0)},strokeEllipse:function(A,M,L,F,O){O===void 0&&(O=32);var B=new c(A,M,L,F),N=B.getPoints(O);return this.strokePoints(N,!0)},fillEllipseShape:function(A,M){M===void 0&&(M=32);var L=A.getPoints(M);return this.fillPoints(L,!0)},fillEllipse:function(A,M,L,F,O){O===void 0&&(O=32);var B=new c(A,M,L,F),N=B.getPoints(O);return this.fillPoints(N,!0)},arc:function(A,M,L,F,O,B,N){return B===void 0&&(B=!1),N===void 0&&(N=0),this.commandBuffer.push(r.ARC,A,M,L,F,O,B,N),this},slice:function(A,M,L,F,O,B,N){return B===void 0&&(B=!1),N===void 0&&(N=0),this.commandBuffer.push(r.BEGIN_PATH),this.commandBuffer.push(r.MOVE_TO,A,M),this.commandBuffer.push(r.ARC,A,M,L,F,O,B,N),this.commandBuffer.push(r.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(r.SAVE),this},restore:function(){return this.commandBuffer.push(r.RESTORE),this},translateCanvas:function(A,M){return this.commandBuffer.push(r.TRANSLATE,A,M),this},scaleCanvas:function(A,M){return this.commandBuffer.push(r.SCALE,A,M),this},rotateCanvas:function(A){return this.commandBuffer.push(r.ROTATE,A),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(A,M,L){var F=this.scene.sys,O=F.game.renderer;M===void 0&&(M=F.scale.width),L===void 0&&(L=F.scale.height),E.TargetCamera.setScene(this.scene),E.TargetCamera.setViewport(0,0,M,L),E.TargetCamera.scrollX=this.x,E.TargetCamera.scrollY=this.y;var B,N;if(typeof A=="string")if(F.textures.exists(A)){B=F.textures.get(A);var G=B.getSourceImage();G instanceof HTMLCanvasElement&&(N=G.getContext("2d"))}else B=F.textures.createCanvas(A,M,L),N=B.getSourceImage().getContext("2d");else A instanceof HTMLCanvasElement&&(N=A.getContext("2d"));return N&&(this.renderCanvas(O,this,E.TargetCamera,null,N,!1),B&&B.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});E.TargetCamera=new e,l.exports=E},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a,s){s===void 0&&(s=new e);var i=r.width/2,n=r.height/2;return s.x=r.x+i*Math.cos(a),s.y=r.y+n*Math.sin(a),s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),h=t(0),r=t(11),a=t(176),s=t(101),i=t(9),n=t(75),f=t(110),o=t(1071),u=t(20),d=t(79),c=new h({Extends:f,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.Visible,i,o],initialize:function(p,x){f.call(this,p),i.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(e.SKIP_CHECK),x&&this.add(x),p.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(v,p){return this.data||(this.data=new s(this)),this.data.set(v,p),this},incData:function(v,p){return this.data||(this.data=new s(this)),this.data.inc(v,p),this},toggleData:function(v){return this.data||(this.data=new s(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new s(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,p=this.parentContainer,x=[];p&&(x.unshift(p.getIndex(v)),v=p,p.parentContainer);)p=p.parentContainer;return x.unshift(this.displayList.getIndex(v)),x},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,p){return v._depth-p._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var v=this.list.length;v--;)this.list[v].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(15),a=t(450),s=t(110),i=t(452),n=t(1075),f=new e({Extends:r,Mixins:[h.Depth,h.Mask,h.Pipeline,h.Transform,h.Visible,n],initialize:function(u,d,c,v){if(r.call(this,u,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],c!==null&&(typeof c=="object"||Array.isArray(c))&&(v=c,c=null),this.setTexture(d,c),this.initPipeline(),this.emitters=new s(this),this.wells=new s(this),v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++)this.createEmitter(v[p])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(o,u){return this.texture=this.scene.sys.textures.get(o),this.setFrame(u)},setFrame:function(o){this.frame=this.texture.get(o);var u=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),d=[];return u.forEach(function(c){d.push(c.name)}),this.frameNames=d,this.defaultFrame=this.frame,this},setEmitterFrames:function(o,u){Array.isArray(o)||(o=[o]);var d=u.frames;d.length=0;for(var c=0;c<o.length;c++){var v=o[c];this.frameNames.indexOf(v)!==-1&&d.push(this.texture.get(v))}return d.length>0?u.defaultFrame=d[0]:u.defaultFrame=this.defaultFrame,this},addEmitter:function(o){return this.emitters.add(o)},createEmitter:function(o){return this.addEmitter(new i(this,o))},removeEmitter:function(o){return this.emitters.remove(o,!0)},addGravityWell:function(o){return this.wells.add(o)},createGravityWell:function(o){return this.addGravityWell(new a(o))},emitParticle:function(o,u,d){for(var c=this.emitters.list,v=0;v<c.length;v++){var p=c[v];p.active&&p.emitParticle(o,u,d)}return this},emitParticleAt:function(o,u,d){return this.emitParticle(d,o,u)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(o,u){u*=this.timeScale;for(var d=this.emitters.list,c=0;c<d.length;c++){var v=d[c];v.active&&v.preUpdate(o,u)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),h=t(133),r=t(31),a=t(0),s=t(11),i=t(33),n=t(109),f=t(15),o=t(1),u=t(92),d=t(1079),c=t(141),v=t(12),p=t(222),x=new a({Extends:f,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,d],initialize:function(S,E,A,M,L,F,O){E===void 0&&(E=0),A===void 0&&(A=0),M===void 0&&(M=32),L===void 0&&(L=32),f.call(this,S,"RenderTexture"),this.renderer=S.sys.renderer,this.textureManager=S.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,F===void 0?(this.canvas=r.create2D(this,M,L),this.texture=S.sys.textures.addCanvas(p(),this.canvas),this.frame=this.texture.get()):(this.texture=S.sys.textures.get(F),this.frame=this.texture.get(O),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new h(0,0,M,L),this.renderTarget=null;var B=this.renderer;B?B.type===i.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new c(B,M,L,1,0,!1)):B.type===i.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=o,this.camera.setScene(S),this.setPosition(E,A),F===void 0&&this.setSize(M,L),this.setOrigin(0,0),this.initPipeline(u.SINGLE_PIPELINE)},setSize:function(y,S){return this.resize(y,S)},resize:function(y,S){S===void 0&&(S=y);var E=this.frame;if(y!==this.width||S!==this.height){if(E.name==="__BASE"){this.canvas.width=y,this.canvas.height=S,this.texture.width=y,this.texture.height=S;var A=this.renderTarget;A&&(A.resize(y,S),E.glTexture=A.texture,E.source.isRenderTexture=!0,E.source.isGLTexture=!0,E.source.glTexture=A.texture),this.camera.setSize(y,S),E.source.width=y,E.source.height=S,E.setSize(y,S),this.width=y,this.height=S}}else{var M=this.texture.getSourceImage();E.cutX+y>M.width&&(y=M.width-E.cutX),E.cutY+S>M.height&&(S=M.height-E.cutY),E.setSize(y,S,E.cutX,E.cutY)}this.updateDisplayOrigin();var L=this.input;return L&&!L.customHitArea&&(L.hitArea.width=y,L.hitArea.height=S),this},setGlobalTint:function(y){return this.globalTint=y,this},setGlobalAlpha:function(y){return this.globalAlpha=y,this},saveTexture:function(y){return this.textureManager.renameTexture(this.texture.key,y),this._saved=!0,this.texture},fill:function(y,S,E,A,M,L){var F=this.frame,O=this.camera,B=this.renderer;S===void 0&&(S=1),E===void 0&&(E=0),A===void 0&&(A=0),M===void 0&&(M=F.cutWidth),L===void 0&&(L=F.cutHeight);var N=(y>>16&255)/255,G=(y>>8&255)/255,Y=(y&255)/255,H=this.renderTarget;if(O.preRender(),H){H.bind(!0);var b=this.pipeline;b.manager.set(b);var Z=H.width,$=H.height,w=B.width,D=B.height,V=w/Z,z=D/$;b.drawFillRect(E*V,A*z,M*V,L*z,v.getTintFromFloats(Y,G,N,1),S),H.unbind(!0)}else{var X=this.context;B.setContext(X),X.fillStyle="rgba("+N+","+G+","+Y+","+S+")",X.fillRect(E+F.cutX,A+F.cutY,M,L),B.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var y=this.renderTarget;if(y)y.clear();else{var S=this.context;S.save(),S.setTransform(1,0,0,1,0,0),S.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),S.restore()}this.dirty=!1}return this},erase:function(y,S,E){return this._eraseMode=!0,this.draw(y,S,E,1,16777215),this._eraseMode=!1,this},draw:function(y,S,E,A,M){return this.beginDraw(),this.batchDraw(y,S,E,A,M),this.endDraw(),this},drawFrame:function(y,S,E,A,M,L){return this.beginDraw(),this.batchDrawFrame(y,S,E,A,M,L),this.endDraw(),this},beginDraw:function(){var y=this.camera,S=this.renderer,E=this.renderTarget;return y.preRender(),E?S.beginCapture(E.width,E.height):S.setContext(this.context),this},batchDraw:function(y,S,E,A,M){return A===void 0&&(A=this.globalAlpha),M===void 0?M=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):M=(M>>16)+(M&65280)+((M&255)<<16),Array.isArray(y)||(y=[y]),this.batchList(y,S,E,A,M),this},batchDrawFrame:function(y,S,E,A,M,L){E===void 0&&(E=0),A===void 0&&(A=0),M===void 0&&(M=this.globalAlpha),L===void 0?L=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):L=(L>>16)+(L&65280)+((L&255)<<16);var F=this.textureManager.getFrame(y,S);return F&&(this.renderTarget?this.pipeline.batchTextureFrame(F,E,A,L,M,this.camera.matrix,null):this.batchTextureFrame(F,E+this.frame.cutX,A+this.frame.cutY,M,L)),this},endDraw:function(y){y===void 0&&(y=this._eraseMode);var S=this.renderer,E=this.renderTarget;if(E){var A=S.endCapture(),M=S.pipelines.setUtility();M.blitFrame(A,E,1,!1,!1,y),S.resetScissor(),S.resetViewport()}else S.setContext();return this.dirty=!0,this},batchList:function(y,S,E,A,M){for(var L=0;L<y.length;L++){var F=y[L];!F||F===this||(F.renderWebGL||F.renderCanvas?this.drawGameObject(F,S,E):F.isParent||F.list?this.batchGroup(F.getChildren(),S,E):typeof F=="string"?this.batchTextureFrameKey(F,null,S,E,A,M):F instanceof n?this.batchTextureFrame(F,S,E,A,M):Array.isArray(F)&&this.batchList(F,S,E,A,M))}},batchGroup:function(y,S,E){S===void 0&&(S=0),E===void 0&&(E=0),S+=this.frame.cutX,E+=this.frame.cutY;for(var A=0;A<y.length;A++){var M=y[A];if(M.willRender(this.camera)){var L=M.x+S,F=M.y+E;this.drawGameObject(M,L,F)}}},batchGameObjectWebGL:function(y,S,E){S===void 0&&(S=y.x),E===void 0&&(E=y.y);var A=y.x,M=y.y;y.setPosition(S+this.frame.cutX,E+this.frame.cutY),y.renderDirect?y.renderDirect(this.renderer,y,this.camera):y.renderWebGL(this.renderer,y,this.camera),y.setPosition(A,M)},batchGameObjectCanvas:function(y,S,E){S===void 0&&(S=y.x),E===void 0&&(E=y.y);var A=y.x,M=y.y;if(this._eraseMode){var L=y.blendMode;y.blendMode=e.ERASE}y.setPosition(S+this.frame.cutX,E+this.frame.cutY),y.renderCanvas(this.renderer,y,this.camera,null),y.setPosition(A,M),this._eraseMode&&(y.blendMode=L)},batchTextureFrameKey:function(y,S,E,A,M,L){var F=this.textureManager.getFrame(y,S);F&&this.batchTextureFrame(F,E,A,M,L)},batchTextureFrame:function(y,S,E,A,M){S===void 0&&(S=0),E===void 0&&(E=0),S+=this.frame.cutX,E+=this.frame.cutY;var L=this.renderTarget;if(L)this.pipeline.batchTextureFrame(y,S,E,M,A,this.camera.matrix,null);else{var F=this.context,O=y.canvasData,B=y.source.image,N=this.camera.matrix;F.save(),F.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",F.globalAlpha=A,N.setToContext(F),F.drawImage(B,O.x,O.y,O.width,O.height,S,E,O.width,O.height),F.restore()}},snapshotArea:function(y,S,E,A,M,L,F){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!1,y,S,E,A,L,F):this.renderer.snapshotCanvas(this.canvas,M,!1,y,S,E,A,L,F),this},snapshot:function(y,S,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,0,0,this.width,this.height,S,E):this.renderer.snapshotCanvas(this.canvas,y,!1,0,0,this.width,this.height,S,E),this},snapshotPixel:function(y,S,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!0,y,S):this.renderer.snapshotCanvas(this.canvas,E,!0,y,S),this},preDestroy:function(){this._saved||(r.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});l.exports=x},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var h=Math.random()*16|0,r=e==="x"?h:h&3|8;return r.toString(16)})};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),h=t(0),r=t(11),a=t(15),s=t(92),i=t(1085),n=t(3),f=new h({Extends:a,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Flip,r.Mask,r.Pipeline,r.Size,r.Texture,r.Transform,r.Visible,r.ScrollFactor,i],initialize:function(u,d,c,v,p,x,y,S,E){v===void 0&&(v="__DEFAULT"),x===void 0&&(x=2),y===void 0&&(y=!0),a.call(this,u,"Rope"),this.anims=new e(this),this.points=x,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=y,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,p),this.setPosition(d,c),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),Array.isArray(x)&&this.resizeArrays(x.length),this.setPoints(x,S,E),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,u){var d=this.anims.currentFrame;this.anims.update(o,u),this.anims.currentFrame!==d&&(this.updateUVs(),this.updateVertices())},play:function(o,u,d){return this.anims.play(o,u,d),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(o,u,d){return o===void 0&&(o=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(o,u,d))},setVertical:function(o,u,d){return o===void 0&&(o=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(o,u,d)):this},setTintFill:function(o){return o===void 0&&(o=!1),this.tintFill=o,this},setAlphas:function(o,u){var d=this.points.length;if(d<1)return this;var c=this.alphas;o===void 0?o=[1]:!Array.isArray(o)&&u===void 0&&(o=[o]);var v,p=0;if(u!==void 0)for(v=0;v<d;v++)p=v*2,c[p]=o,c[p+1]=u;else if(o.length===d)for(v=0;v<d;v++)p=v*2,c[p]=o[v],c[p+1]=o[v];else{var x=o[0];for(v=0;v<d;v++)p=v*2,o.length>p&&(x=o[p]),c[p]=x,o.length>p+1&&(x=o[p+1]),c[p+1]=x}return this},setColors:function(o){var u=this.points.length;if(u<1)return this;var d=this.colors;o===void 0?o=[16777215]:Array.isArray(o)||(o=[o]);var c,v=0;if(o.length===u)for(c=0;c<u;c++)v=c*2,d[v]=o[c],d[v+1]=o[c];else{var p=o[0];for(c=0;c<u;c++)v=c*2,o.length>v&&(p=o[v]),d[v]=p,o.length>v+1&&(p=o[v+1]),d[v+1]=p}return this},setPoints:function(o,u,d){if(o===void 0&&(o=2),typeof o=="number"){var c=o;c<2&&(c=2),o=[];var v,p,x;if(this.horizontal)for(x=-this.frame.halfWidth,p=this.frame.width/(c-1),v=0;v<c;v++)o.push({x:x+v*p,y:0});else for(x=-this.frame.halfHeight,p=this.frame.height/(c-1),v=0;v<c;v++)o.push({x:0,y:x+v*p})}var y=o.length,S=this.points.length;return y<1?(console.warn("Rope: Not enough points given"),this):(y===1&&(o.unshift({x:0,y:0}),y++),S!==y&&this.resizeArrays(y),this.points=o,this.updateUVs(),u!=null&&this.setColors(u),d!=null&&this.setAlphas(d),this)},updateUVs:function(){for(var o=this.uv,u=this.points.length,d=this.frame.u0,c=this.frame.v0,v=this.frame.u1,p=this.frame.v1,x=(v-d)/(u-1),y=(p-c)/(u-1),S=0;S<u;S++){var E=S*4,A,M,L,F;this.horizontal?(this._flipX?(A=v-S*x,L=v-S*x):(A=d+S*x,L=d+S*x),this._flipY?(M=p,F=c):(M=c,F=p)):(this._flipX?(A=d,L=v):(A=v,L=d),this._flipY?(M=p-S*y,F=p-S*y):(M=c+S*y,F=c+S*y)),o[E+0]=A,o[E+1]=M,o[E+2]=L,o[E+3]=F}return this},resizeArrays:function(o){var u=this.colors,d=this.alphas;this.vertices=new Float32Array(o*4),this.uv=new Float32Array(o*4),u=new Uint32Array(o*2),d=new Float32Array(o*2);for(var c=0;c<o*2;c++)u[c]=16777215,d[c]=1;return this.colors=u,this.alphas=d,this.dirty=!0,this},updateVertices:function(){var o=this._perp,u=this.points,d=this.vertices,c=u.length;if(this.dirty=!1,!(c<1)){for(var v,p=u[0],x=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,y=0;y<c;y++){var S=u[y],E=y*4;y<c-1?v=u[y+1]:v=S,o.x=v.y-p.y,o.y=-(v.x-p.x);var A=o.length();o.x/=A,o.y/=A,o.x*=x,o.y*=x,d[E]=S.x+o.x,d[E+1]=S.y+o.y,d[E+2]=S.x-o.x,d[E+3]=S.y-o.y,p=S}return this}},setDebug:function(o,u){return this.debugGraphic=o,!o&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(o,u,d){var c=o.debugGraphic,v=d[0],p=d[1],x=d[2],y=d[3];c.lineBetween(v,p,x,y);for(var S=4;S<u;S+=4){var E=d[S+0],A=d[S+1],M=d[S+2],L=d[S+3];c.lineBetween(v,p,E,A),c.lineBetween(x,y,M,L),c.lineBetween(x,y,E,A),c.lineBetween(E,A,M,L),v=E,p=A,x=M,y=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(o){return this._flipX=o,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(o){return this._flipY=o,this.updateUVs()}}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),h=t(31),r=t(0),a=t(11),s=t(22),i=t(15),n=t(458),f=t(6),o=t(202),u=t(1088),d=t(459),c=new r({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,u],initialize:function(p,x,y,S,E){x===void 0&&(x=0),y===void 0&&(y=0),i.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(x,y),this.setOrigin(0,0),this.initPipeline(),this.canvas=h.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,E),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=p.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing),p.sys.game.events.on(s.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",e(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var p=this.style;if(p.wordWrapCallback){var x=p.wordWrapCallback.call(p.wordWrapCallbackScope,v,this);return Array.isArray(x)&&(x=x.join(`
`)),x}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,p,x){for(var y="",S=v.replace(/ +/gi," ").split(this.splitRegExp),E=S.length,A=0;A<E;A++){var M=S[A],L="";M=M.replace(/^ *|\s*$/gi,"");var F=p.measureText(M).width;if(F<x){y+=M+`
`;continue}for(var O=x,B=M.split(" "),N=0;N<B.length;N++){var G=B[N],Y=G+" ",H=p.measureText(Y).width;if(H>O){if(N===0){for(var b=Y;b.length&&(b=b.slice(0,-1),H=p.measureText(b).width,!(H<=O)););if(!b.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var Z=G.substr(b.length);B[N]=Z,L+=b}var $=B[N].length?N:N+1,w=B.slice($).join(" ").replace(/[ \n]*$/gi,"");S[A+1]=w+" "+(S[A+1]||""),E=S.length;break}else L+=Y,O-=H}y+=L.replace(/[ \n]*$/gi,"")+`
`}return y=y.replace(/[\s|\n]*$/gi,""),y},basicWordWrap:function(v,p,x){for(var y="",S=v.split(this.splitRegExp),E=S.length-1,A=p.measureText(" ").width,M=0;M<=E;M++){for(var L=x,F=S[M].split(" "),O=F.length-1,B=0;B<=O;B++){var N=F[B],G=p.measureText(N).width,Y=G;B<O&&(Y+=A),Y>L&&B>0&&(y+=`
`,L=x),y+=N,B<O?(y+=" ",L-=Y):L-=G}M<E&&(y+=`
`)}return y},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(v);return p.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,p){return this.style.setFixedSize(v,p)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,p){return this.style.setStroke(v,p)},setShadow:function(v,p,x,y,S,E){return this.style.setShadow(v,p,x,y,S,E)},setShadowOffset:function(v,p){return this.style.setShadowOffset(v,p)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,p){return this.style.setWordWrapWidth(v,p)},setWordWrapCallback:function(v,p){return this.style.setWordWrapCallback(v,p)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setPadding:function(v,p,x,y){if(typeof v=="object"){var S=v,E=f(S,"x",null);E!==null?(v=E,x=E):(v=f(S,"left",0),x=f(S,"right",v));var A=f(S,"y",null);A!==null?(p=A,y=A):(p=f(S,"top",0),y=f(S,"bottom",p))}else v===void 0&&(v=0),p===void 0&&(p=v),x===void 0&&(x=v),y===void 0&&(y=p);return this.padding.left=v,this.padding.top=p,this.padding.right=x,this.padding.bottom=y,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},updateText:function(){var v=this.canvas,p=this.context,x=this.style,y=x.resolution,S=x.metrics;x.syncFont(v,p);var E=this._text;(x.wordWrapWidth||x.wordWrapCallback)&&(E=this.runWordWrap(this._text));var A=E.split(this.splitRegExp),M=n(this,S,A),L=this.padding,F;x.fixedWidth===0?(this.width=M.width+L.left+L.right,F=M.width):(this.width=x.fixedWidth,F=this.width-L.left-L.right,F<M.width&&(F=M.width)),x.fixedHeight===0?this.height=M.height+L.top+L.bottom:this.height=x.fixedHeight;var O=this.width,B=this.height;this.updateDisplayOrigin(),O*=y,B*=y,O=Math.max(O,1),B=Math.max(B,1),v.width!==O||v.height!==B?(v.width=O,v.height=B,this.frame.setSize(O,B),x.syncFont(v,p)):p.clearRect(0,0,O,B),p.save(),p.scale(y,y),x.backgroundColor&&(p.fillStyle=x.backgroundColor,p.fillRect(0,0,O,B)),x.syncStyle(v,p),p.textBaseline="alphabetic",p.translate(L.left,L.top);for(var N,G,Y=0;Y<M.lines;Y++){if(N=x.strokeThickness/2,G=x.strokeThickness/2+Y*M.lineHeight+S.ascent,Y>0&&(G+=M.lineSpacing*Y),x.rtl)N=O-N;else if(x.align==="right")N+=F-M.lineWidths[Y];else if(x.align==="center")N+=(F-M.lineWidths[Y])/2;else if(x.align==="justify"){var H=.85;if(M.lineWidths[Y]/M.width>=H){var b=M.width-M.lineWidths[Y],Z=p.measureText(" ").width,$=A[Y].trim(),w=$.split(" ");b+=(A[Y].length-$.length)*Z;for(var D=Math.floor(b/Z),V=0;D>0;)w[V]+=" ",V=(V+1)%(w.length-1||1),--D;A[Y]=w.join(" ")}}this.autoRound&&(N=Math.round(N),G=Math.round(G)),x.strokeThickness&&(this.style.syncShadow(p,x.shadowStroke),p.strokeText(A[Y],N,G)),x.color&&(this.style.syncShadow(p,x.shadowFill),p.fillText(A[Y],N,G))}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var z=this.input;return z&&!z.customHitArea&&(z.hitArea.width=this.width,z.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=a.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=p,v},preDestroy:function(){this.style.rtl&&o(this.canvas),h.remove(this.canvas),this.texture.destroy()}});l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),h=t(0),r=t(11),a=t(22),s=t(15),i=t(361),n=t(192),f=t(1091),o=t(3),u=8,d=new h({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,f],initialize:function(v,p,x,y,S,E,A){var M=v.sys.renderer;s.call(this,v,"TileSprite");var L=v.sys.textures.get(E),F=L.get(A);!y||!S?(y=F.width,S=F.height):(y=Math.floor(y),S=Math.floor(S)),this._tilePosition=new o,this._tileScale=new o(1,1),this.dirty=!1,this.renderer=M,this.canvas=e.create(this,y,S),this.context=this.canvas.getContext("2d"),this.displayTexture=L,this.displayFrame=F,this._crop=this.resetCropObject(),this.texture=v.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=i(F.width),this.potHeight=i(F.height),this.fillCanvas=e.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(p,x),this.setSize(y,S),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),v.sys.game.events.on(a.CONTEXT_RESTORED,function(O){if(O){var B=O.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=O.createTexture2D(0,B.LINEAR,B.LINEAR,B.REPEAT,B.REPEAT,B.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(c,v){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(v)},setFrame:function(c){var v=this.displayTexture.get(c);return this.potWidth=i(v.width),this.potHeight=i(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=-9:this.renderFlags|=u,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,v){return c!==void 0&&(this.tilePositionX=c),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(c,v){return c===void 0&&(c=this.tileScaleX),v===void 0&&(v=c),this.tileScaleX=c,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,p=this.fillCanvas,x=this.potWidth,y=this.potHeight;(!this.renderer||!this.renderer.gl)&&(x=c.cutWidth,y=c.cutHeight),v.clearRect(0,0,x,y),p.width=x,p.height=y,v.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,x,y),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=v.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||n.disable(v);var p=this._tileScale.x,x=this._tileScale.y,y=this._tilePosition.x,S=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(p,x),v.translate(-y,-S),v.fillStyle=this.fillPattern,v.fillRect(y,S,this.width/p,this.height/x),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),e.remove(this.canvas),e.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(18),r=t(11),a=t(75),s=t(22),i=t(51),n=t(15),f=t(70),o=t(222),u=t(1094),d=t(14),c=new e({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,u],initialize:function(p,x,y,S){n.call(this,p,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=o(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=d.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(x,y),this.initPipeline(),S&&this.changeSource(S,!1);var E=p.sys.game.events;E.on(s.PAUSE,this.globalPause,this),E.on(s.RESUME,this.globalResume,this);var A=p.sys.sound;A&&A.on(f.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(v,p,x){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var y=this.video;if(!y)return console.warn("Video not loaded"),this;v===void 0&&(v=y.loop);var S=this.scene.sys.sound;S&&S.mute&&this.setMute(!0),isNaN(p)||(this._markerIn=p),!isNaN(x)&&x>p&&(this._markerOut=x),y.loop=v;var E=this._callbacks,A=y.play();return A!==void 0?A.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(y.addEventListener("playing",E.play,!0),y.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),y.addEventListener("ended",E.end,!0),y.addEventListener("timeupdate",E.time,!0),y.addEventListener("seeking",E.seeking,!0),y.addEventListener("seeked",E.seeked,!0),this},changeSource:function(v,p,x,y,S){p===void 0&&(p=!0);var E=this.video;E&&this.stop();var A=this.scene.sys.cache.video.get(v);return A?(this.video=A,this._cacheKey=v,this._codePaused=A.paused,this._codeMuted=A.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,A,A.videoWidth,A.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,A.videoWidth,A.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,A.videoWidth,A.videoHeight)):this.updateTexture(),A.currentTime=0,this._lastUpdate=0,p&&this.play(x,y,S)):this.video=null,this},addMarker:function(v,p,x){return!isNaN(p)&&p>=0&&!isNaN(x)&&(this.markers[v]=[p,x]),this},playMarker:function(v,p){var x=this.markers[v];return x&&this.play(p,x[0],x[1]),this},removeMarker:function(v){return delete this.markers[v],this},snapshot:function(v,p){return v===void 0&&(v=this.width),p===void 0&&(p=this.height),this.snapshotArea(0,0,this.width,this.height,v,p)},snapshotArea:function(v,p,x,y,S,E){v===void 0&&(v=0),p===void 0&&(p=0),x===void 0&&(x=this.width),y===void 0&&(y=this.height),S===void 0&&(S=x),E===void 0&&(E=y);var A=this.video,M=this.snapshotTexture;return M?(M.setSize(S,E),A&&M.context.drawImage(A,v,p,x,y,0,0,S,E)):(M=this.scene.sys.textures.createCanvas(o(),S,E),this.snapshotTexture=M,A&&M.context.drawImage(A,v,p,x,y,0,0,S,E)),M.update()},saveSnapshotTexture:function(v){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,v):this.snapshotTexture=this.scene.sys.textures.createCanvas(v,this.width,this.height),this.snapshotTexture},loadURL:function(v,p,x){x===void 0&&(x=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var y=document.createElement("video");return y.controls=!1,x&&(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")),y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.addEventListener("error",this._callbacks.error,!0),y.src=v,y.load(),this.video=y,this},loadMediaStream:function(v,p,x){x===void 0&&(x=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var y=document.createElement("video");y.controls=!1,x&&(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")),y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.addEventListener("error",this._callbacks.error,!0);try{y.srcObject=v}catch{y.src=window.URL.createObjectURL(v)}return y.load(),this.video=y,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(v){this.scene.sys.input.once(i.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(a.VIDEO_ERROR,this,v)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(v){this.stop(),this.emit(a.VIDEO_ERROR,this,v)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(a.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(a.VIDEO_PLAY,this)},completeHandler:function(){this.emit(a.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(a.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var v=this.video;if(v){var p=v.currentTime;p!==this._lastUpdate&&(this._lastUpdate=p,this.updateTexture(),p>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=p,this.emit(a.VIDEO_LOOP,this)):(this.emit(a.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(a.VIDEO_TIMEOUT,this))},updateTexture:function(){var v=this.video,p=v.videoWidth,x=v.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,v,p,x),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,p,x),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,p,x);else{var y=this.videoTextureSource;y.source!==v&&(y.source=v,y.width=p,y.height=x),y.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(v){var p=this.video;if(p){var x=p.duration;if(x!==1/0&&!isNaN(x)){var y=x*v;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(v){var p=this.video;if(p){if(typeof v=="string"){var x=v[0],y=parseFloat(v.substr(1));x==="+"?v=p.currentTime+y:x==="-"&&(v=p.currentTime-y)}p.currentTime=v,this._lastUpdate=v}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(a.VIDEO_SEEKED,this);var v=this.video;v&&this.updateTexture()},getProgress:function(){var v=this.video;if(v){var p=v.currentTime,x=v.duration;if(x!==1/0&&!isNaN(x))return p/x}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(v){v===void 0&&(v=!0),this._codeMuted=v;var p=this.video;return p&&(p.muted=this._systemMuted?!0:v),this},isMuted:function(){return this._codeMuted},globalMute:function(v,p){this._systemMuted=p;var x=this.video;x&&(x.muted=this._codeMuted?!0:p)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(v){v===void 0&&(v=!0);var p=this.video;return this._codePaused=v,p&&(v?p.paused||p.pause():v||p.paused&&!this._systemPaused&&p.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(v){return v===void 0&&(v=1),this.video&&(this.video.volume=h(v,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(v){return this.video&&(this.video.playbackRate=v),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(v){return v===void 0&&(v=!0),this.video&&(this.video.loop=v),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(v,p){return p===void 0&&(p=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,v),this._key=v,this.flipY=p,this.videoTextureSource&&this.videoTextureSource.setFlipY(p),this.videoTexture},stop:function(){var v=this.video;if(v){var p=this._callbacks;for(var x in p)v.removeEventListener(x,p[x],!0);v.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var v=this.video;if(v){for(v.parentNode&&v.parentNode.removeChild(v);v.hasChildNodes();)v.removeChild(v.firstChild);v.removeAttribute("autoplay"),v.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var v=this.scene.sys.game.events;v.off(s.PAUSE,this.globalPause,this),v.off(s.RESUME,this.globalResume,this);var p=this.scene.sys.sound;p&&p.off(f.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(228),r=t(470),a=t(56),s=new e({initialize:function(n){this.type=a.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(i,n){return h(this,i,n)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var n,f=Number.MAX_VALUE,o=0;o<i.length;o++)n={x:0,y:0},typeof i[o]=="number"||typeof i[o]=="string"?(n.x=parseFloat(i[o]),n.y=parseFloat(i[o+1]),o++):Array.isArray(i[o])?(n.x=i[o][0],n.y=i[o][1]):(n.x=i[o].x,n.y=i[o].y),this.points.push(n),n.y<f&&(f=n.y);return this.calculateArea(f),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,n,f,o=0;o<this.points.length-1;o++)n=this.points[o],f=this.points[o+1],i+=(f.x-n.x)*(n.y+f.y);return n=this.points[0],f=this.points[this.points.length-1],i+=(n.x-f.x)*(f.y+n.y),this.area=-i*.5,this.area},getPoints:function(i,n,f){return r(this,i,n,f)}});l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){for(var a=!1,s=-1,i=e.points.length-1;++s<e.points.length;i=s){var n=e.points[s].x,f=e.points[s].y,o=e.points[i].x,u=e.points[i].y;(f<=r&&r<u||u<=r&&r<f)&&h<(o-n)*(r-f)/(u-f)+n&&(a=!a)}return a};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(15),a=t(2),s=t(17),i=t(478),n=t(1176),f=t(25),o=new e({Extends:r,Mixins:[h.ComputedSize,h.Depth,h.GetBounds,h.Mask,h.Origin,h.ScrollFactor,h.Transform,h.Visible,n],initialize:function(d,c,v,p,x,y,S,E){v===void 0&&(v=0),p===void 0&&(p=0),x===void 0&&(x=128),y===void 0&&(y=128),r.call(this,d,"Shader"),this.blendMode=-1,this.shader;var A=d.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(v,p),this.setSize(x,y),this.setOrigin(.5,.5),this.setShader(c,S,E)},willRender:function(u){return this.renderToTexture?!0:!(r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setRenderToTexture:function(u,d){if(d===void 0&&(d=!1),!this.renderToTexture){var c=this.width,v=this.height,p=this.renderer;this.glTexture=p.createTextureFromSource(null,c,v,0),this.glTexture.flipY=d,this.framebuffer=p.createFramebuffer(c,v,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=v,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),u&&(this.texture=this.scene.sys.textures.addGLTexture(u,this.glTexture,c,v))}return this.shader&&(p.pipelines.clear(),this.load(),this.flush(),p.pipelines.rebind()),this},setShader:function(u,d,c){if(d===void 0&&(d=[]),typeof u=="string"){var v=this.scene.sys.cache.shader;if(!v.has(u))return console.warn("Shader missing: "+u),this;this.shader=v.get(u)}else this.shader=u;var p=this.gl,x=this.renderer;this.program&&p.deleteProgram(this.program);var y=x.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);p.uniformMatrix4fv(p.getUniformLocation(y,"uViewMatrix"),!1,this.viewMatrix),p.uniformMatrix4fv(p.getUniformLocation(y,"uProjectionMatrix"),!1,this.projectionMatrix),p.uniform2f(p.getUniformLocation(y,"uResolution"),this.width,this.height),this.program=y;var S=new Date,E={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,E):this.uniforms=E;for(var A=0;A<4;A++)d[A]&&this.setSampler2D("iChannel"+A,d[A],A,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(u){return this.pointer=u,this},projOrtho:function(u,d,c,v){var p=-1e3,x=1e3,y=1/(u-d),S=1/(c-v),E=1/(p-x),A=this.projectionMatrix;A[0]=-2*y,A[5]=-2*S,A[10]=2*E,A[12]=(u+d)*y,A[13]=(v+c)*S,A[14]=(x+p)*E;var M=this.program,L=this.gl,F=this.renderer;F.setProgram(M),L.uniformMatrix4fv(L.getUniformLocation(M,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=c},initUniforms:function(){var u=this.gl,d=this.renderer.glFuncMap,c=this.program;this._textureCount=0;for(var v in this.uniforms){var p=this.uniforms[v],x=p.type,y=d[x];p.uniformLocation=u.getUniformLocation(c,v),x!=="sampler2D"&&(p.glMatrix=y.matrix,p.glValueLength=y.length,p.glFunc=y.func)}},setSampler2DBuffer:function(u,d,c,v,p,x){p===void 0&&(p=0),x===void 0&&(x={});var y=this.uniforms[u];return y.value=d,x.width=c,x.height=v,y.textureData=x,this._textureCount=p,this.initSampler2D(y),this},setSampler2D:function(u,d,c,v){c===void 0&&(c=0);var p=this.scene.sys.textures;if(p.exists(d)){var x=p.getFrame(d);if(x.glTexture&&x.glTexture.isRenderTexture)return this.setSampler2DBuffer(u,x.glTexture,x.width,x.height,c,v);var y=this.uniforms[u],S=x.source;y.textureKey=d,y.source=S.image,y.value=x.glTexture,S.isGLTexture&&(v||(v={}),v.width=S.width,v.height=S.height),v&&(y.textureData=v),this._textureCount=c,this.initSampler2D(y)}return this},setUniform:function(u,d){return i(this.uniforms,u,d),this},getUniform:function(u){return a(this.uniforms,u,null)},setChannel0:function(u,d){return this.setSampler2D("iChannel0",u,0,d)},setChannel1:function(u,d){return this.setSampler2D("iChannel1",u,1,d)},setChannel2:function(u,d){return this.setSampler2D("iChannel2",u,2,d)},setChannel3:function(u,d){return this.setSampler2D("iChannel3",u,3,d)},initSampler2D:function(u){if(u.value){var d=this.gl;d.activeTexture(d.TEXTURE0+this._textureCount),d.bindTexture(d.TEXTURE_2D,u.value);var c=u.textureData;if(c&&!u.value.isRenderTexture){var v=d[a(c,"magFilter","linear").toUpperCase()],p=d[a(c,"minFilter","linear").toUpperCase()],x=d[a(c,"wrapS","repeat").toUpperCase()],y=d[a(c,"wrapT","repeat").toUpperCase()],S=d[a(c,"format","rgba").toUpperCase()];if(c.repeat&&(x=d.REPEAT,y=d.REPEAT),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!!c.flipY),c.width){var E=a(c,"width",512),A=a(c,"height",2),M=a(c,"border",0);d.texImage2D(d.TEXTURE_2D,0,S,E,A,M,S,d.UNSIGNED_BYTE,null)}else d.texImage2D(d.TEXTURE_2D,0,S,d.RGBA,d.UNSIGNED_BYTE,u.source);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,v),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,p),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,x),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,y)}this.renderer.setProgram(this.program),d.uniform1i(u.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var u=this.gl,d=this.uniforms,c,v,p,x,y,S=0;for(var E in d)c=d[E],p=c.glFunc,v=c.glValueLength,x=c.uniformLocation,y=c.value,y!==null&&(v===1?c.glMatrix?p.call(u,x,c.transpose,y):p.call(u,x,y):v===2?p.call(u,x,y.x,y.y):v===3?p.call(u,x,y.x,y.y,y.z):v===4?p.call(u,x,y.x,y.y,y.z,y.w):c.type==="sampler2D"&&(u.activeTexture(u.TEXTURE0+S),u.bindTexture(u.TEXTURE_2D,y),u.uniform1i(x,S),S++))},load:function(u){var d=this.gl,c=this.width,v=this.height,p=this.renderer,x=this.program,y=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,E=-this._displayOriginY;y[0]=u[0],y[1]=u[1],y[4]=u[2],y[5]=u[3],y[8]=u[4],y[9]=u[5],y[12]=y[0]*S+y[4]*E,y[13]=y[1]*S+y[5]*E}d.useProgram(x),d.uniformMatrix4fv(d.getUniformLocation(x,"uViewMatrix"),!1,y),d.uniform2f(d.getUniformLocation(x,"uResolution"),this.width,this.height);var A=this.uniforms,M=A.resolution;M.value.x=c,M.value.y=v,A.time.value=p.game.loop.getDuration();var L=this.pointer;if(L){var F=A.mouse,O=L.x/c,B=1-L.y/v;F.value.x=O.toFixed(2),F.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var u=this.width,d=this.height,c=this.program,v=this.gl,p=this.vertexBuffer,x=this.renderer,y=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(x.setFramebuffer(this.framebuffer),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)),v.bindBuffer(v.ARRAY_BUFFER,p);var S=v.getAttribLocation(c,"inPosition");S!==-1&&(v.enableVertexAttribArray(S),v.vertexAttribPointer(S,2,v.FLOAT,!1,y,0));var E=this.vertexViewF32;E[3]=d,E[4]=u,E[5]=d,E[8]=u,E[9]=d,E[10]=u;var A=6;v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,A*y)),v.drawArrays(v.TRIANGLES,0,A),this.renderToTexture&&x.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var u=this.gl;u.deleteProgram(this.program),u.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(36),a=t(116),s=t(15),i=t(479),n=t(480),f=t(19),o=t(69),u=t(1179),d=t(79),c=t(39),v=t(117),p=new e({Extends:s,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.Size,h.Texture,h.Transform,h.Visible,h.ScrollFactor,u],initialize:function(y,S,E,A,M,L,F,O,B,N,G,Y){S===void 0&&(S=0),E===void 0&&(E=0),A===void 0&&(A="__WHITE"),s.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new c,this.modelScale=new c(1,1,1),this.modelRotation=new c,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new o,this.viewPosition=new c,this.viewMatrix=new o,this.projectionMatrix=new o,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var H=y.sys.renderer;this.setPosition(S,E),this.setTexture(A,M),this.setSize(H.width,H.height),this.initPipeline(),this.setPerspective(H.width,H.height),L&&this.addVertices(L,F,O,B,N,G,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(c.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=c.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,y,S,E,A){return S===void 0&&(S=45),E===void 0&&(E=.01),A===void 0&&(A=1e3),this.projectionMatrix.perspective(r(S),x/y,E,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,y,S,E){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),S===void 0&&(S=-1e3),E===void 0&&(E=1e3),this.projectionMatrix.ortho(-x,x,-y,y,S,E),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,y,S,E,A,M,L,F,O){var B=this.scene.sys.cache.obj.get(x);return B&&n(B,this,y,S,E,A,M,L,F,O),this},sortByDepth:function(x,y){return x.depth-y.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(x,y,S,E,A,M,L){var F=new v(x,y,S,E,A,M,L);return this.vertices.push(F),F},addFace:function(x,y,S){var E=new a(x,y,S);return this.faces.push(E),this.dirtyCache[9]=-1,E},addVertices:function(x,y,S,E,A,M,L){var F=i(x,y,S,E,A,M,L);return F&&(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},getFaceAt:function(x,y,S){S===void 0&&(S=this.scene.sys.cameras.main);for(var E=f(this,S).calc,A=this.faces,M=[],L=0;L<A.length;L++){var F=A[L];F.contains(x,y,E)&&M.push(F)}return d(M,this.sortByDepth)},setDebug:function(x,y){return this.debugGraphic=x,!x&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,y=this.modelRotation,S=this.modelScale,E=this.dirtyCache,A=x.x,M=x.y,L=x.z,F=y.x,O=y.y,B=y.z,N=S.x,G=S.y,Y=S.z,H=this.getFaceCount(),b=E[0],Z=E[1],$=E[2],w=E[3],D=E[4],V=E[5],z=E[6],X=E[7],j=E[8],K=E[9];return E[0]=A,E[1]=M,E[2]=L,E[3]=F,E[4]=O,E[5]=B,E[6]=N,E[7]=G,E[8]=Y,E[9]=H,b!==A||Z!==M||$!==L||w!==F||D!==O||V!==B||z!==N||X!==G||j!==Y||K!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var y=this.width,S=this.height,E=this.viewMatrix,A=this.viewPosition;x[10]&&(E.identity(),E.translate(A),E.invert(),x[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=A.z,F=this.faces,O=0;O<F.length;O++)F[O].transformCoordinatesLocal(M,y,S,L);this.depthSort()}},renderDebug:function(x,y){for(var S=x.debugGraphic,E=0;E<y.length;E++){var A=y[E],M=A.vertex1.tx,L=A.vertex1.ty,F=A.vertex2.tx,O=A.vertex2.ty,B=A.vertex3.tx,N=A.vertex3.ty;S.strokeTriangle(M,L,F,O,B,N)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});l.exports=p},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(50),h=function(r,a){return e(r.x,r.y,a.x,a.y)<=r.radius+a.radius};l.exports=h},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=t(233),r=function(a,s,i){if(i===void 0&&(i=[]),h(a,s)){var n=a.x1,f=a.y1,o=a.x2,u=a.y2,d=s.x,c=s.y,v=s.radius,p=o-n,x=u-f,y=n-d,S=f-c,E=p*p+x*x,A=2*(p*y+x*S),M=y*y+S*S-v*v,L=A*A-4*E*M,F,O;if(L===0){var B=-A/(2*E);F=n+B*p,O=f+B*x,B>=0&&B<=1&&i.push(new e(F,O))}else if(L>0){var N=(-A-Math.sqrt(L))/(2*E);F=n+N*p,O=f+N*x,N>=0&&N<=1&&i.push(new e(F,O));var G=(-A+Math.sqrt(L))/(2*E);F=n+G*p,O=f+G*x,G>=0&&G<=1&&i.push(new e(F,O))}}return i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),h=t(4),r=new h,a=function(s,i,n){if(n===void 0&&(n=r),e(i,s.x1,s.y1))return n.x=s.x1,n.y=s.y1,!0;if(e(i,s.x2,s.y2))return n.x=s.x2,n.y=s.y2,!0;var f=s.x2-s.x1,o=s.y2-s.y1,u=i.x-s.x1,d=i.y-s.y1,c=f*f+o*o,v=f,p=o;if(c>0){var x=(u*f+d*o)/c;v*=x,p*=x}n.x=s.x1+v,n.y=s.y1+p;var y=v*v+p*p;return y<=c&&v*f+p*o>=0&&e(i,n.x,n.y)};l.exports=a},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=t(96),r=t(488),a=function(s,i,n){if(n===void 0&&(n=[]),r(s,i))for(var f=i.getLineA(),o=i.getLineB(),u=i.getLineC(),d=i.getLineD(),c=[new e,new e,new e,new e],v=[h(f,s,c[0]),h(o,s,c[1]),h(u,s,c[2]),h(d,s,c[3])],p=0;p<4;p++)v[p]&&n.push(c[p]);return n};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r===void 0&&(r=!1),a===void 0&&(a=[]);for(var s=e.x3-e.x1,i=e.y3-e.y1,n=e.x2-e.x1,f=e.y2-e.y1,o=s*s+i*i,u=s*n+i*f,d=n*n+f*f,c=o*d-u*u,v=c===0?0:1/c,p,x,y,S,E,A,M=e.x1,L=e.y1,F=0;F<h.length&&(y=h[F].x-M,S=h[F].y-L,E=s*y+i*S,A=n*y+f*S,p=(d*E-u*A)*v,x=(o*A-u*E)*v,!(p>=0&&x>=0&&p+x<1&&(a.push({x:h[F].x,y:h[F].y}),r)));F++);return a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=Math.cos(a),i=Math.sin(a),n=e.x1-h,f=e.y1-r;return e.x1=n*s-f*i+h,e.y1=n*i+f*s+r,n=e.x2-h,f=e.y2-r,e.x2=n*s-f*i+h,e.y2=n*i+f*s+r,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height===0?NaN:e.width/e.height};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=Math.cos(a),i=Math.sin(a),n=e.x1-h,f=e.y1-r;return e.x1=n*s-f*i+h,e.y1=n*i+f*s+r,n=e.x2-h,f=e.y2-r,e.x2=n*s-f*i+h,e.y2=n*i+f*s+r,n=e.x3-h,f=e.y3-r,e.x3=n*s-f*i+h,e.y3=n*i+f*s+r,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BUTTON_DOWN:t(1310),BUTTON_UP:t(1311),CONNECTED:t(1312),DISCONNECTED:t(1313),GAMEPAD_BUTTON_DOWN:t(1314),GAMEPAD_BUTTON_UP:t(1315)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),h=t(156),r=function(a,s){var i=a===void 0?h():e({},a);if(s)for(var n in s)s[n]!==void 0&&(i[n]=s[n]);return i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=t(408),f=new e({Extends:r,initialize:function(u,d,c,v){var p="xml";if(i(d)){var x=d;d=s(x,"key"),c=s(x,"url"),v=s(x,"xhrSettings"),p=s(x,"extension",p)}var y={type:"xml",cache:u.cacheManager.xml,extension:p,responseType:"text",key:d,url:c,xhrSettings:v};r.call(this,u,y)},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});a.register("xml",function(o,u,d){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new f(this,o[c]));else this.addFile(new f(this,o,u,d));return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c){var v="text",p="txt",x=o.cacheManager.text;if(i(u)){var y=u;u=s(y,"key"),d=s(y,"url"),c=s(y,"xhrSettings"),p=s(y,"extension",p),v=s(y,"type",v),x=s(y,"cache",x)}var S={type:v,cache:x,extension:p,responseType:"text",key:u,url:d,xhrSettings:c};r.call(this,o,S)},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(f,o,u){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new n(this,f[d]));else this.addFile(new n(this,f,o,u));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Acceleration:t(1368),Angular:t(1369),Bounce:t(1370),Debug:t(1371),Drag:t(1372),Enable:t(1373),Friction:t(1374),Gravity:t(1375),Immovable:t(1376),Mass:t(1377),OverlapCirc:t(523),OverlapRect:t(244),Pushable:t(1378),Size:t(1379),Velocity:t(1380)}},function(l,g){var t=function(e,h,r,a,s,i,n){i===void 0&&(i=!0),n===void 0&&(n=!1);var f=[],o=[],u=e.treeMinMax;if(u.minX=h,u.minY=r,u.maxX=h+a,u.maxY=r+s,n&&(o=e.staticTree.search(u)),i&&e.useTree)f=e.tree.search(u);else if(i){var d=e.bodies,c={position:{x:h,y:r},left:h,top:r,right:h+a,bottom:r+s,isCircle:!1},v=e.intersects;d.iterate(function(p){v(p,c)&&f.push(p)})}return o.concat(f)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COLLIDE:t(1381),OVERLAP:t(1382),PAUSE:t(1383),RESUME:t(1384),TILE_COLLIDE:t(1385),TILE_OVERLAP:t(1386),WORLD_BOUNDS:t(1387),WORLD_STEP:t(1388)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),h=function(r,a,s,i){var n=0,f=r.deltaAbsX()+a.deltaAbsX()+i;return r._dx===0&&a._dx===0?(r.embedded=!0,a.embedded=!0):r._dx>a._dx?(n=r.right-a.x,n>f&&!s||r.checkCollision.right===!1||a.checkCollision.left===!1?n=0:(r.touching.none=!1,r.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===e.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.right=!0),r.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.left=!0))):r._dx<a._dx&&(n=r.x-a.width-a.x,-n>f&&!s||r.checkCollision.left===!1||a.checkCollision.right===!1?n=0:(r.touching.none=!1,r.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===e.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.left=!0),r.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.right=!0))),r.overlapX=n,a.overlapX=n,n};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),h=function(r,a,s,i){var n=0,f=r.deltaAbsY()+a.deltaAbsY()+i;return r._dy===0&&a._dy===0?(r.embedded=!0,a.embedded=!0):r._dy>a._dy?(n=r.bottom-a.y,n>f&&!s||r.checkCollision.down===!1||a.checkCollision.up===!1?n=0:(r.touching.none=!1,r.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===e.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.down=!0),r.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.up=!0))):r._dy<a._dy&&(n=r.y-a.bottom,-n>f&&!s||r.checkCollision.up===!1||a.checkCollision.down===!1?n=0:(r.touching.none=!1,r.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===e.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.up=!0),r.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.down=!0))),r.overlapY=n,a.overlapY=n,n};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return!(h.right<=e.left||h.bottom<=e.top||h.position.x>=e.right||h.position.y>=e.bottom)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bounce:t(1495),Collision:t(1496),Force:t(1497),Friction:t(1498),Gravity:t(1499),Mass:t(1500),Sensor:t(1501),SetBody:t(1502),Sleep:t(1503),Static:t(1520),Transform:t(1521),Velocity:t(1522)}},function(l,g){var t={};l.exports=t,function(){t.create=function(e,h){var r=e.bodyA,a=e.bodyB,s={id:t.id(r,a),bodyA:r,bodyB:a,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||a.isSensor,timeCreated:h,timeUpdated:h,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(s,e,h),s},t.update=function(e,h,r){if(e.collision=h,h.collided){var a=h.supports,s=e.activeContacts,i=h.parentA,n=h.parentB;e.inverseMass=i.inverseMass+n.inverseMass,e.friction=Math.min(i.friction,n.friction),e.frictionStatic=Math.max(i.frictionStatic,n.frictionStatic),e.restitution=Math.max(i.restitution,n.restitution),e.slop=Math.max(i.slop,n.slop);for(var f=0;f<a.length;f++)s[f]=a[f].contact;var o=a.length;o<s.length&&(s.length=o),e.separation=h.depth,t.setActive(e,!0,r)}else e.isActive===!0&&t.setActive(e,!1,r)},t.setActive=function(e,h,r){h?(e.isActive=!0,e.timeUpdated=r):(e.isActive=!1,e.activeContacts.length=0)},t.id=function(e,h){return e.id<h.id?"A"+e.id+"B"+h.id:"A"+h.id+"B"+e.id}}()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CalculateFacesAt:t(252),CalculateFacesWithin:t(63),CheckIsoBounds:t(541),Copy:t(1420),CreateFromTiles:t(1421),CullBounds:t(543),CullTiles:t(544),Fill:t(1422),FilterTiles:t(1423),FindByIndex:t(1424),FindTile:t(1425),ForEachTile:t(1426),GetCullTilesFunction:t(1427),GetTileAt:t(158),GetTileAtWorldXY:t(1428),GetTilesWithin:t(26),GetTilesWithinShape:t(1429),GetTilesWithinWorldXY:t(529),GetTileToWorldXFunction:t(1430),GetTileToWorldXYFunction:t(1431),GetTileToWorldYFunction:t(1432),GetWorldToTileXFunction:t(1433),GetWorldToTileXYFunction:t(1434),GetWorldToTileYFunction:t(1435),HasTileAt:t(562),HasTileAtWorldXY:t(1436),HexagonalCullBounds:t(546),HexagonalCullTiles:t(545),HexagonalTileToWorldXY:t(550),HexagonalTileToWorldY:t(554),HexagonalWorldToTileXY:t(556),HexagonalWorldToTileY:t(560),IsInLayerBounds:t(119),IsometricCullTiles:t(547),IsometricTileToWorldXY:t(551),IsometricWorldToTileXY:t(557),PutTileAt:t(257),PutTileAtWorldXY:t(1437),PutTilesAt:t(1438),Randomize:t(1439),RemoveTileAt:t(563),RemoveTileAtWorldXY:t(1440),RenderDebug:t(1441),ReplaceByIndex:t(542),RunCull:t(159),SetCollision:t(1442),SetCollisionBetween:t(1443),SetCollisionByExclusion:t(1444),SetCollisionByProperty:t(1445),SetCollisionFromCollisionGroup:t(1446),SetLayerCollisionIndex:t(160),SetTileCollision:t(72),SetTileIndexCallback:t(1447),SetTileLocationCallback:t(1448),Shuffle:t(1449),StaggeredCullBounds:t(549),StaggeredCullTiles:t(548),StaggeredTileToWorldXY:t(552),StaggeredTileToWorldY:t(555),StaggeredWorldToTileXY:t(558),StaggeredWorldToTileY:t(561),SwapByIndex:t(1450),TileToWorldX:t(253),TileToWorldXY:t(553),TileToWorldY:t(254),WeightedRandomize:t(1451),WorldToTileX:t(255),WorldToTileXY:t(559),WorldToTileY:t(256)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),h=function(r,a,s){var i=e(r,a,!0,s),n=e(r,a-1,!0,s),f=e(r,a+1,!0,s),o=e(r-1,a,!0,s),u=e(r+1,a,!0,s),d=i&&i.collides;return d&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),n&&n.collides&&(d&&(i.faceTop=!1),n.faceBottom=!d),f&&f.collides&&(d&&(i.faceBottom=!1),f.faceTop=!d),o&&o.collides&&(d&&(i.faceLeft=!1),o.faceRight=!d),u&&u.collides&&(d&&(i.faceRight=!1),u.faceLeft=!d),i&&!i.collides&&i.resetFaces(),i};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=r.baseTileWidth,s=r.tilemapLayer,i=0;return s&&(h||(h=s.scene.cameras.main),i=s.x+h.scrollX*(1-s.scrollFactorX),a*=s.scaleX),i+e*a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=r.baseTileHeight,s=r.tilemapLayer,i=0;return s&&(h||(h=s.scene.cameras.main),i=s.y+h.scrollY*(1-s.scrollFactorY),a*=s.scaleY),i+e*a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h===void 0&&(h=!0);var s=a.baseTileWidth,i=a.tilemapLayer;return i&&(r||(r=i.scene.cameras.main),e=e-(i.x+r.scrollX*(1-i.scrollFactorX)),s*=i.scaleX),h?Math.floor(e/s):e/s};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h===void 0&&(h=!0);var s=a.baseTileHeight,i=a.tilemapLayer;return i&&(r||(r=i.scene.cameras.main),e=e-(i.y+r.scrollY*(1-i.scrollFactorY)),s*=i.scaleY),h?Math.floor(e/s):e/s};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),h=t(119),r=t(252),a=t(72),s=function(i,n,f,o,u){if(o===void 0&&(o=!0),!h(n,f,u))return null;var d=u.data[f][n],c=d&&d.collides;if(i instanceof e)u.data[f][n]===null&&(u.data[f][n]=new e(u,i.index,n,f,u.tileWidth,u.tileHeight)),u.data[f][n].copy(i);else{var v=i;u.data[f][n]===null?u.data[f][n]=new e(u,v,n,f,u.tileWidth,u.tileHeight):u.data[f][n].index=v}var p=u.data[f][n],x=u.collideIndexes.indexOf(p.index)!==-1;return a(p,x),o&&c!==p.collides&&r(n,f,u),p};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=function(r){return r=r.toLowerCase(),r==="isometric"?e.ISOMETRIC:r==="staggered"?e.STAGGERED:r==="hexagonal"?e.HEXAGONAL:e.ORTHOGONAL};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),h=t(120),r=t(121),a=t(85),s=function(i,n,f,o,u){for(var d=new h({tileWidth:f,tileHeight:o}),c=new r({name:i,tileWidth:f,tileHeight:o,format:e.ARRAY_2D,layers:[d]}),v=[],p=n.length,x=0,y=0;y<n.length;y++){v[y]=[];for(var S=n[y],E=0;E<S.length;E++){var A=parseInt(S[E],10);isNaN(A)||A===-1?v[y][E]=u?null:new a(d,-1,E,y,f,o):v[y][E]=new a(d,A,E,y,f,o)}x===0&&(x=S.length)}return c.width=d.width=x,c.height=d.height=p,c.widthInPixels=d.widthInPixels=x*f,c.heightInPixels=d.heightInPixels=p*o,d.data=v,c};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(571),h=t(261),r=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(i,n,f){n===void 0&&(n=0),f===void 0&&(f=0);var o=e(i,a);if(o.x+=n,o.y+=f,i.gid){var u=h(i.gid);o.gid=u.gid,o.flippedHorizontal=u.flippedHorizontal,o.flippedVertical=u.flippedVertical,o.flippedAntiDiagonal=u.flippedAntiDiagonal}else i.polyline?o.polyline=i.polyline.map(r):i.polygon?o.polygon=i.polygon.map(r):i.ellipse?o.ellipse=i.ellipse:i.text?o.text=i.text:i.point?o.point=!0:o.rectangle=!0;return o};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=2147483648,e=1073741824,h=536870912,r=function(a){var s=!!(a&t),i=!!(a&e),n=!!(a&h);a=a&536870911;var f=0,o=!1;return s&&i&&n?(f=Math.PI/2,o=!0):s&&i&&!n?(f=Math.PI,o=!1):s&&!i&&n?(f=Math.PI/2,o=!1):s&&!i&&!n?(f=0,o=!0):!s&&i&&n?(f=3*Math.PI/2,o=!1):!s&&i&&!n?(f=Math.PI,o=!0):!s&&!i&&n?(f=3*Math.PI/2,o=!0):!s&&!i&&!n&&(f=0,o=!1),{gid:a,flippedHorizontal:s,flippedVertical:i,flippedAntiDiagonal:n,rotation:f,flipped:o}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),h=t(121),r=t(564),a=t(580),s=function(i,n,f,o,u,d,c,v){f===void 0&&(f=32),o===void 0&&(o=32),u===void 0&&(u=10),d===void 0&&(d=10),v===void 0&&(v=!1);var p=null;if(Array.isArray(c)){var x=n!==void 0?n:"map";p=r(x,e.ARRAY_2D,c,f,o,v)}else if(n!==void 0){var y=i.cache.tilemap.get(n);y?p=r(n,y.format,y.data,f,o,v):console.warn("No map data found for key "+n)}return p===null&&(p=new h({tileWidth:f,tileHeight:o,width:u,height:d})),new a(i,p)};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),h=function(r){var a=e(r,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(s){return!!s.getActive&&typeof s.getActive=="function"}function e(s){return!!s.getStart&&typeof s.getStart=="function"}function h(s){return!!s.getEnd&&typeof s.getEnd=="function"}function r(s){return e(s)||h(s)||t(s)}var a=function(s,i){var n,f=function(A,M,L){return L},o=function(A,M,L){return L},u=null,d=typeof i;if(d==="number")f=function(){return i};else if(d==="string"){var c=i[0],v=parseFloat(i.substr(2));switch(c){case"+":f=function(A,M,L){return L+v};break;case"-":f=function(A,M,L){return L-v};break;case"*":f=function(A,M,L){return L*v};break;case"/":f=function(A,M,L){return L/v};break;default:f=function(){return parseFloat(i)}}}else if(d==="function")f=i;else if(d==="object")if(r(i))t(i)&&(u=i.getActive),h(i)&&(f=i.getEnd),e(i)&&(o=i.getStart);else if(i.hasOwnProperty("value"))n=a(s,i.value);else{var p=i.hasOwnProperty("to"),x=i.hasOwnProperty("from"),y=i.hasOwnProperty("start");if(p&&(x||y)){if(n=a(s,i.to),y){var S=a(s,i.start);n.getActive=S.getEnd}if(x){var E=a(s,i.from);n.getStart=E.getEnd}}}return n||(n={getActive:u,getEnd:f,getStart:o}),n};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(267),a=t(16),s=t(5),i=t(100),n=t(14),f=new e({Extends:h,initialize:function(u,d,c){h.call(this),this.parent=u,this.parentIsTimeline=u.hasOwnProperty("isTimeline"),this.data=d,this.totalData=d.length,this.targets=c,this.totalTargets=c.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=i.PENDING_ADD,this._pausedState=i.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(o){return o===void 0&&(o=0),this.data[o].current},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===i.ACTIVE},isPaused:function(){return this.state===i.PAUSED},hasTarget:function(o){return this.targets.indexOf(o)!==-1},updateTo:function(o,u,d){d===void 0&&(d=!1);for(var c=0;c<this.totalData;c++){var v=this.data[c];v.key===o&&(v.end=u,d&&(v.start=v.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===i.ACTIVE?this.seek(0):this.state===i.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===i.PENDING_ADD?this:this.play()},calcDuration:function(){for(var o=0,u=n.MAX_SAFE_INTEGER,d=this.data,c=0;c<this.totalData;c++){var v=d[c];v.t1=v.duration+v.hold,v.yoyo&&(v.t1+=v.duration),v.t2=v.t1+v.repeatDelay,v.totalDuration=v.delay+v.t1,v.repeat===-1?v.totalDuration+=v.t2*999999999999:v.repeat>0&&(v.totalDuration+=v.t2*v.repeat),v.totalDuration>o&&(o=v.totalDuration),v.delay<u&&(u=v.delay)}this.duration=Math.max(o,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=u},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=i.PENDING_ADD,this._pausedState=i.INIT,!1;for(var o=this.data,u=this.totalTargets,d=0;d<this.totalData;d++){var c=o[d],v=c.target,p=c.gen,x=c.key,y=c.index;c.delay=p.delay(v,x,0,y,u,this),c.duration=Math.max(p.duration(v,x,0,y,u,this),.001),c.hold=p.hold(v,x,0,y,u,this),c.repeat=p.repeat(v,x,0,y,u,this),c.repeatDelay=p.repeatDelay(v,x,0,y,u,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=i.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(r.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=i.LOOP_DELAY):(this.state=i.ACTIVE,this.dispatchTweenEvent(r.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=i.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(r.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===i.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=i.PAUSED,this)},play:function(o){o===void 0&&(o=!1);var u=this.state;return u===i.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=i.ACTIVE,this):u===i.ACTIVE||u===i.PENDING_ADD&&this._pausedState===i.PENDING_ADD?this:!this.parentIsTimeline&&(u===i.PENDING_REMOVE||u===i.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(o),this.calculatedOffset===0?this.state=i.ACTIVE:(this.countdown=this.calculatedOffset,this.state=i.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(o),this.state=i.ACTIVE,this.makeActive()),this)},resetTweenData:function(o){for(var u=this.data,d=this.totalData,c=this.totalTargets,v=0;v<d;v++){var p=u[v],x=p.target,y=p.key,S=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,o?(p.start=p.getStartValue(x,y,p.start,S,c,this),p.end=p.getEndValue(x,y,p.end,S,c,this),p.current=p.start,p.state=i.PLAYING_FORWARD):p.state=i.PENDING_RENDER,p.delay>0&&(p.elapsed=p.delay,p.state=i.DELAY),p.getActiveValue&&(x[y]=p.getActiveValue(p.target,p.key,p.start))}},resume:function(){return this.state===i.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(o,u){u===void 0&&(u=16.6),this.state===i.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var d=this.data,c=this.totalTargets,v=0;v<this.totalData;v++){var p=d[v],x=p.target,y=p.gen,S=p.key,E=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,p.delay=y.delay(x,S,0,E,c,this),p.duration=Math.max(y.duration(x,S,0,E,c,this),.001),p.hold=y.hold(x,S,0,E,c,this),p.repeat=y.repeat(x,S,0,E,c,this),p.repeatDelay=y.repeatDelay(x,S,0,E,c,this),p.current=p.start,p.state=i.PLAYING_FORWARD,this.updateTweenData(this,p,0,E,c),p.delay>0&&(p.elapsed=p.delay,p.state=i.DELAY)}this.calcDuration();var A=!1;this.state===i.PAUSED&&(A=!0,this.state=i.ACTIVE),this.isSeeking=!0;do this.update(0,u);while(this.totalProgress<o);return this.isSeeking=!1,A&&(this.state=i.PAUSED),this},setCallback:function(o,u,d,c){return this.callbacks[o]={func:u,scope:c,params:d},this},complete:function(o){return o===void 0&&(o=0),o?(this.state=i.COMPLETE_DELAY,this.countdown=o):(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(r.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(o){return this.state===i.ACTIVE&&o!==void 0&&this.seek(o),this.state!==i.REMOVED&&((this.state===i.PAUSED||this.state===i.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(r.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=i.PENDING_REMOVE),this},update:function(o,u){if(this.state===i.PAUSED)return!1;switch(this.useFrames&&(u=1*this.parent.timeScale),u*=this.timeScale,this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case i.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(r.TWEEN_START,this.callbacks.onStart)));for(var d=!1,c=0;c<this.totalData;c++){var v=this.data[c];this.updateTweenData(this,v,u)&&(d=!0)}d||this.nextState();break;case i.LOOP_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=i.ACTIVE,this.dispatchTweenEvent(r.TWEEN_LOOP,this.callbacks.onLoop));break;case i.OFFSET_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=i.ACTIVE);break;case i.COMPLETE_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(r.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===i.PENDING_REMOVE},dispatchTweenDataEvent:function(o,u,d){this.isSeeking||(this.emit(o,this,d.key,d.target,d.current,d.previous),u&&(u.params[1]=d.target,u.func.apply(u.scope,u.params)))},dispatchTweenEvent:function(o,u){this.isSeeking||(this.emit(o,this,this.targets),u&&(u.params[1]=this.targets,u.func.apply(u.scope,u.params)))},setStateFromEnd:function(o,u,d){return u.yoyo?(u.elapsed=d,u.progress=d/u.duration,u.flipX&&u.target.toggleFlipX(),u.flipY&&u.target.toggleFlipY(),this.dispatchTweenDataEvent(r.TWEEN_YOYO,o.callbacks.onYoyo,u),u.start=u.getStartValue(u.target,u.key,u.start,u.index,o.totalTargets,o),i.PLAYING_BACKWARD):u.repeatCounter>0?(u.repeatCounter--,u.elapsed=d,u.progress=d/u.duration,u.flipX&&u.target.toggleFlipX(),u.flipY&&u.target.toggleFlipY(),u.start=u.getStartValue(u.target,u.key,u.start,u.index,o.totalTargets,o),u.end=u.getEndValue(u.target,u.key,u.start,u.index,o.totalTargets,o),u.repeatDelay>0?(u.elapsed=u.repeatDelay-d,u.current=u.start,u.target[u.key]=u.current,i.REPEAT_DELAY):(this.dispatchTweenDataEvent(r.TWEEN_REPEAT,o.callbacks.onRepeat,u),i.PLAYING_FORWARD)):i.COMPLETE},setStateFromStart:function(o,u,d){return u.repeatCounter>0?(u.repeatCounter--,u.elapsed=d,u.progress=d/u.duration,u.flipX&&u.target.toggleFlipX(),u.flipY&&u.target.toggleFlipY(),u.end=u.getEndValue(u.target,u.key,u.start,u.index,o.totalTargets,o),u.repeatDelay>0?(u.elapsed=u.repeatDelay-d,u.current=u.start,u.target[u.key]=u.current,i.REPEAT_DELAY):(this.dispatchTweenDataEvent(r.TWEEN_REPEAT,o.callbacks.onRepeat,u),i.PLAYING_FORWARD)):i.COMPLETE},updateTweenData:function(o,u,d){var c=u.target;switch(u.state){case i.PLAYING_FORWARD:case i.PLAYING_BACKWARD:if(!c){u.state=i.COMPLETE;break}var v=u.elapsed,p=u.duration,x=0;v+=d,v>p&&(x=v-p,v=p);var y=u.state===i.PLAYING_FORWARD,S=v/p;if(u.elapsed=v,u.progress=S,u.previous=u.current,S===1)y?(u.current=u.end,c[u.key]=u.end,u.hold>0?(u.elapsed=u.hold-x,u.state=i.HOLD_DELAY):u.state=this.setStateFromEnd(o,u,x)):(u.current=u.start,c[u.key]=u.start,u.state=this.setStateFromStart(o,u,x));else{var E=y?u.ease(S):u.ease(1-S);u.current=u.start+(u.end-u.start)*E,c[u.key]=u.current}this.dispatchTweenDataEvent(r.TWEEN_UPDATE,o.callbacks.onUpdate,u);break;case i.DELAY:u.elapsed-=d,u.elapsed<=0&&(u.elapsed=Math.abs(u.elapsed),u.state=i.PENDING_RENDER);break;case i.REPEAT_DELAY:u.elapsed-=d,u.elapsed<=0&&(u.elapsed=Math.abs(u.elapsed),u.state=i.PLAYING_FORWARD,this.dispatchTweenDataEvent(r.TWEEN_REPEAT,o.callbacks.onRepeat,u));break;case i.HOLD_DELAY:u.elapsed-=d,u.elapsed<=0&&(u.state=this.setStateFromEnd(o,u,Math.abs(u.elapsed)));break;case i.PENDING_RENDER:c?(u.start=u.getStartValue(c,u.key,c[u.key],u.index,o.totalTargets,o),u.end=u.getEndValue(c,u.key,u.start,u.index,o.totalTargets,o),u.current=u.start,c[u.key]=u.start,u.state=i.PLAYING_FORWARD):u.state=i.COMPLETE;break}return u.state!==i.COMPLETE}});f.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],s.register("tween",function(o){return this.scene.sys.tweens.add(o)}),a.register("tween",function(o){return this.scene.sys.tweens.create(o)}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TIMELINE_COMPLETE:t(1466),TIMELINE_LOOP:t(1467),TIMELINE_PAUSE:t(1468),TIMELINE_RESUME:t(1469),TIMELINE_START:t(1470),TIMELINE_UPDATE:t(1471),TWEEN_ACTIVE:t(1472),TWEEN_COMPLETE:t(1473),TWEEN_LOOP:t(1474),TWEEN_REPEAT:t(1475),TWEEN_START:t(1476),TWEEN_STOP:t(1477),TWEEN_UPDATE:t(1478),TWEEN_YOYO:t(1479)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s,i,n,f,o,u,d,c,v,p,x){return{target:e,index:h,key:r,getActiveValue:i,getEndValue:a,getStartValue:s,ease:n,duration:0,totalDuration:0,delay:0,yoyo:u,hold:0,repeat:0,repeatDelay:0,flipX:p,flipY:x,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:f,duration:o,hold:d,repeat:c,repeatDelay:v},state:0}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),h=function(r){return e(r,-Math.PI,Math.PI)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),h=function(r){return e(r,-180,180)};l.exports=h},function(l,g,t){var e={};l.exports=e;var h=t(83),r=t(32);(function(){e.fromVertices=function(a){for(var s={},i=0;i<a.length;i++){var n=(i+1)%a.length,f=h.normalise({x:a[n].y-a[i].y,y:a[i].x-a[n].x}),o=f.y===0?1/0:f.x/f.y;o=o.toFixed(3).toString(),s[o]=f}return r.values(s)},e.rotate=function(a,s){if(s!==0)for(var i=Math.cos(s),n=Math.sin(s),f=0;f<a.length;f++){var o=a[f],u;u=o.x*i-o.y*n,o.y=o.x*n+o.y*i,o.x=u}}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_ADD:t(1504),AFTER_REMOVE:t(1505),AFTER_UPDATE:t(1506),BEFORE_ADD:t(1507),BEFORE_REMOVE:t(1508),BEFORE_UPDATE:t(1509),COLLISION_ACTIVE:t(1510),COLLISION_END:t(1511),COLLISION_START:t(1512),DRAG_END:t(1513),DRAG:t(1514),DRAG_START:t(1515),PAUSE:t(1516),RESUME:t(1517),SLEEP_END:t(1518),SLEEP_START:t(1519)}},function(l,g,t){var e={};l.exports=e;var h=t(274),r=t(250),a=t(84);(function(){e.collisions=function(s,i){for(var n=[],f=i.pairs.table,o=i.metrics,u=0;u<s.length;u++){var d=s[u][0],c=s[u][1];if(!((d.isStatic||d.isSleeping)&&(c.isStatic||c.isSleeping))&&e.canCollide(d.collisionFilter,c.collisionFilter)&&(o.midphaseTests+=1,a.overlaps(d.bounds,c.bounds)))for(var v=d.parts.length>1?1:0;v<d.parts.length;v++)for(var p=d.parts[v],x=c.parts.length>1?1:0;x<c.parts.length;x++){var y=c.parts[x];if(p===d&&y===c||a.overlaps(p.bounds,y.bounds)){var S=r.id(p,y),E=f[S],A;E&&E.isActive?A=E.collision:A=null;var M=h.collides(p,y,A);o.narrowphaseTests+=1,M.reused&&(o.narrowReuseCount+=1),M.collided&&(n.push(M),o.narrowDetections+=1)}}}return n},e.canCollide=function(s,i){return s.group===i.group&&s.group!==0?s.group>0:(s.mask&i.category)!==0&&(i.mask&s.category)!==0}})()},function(l,g,t){var e={};l.exports=e;var h=t(64),r=t(83);(function(){e.collides=function(a,s,i){var n,f,o,u,d=!1;if(i){var c=a.parent,v=s.parent,p=c.speed*c.speed+c.angularSpeed*c.angularSpeed+v.speed*v.speed+v.angularSpeed*v.angularSpeed;d=i&&i.collided&&p<.2,u=i}else u={collided:!1,bodyA:a,bodyB:s};if(i&&d){var x=u.axisBody,y=x===a?s:a,S=[x.axes[i.axisNumber]];if(o=e._overlapAxes(x.vertices,y.vertices,S),u.reused=!0,o.overlap<=0)return u.collided=!1,u}else{if(n=e._overlapAxes(a.vertices,s.vertices,a.axes),n.overlap<=0||(f=e._overlapAxes(s.vertices,a.vertices,s.axes),f.overlap<=0))return u.collided=!1,u;n.overlap<f.overlap?(o=n,u.axisBody=a):(o=f,u.axisBody=s),u.axisNumber=o.axisNumber}u.bodyA=a.id<s.id?a:s,u.bodyB=a.id<s.id?s:a,u.collided=!0,u.depth=o.overlap,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent,a=u.bodyA,s=u.bodyB,r.dot(o.axis,r.sub(s.position,a.position))<0?u.normal={x:o.axis.x,y:o.axis.y}:u.normal={x:-o.axis.x,y:-o.axis.y},u.tangent=r.perp(u.normal),u.penetration=u.penetration||{},u.penetration.x=u.normal.x*u.depth,u.penetration.y=u.normal.y*u.depth;var E=e._findSupports(a,s,u.normal),A=[];if(h.contains(a.vertices,E[0])&&A.push(E[0]),h.contains(a.vertices,E[1])&&A.push(E[1]),A.length<2){var M=e._findSupports(s,a,r.neg(u.normal));h.contains(s.vertices,M[0])&&A.push(M[0]),A.length<2&&h.contains(s.vertices,M[1])&&A.push(M[1])}return A.length<1&&(A=[E[0]]),u.supports=A,u},e._overlapAxes=function(a,s,i){for(var n=r._temp[0],f=r._temp[1],o={overlap:Number.MAX_VALUE},u,d,c=0;c<i.length;c++){if(d=i[c],e._projectToAxis(n,a,d),e._projectToAxis(f,s,d),u=Math.min(n.max-f.min,f.max-n.min),u<=0)return o.overlap=u,o;u<o.overlap&&(o.overlap=u,o.axis=d,o.axisNumber=c)}return o},e._projectToAxis=function(a,s,i){for(var n=r.dot(s[0],i),f=n,o=1;o<s.length;o+=1){var u=r.dot(s[o],i);u>f?f=u:u<n&&(n=u)}a.min=n,a.max=f},e._findSupports=function(a,s,i){for(var n=Number.MAX_VALUE,f=r._temp[0],o=s.vertices,u=a.position,d,c,v,p,x=0;x<o.length;x++)c=o[x],f.x=c.x-u.x,f.y=c.y-u.y,d=-r.dot(i,f),d<n&&(n=d,v=c);var y=v.index-1>=0?v.index-1:o.length-1;c=o[y],f.x=c.x-u.x,f.y=c.y-u.y,n=-r.dot(i,f),p=c;var S=(v.index+1)%o.length;return c=o[S],f.x=c.x-u.x,f.y=c.y-u.y,d=-r.dot(i,f),d<n&&(p=c),[v,p]}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AlignTo:t(601),Angle:t(602),Call:t(603),GetFirst:t(604),GetLast:t(605),GridAlign:t(606),IncAlpha:t(678),IncX:t(679),IncXY:t(680),IncY:t(681),PlaceOnCircle:t(682),PlaceOnEllipse:t(683),PlaceOnLine:t(684),PlaceOnRectangle:t(685),PlaceOnTriangle:t(686),PlayAnimation:t(687),PropertyValueInc:t(46),PropertyValueSet:t(27),RandomCircle:t(688),RandomEllipse:t(689),RandomLine:t(690),RandomRectangle:t(691),RandomTriangle:t(692),Rotate:t(693),RotateAround:t(694),RotateAroundDistance:t(695),ScaleX:t(696),ScaleXY:t(697),ScaleY:t(698),SetAlpha:t(699),SetBlendMode:t(700),SetDepth:t(701),SetHitArea:t(702),SetOrigin:t(703),SetRotation:t(704),SetScale:t(705),SetScaleX:t(706),SetScaleY:t(707),SetScrollFactor:t(708),SetScrollFactorX:t(709),SetScrollFactorY:t(710),SetTint:t(711),SetVisible:t(712),SetX:t(713),SetXY:t(714),SetY:t(715),ShiftPosition:t(716),Shuffle:t(717),SmootherStep:t(718),SmoothStep:t(719),Spread:t(720),ToggleVisible:t(721),WrapInRectangle:t(722)}},function(l,g,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),h=[];h[e.BOTTOM_CENTER]=t(277),h[e.BOTTOM_LEFT]=t(278),h[e.BOTTOM_RIGHT]=t(279),h[e.LEFT_BOTTOM]=t(280),h[e.LEFT_CENTER]=t(281),h[e.LEFT_TOP]=t(282),h[e.RIGHT_BOTTOM]=t(283),h[e.RIGHT_CENTER]=t(284),h[e.RIGHT_TOP]=t(285),h[e.TOP_CENTER]=t(286),h[e.TOP_LEFT]=t(287),h[e.TOP_RIGHT]=t(288);var r=function(a,s,i,n,f){return h[i](a,s,n,f)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(87),r=t(88),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,h(n)+f),a(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(43),r=t(53),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,h(n)-f),a(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(44),r=t(54),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,h(n)+f),a(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(43),r=t(55),a=t(54),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)-f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),h=t(43),r=t(90),a=t(54),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)-f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),h=t(45),r=t(54),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,e(n)-f),a(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(44),r=t(55),a=t(53),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)+f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),h=t(44),r=t(90),a=t(53),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)+f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),h=t(45),r=t(53),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,e(n)+f),a(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),h=t(45),r=t(55),a=t(88),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,e(n)+f),r(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),h=t(45),r=t(55),a=t(53),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,e(n)-f),r(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),h=t(45),r=t(55),a=t(54),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,e(n)+f),r(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),h=[];h[e.BOTTOM_CENTER]=t(290),h[e.BOTTOM_LEFT]=t(291),h[e.BOTTOM_RIGHT]=t(292),h[e.CENTER]=t(293),h[e.LEFT_CENTER]=t(295),h[e.RIGHT_CENTER]=t(296),h[e.TOP_CENTER]=t(297),h[e.TOP_LEFT]=t(298),h[e.TOP_RIGHT]=t(299),h[e.LEFT_BOTTOM]=h[e.BOTTOM_LEFT],h[e.LEFT_TOP]=h[e.TOP_LEFT],h[e.RIGHT_BOTTOM]=h[e.BOTTOM_RIGHT],h[e.RIGHT_TOP]=h[e.TOP_RIGHT];var r=function(a,s,i,n,f){return h[i](a,s,n,f)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(87),r=t(55),a=t(88),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)+f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(43),r=t(55),a=t(53),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)-f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(44),r=t(55),a=t(54),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)+f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(294),h=t(87),r=t(89),a=function(s,i,n,f){return n===void 0&&(n=0),f===void 0&&(f=0),e(s,h(i)+n,r(i)+f),s};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(88),h=t(90),r=function(a,s,i){return e(a,s),h(a,i)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),h=t(43),r=t(90),a=t(53),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)-f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),h=t(44),r=t(90),a=t(54),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),a(i,h(n)+f),r(i,e(n)+o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),h=t(45),r=t(88),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,e(n)+f),a(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),h=t(45),r=t(53),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,e(n)-f),a(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),h=t(45),r=t(54),a=t(52),s=function(i,n,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(i,e(n)+f),a(i,h(n)-o),i};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(169),h=t(98),r=t(14),a=t(4),s=function(i,n,f){f===void 0&&(f=new a);var o=h(n,0,r.PI2);return e(i,o,f)};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(302),h=t(169),r=t(98),a=t(14),s=function(i,n,f,o){o===void 0&&(o=[]),!n&&f>0&&(n=e(i)/f);for(var u=0;u<n;u++){var d=r(u/n,0,a.PI2);o.push(h(i,d))}return o};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(Math.PI*e.radius)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=2,r={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var s=e(a,0,1);this._alpha=s,s===0?this.renderFlags&=-3:this.renderFlags|=h}}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),h={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(r){typeof r=="string"&&(r=e[r]),r|=0,r>=-1&&(this._blendMode=r)}},setBlendMode:function(r){return this.blendMode=r,this}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(171),h=t(130),r=function(a,s,i,n){n===void 0&&(n=[]),!s&&i>0&&(s=h(a)/i);for(var f=0;f<s;f++){var o=f/s;n.push(e(a,o))}return n};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a,s){return s===void 0&&(s=new e),s.x=r.x1+(r.x2-r.x1)*a,s.y=r.y1+(r.y2-r.y1)*a,s};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=Math.cos(a),i=Math.sin(a),n=e.x-h,f=e.y-r;return e.x=n*s-f*i+h,e.y=n*i+f*s+r,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(310),h=t(311),r={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a){return a===void 0&&(this.texture||this.shader)&&(a=this),new e(this.scene,a)},createGeometryMask:function(a){return a===void 0&&this.type==="Graphics"&&(a=this),new h(this.scene,a)}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(22),r=t(91),a=new e({initialize:function(i,n){var f=i.sys.renderer;this.renderer=f,this.bitmapMask=n,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),i.sys.game.events.on(h.CONTEXT_RESTORED,this.createMask,this),f&&f.on(r.RESIZE,this.createMask,this)},createMask:function(){var s=this.renderer;if(!(!s||!s.gl)){this.mainTexture&&this.clearMask();var i=s.width,n=s.height,f=(i&i-1)===0&&(n&n-1)===0,o=s.gl,u=f?o.REPEAT:o.CLAMP_TO_EDGE,d=o.LINEAR;this.mainTexture=s.createTexture2D(0,d,d,u,u,o.RGBA,null,i,n),this.maskTexture=s.createTexture2D(0,d,d,u,u,o.RGBA,null,i,n),this.mainFramebuffer=s.createFramebuffer(i,n,this.mainTexture,!0),this.maskFramebuffer=s.createFramebuffer(i,n,this.maskTexture,!0)}},clearMask:function(){var s=this.renderer;!s||!s.gl||!this.mainTexture||(s.deleteTexture(this.mainTexture),s.deleteTexture(this.maskTexture),s.deleteFramebuffer(this.mainFramebuffer),s.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,i,n){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,i,n)},postRenderWebGL:function(s,i){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(r.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(r){return this.geometryMask=r,this},setInvertAlpha:function(r){return r===void 0&&(r=!0),this.invertAlpha=r,this},preRenderWebGL:function(r,a,s){var i=r.gl;r.flush(),r.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),r.maskCount=0),r.currentCameraMask.mask!==this&&(r.currentMask.mask=this),r.maskStack.push({mask:this,camera:s}),this.applyStencil(r,s,!0),r.maskCount++},applyStencil:function(r,a,s){var i=r.gl,n=this.geometryMask,f=r.maskCount;i.colorMask(!1,!1,!1,!1),s?(i.stencilFunc(i.EQUAL,f,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,f+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),n.renderWebGL(r,n,a),r.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),s?this.invertAlpha?i.stencilFunc(i.NOTEQUAL,f+1,255):i.stencilFunc(i.EQUAL,f+1,255):this.invertAlpha?i.stencilFunc(i.NOTEQUAL,f,255):i.stencilFunc(i.EQUAL,f,255)},postRenderWebGL:function(r){var a=r.gl;r.maskStack.pop(),r.maskCount--,r.flush();var s=r.currentMask;if(r.maskStack.length===0)s.mask=null,a.disable(a.STENCIL_TEST);else{var i=r.maskStack[r.maskStack.length-1];i.mask.applyStencil(r,i.camera,!1),r.currentCameraMask.mask!==i.mask?(s.mask=i.mask,s.camera=i.camera):s.mask=null}},preRenderCanvas:function(r,a,s){var i=this.geometryMask;r.currentContext.save(),i.renderCanvas(r,i,s,null,null,!0),r.currentContext.clip()},postRenderCanvas:function(r){r.currentContext.restore()},destroy:function(){this.geometryMask=null}});l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,h){return h===void 0&&(h=e),this.scrollFactorX=e,this.scrollFactorY=h,this}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=t(25),r=t(177),a=t(269),s=t(270),i=t(3),n=4,f={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(o){this._scaleX=o,this._scaleY=o,o===0?this.renderFlags&=-5:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(o){this._scaleX=o,o===0?this.renderFlags&=-5:this.renderFlags|=n}},scaleY:{get:function(){return this._scaleY},set:function(o){this._scaleY=o,o===0?this.renderFlags&=-5:this.renderFlags|=n}},angle:{get:function(){return s(this._rotation*e.RAD_TO_DEG)},set:function(o){this.rotation=s(o)*e.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=a(o)}},setPosition:function(o,u,d,c){return o===void 0&&(o=0),u===void 0&&(u=o),d===void 0&&(d=0),c===void 0&&(c=0),this.x=o,this.y=u,this.z=d,this.w=c,this},copyPosition:function(o){return o.x!==void 0&&(this.x=o.x),o.y!==void 0&&(this.y=o.y),o.z!==void 0&&(this.z=o.z),o.w!==void 0&&(this.w=o.w),this},setRandomPosition:function(o,u,d,c){return o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=o+Math.random()*d,this.y=u+Math.random()*c,this},setRotation:function(o){return o===void 0&&(o=0),this.rotation=o,this},setAngle:function(o){return o===void 0&&(o=0),this.angle=o,this},setScale:function(o,u){return o===void 0&&(o=1),u===void 0&&(u=o),this.scaleX=o,this.scaleY=u,this},setX:function(o){return o===void 0&&(o=0),this.x=o,this},setY:function(o){return o===void 0&&(o=0),this.y=o,this},setZ:function(o){return o===void 0&&(o=0),this.z=o,this},setW:function(o){return o===void 0&&(o=0),this.w=o,this},getLocalTransformMatrix:function(o){return o===void 0&&(o=new h),o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(o,u){o===void 0&&(o=new h),u===void 0&&(u=new h);var d=this.parentContainer;if(!d)return this.getLocalTransformMatrix(o);for(o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);d;)u.applyITRS(d.x,d.y,d._rotation,d._scaleX,d._scaleY),u.multiply(o,o),d=d.parentContainer;return o},getLocalPoint:function(o,u,d,c){d||(d=new i),c||(c=this.scene.sys.cameras.main);var v=c.scrollX,p=c.scrollY,x=o+v*this.scrollFactorX-v,y=u+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(x,y,d):r(x,y,this.x,this.y,this.rotation,this.scaleX,this.scaleY,d),this._originComponent&&(d.x+=this._displayOriginX,d.y+=this._displayOriginY),d},getParentRotation:function(){for(var o=0,u=this.parentContainer;u;)o+=u.rotation,u=u.parentContainer;return o}};l.exports=f},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=t):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CHANGE_DATA:t(638),CHANGE_DATA_KEY:t(639),DESTROY:t(640),REMOVE_DATA:t(641),SET_DATA:t(642)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),h=t(4),r=function(a,s,i,n){if(n===void 0&&(n=[]),!s&&!i)return n;s?i=Math.round(e(a)/s):s=e(a)/i;for(var f=a.x,o=a.y,u=0,d=0;d<i;d++)switch(n.push(new h(f,o)),u){case 0:f+=s,f>=a.right&&(u=1,o+=f-a.right,f=a.right);break;case 1:o+=s,o>=a.bottom&&(u=2,f-=o-a.bottom,o=a.bottom);break;case 2:f-=s,f<=a.left&&(u=3,o-=a.left-f,f=a.left);break;case 3:o-=s,o<=a.top&&(u=0,o=a.top);break}return n};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){h===void 0&&(h=1),r===void 0&&(r=[]);var a=Math.round(e.x1),s=Math.round(e.y1),i=Math.round(e.x2),n=Math.round(e.y2),f=Math.abs(i-a),o=Math.abs(n-s),u=a<i?1:-1,d=s<n?1:-1,c=f-o;r.push({x:a,y:s});for(var v=1;!(a===i&&s===n);){var p=c<<1;p>-o&&(c-=o,a+=u),p<f&&(c+=f,s+=d),v%h===0&&r.push({x:a,y:s}),v++}return r};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(h.length){if(h.length===1)return h[0]}else return NaN;var a=1,s,i;if(r){if(e<h[0][r])return h[0];for(;h[a][r]<e;)a++}else for(;h[a]<e;)a++;return a>h.length&&(a=h.length),r?(s=h[a-1][r],i=h[a][r],i-e<=e-s?h[a]:h[a-1]):(s=h[a-1],i=h[a],i-e<=e-s?i:s)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n,f){f===void 0&&(f=!1),this.textureKey=a,this.textureFrame=s,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h=/\D/g;return e.sort(function(r,a){return parseInt(r.replace(h,""),10)-parseInt(a.replace(h,""),10)}),e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(185),h=t(0),r=t(102),a=t(9),s=t(132),i=t(22),n=t(2),f=t(6),o=t(186),u=t(322),d=new h({Extends:a,initialize:function(v){a.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new r,this.mixes=new r,this.paused=!1,this.name="AnimationManager",v.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(c,v,p){var x=this.anims,y=this.mixes,S=typeof c=="string"?c:c.key,E=typeof v=="string"?v:v.key;if(x.has(S)&&x.has(E)){var A=y.get(S);A||(A={}),A[E]=p,y.set(S,A)}return this},removeMix:function(c,v){var p=this.mixes,x=typeof c=="string"?c:c.key,y=p.get(x);if(y)if(v){var S=typeof v=="string"?v:v.key;y.hasOwnProperty(S)&&delete y[S]}else v||p.delete(x);return this},getMix:function(c,v){var p=this.mixes,x=typeof c=="string"?c:c.key,y=typeof v=="string"?v:v.key,S=p.get(x);return S&&S.hasOwnProperty(y)?S[y]:0},add:function(c,v){return this.anims.has(c)?(console.warn("Animation key exists: "+c),this):(v.key=c,this.anims.set(c,v),this.emit(s.ADD_ANIMATION,c,v),this)},exists:function(c){return this.anims.has(c)},createFromAseprite:function(c,v){var p=[],x=this.game.cache.json.get(c);if(!x)return p;var y=this,S=f(x,"meta",null),E=f(x,"frames",null);if(S&&E){var A=f(S,"frameTags",[]);A.forEach(function(M){var L=[],F=n(M,"name",null),O=n(M,"from",0),B=n(M,"to",0),N=n(M,"direction","forward");if(F&&(!v||v&&v.indexOf(F)>-1)){for(var G=[],Y=Number.MAX_SAFE_INTEGER,H=O;H<=B;H++){var b=H.toString(),Z=E[b];if(Z){var $=n(Z,"duration",Number.MAX_SAFE_INTEGER);$<Y&&(Y=$),G.push({frame:b,duration:$})}}G.forEach(function(z){L.push({key:c,frame:z.frame,duration:Y-z.duration})});var w=Y*L.length;N==="reverse"&&(L=L.reverse());var D={key:F,frames:L,duration:w,yoyo:N==="pingpong"},V=y.create(D);V&&p.push(V)}})}return p},create:function(c){var v=c.key,p=!1;return v&&(p=this.get(v),p||(p=new e(this,v,c),this.anims.set(v,p),this.emit(s.ADD_ANIMATION,v,p))),p},fromJSON:function(c,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof c=="string"&&(c=JSON.parse(c));var p=[];if(c.hasOwnProperty("anims")&&Array.isArray(c.anims)){for(var x=0;x<c.anims.length;x++)p.push(this.create(c.anims[x]));c.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=c.globalTimeScale)}else c.hasOwnProperty("key")&&c.type==="frame"&&p.push(this.create(c));return p},generateFrameNames:function(c,v){var p=f(v,"prefix",""),x=f(v,"start",0),y=f(v,"end",0),S=f(v,"suffix",""),E=f(v,"zeroPad",0),A=f(v,"outputArray",[]),M=f(v,"frames",!1),L=this.textureManager.get(c);if(!L)return A;var F;if(v)for(M||(M=u(x,y)),F=0;F<M.length;F++){var O=p+o(M[F],E,"0",1)+S;L.has(O)?A.push({key:c,frame:O}):console.warn("generateFrameNames: Frame missing: "+O+" from texture: "+c)}else for(M=L.getFrameNames(),F=0;F<M.length;F++)A.push({key:c,frame:M[F]});return A},generateFrameNumbers:function(c,v){var p=f(v,"start",0),x=f(v,"end",-1),y=f(v,"first",!1),S=f(v,"outputArray",[]),E=f(v,"frames",!1),A=this.textureManager.get(c);if(!A)return S;y&&A.has(y)&&S.push({key:c,frame:y}),E||(x===-1&&(x=A.frameTotal-2),E=u(p,x));for(var M=0;M<E.length;M++)A.has(E[M])?S.push({key:c,frame:E[M]}):console.warn("generateFrameNumbers: Frame "+M+" missing from texture: "+c);return S},get:function(c){return this.anims.get(c)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(c,v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++)v[p].anims.play(c);return this},staggerPlay:function(c,v,p,x){p===void 0&&(p=0),x===void 0&&(x=!0),Array.isArray(v)||(v=[v]);var y=v.length;x||y--;for(var S=0;S<v.length;S++){var E=p<0?Math.abs(p)*(y-S):p*S;v[S].anims.playAfterDelay(c,E)}return this},remove:function(c){var v=this.get(c);return v&&(this.emit(s.REMOVE_ANIMATION,c,v),this.anims.delete(c),this.removeMix(c)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(c){var v={anims:[],globalTimeScale:this.globalTimeScale};return c!==void 0&&c!==""?v.anims.push(this.anims.get(c).toJSON()):this.anims.each(function(p,x){v.anims.push(x.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});l.exports=d},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=[],i,n=!1;if((r||a)&&(n=!0,r||(r=""),a||(a="")),h<e)for(i=e;i>=h;i--)n?s.push(r+i.toString()+a):s.push(i);else for(i=e;i<=h;i++)n?s.push(r+i.toString()+a):s.push(i);return s};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(102),r=t(9),a=t(324),s=new e({initialize:function(){this.entries=new h,this.events=new r},add:function(i,n){return this.entries.set(i,n),this.events.emit(a.ADD,this,i,n),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var n=this.get(i);return n&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(736),REMOVE:t(737)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(323),h=t(0),r=t(22),a=new h({initialize:function(i){this.game=i,this.binary=new e,this.bitmapFont=new e,this.json=new e,this.physics=new e,this.shader=new e,this.audio=new e,this.video=new e,this.text=new e,this.html=new e,this.obj=new e,this.tilemap=new e,this.xml=new e,this.custom={},this.game.events.once(r.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new e),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<s.length;i++)this[s[i]].destroy(),this[s[i]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),h=t(190),r=t(18),a=t(0),s=t(11),i=t(333),n=t(37),f=t(135),o=t(10),u=t(3),d=new a({Extends:e,Mixins:[s.Flip,s.Tint,s.Pipeline],initialize:function(v,p,x,y){e.call(this,v,p,x,y),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(c,v){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=v):this.deadzone=new o(0,0,c,v),this._follow){var p=this.width/2,x=this.height/2,y=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(y,S),this.scrollX=y-p,this.scrollY=S-x}h(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,v,p,x,y,S){return this.fadeEffect.start(!1,c,v,p,x,!0,y,S)},fadeOut:function(c,v,p,x,y,S){return this.fadeEffect.start(!0,c,v,p,x,!0,y,S)},fadeFrom:function(c,v,p,x,y,S,E){return this.fadeEffect.start(!1,c,v,p,x,y,S,E)},fade:function(c,v,p,x,y,S,E){return this.fadeEffect.start(!0,c,v,p,x,y,S,E)},flash:function(c,v,p,x,y,S,E){return this.flashEffect.start(c,v,p,x,y,S,E)},shake:function(c,v,p,x,y){return this.shakeEffect.start(c,v,p,x,y)},pan:function(c,v,p,x,y,S,E){return this.panEffect.start(c,v,p,x,y,S,E)},rotateTo:function(c,v,p,x,y,S,E){return this.rotateToEffect.start(c,v,p,x,y,S,E)},zoomTo:function(c,v,p,x,y,S){return this.zoomEffect.start(c,v,p,x,y,S)},preRender:function(){this.renderList.length=0;var c=this.width,v=this.height,p=c*.5,x=v*.5,y=this.zoom,S=this.matrix,E=c*this.originX,A=v*this.originY,M=this._follow,L=this.deadzone,F=this.scrollX,O=this.scrollY;L&&h(L,this.midPoint.x,this.midPoint.y);var B=!1;if(M&&!this.panEffect.isRunning){var N=M.x-this.followOffset.x,G=M.y-this.followOffset.y;L?(N<L.x?F=f(F,F-(L.x-N),this.lerp.x):N>L.right&&(F=f(F,F+(N-L.right),this.lerp.x)),G<L.y?O=f(O,O-(L.y-G),this.lerp.y):G>L.bottom&&(O=f(O,O+(G-L.bottom),this.lerp.y))):(F=f(F,N-E,this.lerp.x),O=f(O,G-A,this.lerp.y)),B=!0}this.useBounds&&(F=this.clampX(F),O=this.clampY(O)),this.roundPixels&&(E=Math.round(E),A=Math.round(A),F=Math.round(F),O=Math.round(O)),this.scrollX=F,this.scrollY=O;var Y=F+p,H=O+x;this.midPoint.set(Y,H);var b=c/y,Z=v/y,$=Y-b/2,w=H-Z/2;this.roundPixels&&($=Math.round($),w=Math.round(w)),this.worldView.setTo($,w,b,Z),S.applyITRS(this.x+E,this.y+A,this.rotation,y,y),S.translate(-E,-A),this.shakeEffect.preRender(),B&&this.emit(n.FOLLOW_UPDATE,this,M)},setLerp:function(c,v){return c===void 0&&(c=1),v===void 0&&(v=c),this.lerp.set(c,v),this},setFollowOffset:function(c,v){return c===void 0&&(c=0),v===void 0&&(v=0),this.followOffset.set(c,v),this},startFollow:function(c,v,p,x,y,S){v===void 0&&(v=!1),p===void 0&&(p=1),x===void 0&&(x=p),y===void 0&&(y=0),S===void 0&&(S=y),this._follow=c,this.roundPixels=v,p=r(p,0,1),x=r(x,0,1),this.lerp.set(p,x),this.followOffset.set(y,S);var E=this.width/2,A=this.height/2,M=c.x-y,L=c.y-S;return this.midPoint.set(M,L),this.scrollX=M-E,this.scrollY=L-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,v){this.visible&&(this.rotateToEffect.update(c,v),this.panEffect.update(c,v),this.zoomEffect.update(c,v),this.shakeEffect.update(c,v),this.flashEffect.update(c,v),this.fadeEffect.update(c,v))},destroy:function(){this.resetFX(),e.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),h=function(r){var a=new e;r=r.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(o,u,d,c){return u+u+d+d+c+c});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(s){var i=parseInt(s[1],16),n=parseInt(s[2],16),f=parseInt(s[3],16);a.setTo(i,n,f)}return a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return a<<24|e<<16|h<<8|r};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){a===void 0&&(a={h:0,s:0,v:0}),e/=255,h/=255,r/=255;var s=Math.min(e,h,r),i=Math.max(e,h,r),n=i-s,f=0,o=i===0?0:n/i,u=i;return i!==s&&(i===e?f=(h-r)/n+(h<r?6:0):i===h?f=(r-e)/n+2:i===r&&(f=(e-h)/n+4),f/=6),a.hasOwnProperty("_h")?(a._h=f,a._s=o,a._v=u):(a.h=f,a.s=o,a.v=u),a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),h=function(r){return new e(r.r,r.g,r.b,r.a)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),h=function(r){var a=new e,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(r.toLowerCase());if(s){var i=parseInt(s[1],10),n=parseInt(s[2],10),f=parseInt(s[3],10),o=s[4]!==void 0?parseFloat(s[4]):1;a.setTo(i,n,f,o*255)}return a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Fade:t(761),Flash:t(762),Pan:t(763),Shake:t(796),RotateTo:t(797),Zoom:t(798)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(764),Out:t(765),InOut:t(766)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(767),Out:t(768),InOut:t(769)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(770),Out:t(771),InOut:t(772)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(773),Out:t(774),InOut:t(775)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(776),Out:t(777),InOut:t(778)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(779),Out:t(780),InOut:t(781)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=t(782)},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(783),Out:t(784),InOut:t(785)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(786),Out:t(787),InOut:t(788)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(789),Out:t(790),InOut:t(791)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(792),Out:t(793),InOut:t(794)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=t(795)},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(33),r=t(347),a=t(2),s=t(6),i=t(7),n=t(193),f=t(1),o=t(197),u=t(187),d=new e({initialize:function(v){v===void 0&&(v={});var p=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff";this.width=s(v,"width",1024),this.height=s(v,"height",768),this.zoom=s(v,"zoom",1),this.parent=s(v,"parent",void 0),this.scaleMode=s(v,"scaleMode",0),this.expandParent=s(v,"expandParent",!0),this.autoRound=s(v,"autoRound",!1),this.autoCenter=s(v,"autoCenter",0),this.resizeInterval=s(v,"resizeInterval",500),this.fullscreenTarget=s(v,"fullscreenTarget",null),this.minWidth=s(v,"minWidth",0),this.maxWidth=s(v,"maxWidth",0),this.minHeight=s(v,"minHeight",0),this.maxHeight=s(v,"maxHeight",0);var y=s(v,"scale",null);y&&(this.width=s(y,"width",this.width),this.height=s(y,"height",this.height),this.zoom=s(y,"zoom",this.zoom),this.parent=s(y,"parent",this.parent),this.scaleMode=s(y,"mode",this.scaleMode),this.expandParent=s(y,"expandParent",this.expandParent),this.autoRound=s(y,"autoRound",this.autoRound),this.autoCenter=s(y,"autoCenter",this.autoCenter),this.resizeInterval=s(y,"resizeInterval",this.resizeInterval),this.fullscreenTarget=s(y,"fullscreenTarget",this.fullscreenTarget),this.minWidth=s(y,"min.width",this.minWidth),this.maxWidth=s(y,"max.width",this.maxWidth),this.minHeight=s(y,"min.height",this.minHeight),this.maxHeight=s(y,"max.height",this.maxHeight)),this.renderType=s(v,"type",h.AUTO),this.canvas=s(v,"canvas",null),this.context=s(v,"context",null),this.canvasStyle=s(v,"canvasStyle",null),this.customEnvironment=s(v,"customEnvironment",!1),this.sceneConfig=s(v,"scene",null),this.seed=s(v,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=s(v,"title",""),this.gameURL=s(v,"url","https://phaser.io"),this.gameVersion=s(v,"version",""),this.autoFocus=s(v,"autoFocus",!0),this.domCreateContainer=s(v,"dom.createContainer",!1),this.domBehindCanvas=s(v,"dom.behindCanvas",!1),this.domPointerEvents=s(v,"dom.pointerEvents","none"),this.inputKeyboard=s(v,"input.keyboard",!0),this.inputKeyboardEventTarget=s(v,"input.keyboard.target",window),this.inputKeyboardCapture=s(v,"input.keyboard.capture",[]),this.inputMouse=s(v,"input.mouse",!0),this.inputMouseEventTarget=s(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=s(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=s(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=s(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=s(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=s(v,"input.touch",r.input.touch),this.inputTouchEventTarget=s(v,"input.touch.target",null),this.inputTouchCapture=s(v,"input.touch.capture",!0),this.inputActivePointers=s(v,"input.activePointers",1),this.inputSmoothFactor=s(v,"input.smoothFactor",0),this.inputWindowEvents=s(v,"input.windowEvents",!0),this.inputGamepad=s(v,"input.gamepad",!1),this.inputGamepadEventTarget=s(v,"input.gamepad.target",window),this.disableContextMenu=s(v,"disableContextMenu",!1),this.audio=s(v,"audio",{}),this.hideBanner=s(v,"banner",null)===!1,this.hidePhaser=s(v,"banner.hidePhaser",!1),this.bannerTextColor=s(v,"banner.text",x),this.bannerBackgroundColor=s(v,"banner.background",p),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=s(v,"fps",null);var S=s(v,"render",v);this.pipeline=s(S,"pipeline",null),this.antialias=s(S,"antialias",!0),this.antialiasGL=s(S,"antialiasGL",!0),this.mipmapFilter=s(S,"mipmapFilter","LINEAR"),this.desynchronized=s(S,"desynchronized",!1),this.roundPixels=s(S,"roundPixels",!1),this.pixelArt=s(S,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=s(S,"transparent",!1),this.clearBeforeRender=s(S,"clearBeforeRender",!0),this.preserveDrawingBuffer=s(S,"preserveDrawingBuffer",!1),this.premultipliedAlpha=s(S,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=s(S,"failIfMajorPerformanceCaveat",!1),this.powerPreference=s(S,"powerPreference","default"),this.batchSize=s(S,"batchSize",4096),this.maxTextures=s(S,"maxTextures",-1),this.maxLights=s(S,"maxLights",10);var E=s(v,"backgroundColor",0);this.backgroundColor=u(E),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=s(v,"callbacks.preBoot",f),this.postBoot=s(v,"callbacks.postBoot",f),this.physics=s(v,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1),this.loaderBaseURL=s(v,"loader.baseURL",""),this.loaderPath=s(v,"loader.path","");var A=r.os.android?6:32;this.loaderMaxParallelDownloads=s(v,"loader.maxParallelDownloads",A),this.loaderCrossOrigin=s(v,"loader.crossOrigin",void 0),this.loaderResponseType=s(v,"loader.responseType",""),this.loaderAsync=s(v,"loader.async",!0),this.loaderUser=s(v,"loader.user",""),this.loaderPassword=s(v,"loader.password",""),this.loaderTimeout=s(v,"loader.timeout",0),this.loaderWithCredentials=s(v,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var M=s(v,"plugins",null),L=o.DefaultScene;M&&(Array.isArray(M)?this.defaultPlugins=M:i(M)&&(this.installGlobalPlugins=a(M,"global",[]),this.installScenePlugins=a(M,"scene",[]),Array.isArray(M.default)?L=M.default:Array.isArray(M.defaultMerge)&&(L=L.concat(M.defaultMerge)))),this.defaultPlugins=L;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(v,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(v,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=s(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=h.WEBGL:window.FORCE_CANVAS&&(this.renderType=h.CANVAS))}});l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={os:t(105),browser:t(136),features:t(191),input:t(808),audio:t(809),video:t(810),fullscreen:t(811),canvasFeatures:t(348)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),h={supportInverseAlpha:!1,supportNewBlendModes:!1};function r(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var o=new Image;o.onload=function(){var u=e.create(o,6,1),d=u.getContext("2d");if(d.globalCompositeOperation="multiply",d.drawImage(f,0,0),d.drawImage(o,2,0),!d.getImageData(2,0,1,1))return!1;var c=d.getImageData(2,0,1,1).data;e.remove(o),h.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},o.src=i+"/wCKxvRF"+n},f.src=i+"AP804Oa6"+n,!1}function a(){var i=e.create(this,2,1),n=i.getContext("2d");n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var f=n.getImageData(0,0,1,1);if(f===null)return!1;n.putImageData(f,1,0);var o=n.getImageData(1,0,1,1);return o.data[0]===f.data[0]&&o.data[1]===f.data[1]&&o.data[2]===f.data[2]&&o.data[3]===f.data[3]}function s(){return typeof importScripts!="function"&&document!==void 0&&(h.supportNewBlendModes=r(),h.supportInverseAlpha=a()),h}l.exports=s()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return Math.atan2(a-h,r-e)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return Math.atan2(h.y-e.y,h.x-e.x)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};l.exports=t},function(l,g){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.x-h.x,a=e.y-h.y;return Math.sqrt(r*r+a*a)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=e-r,i=h-a;return s*s+i*i};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return r===void 0&&(r=1e-4),e>h-r};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return r===void 0&&(r=1e-4),e<h+r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(357),h=function(r,a){return e(r)/e(a)/e(r-a)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(e===0)return 1;for(var h=e;--e;)h*=e;return h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(s,i){var n=1-s;return n*n*n*i}function e(s,i){var n=1-s;return 3*n*n*s*i}function h(s,i){return 3*(1-s)*s*s*i}function r(s,i){return s*s*s*i}var a=function(s,i,n,f,o){return t(s,i)+e(s,n)+h(s,f)+r(s,o)};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,s){var i=1-a;return i*i*s}function e(a,s){return 2*(1-a)*a*s}function h(a,s){return a*a*s}var r=function(a,s,i,n){return t(a,s)+e(a,i)+h(a,n)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),h=function(r,a,s){return a+(s-a)*e(r,0,1)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h=Math.log(e)/.6931471805599453;return 1<<Math.ceil(h)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.x,a=e.y;return e.x=r*Math.cos(h)-a*Math.sin(h),e.y=r*Math.sin(h)+a*Math.cos(h),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0?Math.ceil(e):Math.floor(e)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new h(this)},set:function(r){return this.copy(r)},copy:function(r){var a=this.val,s=r.val;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],this},fromMat4:function(r){var a=r.val,s=this.val;return s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[4],s[4]=a[5],s[5]=a[6],s[6]=a[8],s[7]=a[9],s[8]=a[10],this},fromArray:function(r){var a=this.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},identity:function(){var r=this.val;return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,this},transpose:function(){var r=this.val,a=r[1],s=r[2],i=r[5];return r[1]=r[3],r[2]=r[6],r[3]=a,r[5]=r[7],r[6]=s,r[7]=i,this},invert:function(){var r=this.val,a=r[0],s=r[1],i=r[2],n=r[3],f=r[4],o=r[5],u=r[6],d=r[7],c=r[8],v=c*f-o*d,p=-c*n+o*u,x=d*n-f*u,y=a*v+s*p+i*x;return y?(y=1/y,r[0]=v*y,r[1]=(-c*s+i*d)*y,r[2]=(o*s-i*f)*y,r[3]=p*y,r[4]=(c*a-i*u)*y,r[5]=(-o*a+i*n)*y,r[6]=x*y,r[7]=(-d*a+s*u)*y,r[8]=(f*a-s*n)*y,this):null},adjoint:function(){var r=this.val,a=r[0],s=r[1],i=r[2],n=r[3],f=r[4],o=r[5],u=r[6],d=r[7],c=r[8];return r[0]=f*c-o*d,r[1]=i*d-s*c,r[2]=s*o-i*f,r[3]=o*u-n*c,r[4]=a*c-i*u,r[5]=i*n-a*o,r[6]=n*d-f*u,r[7]=s*u-a*d,r[8]=a*f-s*n,this},determinant:function(){var r=this.val,a=r[0],s=r[1],i=r[2],n=r[3],f=r[4],o=r[5],u=r[6],d=r[7],c=r[8];return a*(c*f-o*d)+s*(-c*n+o*u)+i*(d*n-f*u)},multiply:function(r){var a=this.val,s=a[0],i=a[1],n=a[2],f=a[3],o=a[4],u=a[5],d=a[6],c=a[7],v=a[8],p=r.val,x=p[0],y=p[1],S=p[2],E=p[3],A=p[4],M=p[5],L=p[6],F=p[7],O=p[8];return a[0]=x*s+y*f+S*d,a[1]=x*i+y*o+S*c,a[2]=x*n+y*u+S*v,a[3]=E*s+A*f+M*d,a[4]=E*i+A*o+M*c,a[5]=E*n+A*u+M*v,a[6]=L*s+F*f+O*d,a[7]=L*i+F*o+O*c,a[8]=L*n+F*u+O*v,this},translate:function(r){var a=this.val,s=r.x,i=r.y;return a[6]=s*a[0]+i*a[3]+a[6],a[7]=s*a[1]+i*a[4]+a[7],a[8]=s*a[2]+i*a[5]+a[8],this},rotate:function(r){var a=this.val,s=a[0],i=a[1],n=a[2],f=a[3],o=a[4],u=a[5],d=Math.sin(r),c=Math.cos(r);return a[0]=c*s+d*f,a[1]=c*i+d*o,a[2]=c*n+d*u,a[3]=c*f-d*s,a[4]=c*o-d*i,a[5]=c*u-d*n,this},scale:function(r){var a=this.val,s=r.x,i=r.y;return a[0]=s*a[0],a[1]=s*a[1],a[2]=s*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(r){var a=r.x,s=r.y,i=r.z,n=r.w,f=a+a,o=s+s,u=i+i,d=a*f,c=a*o,v=a*u,p=s*o,x=s*u,y=i*u,S=n*f,E=n*o,A=n*u,M=this.val;return M[0]=1-(p+y),M[3]=c+A,M[6]=v-E,M[1]=c-A,M[4]=1-(d+y),M[7]=x+S,M[2]=v+E,M[5]=x-S,M[8]=1-(d+p),this},normalFromMat4:function(r){var a=r.val,s=this.val,i=a[0],n=a[1],f=a[2],o=a[3],u=a[4],d=a[5],c=a[6],v=a[7],p=a[8],x=a[9],y=a[10],S=a[11],E=a[12],A=a[13],M=a[14],L=a[15],F=i*d-n*u,O=i*c-f*u,B=i*v-o*u,N=n*c-f*d,G=n*v-o*d,Y=f*v-o*c,H=p*A-x*E,b=p*M-y*E,Z=p*L-S*E,$=x*M-y*A,w=x*L-S*A,D=y*L-S*M,V=F*D-O*w+B*$+N*Z-G*b+Y*H;return V?(V=1/V,s[0]=(d*D-c*w+v*$)*V,s[1]=(c*Z-u*D-v*b)*V,s[2]=(u*w-d*Z+v*H)*V,s[3]=(f*w-n*D-o*$)*V,s[4]=(i*D-f*Z+o*b)*V,s[5]=(n*Z-i*w-o*H)*V,s[6]=(A*Y-M*G+L*N)*V,s[7]=(M*B-E*Y-L*O)*V,s[8]=(E*G-A*B+L*F)*V,this):null}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(364),r=t(1),a=t(39),s=1e-6,i=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),f=new a(1,0,0),o=new a(0,1,0),u=new a,d=new h,c=new e({initialize:function(p,x,y,S){this.onChangeCallback=r,this.set(p,x,y,S)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,p,x,y,S){return S===void 0&&(S=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=p||0,this._z=x||0,this._w=y||0),S&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,p=this.y,x=this.z,y=this.w;return Math.sqrt(v*v+p*p+x*x+y*y)},lengthSq:function(){var v=this.x,p=this.y,x=this.z,y=this.w;return v*v+p*p+x*x+y*y},normalize:function(){var v=this.x,p=this.y,x=this.z,y=this.w,S=v*v+p*p+x*x+y*y;return S>0&&(S=1/Math.sqrt(S),this._x=v*S,this._y=p*S,this._z=x*S,this._w=y*S),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,p){p===void 0&&(p=0);var x=this.x,y=this.y,S=this.z,E=this.w;return this.set(x+p*(v.x-x),y+p*(v.y-y),S+p*(v.z-S),E+p*(v.w-E))},rotationTo:function(v,p){var x=v.x*p.x+v.y*p.y+v.z*p.z;return x<-.999999?(u.copy(f).cross(v).length()<s&&u.copy(o).cross(v),u.normalize(),this.setAxisAngle(u,Math.PI)):x>.999999?this.set(0,0,0,1):(u.copy(v).cross(p),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+x,this.normalize())},setAxes:function(v,p,x){var y=d.val;return y[0]=p.x,y[3]=p.y,y[6]=p.z,y[1]=x.x,y[4]=x.y,y[7]=x.z,y[2]=-v.x,y[5]=-v.y,y[8]=-v.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,p){p=p*.5;var x=Math.sin(p);return this.set(x*v.x,x*v.y,x*v.z,Math.cos(p))},multiply:function(v){var p=this.x,x=this.y,y=this.z,S=this.w,E=v.x,A=v.y,M=v.z,L=v.w;return this.set(p*L+S*E+x*M-y*A,x*L+S*A+y*E-p*M,y*L+S*M+p*A-x*E,S*L-p*E-x*A-y*M)},slerp:function(v,p){var x=this.x,y=this.y,S=this.z,E=this.w,A=v.x,M=v.y,L=v.z,F=v.w,O=x*A+y*M+S*L+E*F;O<0&&(O=-O,A=-A,M=-M,L=-L,F=-F);var B=1-p,N=p;if(1-O>s){var G=Math.acos(O),Y=Math.sin(G);B=Math.sin((1-p)*G)/Y,N=Math.sin(p*G)/Y}return this.set(B*x+N*A,B*y+N*M,B*S+N*L,B*E+N*F)},invert:function(){var v=this.x,p=this.y,x=this.z,y=this.w,S=v*v+p*p+x*x+y*y,E=S?1/S:0;return this.set(-v*E,-p*E,-x*E,y*E)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var p=this.x,x=this.y,y=this.z,S=this.w,E=Math.sin(v),A=Math.cos(v);return this.set(p*A+S*E,x*A+y*E,y*A-x*E,S*A-p*E)},rotateY:function(v){v*=.5;var p=this.x,x=this.y,y=this.z,S=this.w,E=Math.sin(v),A=Math.cos(v);return this.set(p*A-y*E,x*A+S*E,y*A+p*E,S*A-x*E)},rotateZ:function(v){v*=.5;var p=this.x,x=this.y,y=this.z,S=this.w,E=Math.sin(v),A=Math.cos(v);return this.set(p*A+x*E,x*A-p*E,y*A+S*E,S*A-y*E)},calculateW:function(){var v=this.x,p=this.y,x=this.z;return this.w=-Math.sqrt(1-v*v-p*p-x*x),this},setFromEuler:function(v,p){var x=v.x/2,y=v.y/2,S=v.z/2,E=Math.cos(x),A=Math.cos(y),M=Math.cos(S),L=Math.sin(x),F=Math.sin(y),O=Math.sin(S);switch(v.order){case"XYZ":{this.set(L*A*M+E*F*O,E*F*M-L*A*O,E*A*O+L*F*M,E*A*M-L*F*O,p);break}case"YXZ":{this.set(L*A*M+E*F*O,E*F*M-L*A*O,E*A*O-L*F*M,E*A*M+L*F*O,p);break}case"ZXY":{this.set(L*A*M-E*F*O,E*F*M+L*A*O,E*A*O+L*F*M,E*A*M-L*F*O,p);break}case"ZYX":{this.set(L*A*M-E*F*O,E*F*M+L*A*O,E*A*O-L*F*M,E*A*M+L*F*O,p);break}case"YZX":{this.set(L*A*M+E*F*O,E*F*M+L*A*O,E*A*O-L*F*M,E*A*M-L*F*O,p);break}case"XZY":{this.set(L*A*M-E*F*O,E*F*M-L*A*O,E*A*O+L*F*M,E*A*M+L*F*O,p);break}}return this},setFromRotationMatrix:function(v){var p=v.val,x=p[0],y=p[4],S=p[8],E=p[1],A=p[5],M=p[9],L=p[2],F=p[6],O=p[10],B=x+A+O,N;return B>0?(N=.5/Math.sqrt(B+1),this.set((F-M)*N,(S-L)*N,(E-y)*N,.25/N)):x>A&&x>O?(N=2*Math.sqrt(1+x-A-O),this.set(.25*N,(y+E)/N,(S+L)/N,(F-M)/N)):A>O?(N=2*Math.sqrt(1+A-x-O),this.set((y+E)/N,.25*N,(M+F)/N,(S-L)/N)):(N=2*Math.sqrt(1+O-x-A),this.set((S+L)/N,(M+F)/N,.25*N,(E-y)/N)),this},fromMat3:function(v){var p=v.val,x=p[0]+p[4]+p[8],y;if(x>0)y=Math.sqrt(x+1),this.w=.5*y,y=.5/y,this._x=(p[7]-p[5])*y,this._y=(p[2]-p[6])*y,this._z=(p[3]-p[1])*y;else{var S=0;p[4]>p[0]&&(S=1),p[8]>p[S*3+S]&&(S=2);var E=i[S],A=i[E];y=Math.sqrt(p[S*3+S]-p[E*3+E]-p[A*3+A]+1),n[S]=.5*y,y=.5/y,n[E]=(p[E*3+S]+p[S*3+E])*y,n[A]=(p[A*3+S]+p[S*3+A])*y,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(p[A*3+E]-p[E*3+A])*y}return this.onChangeCallback(this),this}});l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(367),h=t(31),r=t(33),a=t(191),s=function(i){var n=i.config;if((n.customEnvironment||n.canvas)&&n.renderType===r.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==r.HEADLESS)if(n.renderType===r.CANVAS||n.renderType!==r.CANVAS&&!a.webGL)if(a.canvas)n.renderType=r.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else n.renderType=r.WEBGL;n.antialias||h.disableSmoothing();var f=i.scale.baseSize,o=f.width,u=f.height;if(n.canvas?(i.canvas=n.canvas,i.canvas.width=o,i.canvas.height=u):i.canvas=h.create(i,o,u,n.renderType),n.canvasStyle&&(i.canvas.style=n.canvasStyle),n.antialias||e.setCrisp(i.canvas),n.renderType!==r.HEADLESS){var d,c;d=t(368),c=t(371),n.renderType===r.WEBGL?i.renderer=new c(i):(i.renderer=new d(i),i.context=i.renderer.gameContext)}};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCrisp:function(e){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(r){e.style["image-rendering"]=r}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(37),h=t(369),r=t(0),a=t(33),s=t(9),i=t(91),n=t(370),f=t(104),o=t(106),u=t(25),d=new r({Extends:s,initialize:function(v){s.call(this);var p=v.config;this.config={clearBeforeRender:p.clearBeforeRender,backgroundColor:p.backgroundColor,antialias:p.antialias,roundPixels:p.roundPixels},this.game=v,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas;var x={alpha:v.config.transparent,desynchronized:v.config.desynchronized};this.gameContext=p.context?p.context:this.gameCanvas.getContext("2d",x),this.currentContext=this.gameContext,this.antialias=v.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(o.READY,this.boot,this)},boot:function(){var c=this.game,v=c.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,c.scale.on(f.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(c,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(c,v){this.width=c,this.height=v,this.emit(i.RESIZE,c,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(c){return this.currentContext.globalCompositeOperation=c,this},setContext:function(c){return this.currentContext=c||this.gameContext,this},setAlpha:function(c){return this.currentContext.globalAlpha=c,this},preRender:function(){var c=this.gameContext,v=this.config,p=this.width,x=this.height;c.globalAlpha=1,c.globalCompositeOperation="source-over",c.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&(c.clearRect(0,0,p,x),v.transparent||(c.fillStyle=v.backgroundColor.rgba,c.fillRect(0,0,p,x))),c.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(c,v,p){var x=v.length;this.emit(i.RENDER,c,p);var y=p.x,S=p.y,E=p.width,A=p.height,M=p.renderToTexture?p.context:c.sys.context;M.save(),this.game.scene.customViewports&&(M.beginPath(),M.rect(y,S,E,A),M.clip()),this.currentContext=M;var L=p.mask;L&&L.preRenderCanvas(this,null,p._maskCamera),p.transparent||(M.fillStyle=p.backgroundColor.rgba,M.fillRect(y,S,E,A)),M.globalAlpha=p.alpha,M.globalCompositeOperation="source-over",this.drawCount+=x,p.renderToTexture&&p.emit(e.PRE_RENDER,p),p.matrix.copyToContext(M);for(var F=0;F<x;F++){var O=v[F];O.mask&&O.mask.preRenderCanvas(this,O,p),O.renderCanvas(this,O,p),O.mask&&O.mask.postRenderCanvas(this,O,p)}M.setTransform(1,0,0,1,0,0),M.globalCompositeOperation="source-over",M.globalAlpha=1,p.flashEffect.postRenderCanvas(M),p.fadeEffect.postRenderCanvas(M),p.dirty=!1,L&&L.postRenderCanvas(this),M.restore(),p.renderToTexture&&(p.emit(e.POST_RENDER,p),p.renderToGame&&c.sys.context.drawImage(p.canvas,y,S))},postRender:function(){var c=this.gameContext;c.restore(),this.emit(i.POST_RENDER);var v=this.snapshotState;v.callback&&(h(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(c,v,p,x,y,S,E,A,M){p===void 0&&(p=!1),this.snapshotArea(x,y,S,E,v,A,M);var L=this.snapshotState;return L.getPixel=p,h(this.canvas,L),L.callback=null,this},snapshot:function(c,v,p){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,c,v,p)},snapshotArea:function(c,v,p,x,y,S,E){var A=this.snapshotState;return A.callback=y,A.type=S,A.encoder=E,A.getPixel=!1,A.x=c,A.y=v,A.width=Math.min(p,this.gameCanvas.width),A.height=Math.min(x,this.gameCanvas.height),this},snapshotPixel:function(c,v,p){return this.snapshotArea(c,v,1,1,p),this.snapshotState.getPixel=!0,this},batchSprite:function(c,v,p,x){var y=p.alpha*c.alpha;if(y!==0){var S=this.currentContext,E=this._tempMatrix1,A=this._tempMatrix2,M=v.canvasData,L=M.x,F=M.y,O=v.cutWidth,B=v.cutHeight,N=v.customPivot,G=v.source.resolution,Y=c.displayOriginX,H=c.displayOriginY,b=-Y+v.x,Z=-H+v.y;if(c.isCropped){var $=c._crop;($.flipX!==c.flipX||$.flipY!==c.flipY)&&v.updateCropUVs($,c.flipX,c.flipY),O=$.cw,B=$.ch,L=$.cx,F=$.cy,b=-Y+$.x,Z=-H+$.y,c.flipX&&(b>=0?b=-(b+O):b<0&&(b=Math.abs(b)-O)),c.flipY&&(Z>=0?Z=-(Z+B):Z<0&&(Z=Math.abs(Z)-B))}var w=1,D=1;c.flipX&&(N||(b+=-v.realWidth+Y*2),w=-1),c.flipY&&(N||(Z+=-v.realHeight+H*2),D=-1),A.applyITRS(c.x,c.y,c.rotation,c.scaleX*w,c.scaleY*D),E.copyFrom(p.matrix),x?(E.multiplyWithOffset(x,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),A.e=c.x,A.f=c.y):(A.e-=p.scrollX*c.scrollFactorX,A.f-=p.scrollY*c.scrollFactorY),E.multiply(A),S.save(),E.setToContext(S),S.globalCompositeOperation=this.blendModes[c.blendMode],S.globalAlpha=y,S.imageSmoothingEnabled=!(!this.antialias||v.source.scaleMode),c.mask&&c.mask.preRenderCanvas(this,c,p),S.drawImage(v.source.image,L,F,O,B,b,Z,O/G,B/G),c.mask&&c.mask.postRenderCanvas(this,c,p),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),h=t(38),r=t(2),a=function(s,i){var n=r(i,"callback"),f=r(i,"type","image/png"),o=r(i,"encoder",.92),u=Math.abs(Math.round(r(i,"x",0))),d=Math.abs(Math.round(r(i,"y",0))),c=r(i,"width",s.width),v=r(i,"height",s.height),p=r(i,"getPixel",!1);if(p){var x=s.getContext("2d"),y=x.getImageData(u,d,1,1),S=y.data;n.call(null,new h(S[0],S[1],S[2],S[3]/255))}else if(u!==0||d!==0||c!==s.width||v!==s.height){var E=e.createWebGL(this,c,v),A=E.getContext("2d");A.drawImage(s,u,d,c,v,0,0,c,v);var M=new Image;M.onerror=function(){n.call(null),e.remove(E)},M.onload=function(){n.call(null,M),e.remove(E)},M.src=E.toDataURL(f,o)}else{var L=new Image;L.onerror=function(){n.call(null)},L.onload=function(){n.call(null,L)},L.src=s.toDataURL(f,o)}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),h=t(348),r=function(){var a=[],s=h.supportNewBlendModes,i="source-over";return a[e.NORMAL]=i,a[e.ADD]="lighter",a[e.MULTIPLY]=s?"multiply":i,a[e.SCREEN]=s?"screen":i,a[e.OVERLAY]=s?"overlay":i,a[e.DARKEN]=s?"darken":i,a[e.LIGHTEN]=s?"lighten":i,a[e.COLOR_DODGE]=s?"color-dodge":i,a[e.COLOR_BURN]=s?"color-burn":i,a[e.HARD_LIGHT]=s?"hard-light":i,a[e.SOFT_LIGHT]=s?"soft-light":i,a[e.DIFFERENCE]=s?"difference":i,a[e.EXCLUSION]=s?"exclusion":i,a[e.HUE]=s?"hue":i,a[e.SATURATION]=s?"saturation":i,a[e.COLOR]=s?"color":i,a[e.LUMINOSITY]=s?"luminosity":i,a[e.ERASE]="destination-out",a[e.SOURCE_IN]="source-in",a[e.SOURCE_OUT]="source-out",a[e.SOURCE_ATOP]="source-atop",a[e.DESTINATION_OVER]="destination-over",a[e.DESTINATION_IN]="destination-in",a[e.DESTINATION_OUT]="destination-out",a[e.DESTINATION_ATOP]="destination-atop",a[e.LIGHTER]="lighter",a[e.COPY]="copy",a[e.XOR]="xor",a};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),h=t(37),r=t(0),a=t(33),s=t(9),i=t(91),n=t(22),f=t(138),o=t(69),u=t(1),d=t(372),c=t(141),v=t(104),p=t(106),x=t(12),y=t(383),S=new r({Extends:s,initialize:function(A){s.call(this);var M=A.config,L={alpha:M.transparent,desynchronized:M.desynchronized,depth:!1,antialias:M.antialiasGL,premultipliedAlpha:M.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:M.failIfMajorPerformanceCaveat,powerPreference:M.powerPreference,preserveDrawingBuffer:M.preserveDrawingBuffer};this.config={clearBeforeRender:M.clearBeforeRender,antialias:M.antialias,backgroundColor:M.backgroundColor,contextCreation:L,roundPixels:M.roundPixels,maxTextures:M.maxTextures,maxTextureSize:M.maxTextureSize,batchSize:M.batchSize,maxLights:M.maxLights,mipmapFilter:M.mipmapFilter},this.game=A,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=A.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(E){var A,M=this.game,L=this.canvas,F=E.backgroundColor;if(M.config.context?A=M.config.context:A=L.getContext("webgl",E.contextCreation)||L.getContext("experimental-webgl",E.contextCreation),!A||A.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=A;var O=this;this.contextLostHandler=function(V){O.contextLost=!0,O.game.events.emit(n.CONTEXT_LOST,O),V.preventDefault()},this.contextRestoredHandler=function(){O.contextLost=!1,O.init(O.config),O.game.events.emit(n.CONTEXT_RESTORED,O)},L.addEventListener("webglcontextlost",this.contextLostHandler,!1),L.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),M.context=A;for(var B=0;B<=27;B++)this.blendModes.push({func:[A.ONE,A.ONE_MINUS_SRC_ALPHA],equation:A.FUNC_ADD});this.blendModes[1].func=[A.ONE,A.DST_ALPHA],this.blendModes[2].func=[A.DST_COLOR,A.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[A.ONE,A.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[A.ZERO,A.ONE_MINUS_SRC_ALPHA],equation:A.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=A.BYTE,this.glFormats[1]=A.SHORT,this.glFormats[2]=A.UNSIGNED_BYTE,this.glFormats[3]=A.UNSIGNED_SHORT,this.glFormats[4]=A.FLOAT,this.glFuncMap={mat2:{func:A.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:A.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:A.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:A.uniform1f,length:1},"1fv":{func:A.uniform1fv,length:1},"1i":{func:A.uniform1i,length:1},"1iv":{func:A.uniform1iv,length:1},"2f":{func:A.uniform2f,length:2},"2fv":{func:A.uniform2fv,length:1},"2i":{func:A.uniform2i,length:2},"2iv":{func:A.uniform2iv,length:1},"3f":{func:A.uniform3f,length:3},"3fv":{func:A.uniform3fv,length:1},"3i":{func:A.uniform3i,length:3},"3iv":{func:A.uniform3iv,length:1},"4f":{func:A.uniform4f,length:4},"4fv":{func:A.uniform4fv,length:1},"4i":{func:A.uniform4i,length:4},"4iv":{func:A.uniform4iv,length:1}};var N=A.getSupportedExtensions();(!E.maxTextures||E.maxTextures===-1)&&(E.maxTextures=A.getParameter(A.MAX_TEXTURE_IMAGE_UNITS)),E.maxTextureSize||(E.maxTextureSize=A.getParameter(A.MAX_TEXTURE_SIZE));var G="WEBGL_compressed_texture_",Y="WEBKIT_"+G;this.compression.ETC1=A.getExtension(G+"etc1")||A.getExtension(Y+"etc1"),this.compression.PVRTC=A.getExtension(G+"pvrtc")||A.getExtension(Y+"pvrtc"),this.compression.S3TC=A.getExtension(G+"s3tc")||A.getExtension(Y+"s3tc"),this.supportedExtensions=N;var H="ANGLE_instanced_arrays";this.instancedArraysExtension=N.indexOf(H)>-1?A.getExtension(H):null;var b="OES_vertex_array_object";this.vaoExtension=N.indexOf(b)>-1?A.getExtension(b):null,A.disable(A.DEPTH_TEST),A.disable(A.CULL_FACE),A.enable(A.BLEND),A.clearColor(F.redGL,F.greenGL,F.blueGL,F.alphaGL),this.mipmapFilter=A[E.mipmapFilter],this.maxTextures=x.checkShaderMax(A,E.maxTextures),this.textureIndexes=[];var Z=this.tempTextures;if(Array.isArray(Z))for(var $=0;B<this.maxTextures;$++)A.deleteTexture(Z[$]);else Z=new Array(this.maxTextures);for(var w=0;w<this.maxTextures;w++){var D=A.createTexture();A.activeTexture(A.TEXTURE0+w),A.bindTexture(A.TEXTURE_2D,D),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,1,1,0,A.RGBA,A.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),Z[w]=D,this.textureIndexes.push(w)}return this.tempTextures=Z,this.currentActiveTexture=1,this.startActiveTexture++,A.activeTexture(A.TEXTURE1),this.pipelines=new d(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new o().identity(),M.textures.once(p.READY,this.boot,this),this},boot:function(){var E=this.game,A=this.pipelines,M=E.scale.baseSize;this.width=M.width,this.height=M.height,this.isBooted=!0,this.renderTarget=new c(this,this.width,this.height,1,0,!0,!0),A.boot(E.config.pipeline),this.blankTexture=E.textures.getFrame("__DEFAULT"),this.whiteTexture=E.textures.getFrame("__WHITE");var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,null),L.enable(L.SCISSOR_TEST),E.scale.on(v.RESIZE,this.onResize,this),this.resize(M.width,M.height)},onResize:function(E,A){(A.width!==this.width||A.height!==this.height)&&this.resize(A.width,A.height)},beginCapture:function(E,A){E===void 0&&(E=this.width),A===void 0&&(A=this.height),this.renderTarget.bind(!0,E,A),this.setProjectionMatrix(E,A),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(E,A){var M=this.gl;return this.width=E,this.height=A,this.setProjectionMatrix(E,A),M.viewport(0,0,E,A),this.drawingBufferHeight=M.drawingBufferHeight,M.scissor(0,M.drawingBufferHeight-A,E,A),this.defaultScissor[2]=E,this.defaultScissor[3]=A,this.emit(i.RESIZE,E,A),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(E,A){return(E!==this.projectionWidth||A!==this.projectionHeight)&&(this.projectionWidth=E,this.projectionHeight=A,this.projectionMatrix.ortho(0,E,A,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(E){return this.supportedExtensions?this.supportedExtensions.indexOf(E):!1},getExtension:function(E){return this.hasExtension(E)?(E in this.extensions||(this.extensions[E]=this.gl.getExtension(E)),this.extensions[E]):null},flush:function(){this.pipelines.flush()},pushScissor:function(E,A,M,L,F){F===void 0&&(F=this.drawingBufferHeight);var O=this.scissorStack,B=[E,A,M,L];return O.push(B),this.setScissor(E,A,M,L,F),this.currentScissor=B,B},setScissor:function(E,A,M,L,F){F===void 0&&(F=this.drawingBufferHeight);var O=this.gl,B=this.currentScissor,N=M>0&&L>0;if(B&&N){var G=B[0],Y=B[1],H=B[2],b=B[3];N=G!==E||Y!==A||H!==M||b!==L}N&&(this.flush(),O.scissor(E,F-A-L,M,L))},resetScissor:function(){var E=this.gl;E.enable(E.SCISSOR_TEST);var A=this.currentScissor;if(A){var M=A[0],L=A[1],F=A[2],O=A[3];F>0&&O>0&&E.scissor(M,this.drawingBufferHeight-L-O,F,O)}},popScissor:function(){var E=this.scissorStack;E.pop();var A=E[E.length-1];A&&this.setScissor(A[0],A[1],A[2],A[3]),this.currentScissor=A},hasActiveStencilMask:function(){var E=this.currentMask.mask,A=this.currentCameraMask.mask;return E&&E.isStencil||A&&A.isStencil},resetViewport:function(){var E=this.gl;E.viewport(0,0,this.width,this.height),this.drawingBufferHeight=E.drawingBufferHeight},setBlendMode:function(E,A){A===void 0&&(A=!1);var M=this.gl,L=this.blendModes[E];return A||E!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==E?(this.flush(),M.enable(M.BLEND),M.blendEquation(L.equation),L.func.length>2?M.blendFuncSeparate(L.func[0],L.func[1],L.func[2],L.func[3]):M.blendFunc(L.func[0],L.func[1]),this.currentBlendMode=E,!0):!1},addBlendMode:function(E,A){var M=this.blendModes.push({func:E,equation:A});return M-1},updateBlendMode:function(E,A,M){return this.blendModes[E]&&(this.blendModes[E].func=A,M&&(this.blendModes[E].equation=M)),this},removeBlendMode:function(E){return E>17&&this.blendModes[E]&&this.blendModes.splice(E,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(E){if(this.pipelines.forceZero())return this.setTextureZero(E.glTexture,!0),0;var A=this.gl,M=this.currentActiveTexture;return E.glIndexCounter<this.startActiveTexture&&(E.glIndexCounter=this.startActiveTexture,M<this.maxTextures?(E.glIndex=M,A.activeTexture(A.TEXTURE0+M),A.bindTexture(A.TEXTURE_2D,E.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,E.glIndexCounter=this.startActiveTexture,E.glIndex=1,A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,E.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,E.glIndex},isNewNormalMap:function(E,A){return this.textureZero!==E||this.normalTexture!==A},setTextureZero:function(E,A){if(this.textureZero!==E){A&&this.flush();var M=this.gl;M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,E),this.textureZero=E}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(E){if(this.normalTexture!==E){var A=this.gl;A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,E),this.normalTexture=E,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var E=this.gl,A=this.tempTextures,M=0;M<A.length;M++)E.activeTexture(E.TEXTURE0+M),E.bindTexture(E.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(E){if(E===void 0&&(E=!1),!this.isTextureClean){this.flush();var A=this.gl,M=this.tempTextures;if(E){for(var L=0;L<M.length;L++)A.activeTexture(A.TEXTURE0+L),A.bindTexture(A.TEXTURE_2D,M[L]);A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,M[1]),this.isTextureClean=!0}else A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,M[0]),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,M[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(E){if(this.pipelines.forceZero())return this.setTextureZero(E,!0),0;var A=this.gl,M=this.currentActiveTexture;return E.glIndexCounter<this.startActiveTexture&&(E.glIndexCounter=this.startActiveTexture,M<this.maxTextures?(E.glIndex=M,A.activeTexture(A.TEXTURE0+M),A.bindTexture(A.TEXTURE_2D,E),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,E.glIndexCounter=this.startActiveTexture,E.glIndex=1,A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,E),this.currentActiveTexture=2)),this.isTextureClean=!1,E.glIndex},pushFramebuffer:function(E,A,M,L){return E===this.currentFramebuffer?this:(this.fboStack.push(E),this.setFramebuffer(E,A,M,L))},setFramebuffer:function(E,A,M,L){if(A===void 0&&(A=!1),M===void 0&&(M=!1),L===void 0&&(L=!0),E===this.currentFramebuffer)return this;var F=this.gl,O=this.width,B=this.height;return E&&E.renderTexture&&L?(O=E.renderTexture.width,B=E.renderTexture.height):this.flush(),F.bindFramebuffer(F.FRAMEBUFFER,E),L&&F.viewport(0,0,O,B),A&&(E?(this.drawingBufferHeight=B,this.pushScissor(0,0,O,B)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=E,M&&this.resetTextures(),this},popFramebuffer:function(E,A,M){E===void 0&&(E=!1),A===void 0&&(A=!1),M===void 0&&(M=!0);var L=this.fboStack;L.pop();var F=L[L.length-1];return F||(F=null),this.setFramebuffer(F,E,A,M),F},setProgram:function(E){return E!==this.currentProgram?(this.flush(),this.gl.useProgram(E),this.currentProgram=E,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(E,A,M,L){var F=this.gl,O=F.NEAREST,B=F.NEAREST,N=F.CLAMP_TO_EDGE,G=null;A=E?E.width:A,M=E?E.height:M;var Y=f(A,M);return Y&&(N=F.REPEAT),L===a.ScaleModes.LINEAR&&this.config.antialias&&(O=Y?this.mipmapFilter:F.LINEAR,B=F.LINEAR),!E&&typeof A=="number"&&typeof M=="number"?G=this.createTexture2D(0,O,B,N,N,F.RGBA,null,A,M):G=this.createTexture2D(0,O,B,N,N,F.RGBA,E),G},createTexture2D:function(E,A,M,L,F,O,B,N,G,Y,H,b){Y=Y??!0,H===void 0&&(H=!1),b===void 0&&(b=!1);var Z=this.gl,$=Z.createTexture();Z.activeTexture(Z.TEXTURE0);var w=Z.getParameter(Z.TEXTURE_BINDING_2D);return Z.bindTexture(Z.TEXTURE_2D,$),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,A),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,M),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,F),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,L),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,b),B==null?Z.texImage2D(Z.TEXTURE_2D,E,O,N,G,0,O,Z.UNSIGNED_BYTE,null):(H||(N=B.width,G=B.height),Z.texImage2D(Z.TEXTURE_2D,E,O,O,Z.UNSIGNED_BYTE,B)),f(N,G)&&Z.generateMipmap(Z.TEXTURE_2D),w&&Z.bindTexture(Z.TEXTURE_2D,w),$.isAlphaPremultiplied=Y,$.isRenderTexture=!1,$.width=N,$.height=G,$.glIndex=0,$.glIndexCounter=-1,$},createFramebuffer:function(E,A,M,L){var F=this.gl,O=F.createFramebuffer(),B=0;if(this.setFramebuffer(O),L){var N=F.createRenderbuffer();F.bindRenderbuffer(F.RENDERBUFFER,N),F.renderbufferStorage(F.RENDERBUFFER,F.DEPTH_STENCIL,E,A),F.framebufferRenderbuffer(F.FRAMEBUFFER,F.DEPTH_STENCIL_ATTACHMENT,F.RENDERBUFFER,N)}if(M.isRenderTexture=!0,M.isAlphaPremultiplied=!1,F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,M,0),B=F.checkFramebufferStatus(F.FRAMEBUFFER),B!==F.FRAMEBUFFER_COMPLETE){var G={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+G[B])}return O.renderTexture=M,this.setFramebuffer(null),this.resetTextures(),O},createProgram:function(E,A){var M=this.gl,L=M.createProgram(),F=M.createShader(M.VERTEX_SHADER),O=M.createShader(M.FRAGMENT_SHADER);if(M.shaderSource(F,E),M.shaderSource(O,A),M.compileShader(F),M.compileShader(O),!M.getShaderParameter(F,M.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+M.getShaderInfoLog(F));if(!M.getShaderParameter(O,M.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+M.getShaderInfoLog(O));if(M.attachShader(L,F),M.attachShader(L,O),M.linkProgram(L),!M.getProgramParameter(L,M.LINK_STATUS))throw new Error(`Link Program failed:
`+M.getProgramInfoLog(L));return M.useProgram(L),L},createVertexBuffer:function(E,A){var M=this.gl,L=M.createBuffer();return M.bindBuffer(M.ARRAY_BUFFER,L),M.bufferData(M.ARRAY_BUFFER,E,A),M.bindBuffer(M.ARRAY_BUFFER,null),L},createIndexBuffer:function(E,A){var M=this.gl,L=M.createBuffer();return M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,L),M.bufferData(M.ELEMENT_ARRAY_BUFFER,E,A),M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,null),L},deleteTexture:function(E,A){return A&&this.resetTextures(!0),E&&this.gl.deleteTexture(E),this},deleteFramebuffer:function(E){return E&&(this.gl.deleteFramebuffer(E),e(this.fboStack,E),this.currentFramebuffer===E&&(this.currentFramebuffer=null)),this},deleteProgram:function(E){return E&&this.gl.deleteProgram(E),this},deleteBuffer:function(E){return this.gl.deleteBuffer(E),this},preRenderCamera:function(E){var A=E.x,M=E.y,L=E.width,F=E.height,O=E.backgroundColor;if(E.emit(h.PRE_RENDER,E),this.pipelines.preBatchCamera(E),this.pushScissor(A,M,L,F),E.mask&&(this.currentCameraMask.mask=E.mask,this.currentCameraMask.camera=E._maskCamera,E.mask.preRenderWebGL(this,E,E._maskCamera)),O.alphaGL>0){var B=this.pipelines.setMulti();B.drawFillRect(A,M,L,F,x.getTintFromFloats(O.blueGL,O.greenGL,O.redGL,1),O.alphaGL)}},getCurrentStencilMask:function(){var E=null,A=this.maskStack,M=this.currentCameraMask;return A.length>0?E=A[A.length-1]:M.mask&&M.mask.isStencil&&(E=M),E},postRenderCamera:function(E){var A=E.flashEffect,M=E.fadeEffect;if(A.isRunning||M.isRunning||M.isComplete){var L=this.pipelines.setMulti();A.postRenderWebGL(L,x.getTintFromFloats),M.postRenderWebGL(L,x.getTintFromFloats)}E.dirty=!1,this.popScissor(),E.mask&&(this.currentCameraMask.mask=null,E.mask.postRenderWebGL(this,E._maskCamera)),this.pipelines.postBatchCamera(E),E.emit(h.POST_RENDER,E)},preRender:function(){if(!this.contextLost){var E=this.gl;if(E.bindFramebuffer(E.FRAMEBUFFER,null),this.config.clearBeforeRender){var A=this.config.backgroundColor;E.clearColor(A.redGL,A.greenGL,A.blueGL,A.alphaGL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT|E.STENCIL_BUFFER_BIT)}E.enable(E.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&E.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(i.PRE_RENDER)}},render:function(E,A,M){if(!this.contextLost){var L=A.length;if(this.emit(i.RENDER,E,M),this.preRenderCamera(M),L===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(M);return}this.currentType="";for(var F=this.currentMask,O=0;O<L;O++){this.finalType=O===L-1;var B=A[O],N=B.mask;F=this.currentMask,F.mask&&F.mask!==N&&F.mask.postRenderWebGL(this,F.camera),N&&F.mask!==N&&N.preRenderWebGL(this,B,M),B.blendMode!==this.currentBlendMode&&this.setBlendMode(B.blendMode);var G=B.type;G!==this.currentType&&(this.newType=!0,this.currentType=G),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=A[O+1].type===this.currentType,B.renderWebGL(this,B,M),this.newType=!1}F=this.currentMask,F.mask&&F.mask.postRenderWebGL(this,F.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(M)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(i.POST_RENDER);var E=this.snapshotState;E.callback&&(y(this.canvas,E),E.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(E,A,M){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,E,A,M)},snapshotArea:function(E,A,M,L,F,O,B){var N=this.snapshotState;return N.callback=F,N.type=O,N.encoder=B,N.getPixel=!1,N.x=E,N.y=A,N.width=Math.min(M,this.gl.drawingBufferWidth),N.height=Math.min(L,this.gl.drawingBufferHeight),this},snapshotPixel:function(E,A,M){return this.snapshotArea(E,A,1,1,M),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(E,A,M,L,F,O,B,N,G,Y,H){F===void 0&&(F=!1),O===void 0&&(O=0),B===void 0&&(B=0),N===void 0&&(N=A),G===void 0&&(G=M);var b=this.currentFramebuffer;this.snapshotArea(O,B,N,G,L,Y,H);var Z=this.snapshotState;return Z.getPixel=F,Z.isFramebuffer=!0,Z.bufferWidth=A,Z.bufferHeight=M,this.setFramebuffer(E),y(this.canvas,Z),this.setFramebuffer(b),Z.callback=null,Z.isFramebuffer=!1,this},canvasToTexture:function(E,A,M,L){return M===void 0&&(M=!1),L===void 0&&(L=!1),A?this.updateCanvasTexture(E,A,L):this.createCanvasTexture(E,M,L)},createCanvasTexture:function(E,A,M){A===void 0&&(A=!1),M===void 0&&(M=!1);var L=this.gl,F=L.NEAREST,O=L.NEAREST,B=E.width,N=E.height,G=L.CLAMP_TO_EDGE,Y=f(B,N);return!A&&Y&&(G=L.REPEAT),this.config.antialias&&(F=Y?this.mipmapFilter:L.LINEAR,O=L.LINEAR),this.createTexture2D(0,F,O,G,G,L.RGBA,E,B,N,!0,!1,M)},updateCanvasTexture:function(E,A,M){M===void 0&&(M=!1);var L=this.gl,F=E.width,O=E.height;if(F>0&&O>0){L.activeTexture(L.TEXTURE0);var B=L.getParameter(L.TEXTURE_BINDING_2D);L.bindTexture(L.TEXTURE_2D,A),L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,M),L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,L.RGBA,L.UNSIGNED_BYTE,E),A.width=F,A.height=O,B&&L.bindTexture(L.TEXTURE_2D,B)}return A},createVideoTexture:function(E,A,M){A===void 0&&(A=!1),M===void 0&&(M=!1);var L=this.gl,F=L.NEAREST,O=L.NEAREST,B=E.videoWidth,N=E.videoHeight,G=L.CLAMP_TO_EDGE,Y=f(B,N);return!A&&Y&&(G=L.REPEAT),this.config.antialias&&(F=Y?this.mipmapFilter:L.LINEAR,O=L.LINEAR),this.createTexture2D(0,F,O,G,G,L.RGBA,E,B,N,!0,!0,M)},updateVideoTexture:function(E,A,M){M===void 0&&(M=!1);var L=this.gl,F=E.videoWidth,O=E.videoHeight;if(F>0&&O>0){L.activeTexture(L.TEXTURE0);var B=L.getParameter(L.TEXTURE_BINDING_2D);L.bindTexture(L.TEXTURE_2D,A),L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,M),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,L.RGBA,L.UNSIGNED_BYTE,E),A.width=F,A.height=O,B&&L.bindTexture(L.TEXTURE_2D,B)}return A},setTextureFilter:function(E,A){var M=this.gl,L=[M.LINEAR,M.NEAREST][A];M.activeTexture(M.TEXTURE0);var F=M.getParameter(M.TEXTURE_BINDING_2D);return M.bindTexture(M.TEXTURE_2D,E),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,L),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,L),F&&M.bindTexture(M.TEXTURE_2D,F),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var E=this.gl,A=this.tempTextures,M=0;M<A.length;M++)E.deleteTexture(A[M]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});l.exports=S},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(92),r=t(102),a=t(373),s=t(376),i=t(377),n=t(108),f=t(378),o=t(379),u=t(380),d=t(381),c=new e({initialize:function(p){this.game=p.game,this.renderer=p,this.classes=new r([[h.UTILITY_PIPELINE,d],[h.MULTI_PIPELINE,n],[h.BITMAPMASK_PIPELINE,a],[h.SINGLE_PIPELINE,u],[h.ROPE_PIPELINE,o],[h.LIGHT_PIPELINE,i],[h.POINTLIGHT_PIPELINE,f],[h.GRAPHICS_PIPELINE,s]]),this.postPipelineClasses=new r,this.pipelines=new r,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(v){var p,x,y=this,S=this.game;if(this.classes.each(function(A,M){p=y.add(A,new M({game:S})),A===h.UTILITY_PIPELINE&&(y.UTILITY_PIPELINE=p,y.fullFrame1=p.fullFrame1,y.fullFrame2=p.fullFrame2,y.halfFrame1=p.halfFrame1,y.halfFrame2=p.halfFrame2)}),this.MULTI_PIPELINE=this.get(h.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(h.BITMAPMASK_PIPELINE),v)for(x in v){var E=v[x];p=new E(S),p.isPostFX?this.postPipelineClasses.set(x,E):this.has(x)||(this.classes.set(x,E),this.add(x,p))}},add:function(v,p){if(p.isPostFX){console.warn(v+" is a Post Pipeline. Use `addPostPipeline` instead");return}var x=this.pipelines,y=this.renderer;return x.has(v)?console.warn("Pipeline exists: "+v):(p.name=v,p.manager=this,x.set(v,p)),p.hasBooted||p.boot(),y.width!==0&&y.height!==0&&p.resize(y.width,y.height),p},addPostPipeline:function(v,p){this.postPipelineClasses.has(v)||this.postPipelineClasses.set(v,p)},flush:function(){this.current&&this.current.flush()},has:function(v){var p=this.pipelines;return typeof v=="string"?p.has(v):!!p.contains(v)},get:function(v){var p=this.pipelines;if(typeof v=="string")return p.get(v);if(p.contains(v))return v},getPostPipeline:function(v,p){var x=this.postPipelineClasses,y;if(typeof v=="string"?y=x.get(v):typeof v=="function"?x.contains(v)&&(y=v):typeof v=="object"&&(y=x.get(v.name)),y){var S=new y(this.game);return p&&(S.gameObject=p),S}},remove:function(v,p,x){p===void 0&&(p=!0),x===void 0&&(x=!0),this.pipelines.delete(v),p&&this.classes.delete(v),x&&this.postPipelineClasses.delete(v)},set:function(v,p,x){if(!v.isPostFX)return this.isCurrent(v,x)||(this.flush(),this.current&&this.current.unbind(),this.current=v,v.bind(x)),v.updateProjectionMatrix(),v.onBind(p),v},preBatch:function(v){if(v.hasPostPipeline){this.flush();for(var p=v.postPipelines,x=p.length-1;x>=0;x--){var y=p[x];y.active&&y.preBatch(v)}}},postBatch:function(v){if(v.hasPostPipeline){this.flush();for(var p=v.postPipelines,x=0;x<p.length;x++){var y=p[x];y.active&&y.postBatch(v)}}},preBatchCamera:function(v){if(v.hasPostPipeline){this.flush();for(var p=v.postPipelines,x=p.length-1;x>=0;x--){var y=p[x];y.active&&y.preBatch(v)}}},postBatchCamera:function(v){if(v.hasPostPipeline){this.flush();for(var p=v.postPipelines,x=0;x<p.length;x++){var y=p[x];y.active&&y.postBatch(v)}}},isCurrent:function(v,p){var x=this.renderer,y=this.current;return y&&!p&&(p=y.currentShader),!(y!==v||p.program!==x.currentProgram)},copyFrame:function(v,p,x,y,S){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(v,p,x,y,S),this},copyToGame:function(v){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(v),this},drawFrame:function(v,p,x,y){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(v,p,x,y),this},blendFrames:function(v,p,x,y,S){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(v,p,x,y,S),this},blendFramesAdditive:function(v,p,x,y,S){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(v,p,x,y,S),this},clearFrame:function(v,p){return this.UTILITY_PIPELINE.clearFrame(v,p),this},blitFrame:function(v,p,x,y,S,E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(v,p,x,y,S,E),this},copyFrameRect:function(v,p,x,y,S,E,A,M){return this.UTILITY_PIPELINE.copyFrameRect(v,p,x,y,S,E,A,M),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(v){return this.UTILITY_PIPELINE.bind(v)},rebind:function(v){v===void 0&&this.previous&&(v=this.previous);var p=this.renderer,x=p.gl;x.disable(x.DEPTH_TEST),x.disable(x.CULL_FACE),p.hasActiveStencilMask()?x.clear(x.DEPTH_BUFFER_BIT):(x.disable(x.STENCIL_TEST),x.clear(x.DEPTH_BUFFER_BIT|x.STENCIL_BUFFER_BIT)),x.viewport(0,0,p.width,p.height),p.currentProgram=null,p.setBlendMode(0,!0);var y=this.pipelines.entries;for(var S in y)y[S].glReset=!0;v&&(this.current=v,v.rebind()),p.resetTextures()},clear:function(){var v=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,v.currentProgram=null,v.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=t(866),a=t(867),s=t(107),i=t(58),n=new e({Extends:i,initialize:function(o){o.fragShader=h(o,"fragShader",r),o.vertShader=h(o,"vertShader",a),o.batchSize=h(o,"batchSize",1),o.vertices=h(o,"vertices",[-1,1,-1,-7,7,1]),o.attributes=h(o,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),i.call(this,o)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,o){i.prototype.resize.call(this,f,o),this.set2f("uResolution",f,o)},beginMask:function(f,o,u){var d=this.gl;if(f.bitmapMask&&d){var c=this.renderer;c.flush(),c.pushFramebuffer(f.mainFramebuffer),d.disable(d.STENCIL_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),c.currentCameraMask.mask!==f&&(c.currentMask.mask=f,c.currentMask.camera=u)}},endMask:function(f,o){var u=this.gl,d=this.renderer,c=f.bitmapMask;if(c&&u){d.flush(),d.pushFramebuffer(f.maskFramebuffer),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),d.setBlendMode(0,!0),c.renderWebGL(d,c,o),d.flush(),d.popFramebuffer(),d.popFramebuffer();var v=d.getCurrentStencilMask();v?(u.enable(u.STENCIL_TEST),v.mask.applyStencil(d,v.camera,!0)):d.currentMask.mask=null,d.pipelines.set(this),u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,f.maskTexture),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,f.mainTexture),this.set1i("uInvertMaskAlpha",f.invertAlpha),u.drawArrays(this.topology,0,3),d.resetTextures()}}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_FLUSH:t(868),BEFORE_FLUSH:t(869),BIND:t(870),BOOT:t(871),DESTROY:t(872),REBIND:t(873),RESIZE:t(874)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=t(107),a=new e({initialize:function(i,n,f,o,u){this.pipeline=i,this.name=n,this.renderer=i.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(f,o),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(s){var i=0,n=0,f=[];this.vertexComponentCount=0;for(var o=0;o<s.length;o++){var u=s[o],d=u.name,c=h(u,"size",1),v=h(u,"type",r.FLOAT),p=v.enum,x=v.size,y=!!u.normalized;f.push({name:d,size:c,type:p,normalized:y,offset:n,enabled:!1,location:-1}),x===4?i+=c:i++,n+=c*x}this.vertexSize=n,this.vertexComponentCount=i,this.attributes=f},bind:function(s,i){return s===void 0&&(s=!1),i===void 0&&(i=!1),i&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var i=this.gl,n=this.vertexSize,f=this.attributes,o=this.program,u=0;u<f.length;u++){var d=f[u],c=d.size,v=d.type,p=d.offset,x=d.enabled,y=d.location,S=!!d.normalized;if(s){var E=i.getAttribLocation(o,d.name);E>=0?(i.enableVertexAttribArray(E),i.vertexAttribPointer(E,c,v,S,n,p),d.enabled=!0,d.location=E):E!==-1&&i.disableVertexAttribArray(E)}else x?i.vertexAttribPointer(y,c,v,S,n,p):!x&&y>-1&&(i.disableVertexAttribArray(y),d.location=-1)}return this},createUniforms:function(){var s=this.gl,i=this.program,n=this.uniforms,f,o,u,d=s.getProgramParameter(i,s.ACTIVE_UNIFORMS);for(f=0;f<d;f++){var c=s.getActiveUniform(i,f);if(c){o=c.name,u=s.getUniformLocation(i,o),u!==null&&(n[o]={name:o,location:u,value1:null,value2:null,value3:null,value4:null});var v=o.indexOf("[");v>0&&(o=o.substr(0,v),n.hasOwnProperty(o)||(u=s.getUniformLocation(i,o),u!==null&&(n[o]={name:o,location:u,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var i=this.uniforms[s];return i&&(i.value1=null,i.value2=null,i.value3=null,i.value4=null),this},setUniform1:function(s,i,n,f){var o=this.uniforms[i];return o?((f||o.value1!==n)&&(o.value1=n,this.renderer.setProgram(this.program),s.call(this.gl,o.location,n),this.pipeline.currentShader=this),this):this},setUniform2:function(s,i,n,f,o){var u=this.uniforms[i];return u?((o||u.value1!==n||u.value2!==f)&&(u.value1=n,u.value2=f,this.renderer.setProgram(this.program),s.call(this.gl,u.location,n,f),this.pipeline.currentShader=this),this):this},setUniform3:function(s,i,n,f,o,u){var d=this.uniforms[i];return d?((u||d.value1!==n||d.value2!==f||d.value3!==o)&&(d.value1=n,d.value2=f,d.value3=o,this.renderer.setProgram(this.program),s.call(this.gl,d.location,n,f,o),this.pipeline.currentShader=this),this):this},setUniform4:function(s,i,n,f,o,u,d){var c=this.uniforms[i];return c?((d||c.value1!==n||c.value2!==f||c.value3!==o||c.value4!==u)&&(c.value1=n,c.value2=f,c.value3=o,c.value4=u,this.renderer.setProgram(this.program),s.call(this.gl,c.location,n,f,o,u),this.pipeline.currentShader=this),this):this},set1f:function(s,i){return this.setUniform1(this.gl.uniform1f,s,i)},set2f:function(s,i,n){return this.setUniform2(this.gl.uniform2f,s,i,n)},set3f:function(s,i,n,f){return this.setUniform3(this.gl.uniform3f,s,i,n,f)},set4f:function(s,i,n,f,o){return this.setUniform4(this.gl.uniform4f,s,i,n,f,o)},set1fv:function(s,i){return this.setUniform1(this.gl.uniform1fv,s,i,!0)},set2fv:function(s,i){return this.setUniform1(this.gl.uniform2fv,s,i,!0)},set3fv:function(s,i){return this.setUniform1(this.gl.uniform3fv,s,i,!0)},set4fv:function(s,i){return this.setUniform1(this.gl.uniform4fv,s,i,!0)},set1iv:function(s,i){return this.setUniform1(this.gl.uniform1iv,s,i,!0)},set2iv:function(s,i){return this.setUniform1(this.gl.uniform2iv,s,i,!0)},set3iv:function(s,i){return this.setUniform1(this.gl.uniform3iv,s,i,!0)},set4iv:function(s,i){return this.setUniform1(this.gl.uniform4iv,s,i,!0)},set1i:function(s,i){return this.setUniform1(this.gl.uniform1i,s,i)},set2i:function(s,i,n){return this.setUniform2(this.gl.uniform2i,s,i,n)},set3i:function(s,i,n,f){return this.setUniform3(this.gl.uniform3i,s,i,n,f)},set4i:function(s,i,n,f,o){return this.setUniform4(this.gl.uniform4i,s,i,n,f,o)},setMatrix2fv:function(s,i,n){return this.setUniform2(this.gl.uniformMatrix2fv,s,i,n,!0)},setMatrix3fv:function(s,i,n){return this.setUniform2(this.gl.uniformMatrix3fv,s,i,n,!0)},setMatrix4fv:function(s,i,n){return this.setUniform2(this.gl.uniformMatrix4fv,s,i,n,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(59),r=t(2),a=t(875),s=t(876),i=t(25),n=t(107),f=t(58),o=new e({Extends:f,initialize:function(d){d.fragShader=r(d,"fragShader",a),d.vertShader=r(d,"vertShader",s),d.attributes=r(d,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),f.call(this,d),this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(u,d,c,v,p,x){this.renderer.pipelines.set(this);var y=this.calcMatrix;x&&x.multiply(p,y);var S=u+c,E=d+v,A=y.getX(u,d),M=y.getY(u,d),L=y.getX(u,E),F=y.getY(u,E),O=y.getX(S,E),B=y.getY(S,E),N=y.getX(S,d),G=y.getY(S,d),Y=this.fillTint;this.batchQuad(A,M,L,F,O,B,N,G,Y.TL,Y.TR,Y.BL,Y.BR)},batchFillTriangle:function(u,d,c,v,p,x,y,S){this.renderer.pipelines.set(this);var E=this.calcMatrix;S&&S.multiply(y,E);var A=E.getX(u,d),M=E.getY(u,d),L=E.getX(c,v),F=E.getY(c,v),O=E.getX(p,x),B=E.getY(p,x),N=this.fillTint;this.batchTri(A,M,L,F,O,B,N.TL,N.TR,N.BL)},batchStrokeTriangle:function(u,d,c,v,p,x,y,S,E){var A=this.tempTriangle;A[0].x=u,A[0].y=d,A[0].width=y,A[1].x=c,A[1].y=v,A[1].width=y,A[2].x=p,A[2].y=x,A[2].width=y,A[3].x=u,A[3].y=d,A[3].width=y,this.batchStrokePath(A,y,!1,S,E)},batchFillPath:function(u,d,c){this.renderer.pipelines.set(this);var v=this.calcMatrix;c&&c.multiply(d,v);for(var p=u.length,x=this.polygonCache,y,S,E=this.fillTint.TL,A=this.fillTint.TR,M=this.fillTint.BL,L=0;L<p;++L)S=u[L],x.push(S.x,S.y);y=h(x),p=y.length;for(var F=0;F<p;F+=3){var O=y[F+0]*2,B=y[F+1]*2,N=y[F+2]*2,G=x[O+0],Y=x[O+1],H=x[B+0],b=x[B+1],Z=x[N+0],$=x[N+1],w=v.getX(G,Y),D=v.getY(G,Y),V=v.getX(H,b),z=v.getY(H,b),X=v.getX(Z,$),j=v.getY(Z,$);this.batchTri(w,D,V,z,X,j,E,A,M)}x.length=0},batchStrokePath:function(u,d,c,v,p){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=u.length-1,y=0;y<x;y++){var S=u[y],E=u[y+1];this.batchLine(S.x,S.y,E.x,E.y,S.width/2,E.width/2,d,y,!c&&y===x-1,v,p)}},batchLine:function(u,d,c,v,p,x,y,S,E,A,M){this.renderer.pipelines.set(this);var L=this.calcMatrix;M&&M.multiply(A,L);var F=c-u,O=v-d,B=Math.sqrt(F*F+O*O),N=p*(v-d)/B,G=p*(u-c)/B,Y=x*(v-d)/B,H=x*(u-c)/B,b=c-Y,Z=v-H,$=u-N,w=d-G,D=c+Y,V=v+H,z=u+N,X=d+G,j=L.getX(b,Z),K=L.getY(b,Z),Q=L.getX($,w),k=L.getY($,w),_=L.getX(D,V),it=L.getY(D,V),at=L.getX(z,X),ot=L.getY(z,X),ct=this.strokeTint,ut=ct.TL,mt=ct.TR,Nt=ct.BL,Mt=ct.BR;if(this.batchQuad(at,ot,Q,k,j,K,_,it,ut,mt,Nt,Mt),!(y<=2)){var Ct=this.prevQuad,ft=this.firstQuad;S>0&&Ct[4]?this.batchQuad(at,ot,Q,k,Ct[0],Ct[1],Ct[2],Ct[3],ut,mt,Nt,Mt):(ft[0]=at,ft[1]=ot,ft[2]=Q,ft[3]=k,ft[4]=1),E&&ft[4]?this.batchQuad(j,K,_,it,ft[0],ft[1],ft[2],ft[3],ut,mt,Nt,Mt):(Ct[0]=j,Ct[1]=K,Ct[2]=_,Ct[3]=it,Ct[4]=1)}},batchVert:function(u,d,c){var v=this.vertexViewF32,p=this.vertexViewU32,x=this.vertexCount*this.currentShader.vertexComponentCount-1;v[++x]=u,v[++x]=d,p[++x]=c,this.vertexCount++},batchQuad:function(u,d,c,v,p,x,y,S,E,A,M,L){var F=!1;return this.shouldFlush(6)&&(this.flush(),F=!0),this.batchVert(u,d,E),this.batchVert(c,v,M),this.batchVert(p,x,L),this.batchVert(u,d,E),this.batchVert(p,x,L),this.batchVert(y,S,A),F},batchTri:function(u,d,c,v,p,x,y,S,E){var A=!1;return this.shouldFlush(3)&&(this.flush(),A=!0),this.batchVert(u,d,y),this.batchVert(c,v,S),this.batchVert(p,x,E),A},destroy:function(){return f.prototype.destroy.call(this),this.polygonCache=null,this}});l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=t(877),a=t(108),s=t(3),i=t(58),n=10,f=new s,o=new e({Extends:a,initialize:function(d){n=d.game.renderer.config.maxLights;for(var c=h(d,"fragShader",r),v=[],p=1;p<=n;p++)v.push({name:"lights"+p,fragShader:c.replace("%LIGHT_COUNT%",p.toString())});d.shaders=v,a.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){i.prototype.boot.call(this);var u=this.gl,d=u.createTexture();u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,d),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,1,1,0,u.RGBA,u.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:d};for(var c=0;c<this.shaders.length;c++)this["lightShader"+(c+1)]=this.shaders[c]},onRender:function(u,d){var c=u.sys.lights;if(this.lightsActive=!1,!(!c||!c.active)){var v=c.getLights(d),p=v.length;if(p!==0){this.lightsActive=!0,this.setShader(this["lightShader"+p],!0);var x,y=this.renderer,S=y.height,E=d.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",c.ambientColor.r,c.ambientColor.g,c.ambientColor.b),x=0;x<p;x++){var A=v[x].light,M=A.color,L="uLights["+x+"].";E.transformPoint(A.x,A.y,f),this.set2f(L+"position",f.x-d.scrollX*A.scrollFactorX*d.zoom,S-(f.y-d.scrollY*A.scrollFactorY*d.zoom)),this.set3f(L+"color",M.r,M.g,M.b),this.set1f(L+"intensity",A.intensity),this.set1f(L+"radius",A.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(u){var c=-u,v=Math.cos(c),p=Math.sin(c);d[1]=p,d[3]=-p,d[0]=d[4]=v}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=u}},setTexture2D:function(u,d){var c=this.renderer;u===void 0&&(u=c.tempTextures[0]);var v=this.getNormalMap(d);c.isNewNormalMap(u,v)&&(this.flush(),c.setTextureZero(u),c.setNormalMap(v));var p=d?d.rotation:0;return this.setNormalMapRotation(p),this.currentUnit=0,0},setGameObject:function(u,d){d===void 0&&(d=u.frame);var c=this.renderer,v=d.glTexture,p=this.getNormalMap(u);return c.isNewNormalMap()&&(this.flush(),c.setTextureZero(v),c.setNormalMap(p)),this.setNormalMapRotation(u.rotation),this.currentUnit=0,0},getNormalMap:function(u){var d;return u?u.displayTexture?d=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?d=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?d=u.tileset[0].image.dataSource[0]:d=u.tileset.image.dataSource[0]):d=this.defaultNormalMap,d||(d=this.defaultNormalMap),d.glTexture},batchSprite:function(u,d,c){this.lightsActive&&a.prototype.batchSprite.call(this,u,d,c)},batchTexture:function(u,d,c,v,p,x,y,S,E,A,M,L,F,O,B,N,G,Y,H,b,Z,$,w,D,V,z,X,j,K,Q,k,_){this.lightsActive&&a.prototype.batchTexture.call(this,u,d,c,v,p,x,y,S,E,A,M,L,F,O,B,N,G,Y,H,b,Z,$,w,D,V,z,X,j,K,Q,k,_)},batchTextureFrame:function(u,d,c,v,p,x,y){this.lightsActive&&a.prototype.batchTextureFrame.call(this,u,d,c,v,p,x,y)}});o.LIGHT_COUNT=n,l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=t(880),a=t(881),s=t(58),i=new e({Extends:s,initialize:function(f){f.vertShader=h(f,"vertShader",a),f.fragShader=h(f,"fragShader",r),f.attributes=h(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,f)},onRender:function(n,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(n,f,o,u,d,c,v,p,x,y,S,E){var A=n.color,M=n.intensity,L=n.radius,F=n.attenuation,O=A.r*M,B=A.g*M,N=A.b*M,G=f.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(o,u,S,E,L,F,O,B,N,G),this.batchLightVert(d,c,S,E,L,F,O,B,N,G),this.batchLightVert(v,p,S,E,L,F,O,B,N,G),this.batchLightVert(o,u,S,E,L,F,O,B,N,G),this.batchLightVert(v,p,S,E,L,F,O,B,N,G),this.batchLightVert(x,y,S,E,L,F,O,B,N,G)},batchLightVert:function(n,f,o,u,d,c,v,p,x,y){var S=this.vertexViewF32,E=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++E]=n,S[++E]=f,S[++E]=o,S[++E]=u,S[++E]=d,S[++E]=c,S[++E]=v,S[++E]=p,S[++E]=x,S[++E]=y,this.vertexCount++}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=t(108),a=new e({Extends:r,initialize:function(i){i.topology=5,i.batchSize=h(i,"batchSize",256),r.call(this,i)}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=t(108),a=t(882),s=t(883),i=t(58),n=new e({Extends:r,initialize:function(o){o.fragShader=h(o,"fragShader",a),o.vertShader=h(o,"vertShader",s),o.forceZero=!0,r.call(this,o)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(884),h=t(35),r=t(0),a=t(198),s=t(885),i=t(886),n=t(2),f=t(887),o=t(382),u=t(58),d=new r({Extends:u,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),v.vertShader=n(v,"vertShader",o),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:e},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:s}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,u.call(this,v),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var c=this.shaders,v=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(c,v,p,x,y){p===void 0&&(p=1),x===void 0&&(x=!0),y===void 0&&(y=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,c.texture),v?(S.viewport(0,0,v.width,v.height),S.bindFramebuffer(S.FRAMEBUFFER,v.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,v.texture,0)):S.viewport(0,0,c.width,c.height),x&&(y?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(c,v,p,x,y,S){p===void 0&&(p=1),x===void 0&&(x=!0),y===void 0&&(y=!0),S===void 0&&(S=!1);var E=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture),c.height>v.height)E.viewport(0,0,c.width,c.height),this.setTargetUVs(c,v);else{var A=v.height-c.height;E.viewport(0,A,c.width,c.height)}if(E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture,0),x&&(y?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),S){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),S&&this.renderer.setBlendMode(M),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,v,p,x,y,S,E,A){E===void 0&&(E=!0),A===void 0&&(A=!0);var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,c.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,c.texture,0),E&&(A?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,v.texture),M.copyTexSubImage2D(M.TEXTURE_2D,0,0,0,p,x,y,S),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},copyToGame:function(c){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,c.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(c,v,p,x){p===void 0&&(p=!0),x===void 0&&(x=this.colorMatrix);var y=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",x.getData()),this.set1f("uAlpha",x.alpha),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,c.texture),v?(y.viewport(0,0,v.width,v.height),y.bindFramebuffer(y.FRAMEBUFFER,v.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,v.texture,0)):y.viewport(0,0,c.width,c.height),p?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFrames:function(c,v,p,x,y,S){x===void 0&&(x=1),y===void 0&&(y=!0),S===void 0&&(S=this.linearShader);var E=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",x),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture),E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,v.texture),p?(E.bindFramebuffer(E.FRAMEBUFFER,p.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,p.texture,0),E.viewport(0,0,p.width,p.height)):E.viewport(0,0,c.width,c.height),y?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFramesAdditive:function(c,v,p,x,y){this.blendFrames(c,v,p,x,y,this.addShader)},clearFrame:function(c,v){v===void 0&&(v=!0);var p=this.gl;p.viewport(0,0,c.width,c.height),p.bindFramebuffer(p.FRAMEBUFFER,c.framebuffer),v?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var x=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,x)},setUVs:function(c,v,p,x,y,S,E,A){var M=this.vertexViewF32;M[2]=c,M[3]=v,M[6]=p,M[7]=x,M[10]=y,M[11]=S,M[14]=c,M[15]=v,M[18]=y,M[19]=S,M[22]=E,M[23]=A},setTargetUVs:function(c,v){var p=v.height/c.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});l.exports=d},function(l,g){l.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),h=t(38),r=t(2),a=function(s,i){var n=s.getContext("experimental-webgl"),f=r(i,"callback"),o=r(i,"type","image/png"),u=r(i,"encoder",.92),d=r(i,"x",0),c=r(i,"y",0),v=r(i,"getPixel",!1),p=r(i,"isFramebuffer",!1),x=p?r(i,"bufferWidth",1):n.drawingBufferWidth,y=p?r(i,"bufferHeight",1):n.drawingBufferHeight;if(v){var S=new Uint8Array(4),E=p?c:y-c;n.readPixels(d,E,1,1,n.RGBA,n.UNSIGNED_BYTE,S),f.call(null,new h(S[0],S[1],S[2],S[3]/255))}else{var A=r(i,"width",x),M=r(i,"height",y),L=A*M*4,F=new Uint8Array(L);n.readPixels(d,y-c-M,A,M,n.RGBA,n.UNSIGNED_BYTE,F);for(var O=e.createWebGL(this,A,M),B=O.getContext("2d"),N=B.getImageData(0,0,A,M),G=N.data,Y=0;Y<M;Y++)for(var H=0;H<A;H++){var b=((M-Y-1)*A+H)*4,Z=(Y*A+H)*4;G[Z+0]=F[b+0],G[Z+1]=F[b+1],G[Z+2]=F[b+2],G[Z+3]=F[b+3]}B.putImageData(N,0,0);var $=new Image;$.onerror=function(){f.call(null),e.remove(O)},$.onload=function(){f.call(null,$),e.remove(O)},$.src=O.toDataURL(o,u)}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),h=function(r){var a=r.config;if(!a.hideBanner){var s="WebGL";a.renderType===e.CANVAS?s="Canvas":a.renderType===e.HEADLESS&&(s="Headless");var i=a.audio,n=r.device.audio,f;if(n.webAudio&&!i.disableWebAudio?f="Web Audio":i.noAudio||!n.webAudio&&!n.audioData?f="No Audio":f="HTML5 Audio",r.device.browser.ie)window.console&&console.log("Phaser v"+e.VERSION+" / https://phaser.io");else{var o="",u=[o];if(Array.isArray(a.bannerBackgroundColor)){var d;a.bannerBackgroundColor.forEach(function(v){o=o.concat("%c "),u.push("background: "+v),d=v}),u[u.length-1]="color: "+a.bannerTextColor+"; background: "+d}else o=o.concat("%c "),u.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);u.push("background: transparent"),a.gameTitle&&(o=o.concat(a.gameTitle),a.gameVersion&&(o=o.concat(" v"+a.gameVersion)),a.hidePhaser||(o=o.concat(" / ")));var c="";a.hidePhaser||(o=o.concat("Phaser v"+e.VERSION+c+" ("+s+" | "+f+")")),o=o.concat(" %c "+a.gameURL),u[0]=o,console.log.apply(console,u)}}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(6),r=t(1),a=t(386),s=new e({initialize:function(n,f){this.game=n,this.raf=new a,this.started=!1,this.running=!1,this.minFps=h(f,"min",5),this.targetFps=h(f,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=r,this.forceSetTimeOut=h(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=h(f,"deltaHistory",10),this.panicMax=h(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=h(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var i=window.performance.now();this.now=i;var n=i-this.lastTime;n<0&&(n=0),this.rawDelta=n;var f=this.deltaIndex,o=this.deltaHistory,u=this.deltaSmoothingMax,d=n,c=n;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,d=Math.min(d,this._target)),d>this._min&&(d=o[f],d=Math.min(d,this._min)),o[f]=d,this.deltaIndex++,this.deltaIndex>u&&(this.deltaIndex=0),c=0;for(var v=0;v<u;v++)c+=o[v];c/=u}this.delta=c,this.time+=this.rawDelta,i>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0),this.framesThisSecond++;var p=c/this._target;this.callback(i,c,p),this.lastTime=i,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){this.running||(i&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=r,this.raf=null,this.game=null}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(1),r=new e({initialize:function(){this.isRunning=!1,this.callback=h,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var s=this;this.step=function i(){var n=window.performance.now();s.lastTime=s.tick,s.tick=n,s.callback(n),s.timeOutID=window.requestAnimationFrame(i)},this.stepTimeout=function i(){var n=Date.now(),f=Math.min(Math.max(s.target*2+s.tick-n,0),s.target);s.lastTime=s.tick,s.tick=n,s.callback(n),s.timeOutID=window.setTimeout(i,f)}},start:function(a,s,i){this.isRunning||(this.callback=a,this.isSetTimeOut=s,this.target=i,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=h}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(22),h=function(r){var a,s=r.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},a=f+"visibilitychange")})}var n=function(f){document.hidden||f.type==="pause"?s.emit(e.HIDDEN):s.emit(e.VISIBLE)};a&&document.addEventListener(a,n,!1),window.onblur=function(){s.emit(e.BLUR)},window.onfocus=function(){s.emit(e.FOCUS)},window.focus&&r.config.autoFocus&&window.focus()};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(389),h=t(31),r=t(6),a=function(s){var i=r(s,"data",[]),n=r(s,"canvas",null),f=r(s,"palette",e),o=r(s,"pixelWidth",1),u=r(s,"pixelHeight",o),d=r(s,"resizeCanvas",!0),c=r(s,"clearCanvas",!0),v=r(s,"preRender",null),p=r(s,"postRender",null),x=Math.floor(Math.abs(i[0].length*o)),y=Math.floor(Math.abs(i.length*u));n||(n=h.create2D(this,x,y),d=!1,c=!1),d&&(n.width=x,n.height=y);var S=n.getContext("2d");c&&S.clearRect(0,0,x,y),v&&v(n,S);for(var E=0;E<i.length;E++)for(var A=i[E],M=0;M<A.length;M++){var L=A[M];L!=="."&&L!==" "&&(S.fillStyle=f[L],S.fillRect(M*o,E*u,o,u))}return p&&p(n,S),n};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(358),r=t(94),a=t(3),s=new e({Extends:r,initialize:function(n,f,o,u){r.call(this,"CubicBezierCurve"),Array.isArray(n)&&(u=new a(n[6],n[7]),o=new a(n[4],n[5]),f=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=f,this.p2=o,this.p3=u},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var f=this.p0,o=this.p1,u=this.p2,d=this.p3;return n.set(h(i,f.x,o.x,u.x,d.x),h(i,f.y,o.y,u.y,d.y))},draw:function(i,n){n===void 0&&(n=32);var f=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var o=1;o<f.length;o++)i.lineTo(f[o].x,f[o].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(i){var n=i.points,f=new a(n[0],n[1]),o=new a(n[2],n[3]),u=new a(n[4],n[5]),d=new a(n[6],n[7]);return new s(f,o,u,d)},l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(94),r=t(36),a=t(6),s=t(196),i=t(3),n=new e({Extends:h,initialize:function(o,u,d,c,v,p,x,y){if(typeof o=="object"){var S=o;o=a(S,"x",0),u=a(S,"y",0),d=a(S,"xRadius",0),c=a(S,"yRadius",d),v=a(S,"startAngle",0),p=a(S,"endAngle",360),x=a(S,"clockwise",!1),y=a(S,"rotation",0)}else c===void 0&&(c=d),v===void 0&&(v=0),p===void 0&&(p=360),x===void 0&&(x=!1),y===void 0&&(y=0);h.call(this,"EllipseCurve"),this.p0=new i(o,u),this._xRadius=d,this._yRadius=c,this._startAngle=r(v),this._endAngle=r(p),this._clockwise=x,this._rotation=r(y)},getStartPoint:function(f){return f===void 0&&(f=new i),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,o){o===void 0&&(o=new i);for(var u=Math.PI*2,d=this._endAngle-this._startAngle,c=Math.abs(d)<Number.EPSILON;d<0;)d+=u;for(;d>u;)d-=u;d<Number.EPSILON&&(c?d=0:d=u),this._clockwise&&!c&&(d===u?d=-u:d=d-u);var v=this._startAngle+f*d,p=this.p0.x+this._xRadius*Math.cos(v),x=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var y=Math.cos(this._rotation),S=Math.sin(this._rotation),E=p-this.p0.x,A=x-this.p0.y;p=E*y-A*S+this.p0.x,x=E*S+A*y+this.p0.y}return o.set(p,x)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return s(this._startAngle)},set:function(f){this._startAngle=r(f)}},endAngle:{get:function(){return s(this._endAngle)},set:function(f){this._endAngle=r(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return s(this._rotation)},set:function(f){this._rotation=r(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});n.fromJSON=function(f){return new n(f)},l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(94),r=t(199),a=t(10),s=t(3),i=new e({Extends:h,initialize:function(f,o){h.call(this,"LineCurve"),Array.isArray(f)&&(o=new s(f[2],f[3]),f=new s(f[0],f[1])),this.p0=f,this.p1=o,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new a),r([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,f){return f===void 0&&(f=new s),n===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),f)},getPointAt:function(n,f){return this.getPoint(n,f)},getTangent:function(n,f){return f===void 0&&(f=new s),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(n,f,o){var u;if(f){var d=this.getLengths(o),c=d[d.length-1],v=Math.min(f,c);u=v/c}else u=n;return u},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(n){var f=n.points,o=new s(f[0],f[1]),u=new s(f[2],f[3]);return new i(o,u)},l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(3),r=new e({initialize:function(s,i){this.active=!1,this.p0=new h(s,i)},getPoint:function(a,s){return s===void 0&&(s=new h),s.copy(this.p0)},getPointAt:function(a,s){return this.getPoint(a,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(94),r=t(359),a=t(3),s=new e({Extends:h,initialize:function(n,f,o){h.call(this,"QuadraticBezier"),Array.isArray(n)&&(o=new a(n[4],n[5]),f=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=f,this.p2=o},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var f=this.p0,o=this.p1,u=this.p2;return n.set(r(i,f.x,o.x,u.x),r(i,f.y,o.y,u.y))},draw:function(i,n){n===void 0&&(n=32);var f=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var o=1;o<f.length;o++)i.lineTo(f[o].x,f[o].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(i){var n=i.points,f=new a(n[0],n[1]),o=new a(n[2],n[3]),u=new a(n[4],n[5]);return new s(f,o,u)},l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),h=t(0),r=t(94),a=t(3),s=new h({Extends:r,initialize:function(n){n===void 0&&(n=[]),r.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(i){for(var n=0;n<i.length;n++){var f=new a;typeof i[n]=="number"?(f.x=i[n],f.y=i[n+1],n++):Array.isArray(i[n])?(f.x=i[n][0],f.y=i[n][1]):(f.x=i[n].x,f.y=i[n].y),this.points.push(f)}return this},addPoint:function(i,n){var f=new a(i,n);return this.points.push(f),f},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,n){n===void 0&&(n=new a);var f=this.points,o=(f.length-1)*i,u=Math.floor(o),d=o-u,c=f[u===0?u:u-1],v=f[u],p=f[u>f.length-2?f.length-1:u+1],x=f[u>f.length-3?f.length-1:u+2];return n.set(e(d,c.x,v.x,p.x,x.x),e(d,c.y,v.y,p.y,x.y))},toJSON:function(){for(var i=[],n=0;n<this.points.length;n++)i.push(this.points[n].x),i.push(this.points[n].y);return{type:this.type,points:i}}});s.fromJSON=function(i){return new s(i.points)},l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=a,this.fragmentSrc=s,this.vertexSrc=i,this.uniforms=n}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38);e.ColorSpectrum=t(909),e.ColorToRGBA=t(910),e.ComponentToHex=t(398),e.GetColor=t(103),e.GetColor32=t(328),e.HexStringToColor=t(327),e.HSLToColor=t(911),e.HSVColorWheel=t(912),e.HSVToRGB=t(188),e.HueToComponent=t(399),e.IntegerToColor=t(189),e.IntegerToRGB=t(330),e.Interpolate=t(913),e.ObjectToColor=t(331),e.RandomRGB=t(914),e.RGBStringToColor=t(332),e.RGBToHSV=t(329),e.RGBToString=t(915),e.ValueToColor=t(187),l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h=e.toString(16);return h.length===1?"0"+h:h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(h-e)*6*r:r<.5?h:r<.6666666666666666?e+(h-e)*(.6666666666666666-r)*6:e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),h=function(r){if(document.readyState==="complete"||document.readyState==="interactive"){r();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),r()};document.body?e.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!e)return window.innerHeight;var h=Math.abs(window.orientation),r={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),r.w=h===90?a.offsetHeight:window.innerWidth,r.h=h===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?r.h:r.w};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),h=function(r,a){var s=window.screen,i=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return e.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return e.ORIENTATION.LANDSCAPE}else return a>r?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h;return e!==""&&(typeof e=="string"?h=document.getElementById(e):e&&e.nodeType===1&&(h=e)),h||(h=document.body),h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h="";try{if(window.DOMParser){var r=new DOMParser;h=r.parseFromString(e,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(e)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(203),r=t(9),a=t(51),s=t(22),i=t(410),n=t(411),f=t(412),o=t(413),u=t(25),d=t(177),c=new e({initialize:function(p,x){this.game=p,this.scaleManager,this.canvas,this.config=x,this.enabled=!0,this.events=new r,this.isOver=!0,this.defaultCursor="",this.keyboard=x.inputKeyboard?new i(this):null,this.mouse=x.inputMouse?new n(this):null,this.touch=x.inputTouch?new o(this):null,this.pointers=[],this.pointersTotal=x.inputActivePointers,x.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var y=0;y<=this.pointersTotal;y++){var S=new f(this,y);S.smoothFactor=x.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=x.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(s.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(a.MANAGER_BOOT),this.game.events.on(s.PRE_RENDER,this.preRender,this),this.game.events.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(a.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(a.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,p=this.game.loop.delta,x=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(a.MANAGER_UPDATE);for(var y=0;y<x.length;y++){var S=x[y];if(S.sys.input&&S.sys.input.updatePoll(v,p)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var p=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var x=0;x<v;x++){var y=this.pointers.length,S=new f(this,y);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,p.push(S)}return p},updateInputPlugins:function(v,p){var x=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var y=0;y<x.length;y++){var S=x[y];if(S.sys.input){var E=S.sys.input.update(v,p);if(E&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var p=this.pointers,x=[],y=0;y<v.changedTouches.length;y++)for(var S=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var A=p[E];if(!A.active){A.touchstart(S,v),this.activePointer=A,x.push(A);break}}this.updateInputPlugins(h.TOUCH_START,x)},onTouchMove:function(v){for(var p=this.pointers,x=[],y=0;y<v.changedTouches.length;y++)for(var S=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var A=p[E];if(A.active&&A.identifier===S.identifier){A.touchmove(S,v),this.activePointer=A,x.push(A);break}}this.updateInputPlugins(h.TOUCH_MOVE,x)},onTouchEnd:function(v){for(var p=this.pointers,x=[],y=0;y<v.changedTouches.length;y++)for(var S=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var A=p[E];if(A.active&&A.identifier===S.identifier){A.touchend(S,v),x.push(A);break}}this.updateInputPlugins(h.TOUCH_END,x)},onTouchCancel:function(v){for(var p=this.pointers,x=[],y=0;y<v.changedTouches.length;y++)for(var S=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var A=p[E];if(A.active&&A.identifier===S.identifier){A.touchcancel(S,v),x.push(A);break}}this.updateInputPlugins(h.TOUCH_CANCEL,x)},onMouseDown:function(v){var p=this.mousePointer;p.down(v),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(h.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var p=this.mousePointer;p.move(v),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(h.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var p=this.mousePointer;p.up(v),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(h.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var p=this.mousePointer;p.wheel(v),this.activePointer=p,this.updateInputPlugins(h.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(a.POINTERLOCK_CHANGE,v,p)},inputCandidate:function(v,p){var x=v.input;if(!x||!x.enabled||!x.alwaysEnabled&&!v.willRender(p))return!1;var y=!0,S=v.parentContainer;if(S)do{if(!S.willRender(p)){y=!1;break}S=S.parentContainer}while(S);return y},hitTest:function(v,p,x,y){y===void 0&&(y=this._tempHitTest);var S=this._tempPoint,E=x.scrollX,A=x.scrollY;y.length=0;var M=v.x,L=v.y;x.getWorldPoint(M,L,S),v.worldX=S.x,v.worldY=S.y;for(var F={x:0,y:0},O=this._tempMatrix,B=this._tempMatrix2,N=0;N<p.length;N++){var G=p[N];if(this.inputCandidate(G,x)){var Y=S.x+E*G.scrollFactorX-E,H=S.y+A*G.scrollFactorY-A;G.parentContainer?(G.getWorldTransformMatrix(O,B),O.applyInverse(Y,H,F)):d(Y,H,G.x,G.y,G.rotation,G.scaleX,G.scaleY,F),this.pointWithinHitArea(G,F.x,F.y)&&y.push(G)}}return y},pointWithinHitArea:function(v,p,x){p+=v.displayOriginX,x+=v.displayOriginY;var y=v.input;return y&&y.hitAreaCallback(y.hitArea,p,x,v)?(y.localX=p,y.localY=x,!0):!1},pointWithinInteractiveObject:function(v,p,x){return v.hitArea?(p+=v.gameObject.displayOriginX,x+=v.gameObject.displayOriginY,v.localX=p,v.localY=x,v.hitAreaCallback(v.hitArea,p,x,v)):!1},transformPointer:function(v,p,x,y){var S=v.position,E=v.prevPosition;E.x=S.x,E.y=S.y;var A=this.scaleManager.transformX(p),M=this.scaleManager.transformY(x),L=v.smoothFactor;!y||L===0?(S.x=A,S.y=M):(S.x=A*L+E.x*(1-L),S.y=M*L+E.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),h=t(0),r=t(22),a=t(51),s=t(143),i=t(1),n=new h({initialize:function(o){this.manager=o,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,o.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(r.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(u),f.manager.events.emit(a.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;f.preventDefault&&!d&&f.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(u),f.manager.events.emit(a.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;f.preventDefault&&!d&&f.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var o=this.target;o&&(o.addEventListener("keydown",this.onKeyDown,!1),o.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var o=this.captures,u=0;u<f.length;u++){var d=f[u];typeof d=="string"&&(d=s[d.trim().toUpperCase()]),o.indexOf(d)===-1&&o.push(d)}this.preventDefault=o.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var o=this.captures,u=0;u<f.length;u++){var d=f[u];typeof d=="string"&&(d=s[d.toUpperCase()]),e(o,d)}this.preventDefault=o.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(r.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(191),r=t(51),a=t(1),s=new e({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,n.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(h.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){h.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var n=this,f=this.manager,o=f.canvas,u=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&n.enabled&&f&&f.enabled&&(f.onMouseMove(c),n.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){u&&window.focus(),!c.defaultPrevented&&n.enabled&&f&&f.enabled&&(f.onMouseDown(c),n.preventDefaultDown&&c.target===o&&c.preventDefault())},this.onMouseDownWindow=function(c){!c.defaultPrevented&&n.enabled&&f&&f.enabled&&c.target!==o&&f.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&n.enabled&&f&&f.enabled&&(f.onMouseUp(c),n.preventDefaultUp&&c.target===o&&c.preventDefault())},this.onMouseUpWindow=function(c){!c.defaultPrevented&&n.enabled&&f&&f.enabled&&c.target!==o&&f.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&n.enabled&&f&&f.enabled&&f.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&n.enabled&&f&&f.enabled&&f.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&n.enabled&&f&&f.enabled&&f.onMouseWheel(c),n.preventDefaultWheel&&c.target===o&&c.preventDefault()};var d={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,d),i.addEventListener("mouseout",this.onMouseOut,d),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,d),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,d),window.top.addEventListener("mouseup",this.onMouseUpWindow,d)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,d),window.addEventListener("mouseup",this.onMouseUpWindow,d),this.isTop=!1}h.pointerLock&&(this.pointerLockChange=function(c){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,f.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),h.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(349),h=t(0),r=t(50),a=t(124),s=t(360),i=t(3),n=t(105),f=new h({initialize:function(u,d){this.manager=u,this.id=d,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=d===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(o){var u=o.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(o,u){return o.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var o=this.position.x,u=this.position.y,d=this.midPoint.x,c=this.midPoint.y;if(!(o===d&&u===c)){var v=s(this.motionFactor,d,o),p=s(this.motionFactor,c,u);a(v,o,.1)&&(v=o),a(p,u,.1)&&(p=u),this.midPoint.set(v,p);var x=o-v,y=u-p;this.velocity.set(x,y),this.angle=e(v,p,o,u),this.distance=Math.sqrt(x*x+y*y)}},up:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=o.timeStamp,this.wasTouch=!1)},down:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&o.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=o.timeStamp),this.wasTouch=!1},move:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.locked&&(this.movementX=o.movementX||o.mozMovementX||o.webkitMovementX||0,this.movementY=o.movementY||o.mozMovementY||o.webkitMovementY||0),this.moveTime=o.timeStamp,this.wasTouch=!1},wheel:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.deltaX=o.deltaX,this.deltaY=o.deltaY,this.deltaZ=o.deltaZ,this.wasTouch=!1},touchstart:function(o,u){o.pointerId&&(this.pointerId=o.pointerId),this.identifier=o.identifier,this.target=o.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(o,u){this.event=u,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(o,u){this.buttons=0,this.event=u,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(o,u){this.buttons=0,this.event=u,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?r(this.downX,this.downY,this.x,this.y):r(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?e(this.downX,this.downY,this.x,this.y):e(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(o,u){o===void 0&&(o=10),u===void 0&&(u=[]);for(var d=this.prevPosition.x,c=this.prevPosition.y,v=this.position.x,p=this.position.y,x=0;x<o;x++){var y=1/o*x;u[x]={x:s(y,d,v),y:s(y,c,p)}}return u},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(o){this.position.x=o}},y:{get:function(){return this.position.y},set:function(o){this.position.y=o}},time:{get:function(){return this.event?this.event.timeStamp:0}}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(51),r=t(1),a=new e({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=r,this.onTouchStartWindow=r,this.onTouchMove=r,this.onTouchEnd=r,this.onTouchEndWindow=r,this.onTouchCancel=r,this.onTouchCancelWindow=r,this.onTouchOver=r,this.onTouchOut=r,i.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this,i=this.manager.canvas,n=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(d){n&&window.focus(),!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchStart(d),s.capture&&d.cancelable&&d.target===i&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&d.target!==i&&s.manager.onTouchStart(d)},this.onTouchMove=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchMove(d),s.capture&&d.cancelable&&d.preventDefault())},this.onTouchEnd=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchEnd(d),s.capture&&d.cancelable&&d.target===i&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&d.target!==i&&s.manager.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchCancel(d),s.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&s.manager.onTouchCancel(d)},this.onTouchOver=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&s.manager.setCanvasOver(d)},this.onTouchOut=function(d){!d.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&s.manager.setCanvasOut(d)};var f=this.target;if(f){var o={passive:!0},u={passive:!1};f.addEventListener("touchstart",this.onTouchStart,this.capture?u:o),f.addEventListener("touchmove",this.onTouchMove,this.capture?u:o),f.addEventListener("touchend",this.onTouchEnd,this.capture?u:o),f.addEventListener("touchcancel",this.onTouchCancel,this.capture?u:o),f.addEventListener("touchover",this.onTouchOver,this.capture?u:o),f.addEventListener("touchout",this.onTouchOut,this.capture?u:o),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,u),window.addEventListener("touchend",this.onTouchEndWindow,u),window.addEventListener("touchcancel",this.onTouchCancelWindow,u)),this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),s.removeEventListener("touchover",this.onTouchOver),s.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(22),r=t(9),a=t(8),s=t(16),i=t(5),n=t(2),f=t(24),o=t(93),u=new e({Extends:r,initialize:function(c){r.call(this),this.game=c,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],c.isBooted?this.boot():c.events.once(h.BOOT,this.boot,this)},boot:function(){var d,c,v,p,x,y,S,E=this.game.config,A=E.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),d=0;d<A.length;d++)c=A[d],v=n(c,"key",null),p=n(c,"plugin",null),x=n(c,"start",!1),y=n(c,"mapping",null),S=n(c,"data",null),v&&(p?this.install(v,p,x,y,S):console.warn("Missing `plugin` for key: "+v));for(A=E.installScenePlugins,A=A.concat(this._pendingScene),d=0;d<A.length;d++)c=A[d],v=n(c,"key",null),p=n(c,"plugin",null),y=n(c,"mapping",null),v&&(p?this.installScenePlugin(v,p,y):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(h.DESTROY,this.destroy,this)},addToScene:function(d,c,v){var p,x,y,S=this.game,E=d.scene,A=d.settings.map,M=d.settings.isBooted;for(p=0;p<c.length;p++)x=c[p],S[x]?(d[x]=S[x],A.hasOwnProperty(x)&&(E[A[x]]=d[x])):x==="game"&&A.hasOwnProperty(x)&&(E[A[x]]=S);for(var L=0;L<v.length;L++)for(y=v[L],p=0;p<y.length;p++)if(x=y[p],!!f.hasCore(x)){var F=f.getCore(x),O=F.mapping,B=new F.plugin(E,this,O);d[O]=B,F.custom?E[O]=B:A.hasOwnProperty(O)&&(E[A[O]]=B),M&&B.boot()}for(y=this.plugins,p=0;p<y.length;p++){var N=y[p];N.mapping&&(E[N.mapping]=N.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,c,v,p,x){if(x===void 0&&(x=!1),typeof c!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(!f.hasCore(d))f.register(d,c,v,!0),this.scenePlugins.push(d);else if(!x&&f.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(p){var y=new c(p,this,d);p.sys[d]=y,v&&v!==""&&(p[v]=y),y.boot()}},install:function(d,c,v,p,x){if(v===void 0&&(v=!1),p===void 0&&(p=null),x===void 0&&(x=null),typeof c!="function")return console.warn("Invalid Plugin: "+d),null;if(f.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(p!==null&&(v=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:c,start:v,mapping:p,data:x});else if(f.registerCustom(d,c,p,x),v)return this.start(d);return null},getIndex:function(d){for(var c=this.plugins,v=0;v<c.length;v++){var p=c[v];if(p.key===d)return v}return-1},getEntry:function(d){var c=this.getIndex(d);if(c!==-1)return this.plugins[c]},isActive:function(d){var c=this.getEntry(d);return c&&c.active},start:function(d,c){c===void 0&&(c=d);var v=this.getEntry(c);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(d,c)),v?v.plugin:null},createEntry:function(d,c){var v=f.getCustom(d);if(v){var p=new v.plugin(this);v={key:c,plugin:p,active:!0,mapping:v.mapping,data:v.data},this.plugins.push(v),p.init(v.data),p.start()}return v},stop:function(d){var c=this.getEntry(d);return c&&c.active&&(c.active=!1,c.plugin.stop()),this},get:function(d,c){c===void 0&&(c=!0);var v=this.getEntry(d);if(v)return v.plugin;var p=this.getClass(d);return p&&c?(v=this.createEntry(d,d),v?v.plugin:null):p||null},getClass:function(d){return f.getCustomClass(d)},removeGlobalPlugin:function(d){var c=this.getEntry(d);c&&o(this.plugins,c),f.removeCustom(d)},removeScenePlugin:function(d){o(this.scenePlugins,d),f.remove(d)},registerGameObject:function(d,c,v){return c&&i.register(d,c),v&&s.register(d,v),this},removeGameObject:function(d,c,v){return c===void 0&&(c=!0),v===void 0&&(v=!0),c&&i.remove(d),v&&s.remove(d),this},registerFileType:function(d,c,v){a.register(d,c),v&&v.sys.load&&(v.sys.load[d]=c)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),h=t(0),r=t(9),a=t(104),s=t(22),i=t(401),n=t(407),f=t(402),o=t(1),u=t(10),d=t(416),c=t(76),v=t(3),p=new h({Extends:r,initialize:function(y){r.call(this),this.game=y,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=e.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=e.CENTER.NO_CENTER,this.orientation=e.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:o,windowResize:o,fullScreenChange:o,fullScreenError:o}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==e.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===e.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(s.PRE_STEP,this.step,this),x.events.once(s.READY,this.refresh,this),x.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var y=x.width,S=x.height,E=x.scaleMode,A=x.zoom,M=x.autoRound;if(typeof y=="string"){var L=this.parentSize.width;L===0&&(L=window.innerWidth);var F=parseInt(y,10)/100;y=Math.floor(L*F)}if(typeof S=="string"){var O=this.parentSize.height;O===0&&(O=window.innerHeight);var B=parseInt(S,10)/100;S=Math.floor(O*B)}this.scaleMode=E,this.autoRound=M,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,M&&(y=Math.floor(y),S=Math.floor(S)),this.gameSize.setSize(y,S),A===e.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,S),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*A,x.minHeight*A),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*A,x.maxHeight*A),this.displaySize.setSize(y,S),this.orientation=f(y,S)},getParent:function(x){var y=x.parent;if(y!==null){if(this.parent=n(y),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==e.SCALE_MODE.NONE){var S=this.parent.getBoundingClientRect();(this.parentIsWindow||S.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",S=this.parent.getBoundingClientRect(),!this.parentIsWindow&&S.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=i(!0));var S=y.width,E=y.height;return x.width!==S||x.height!==E?(x.setSize(S,E),!0):!1},lockOrientation:function(x){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,x):!1},setParentSize:function(x,y){return this.parentSize.setSize(x,y),this.refresh()},setGameSize:function(x,y){var S=this.autoRound;S&&(x=Math.floor(x),y=Math.floor(y));var E=this.width,A=this.height;return this.gameSize.resize(x,y),this.baseSize.resize(x,y),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(E,A)},resize:function(x,y){var S=this.zoom,E=this.autoRound;E&&(x=Math.floor(x),y=Math.floor(y));var A=this.width,M=this.height;this.gameSize.resize(x,y),this.baseSize.resize(x,y),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*S,y*S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,F=x*S,O=y*S;return E&&(F=Math.floor(F),O=Math.floor(O)),(F!==x||O!==y)&&(L.width=F+"px",L.height=O+"px"),this.refresh(A,M)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(x,y){x===void 0&&(x=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var S=this.game.domContainer;if(S){this.baseSize.setCSS(S);var E=this.canvas.style,A=S.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=E.marginLeft,A.marginTop=E.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=f(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(a.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,y=this.gameSize.width,S=this.gameSize.height,E,A,M=this.zoom,L=this.autoRound;this.scaleMode===e.SCALE_MODE.NONE?(this.displaySize.setSize(y*M,S*M),E=this.displaySize.width,A=this.displaySize.height,L&&(E=Math.floor(E),A=Math.floor(A)),this._resetZoom&&(x.width=E+"px",x.height=A+"px",this._resetZoom=!1)):this.scaleMode===e.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),E=this.displaySize.width,A=this.displaySize.height,L&&(E=Math.floor(E),A=Math.floor(A)),this.canvas.width=E,this.canvas.height=A):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),E=this.displaySize.width,A=this.displaySize.height,L&&(E=Math.floor(E),A=Math.floor(A)),x.width=E+"px",x.height=A+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=c(this.parentSize.width,this.gameSize.width,0,!0),y=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,y),1)},updateCenter:function(){var x=this.autoCenter;if(x!==e.CENTER.NO_CENTER){var y=this.canvas,S=y.style,E=y.getBoundingClientRect(),A=E.width,M=E.height,L=Math.floor((this.parentSize.width-A)/2),F=Math.floor((this.parentSize.height-M)/2);x===e.CENTER.CENTER_HORIZONTALLY?F=0:x===e.CENTER.CENTER_VERTICALLY&&(L=0),S.marginLeft=L+"px",S.marginTop=F+"px"}},updateBounds:function(){var x=this.canvasBounds,y=this.canvas.getBoundingClientRect();x.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=y.width,x.height=y.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var S=this.getFullscreenTarget();y.keyboard?S[y.request](Element.ALLOW_KEYBOARD_INPUT):S[y.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var y=x.parentNode;y.insertBefore(this.canvas,x),y.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,y=this.listeners;if(y.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0},y.windowResize=function(){x.updateBounds(),x.dirty=!0},window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(E){return x.onFullScreenChange(E)},y.fullScreenError=function(E){return x.onFullScreenError(E)};var S=["webkit","moz",""];S.forEach(function(E){document.addEventListener(E+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(E+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(x,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.listeners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(S){document.removeEventListener(S+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(S+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===e.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===e.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});l.exports=p},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(76),a=t(3),s=new h({initialize:function(n,f,o,u){n===void 0&&(n=0),f===void 0&&(f=n),o===void 0&&(o=0),u===void 0&&(u=null),this._width=n,this._height=f,this._parent=u,this.aspectMode=o,this.aspectRatio=f===0?1:n/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.snapTo.set(i,n),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.minWidth=e(i,0,this.maxWidth),this.minHeight=e(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,n){return i===void 0&&(i=Number.MAX_VALUE),n===void 0&&(n=i),this.maxWidth=e(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=e(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,n){switch(i===void 0&&(i=0),n===void 0&&(n=i),this.aspectMode){case s.NONE:this._width=this.getNewWidth(r(i,this.snapTo.x)),this._height=this.getNewHeight(r(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(r(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(r(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(i,n,!0);break;case s.ENVELOP:this.constrain(i,n,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,n){return this._width=this.getNewWidth(r(i,this.snapTo.x)),this._height=this.getNewHeight(r(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,n){return n===void 0&&(n=!0),i=e(i,this.minWidth,this.maxWidth),n&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,n){return n===void 0&&(n=!0),i=e(i,this.minHeight,this.maxHeight),n&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,n,f){i===void 0&&(i=0),n===void 0&&(n=i),f===void 0&&(f=!0),i=this.getNewWidth(i),n=this.getNewHeight(n);var o=this.snapTo,u=n===0?1:i/n;return f&&this.aspectRatio>u||!f&&this.aspectRatio<u?(i=r(i,o.x),n=i/this.aspectRatio,o.y>0&&(n=r(n,o.y),i=n*this.aspectRatio)):(f&&this.aspectRatio<u||!f&&this.aspectRatio>u)&&(n=r(n,o.y),i=n*this.aspectRatio,o.x>0&&(i=r(i,o.x),n=i*(1/this.aspectRatio))),this._width=i,this._height=n,this},fitTo:function(i,n){return this.constrain(i,n,!0)},envelop:function(i,n){return this.constrain(i,n,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(144),r=t(20),a=t(22),s=t(6),i=t(95),n=t(1),f=t(418),o=t(204),u=new e({initialize:function(c,v){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++)this._pending.push({key:"default",scene:v[p],autoStart:p===0,data:{}})}c.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var d,c,v,p;for(d=0;d<this._pending.length;d++){c=this._pending[d],v=c.key,p=c.scene;var x;p instanceof f?x=this.createSceneFromInstance(v,p):typeof p=="object"?x=this.createSceneFromObject(v,p):typeof p=="function"&&(x=this.createSceneFromFunction(v,p)),v=x.sys.settings.key,this.keys[v]=x,this.scenes.push(x),this._data[v]&&(x.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(c.autoStart=!0)),(c.autoStart||x.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0}},processQueue:function(){var d=this._pending.length,c=this._queue.length;if(!(d===0&&c===0)){var v,p;if(d){for(v=0;v<d;v++)p=this._pending[v],this.add(p.key,p.scene,p.autoStart,p.data);for(v=0;v<this._start.length;v++)p=this._start[v],this.start(p);this._start.length=0,this._pending.length=0;return}for(v=0;v<this._queue.length;v++)p=this._queue[v],this[p.op](p.keyA,p.keyB);this._queue.length=0}},add:function(d,c,v,p){if(v===void 0&&(v=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:d,scene:c,autoStart:v,data:p}),this.isBooted||(this._data[d]={data:p}),null;d=this.getKey(d,c);var x;return c instanceof f?x=this.createSceneFromInstance(d,c):typeof c=="object"?(c.key=d,x=this.createSceneFromObject(d,c)):typeof c=="function"&&(x=this.createSceneFromFunction(d,c)),x.sys.settings.data=p,d=x.sys.settings.key,this.keys[d]=x,this.scenes.push(x),(v||x.sys.settings.active)&&(this._pending.length?this._start.push(d):this.start(d)),x},remove:function(d){if(this.isProcessing)this._queue.push({op:"remove",keyA:d,keyB:null});else{var c=this.getScene(d);if(!c||c.sys.isTransitioning())return this;var v=this.scenes.indexOf(c),p=c.sys.settings.key;v>-1&&(delete this.keys[p],this.scenes.splice(v,1),this._start.indexOf(p)>-1&&(v=this._start.indexOf(p),this._start.splice(v,1)),c.sys.destroy())}return this},bootScene:function(d){var c=d.sys,v=c.settings;c.sceneUpdate=n,d.init&&(d.init.call(d,v.data),v.status=h.INIT,v.isTransition&&c.events.emit(r.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var p;c.load&&(p=c.load,p.reset()),p&&d.preload?(d.preload.call(d),p.list.size===0?this.create(d):(v.status=h.LOADING,p.once(i.COMPLETE,this.loadComplete,this),p.start())):this.create(d)},loadComplete:function(d){this.create(d.scene)},payloadComplete:function(d){this.bootScene(d.scene)},update:function(d,c){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var p=this.scenes[v].sys;p.settings.status>h.START&&p.settings.status<=h.RUNNING&&p.step(d,c)}},render:function(d){for(var c=0;c<this.scenes.length;c++){var v=this.scenes[c].sys;v.settings.visible&&v.settings.status>=h.LOADING&&v.settings.status<h.SLEEPING&&v.render(d)}this.isProcessing=!1},create:function(d){var c=d.sys,v=c.settings;d.create&&(v.status=h.CREATING,d.create.call(d,v.data),v.status===h.DESTROYED)||(v.isTransition&&c.events.emit(r.TRANSITION_START,v.transitionFrom,v.transitionDuration),d.update&&(c.sceneUpdate=d.update),v.status=h.RUNNING,c.events.emit(r.CREATE,d))},createSceneFromFunction:function(d,c){var v=new c;if(v instanceof f){var p=v.sys.settings.key;if(p!==""&&(d=p),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return this.createSceneFromInstance(d,v)}else return v.sys=new o(v),v.sys.settings.key=d,v.sys.init(this.game),v},createSceneFromInstance:function(d,c){var v=c.sys.settings.key;return v===""&&(c.sys.settings.key=d),c.sys.init(this.game),c},createSceneFromObject:function(d,c){var v=new f(c),p=v.sys.settings.key;p!==""?d=p:v.sys.settings.key=d,v.sys.init(this.game);for(var x=["init","preload","create","update","render"],y=0;y<x.length;y++){var S=s(c,x[y],null);S&&(v[x[y]]=S)}if(c.hasOwnProperty("extend")){for(var E in c.extend)if(c.extend.hasOwnProperty(E)){var A=c.extend[E];E==="data"&&v.hasOwnProperty("data")&&typeof A=="object"?v.data.merge(A):E!=="sys"&&(v[E]=A)}}return v},getKey:function(d,c){if(d||(d="default"),typeof c=="function")return d;if(c instanceof f?d=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(d=c.key),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return d},getScenes:function(d,c){d===void 0&&(d=!0),c===void 0&&(c=!1);for(var v=[],p=this.scenes,x=0;x<p.length;x++){var y=p[x];y&&(!d||d&&y.sys.isActive())&&v.push(y)}return c?v.reverse():v},getScene:function(d){if(typeof d=="string"){if(this.keys[d])return this.keys[d]}else for(var c=0;c<this.scenes.length;c++)if(d===this.scenes[c])return d;return null},isActive:function(d){var c=this.getScene(d);return c?c.sys.isActive():null},isPaused:function(d){var c=this.getScene(d);return c?c.sys.isPaused():null},isVisible:function(d){var c=this.getScene(d);return c?c.sys.isVisible():null},isSleeping:function(d){var c=this.getScene(d);return c?c.sys.isSleeping():null},pause:function(d,c){var v=this.getScene(d);return v&&v.sys.pause(c),this},resume:function(d,c){var v=this.getScene(d);return v&&v.sys.resume(c),this},sleep:function(d,c){var v=this.getScene(d);return v&&!v.sys.isTransitioning()&&v.sys.sleep(c),this},wake:function(d,c){var v=this.getScene(d);return v&&v.sys.wake(c),this},run:function(d,c){var v=this.getScene(d);if(!v){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===d){this.queueOp("start",d,c);break}return this}v.sys.isSleeping()?v.sys.wake(c):v.sys.isPaused()?v.sys.resume(c):this.start(d,c)},start:function(d,c){if(!this.isBooted)return this._data[d]={autoStart:!0,data:c},this;var v=this.getScene(d);if(v){var p=v.sys;if(p.isActive()||p.isPaused())p.shutdown(),p.sceneUpdate=n,p.start(c);else{p.sceneUpdate=n,p.start(c);var x;if(p.load&&(x=p.load),x&&p.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:p.settings.pack})))return p.settings.status=h.LOADING,x.once(i.COMPLETE,this.payloadComplete,this),x.start(),this}this.bootScene(v)}return this},stop:function(d,c){var v=this.getScene(d);return v&&!v.sys.isTransitioning()&&v.sys.shutdown(c),this},switch:function(d,c){var v=this.getScene(d),p=this.getScene(c);return v&&p&&v!==p&&(this.sleep(d),this.isSleeping(c)?this.wake(c):this.start(c)),this},getAt:function(d){return this.scenes[d]},getIndex:function(d){var c=this.getScene(d);return this.scenes.indexOf(c)},bringToTop:function(d){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c!==-1&&c<this.scenes.length){var v=this.getScene(d);this.scenes.splice(c,1),this.scenes.push(v)}}return this},sendToBack:function(d){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c!==-1&&c>0){var v=this.getScene(d);this.scenes.splice(c,1),this.scenes.unshift(v)}}return this},moveDown:function(d){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c>0){var v=c-1,p=this.getScene(d),x=this.getAt(v);this.scenes[c]=x,this.scenes[v]=p}}return this},moveUp:function(d){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c<this.scenes.length-1){var v=c+1,p=this.getScene(d),x=this.getAt(v);this.scenes[c]=x,this.scenes[v]=p}}return this},moveAbove:function(d,c){if(d===c)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:d,keyB:c});else{var v=this.getIndex(d),p=this.getIndex(c);if(v!==-1&&p!==-1){var x=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(v+1,0,x)}}return this},moveBelow:function(d,c){if(d===c)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:d,keyB:c});else{var v=this.getIndex(d),p=this.getIndex(c);if(v!==-1&&p!==-1){var x=this.getAt(p);this.scenes.splice(p,1),v===0?this.scenes.unshift(x):this.scenes.splice(v,0,x)}}return this},queueOp:function(d,c,v){return this._queue.push({op:d,keyA:c,keyB:v}),this},swapPosition:function(d,c){if(d===c)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:d,keyB:c});else{var v=this.getIndex(d),p=this.getIndex(c);if(v!==p&&v!==-1&&p!==-1){var x=this.getAt(v);this.scenes[v]=this.scenes[p],this.scenes[p]=x}}return this},dump:function(){for(var d=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var p=this.scenes[v].sys,x=p.settings.visible&&(p.settings.status===h.RUNNING||p.settings.status===h.PAUSED)?"[*] ":"[-] ";x+=p.settings.key+" ("+c[p.settings.status]+")",d.push(x)}console.log(d.join(`
`))},destroy:function(){for(var d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys;c.destroy()}this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(204),r=new e({initialize:function(s){this.sys=new h(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=t(205),r=function(a){var s=a.game.config.defaultPhysicsSystem,i=e(a.settings,"physics",!1);if(!(!s&&!i)){var n=[];if(s&&n.push(h(s+"Physics")),i)for(var f in i)f=h(f.concat("Physics")),n.indexOf(f)===-1&&n.push(f);return n}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=function(r){var a=r.plugins.getDefaultScenePlugins(),s=e(r.settings,"plugins",!1);return Array.isArray(s)?s:a||[]};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),h=t(6),r=t(127),a=t(978),s={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:e.PENDING,key:h(i,"key",""),active:h(i,"active",!1),visible:h(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:h(i,"pack",!1),cameras:h(i,"cameras",null),map:h(i,"map",r(a,h(i,"mapAdd",{}))),physics:h(i,"physics",{}),loader:h(i,"loader",{}),plugins:h(i,"plugins",!1),input:h(i,"input",{})}}};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),h=t(423),r=t(0),a=t(38),s=t(33),i=t(9),n=t(106),f=t(22),o=t(388),u=t(6),d=t(425),c=t(206),v=new r({Extends:i,initialize:function(x){i.call(this),this.game=x,this.name="TextureManager",this.list={},this._tempCanvas=e.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,x.events.once(f.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(n.LOAD,this.updatePending,this),this.on(n.ERROR,this.updatePending,this);var p=this.game.config;this.addBase64("__DEFAULT",p.defaultImage),this.addBase64("__MISSING",p.missingImage),this.addBase64("__WHITE",p.whiteImage),this.game.events.once(f.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(n.LOAD),this.off(n.ERROR),this.emit(n.READY))},checkKey:function(p){return this.exists(p)?(console.error("Texture key already in use: "+p),!1):!0},remove:function(p){if(typeof p=="string")if(this.exists(p))p=this.get(p);else return console.warn("No texture found matching key: "+p),this;return this.list.hasOwnProperty(p.key)&&(p.destroy(),this.emit(n.REMOVE,p.key)),this},removeKey:function(p){return this.list.hasOwnProperty(p)&&delete this.list[p],this},addBase64:function(p,x){if(this.checkKey(p)){var y=this,S=new Image;S.onerror=function(){y.emit(n.ERROR,p)},S.onload=function(){var E=y.create(p,S);d.Image(E,0),y.emit(n.ADD,p,E),y.emit(n.LOAD,p,E)},S.src=x}return this},getBase64:function(p,x,y,S){y===void 0&&(y="image/png"),S===void 0&&(S=.92);var E="",A=this.getFrame(p,x);if(A&&(A.source.isRenderTexture||A.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(A){var M=A.canvasData,L=e.create2D(this,M.width,M.height),F=L.getContext("2d");F.drawImage(A.source.image,M.x,M.y,M.width,M.height,0,0,M.width,M.height),E=L.toDataURL(y,S),e.remove(L)}return E},addImage:function(p,x,y){var S=null;return this.checkKey(p)&&(S=this.create(p,x),d.Image(S,0),y&&S.setDataSource(y),this.emit(n.ADD,p,S)),S},addGLTexture:function(p,x,y,S){var E=null;return this.checkKey(p)&&(y===void 0&&(y=x.width),S===void 0&&(S=x.height),E=this.create(p,x,y,S),E.add("__BASE",0,0,0,y,S),this.emit(n.ADD,p,E)),E},addRenderTexture:function(p,x){var y=null;return this.checkKey(p)&&(y=this.create(p,x),y.add("__BASE",0,0,0,x.width,x.height),this.emit(n.ADD,p,y)),y},generate:function(p,x){if(this.checkKey(p)){var y=e.create(this,1,1);return x.canvas=y,o(x),this.addCanvas(p,y)}else return null},createCanvas:function(p,x,y){if(x===void 0&&(x=256),y===void 0&&(y=256),this.checkKey(p)){var S=e.create(this,x,y,s.CANVAS,!0);return this.addCanvas(p,S)}return null},addCanvas:function(p,x,y){y===void 0&&(y=!1);var S=null;return y?S=new h(this,p,x,x.width,x.height):this.checkKey(p)&&(S=new h(this,p,x,x.width,x.height),this.list[p]=S,this.emit(n.ADD,p,S)),S},addAtlas:function(p,x,y,S){return Array.isArray(y.textures)||Array.isArray(y.frames)?this.addAtlasJSONArray(p,x,y,S):this.addAtlasJSONHash(p,x,y,S)},addAtlasJSONArray:function(p,x,y,S){var E=null;if(this.checkKey(p)){if(E=this.create(p,x),Array.isArray(y))for(var A=y.length===1,M=0;M<E.source.length;M++){var L=A?y[0]:y[M];d.JSONArray(E,M,L)}else d.JSONArray(E,0,y);S&&E.setDataSource(S),this.emit(n.ADD,p,E)}return E},addAtlasJSONHash:function(p,x,y,S){var E=null;if(this.checkKey(p)){if(E=this.create(p,x),Array.isArray(y))for(var A=0;A<y.length;A++)d.JSONHash(E,A,y[A]);else d.JSONHash(E,0,y);S&&E.setDataSource(S),this.emit(n.ADD,p,E)}return E},addAtlasXML:function(p,x,y,S){var E=null;return this.checkKey(p)&&(E=this.create(p,x),d.AtlasXML(E,0,y),S&&E.setDataSource(S),this.emit(n.ADD,p,E)),E},addUnityAtlas:function(p,x,y,S){var E=null;return this.checkKey(p)&&(E=this.create(p,x),d.UnityYAML(E,0,y),S&&E.setDataSource(S),this.emit(n.ADD,p,E)),E},addSpriteSheet:function(p,x,y){var S=null;if(this.checkKey(p)){S=this.create(p,x);var E=S.source[0].width,A=S.source[0].height;d.SpriteSheet(S,0,0,0,E,A,y),this.emit(n.ADD,p,S)}return S},addSpriteSheetFromAtlas:function(p,x){if(!this.checkKey(p))return null;var y=u(x,"atlas",null),S=u(x,"frame",null);if(!(!y||!S)){var E=this.get(y),A=E.get(S);if(A){var M=this.create(p,A.source.image);return A.trimmed?d.SpriteSheetFromAtlas(M,A,x):d.SpriteSheet(M,0,A.cutX,A.cutY,A.cutWidth,A.cutHeight,x),this.emit(n.ADD,p,M),M}}},create:function(p,x,y,S){var E=null;return this.checkKey(p)&&(E=new c(this,p,x,y,S),this.list[p]=E),E},exists:function(p){return this.list.hasOwnProperty(p)},get:function(p){return p===void 0&&(p="__DEFAULT"),this.list[p]?this.list[p]:p instanceof c?p:this.list.__MISSING},cloneFrame:function(p,x){if(this.list[p])return this.list[p].get(x).clone()},getFrame:function(p,x){if(this.list[p])return this.list[p].get(x)},getTextureKeys:function(){var p=[];for(var x in this.list)x!=="__DEFAULT"&&x!=="__MISSING"&&p.push(x);return p},getPixel:function(p,x,y,S){var E=this.getFrame(y,S);if(E){p-=E.x,x-=E.y;var A=E.data.cut;if(p+=A.x,x+=A.y,p>=A.x&&p<A.r&&x>=A.y&&x<A.b){var M=this._tempContext;M.clearRect(0,0,1,1),M.drawImage(E.source.image,p,x,1,1,0,0,1,1);var L=M.getImageData(0,0,1,1);return new a(L.data[0],L.data[1],L.data[2],L.data[3])}}return null},getPixelAlpha:function(p,x,y,S){var E=this.getFrame(y,S);if(E){p-=E.x,x-=E.y;var A=E.data.cut;if(p+=A.x,x+=A.y,p>=A.x&&p<A.r&&x>=A.y&&x<A.b){var M=this._tempContext;M.clearRect(0,0,1,1),M.drawImage(E.source.image,p,x,1,1,0,0,1,1);var L=M.getImageData(0,0,1,1);return L.data[3]}}return null},setTexture:function(p,x,y){return this.list[x]&&(p.texture=this.list[x],p.frame=p.texture.get(y)),p},renameTexture:function(p,x){var y=this.get(p);return y&&p!==x?(y.key=x,this.list[x]=y,delete this.list[p],!0):!1},each:function(p,x){for(var y=[null],S=1;S<arguments.length;S++)y.push(arguments[S]);for(var E in this.list)y[0]=this.list[E],p.apply(x,y)},destroy:function(){for(var p in this.list)this.list[p].destroy();this.list={},this.game=null,e.remove(this._tempCanvas)}});l.exports=v},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(18),r=t(38),a=t(33),s=t(138),i=t(206),n=new e({Extends:i,initialize:function(o,u,d,c,v){i.call(this,o,u,d,c,v),this.add("__BASE",0,0,0,c,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=c,this.height=v,this.imageData=this.context.getImageData(0,0,c,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(f,o,u){return this.context.drawImage(u,f,o),this.update()},drawFrame:function(f,o,u,d){u===void 0&&(u=0),d===void 0&&(d=0);var c=this.manager.getFrame(f,o);if(c){var v=c.canvasData,p=c.cutWidth,x=c.cutHeight,y=c.source.resolution;return this.context.drawImage(c.source.image,v.x,v.y,p,x,u,d,p/y,x/y),this.update()}else return this},setPixel:function(f,o,u,d,c,v){v===void 0&&(v=255),f=Math.abs(Math.floor(f)),o=Math.abs(Math.floor(o));var p=this.getIndex(f,o);if(p>-1){var x=this.context.getImageData(f,o,1,1);x.data[0]=u,x.data[1]=d,x.data[2]=c,x.data[3]=v,this.context.putImageData(x,f,o)}return this},putData:function(f,o,u,d,c,v,p){return d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=f.width),p===void 0&&(p=f.height),this.context.putImageData(f,o,u,d,c,v,p),this},getData:function(f,o,u,d){f=h(Math.floor(f),0,this.width-1),o=h(Math.floor(o),0,this.height-1),u=h(u,1,this.width-f),d=h(d,1,this.height-o);var c=this.context.getImageData(f,o,u,d);return c},getPixel:function(f,o,u){u||(u=new r);var d=this.getIndex(f,o);if(d>-1){var c=this.data,v=c[d+0],p=c[d+1],x=c[d+2],y=c[d+3];u.setTo(v,p,x,y)}return u},getPixels:function(f,o,u,d){f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=this.width),d===void 0&&(d=u),f=Math.abs(Math.round(f)),o=Math.abs(Math.round(o));for(var c=h(f,0,this.width),v=h(f+u,0,this.width),p=h(o,0,this.height),x=h(o+d,0,this.height),y=new r,S=[],E=p;E<x;E++){for(var A=[],M=c;M<v;M++)y=this.getPixel(M,E,y),A.push({x:M,y:E,color:y.color,alpha:y.alphaGL});S.push(A)}return S},getIndex:function(f,o){return f=Math.abs(Math.round(f)),o=Math.abs(Math.round(o)),f<this.width&&o<this.height?(f+o*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,o,u,d){return f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=this.width),d===void 0&&(d=this.height),this.context.clearRect(f,o,u,d),this.update()},setSize:function(f,o){return o===void 0&&(o=f),(f!==this.width||o!==this.height)&&(this.canvas.width=f,this.canvas.height=o,this._source.width=f,this._source.height=o,this._source.isPowerOf2=s(f,o),this.frames.__BASE.setSize(f,o,0,0),this.width=f,this.height=o,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),h=t(0),r=t(138),a=t(168),s=new h({initialize:function(n,f,o,u,d){d===void 0&&(d=!1);var c=n.manager.game;this.renderer=c.renderer,this.texture=n,this.source=f,this.image=f,this.compressionAlgorithm=null,this.resolution=1,this.width=o||f.naturalWidth||f.videoWidth||f.width||0,this.height=u||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&f instanceof WebGLTexture,this.isPowerOf2=r(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=d,this.init(c)},init:function(i){var n=this.renderer;n&&(n.gl?this.isCanvas?this.glTexture=n.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=n.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=n.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=n.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),i.config.antialias||this.setFilter(1)},setFilter:function(i){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,i),this.scaleMode=i},setFlipY:function(i){return i===void 0&&(i=!0),this.flipY=i,this},update:function(){var i=this.renderer.gl;i&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):i&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AtlasXML:t(979),Canvas:t(980),Image:t(981),JSONArray:t(982),JSONHash:t(983),SpriteSheet:t(984),SpriteSheetFromAtlas:t(985),UnityYAML:t(986)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(427),h=t(430),r=t(432),a={create:function(s){var i=s.config.audio,n=s.device.audio;return i.noAudio||!n.webAudio&&!n.audioData?new h(s):n.webAudio&&!i.disableWebAudio?new r(s):new e(s)}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),h=t(0),r=t(70),a=t(429),s=new h({Extends:e,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,e.call(this,n)},add:function(i,n){var f=new a(this,i,n);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(u,d){for(var c=0;c<d.length;c++)if(d[c].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var n=!1,f=function(){n=!0},o=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",o);var u=[];if(i.game.cache.audio.entries.each(function(c,v){for(var p=0;p<v.length;p++){var x=v[p];x.dataset.locked==="true"&&u.push(x)}return!0}),u.length!==0){var d=u[u.length-1];d.oncanplaythrough=function(){d.oncanplaythrough=null,u.forEach(function(c){c.dataset.locked="false"}),i.unlocked=!0},u.forEach(function(c){c.load()})}};this.once(r.UNLOCKED,function(){for(this.forEachActiveSound(function(d){d.currentMarker===null&&d.duration===0&&(d.duration=d.tags[0].duration),d.totalDuration=d.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",o,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){e.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,n,f){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:n,value:f}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(r.GLOBAL_VOLUME,this,i)}}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),h=function(r,a,s,i,n){if(i===void 0&&(i=0),n===void 0&&(n=r.length),e(r,i,n))for(var f=i;f<n;f++){var o=r[f];if(!a||a&&s===void 0&&o.hasOwnProperty(a)||a&&s!==void 0&&o[a]===s)return o}return null};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),h=t(0),r=t(70),a=t(18),s=new h({Extends:e,initialize:function(n,f,o){if(o===void 0&&(o={}),this.tags=n.game.cache.audio.get(f),!this.tags)throw new Error('There is no audio asset with key "'+f+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,e.call(this,n,f,o)},play:function(i,n){return this.manager.isLocked(this,"play",[i,n])||!e.prototype.play.call(this,i,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(r.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(r.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!e.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(r.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!e.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(r.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,n=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var n=this.tags[i];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&f.push(u)},this),f.sort(function(u,d){return u.loop===d.loop?d.seek/d.duration-u.seek/u.duration:u.loop?1:-1});var o=f[0];return this.audio=o.audio,o.reset(),o.audio=null,o.startTime=0,o.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){e.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,f=n+this.duration,o=this.audio.currentTime;if(this.currentConfig.loop)o>=f-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,o-f),o=this.audio.currentTime):o<n&&(this.audio.currentTime+=n,o=this.audio.currentTime),o<this.previousTime&&this.emit(r.LOOPED,this);else if(o>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(r.COMPLETE,this);return}this.previousTime=o}},destroy:function(){e.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){e.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(r.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(r.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,r.RATE,i)&&(this.calculateRate(),this.emit(r.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,r.DETUNE,i)&&(this.calculateRate(),this.emit(r.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(r.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(r.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(r.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),h=t(0),r=t(9),a=t(431),s=t(1),i=new h({Extends:r,initialize:function(f){r.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,f){var o=new a(this,n,f);return this.sounds.push(o),o},addAudioSprite:function(n,f){var o=this.add(n,f);return o.spritemap={},o},play:function(n,f){return!1},playAudioSprite:function(n,f,o){return!1},remove:function(n){return e.prototype.remove.call(this,n)},removeByKey:function(n){return e.prototype.removeByKey.call(this,n)},pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,forEachActiveSound:function(n,f){e.prototype.forEachActiveSound.call(this,n,f)},destroy:function(){e.prototype.destroy.call(this)}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),h=t(0),r=t(9),a=t(17),s=function(){return!1},i=function(){return null},n=function(){return this},f=new h({Extends:r,initialize:function(u,d,c){c===void 0&&(c={}),r.call(this),this.manager=u,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},c),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:s,updateMarker:s,removeMarker:i,play:s,pause:s,resume:s,stop:s,destroy:function(){e.prototype.destroy.call(this)},setMute:n,setVolume:n,setRate:n,setDetune:n,setSeek:n,setLoop:n,setPan:n});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(433),h=t(145),r=t(0),a=t(70),s=t(22),i=t(434),n=new r({Extends:h,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),h.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(f){var o=f.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(f){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=f,this.masterMuteNode=f.createGain(),this.masterVolumeNode=f.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(f.destination),this.destination=this.masterMuteNode,this},add:function(f,o){var u=new i(this,f,o);return this.sounds.push(u),u},decodeAudio:function(f,o){var u;Array.isArray(f)?u=f:u=[{key:f,data:o}];for(var d=this.game.cache.audio,c=u.length,v=0;v<u.length;v++){var p=u[v],x=p.key,y=p.data;typeof y=="string"&&(y=e(y));var S=(function(A,M){d.add(A,M),this.emit(a.DECODED,A),c--,c===0&&this.emit(a.DECODED_ALL)}).bind(this,x),E=(function(A,M){console.error("Error decoding audio: "+A+" - ",M?M.message:""),c--,c===0&&this.emit(a.DECODED_ALL)}).bind(this,x);this.context.decodeAudioData(y,S,E)}},unlock:function(){var f=this,o=document.body,u=function d(){if(f.context&&o){var c=o.removeEventListener;f.context.resume().then(function(){c("touchstart",d),c("touchend",d),c("click",d),c("keydown",d),f.unlocked=!0},function(){c("touchstart",d),c("touchend",d),c("click",d),c("keydown",d)})}};o&&(o.addEventListener("touchstart",u,!1),o.addEventListener("touchend",u,!1),o.addEventListener("click",u,!1),o.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var f=this.context;(f.state==="suspended"||f.state==="interrupted")&&!this.locked&&f.resume()},update:function(f,o){h.prototype.update.call(this,f,o);var u=this.context;u&&u.state==="interrupted"&&u.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var f=this;this.context.close().then(function(){f.context=null})}h.prototype.destroy.call(this)},setMute:function(f){return this.mute=f,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(f){this.masterMuteNode.gain.setValueAtTime(f?0:1,0),this.emit(a.GLOBAL_MUTE,this,f)}},setVolume:function(f){return this.volume=f,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(f){this.masterVolumeNode.gain.setValueAtTime(f,0),this.emit(a.GLOBAL_VOLUME,this,f)}}});l.exports=n},function(l,g){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),h=0;h<t.length;h++)e[t.charCodeAt(h)]=h;var r=function(a){a=a.substr(a.indexOf(",")+1);var s=a.length,i=s*.75,n=0,f,o,u,d;a[s-1]==="="&&(i--,a[s-2]==="="&&i--);for(var c=new ArrayBuffer(i),v=new Uint8Array(c),p=0;p<s;p+=4)f=e[a.charCodeAt(p)],o=e[a.charCodeAt(p+1)],u=e[a.charCodeAt(p+2)],d=e[a.charCodeAt(p+3)],v[n++]=f<<2|o>>4,v[n++]=(o&15)<<4|u>>2,v[n++]=(u&3)<<6|d&63;return c};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),h=t(0),r=t(70),a=new h({Extends:e,initialize:function(i,n,f){if(f===void 0&&(f={}),this.audioBuffer=i.game.cache.audio.get(n),!this.audioBuffer)throw new Error('Audio key "'+n+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,e.call(this,i,n,f)},play:function(s,i){return e.prototype.play.call(this,s,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(r.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(r.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(r.RESUME,this),!0)},stop:function(){return e.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(r.STOP,this),!0):!1},createAndStartBufferSource:function(){var s=this.currentConfig.seek,i=this.currentConfig.delay,n=this.manager.context.currentTime+i,f=(this.currentMarker?this.currentMarker.start:0)+s,o=this.duration-s;this.playTime=n-s,this.startTime=n,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,n),Math.max(0,f),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var s=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,n=this.duration;this.loopTime=s,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,s),Math.max(0,i),Math.max(0,n))},createBufferSource:function(){var s=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(n){n.target===s.source&&(s.currentConfig.loop?s.hasLooped=!0:s.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),e.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,e.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(r.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(r.LOOPED,this))},destroy:function(){e.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){e.prototype.calculateRate.call(this);var s=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,s),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,s)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var s=0,i=0;i<this.rateUpdates.length;i++){var n=0;i<this.rateUpdates.length-1?n=this.rateUpdates[i+1].time:n=this.manager.context.currentTime-this.playTime,s+=(n-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return s},getLoopTime:function(){for(var s=0,i=0;i<this.rateUpdates.length-1;i++)s+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var n=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+n.time+(this.duration-s)/n.rate},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,this.calculateRate(),this.emit(r.RATE,this,s)}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,this.calculateRate(),this.emit(r.DETUNE,this,s)}},setDetune:function(s){return this.detune=s,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(s){this.currentConfig.mute=s,this.muteNode.gain.setValueAtTime(s?0:1,0),this.emit(r.MUTE,this,s)}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(s){this.currentConfig.volume=s,this.volumeNode.gain.setValueAtTime(s,0),this.emit(r.VOLUME,this,s)}},setVolume:function(s){return this.volume=s,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.currentConfig.seek=s,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(r.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),s&&this.createAndStartLoopBufferSource()),this.emit(r.LOOP,this,s)}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(s){this.currentConfig.pan=s,this.pannerNode&&this.pannerNode.pan.setValueAtTime(s,this.manager.context.currentTime),this.emit(r.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var h=e.length,r=e[0].length,a=new Array(r),s=0;s<r;s++){a[s]=new Array(h);for(var i=h-1;i>-1;i--)a[s][i]=e[i][s]}return a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,a,s){var i=r[a];r[a]=r[s],r[s]=i}function e(r,a){return r<a?-1:r>a?1:0}var h=function(r,a,s,i,n){for(s===void 0&&(s=0),i===void 0&&(i=r.length-1),n===void 0&&(n=e);i>s;){if(i-s>600){var f=i-s+1,o=a-s+1,u=Math.log(f),d=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*d*(f-d)/f)*(o-f/2<0?-1:1),v=Math.max(s,Math.floor(a-o*d/f+c)),p=Math.min(i,Math.floor(a+(f-o)*d/f+c));h(r,a,v,p,n)}var x=r[a],y=s,S=i;for(t(r,s,a),n(r[i],x)>0&&t(r,s,i);y<S;){for(t(r,y,S),y++,S--;n(r[y],x)<0;)y++;for(;n(r[S],x)>0;)S--}n(r[s],x)===0?t(r,s,S):(S++,t(r,S,i)),S<=a&&(s=S+1),a<=S&&(i=S-1)}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),h=t(131),r=function(s,i,n){for(var f=[],o=0;o<s.length;o++)for(var u=0;u<i.length;u++)for(var d=0;d<n;d++)f.push({a:s[o],b:i[u]});return f},a=function(s,i,n){var f=e(n,"max",0),o=e(n,"qty",1),u=e(n,"random",!1),d=e(n,"randomB",!1),c=e(n,"repeat",0),v=e(n,"yoyo",!1),p=[];if(d&&h(i),c===-1)if(f===0)c=0;else{var x=s.length*i.length*o;v&&(x*=2),c=Math.ceil(f/x)}for(var y=0;y<=c;y++){var S=r(s,i,o);u&&h(S),p=p.concat(S),v&&(S.reverse(),p=p.concat(S))}return f&&p.splice(f),p};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={PROCESS_QUEUE_ADD:t(1041),PROCESS_QUEUE_REMOVE:t(1042)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(13),h=function(r,a){var s=e(a,"anims",null);if(s===null)return r;if(typeof s=="string")r.anims.play(s);else if(typeof s=="object"){var i=r.anims,n=e(s,"key",void 0);if(n){var f=e(s,"startFrame",void 0),o=e(s,"delay",0),u=e(s,"repeat",0),d=e(s,"repeatDelay",0),c=e(s,"yoyo",!1),v=e(s,"play",!1),p=e(s,"delayedPlay",0),x={key:n,delay:o,repeat:u,repeatDelay:d,yoyo:c,startFrame:f};v?i.play(x):p>0?i.playAfterDelay(x,p):i.load(x)}}return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(109),r=new e({initialize:function(s,i,n,f,o){this.parent=s,this.x=i,this.y=n,this.frame=f,this.data={},this.tint=16777215,this._visible=o,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof h&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,s,i){return this.x=a,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,s){return this.x=a,this.y=s,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,s){return this.flipX=a,this.flipY=s,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=function(r,a,s){s===void 0&&(s=new e);var i=Math.min(r.x,a.x),n=Math.min(r.y,a.y),f=Math.max(r.right,a.right)-i,o=Math.max(r.bottom,a.bottom)-n;return s.setTo(i,n,f,o)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(1055),a=t(15),s=t(7),i=t(202),n=t(20),f=t(140),o=new e({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Origin,h.ScrollFactor,h.Transform,h.Visible,r],initialize:function(d,c,v,p,x,y){a.call(this,d,"DOMElement"),this.parent=d.sys.game.domContainer,this.cache=d.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,v),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),x,y):this.createElement(p,x,y):p&&this.setElement(p,x,y),d.sys.events.on(n.SLEEP,this.handleSceneEvent,this),d.sys.events.on(n.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(u){var d=this.node,c=d.style;d&&(c.display=u.settings.visible?"block":"none")},setSkew:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=u),this.skewX=u,this.skewY=d,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.addEventListener(u[d],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.removeEventListener(u[d],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,d,c){return this.setElement(document.createElement(u),d,c)},setElement:function(u,d,c){this.removeElement();var v;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),v=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(v=u),!v)return this;if(this.node=v,d&&s(d))for(var p in d)v.style[p]=d[p];else typeof d=="string"&&(v.style=d);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),c&&(v.innerText=c),this.updateSize()},createFromCache:function(u,d){var c=this.cache.get(u);return c&&this.createFromHTML(c,d),this},createFromHTML:function(u,d){d===void 0&&(d="div"),this.removeElement();var c=document.createElement(d);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var u=this.node,d=u.getBoundingClientRect();return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=d.width||0,this.displayHeight=d.height||0,this},getChildByProperty:function(u,d){if(this.node){for(var c=this.node.querySelectorAll("*"),v=0;v<c.length;v++)if(c[v][u]===d)return c[v]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preUpdate:function(){var u=this.parentContainer,d=this.node;d&&u&&!u.willRender()&&(d.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this)}});l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1056),h=t(15),r=t(25),a=new r,s=new r,i=new r,n=function(f,o,u,d){if(o.node){var c=o.node.style,v=o.scene.sys.settings;if(!c||!v.visible||h.RENDER_MASK!==o.renderFlags||o.cameraFilter!==0&&o.cameraFilter&u.id||o.parentContainer&&!o.parentContainer.willRender()){c.display="none";return}var p=o.parentContainer,x=u.alpha*o.alpha;p&&(x*=p.alpha);var y=a,S=s,E=i,A=0,M=0,L="0%",F="0%";d?(A=o.width*o.scaleX*o.originX,M=o.height*o.scaleY*o.originY,S.applyITRS(o.x-A,o.y-M,o.rotation,o.scaleX,o.scaleY),y.copyFrom(u.matrix),y.multiplyWithOffset(d,-u.scrollX*o.scrollFactorX,-u.scrollY*o.scrollFactorY),S.e=o.x-A,S.f=o.y-M,y.multiply(S,E)):(A=o.width*o.originX,M=o.height*o.originY,S.applyITRS(o.x-A,o.y-M,o.rotation,o.scaleX,o.scaleY),y.copyFrom(u.matrix),L=100*o.originX+"%",F=100*o.originY+"%",S.e-=u.scrollX*o.scrollFactorX,S.f-=u.scrollY*o.scrollFactorY,y.multiply(S,E)),o.transformOnly||(c.display="block",c.opacity=x,c.zIndex=o._depth,c.pointerEvents=o.pointerEvents,c.mixBlendMode=e[o._blendMode]),c.transform=E.getCSSMatrix()+" skew("+o.skewX+"rad, "+o.skewY+"rad) rotate3d("+o.rotate3d.x+","+o.rotate3d.y+","+o.rotate3d.z+","+o.rotate3d.w+o.rotate3dAngle+")",c.transformOrigin=L+" "+F}};l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(15),a=t(1060),s=new e({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.Origin,h.ScrollFactor,h.Size,h.Texture,h.Tint,h.Transform,h.Visible,a],initialize:function(n){r.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(218),h=t(98),r=t(14),a=t(4),s=function(i,n,f){f===void 0&&(f=new a);var o=h(n,0,r.PI2);return e(i,o,f)};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(447),h=t(218),r=t(98),a=t(14),s=function(i,n,f,o){o===void 0&&(o=[]),!n&&f>0&&(n=e(i)/f);for(var u=0;u<n;u++){var d=r(u/n,0,a.PI2);o.push(h(i,d))}return o};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h=e.width/2,r=e.height/2,a=Math.pow(h-r,2)/Math.pow(h+r,2);return Math.PI*(h+r)*(1+3*a/(10+Math.sqrt(4-3*a)))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),h=t(30),r=function(a,s,i,n,f,o){var u=s.commandBuffer,d=u.length,c=f||a.currentContext;if(!(d===0||!h(a,c,s,i,n))){i.addToRenderList(s);var v=1,p=1,x=0,y=0,S=1,E=0,A=0,M=0;c.beginPath();for(var L=0;L<d;++L){var F=u[L];switch(F){case e.ARC:c.arc(u[L+1],u[L+2],u[L+3],u[L+4],u[L+5],u[L+6]),L+=7;break;case e.LINE_STYLE:S=u[L+1],x=u[L+2],v=u[L+3],E=(x&16711680)>>>16,A=(x&65280)>>>8,M=x&255,c.strokeStyle="rgba("+E+","+A+","+M+","+v+")",c.lineWidth=S,L+=3;break;case e.FILL_STYLE:y=u[L+1],p=u[L+2],E=(y&16711680)>>>16,A=(y&65280)>>>8,M=y&255,c.fillStyle="rgba("+E+","+A+","+M+","+p+")",L+=2;break;case e.BEGIN_PATH:c.beginPath();break;case e.CLOSE_PATH:c.closePath();break;case e.FILL_PATH:o||c.fill();break;case e.STROKE_PATH:o||c.stroke();break;case e.FILL_RECT:o?c.rect(u[L+1],u[L+2],u[L+3],u[L+4]):c.fillRect(u[L+1],u[L+2],u[L+3],u[L+4]),L+=4;break;case e.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[L+1],u[L+2]),c.lineTo(u[L+3],u[L+4]),c.lineTo(u[L+5],u[L+6]),c.closePath(),o||c.fill(),L+=6;break;case e.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[L+1],u[L+2]),c.lineTo(u[L+3],u[L+4]),c.lineTo(u[L+5],u[L+6]),c.closePath(),o||c.stroke(),L+=6;break;case e.LINE_TO:c.lineTo(u[L+1],u[L+2]),L+=2;break;case e.MOVE_TO:c.moveTo(u[L+1],u[L+2]),L+=2;break;case e.LINE_FX_TO:c.lineTo(u[L+1],u[L+2]),L+=5;break;case e.MOVE_FX_TO:c.moveTo(u[L+1],u[L+2]),L+=5;break;case e.SAVE:c.save();break;case e.RESTORE:c.restore();break;case e.TRANSLATE:c.translate(u[L+1],u[L+2]),L+=2;break;case e.SCALE:c.scale(u[L+1],u[L+2]),L+=2;break;case e.ROTATE:c.rotate(u[L+1]),L+=1;break;case e.GRADIENT_FILL_STYLE:L+=5;break;case e.GRADIENT_LINE_STYLE:L+=6;break}}c.restore()}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(137),r=t(80),a=t(2),s=t(68),i=new e({initialize:function(f,o,u,d){d===void 0&&(d=!1),this.propertyKey=o,this.propertyValue=u,this.defaultValue=u,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=d,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(f)},loadConfig:function(n,f){n===void 0&&(n={}),f&&(this.propertyKey=f),this.propertyValue=a(n,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(n){return this.propertyValue=n,this.setMethods()},setMethods:function(){var n=this.propertyValue,f=typeof n;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,f==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(n))this.onEmit=this.randomStaticValueEmit;else if(f==="function")this.emitOnly?this.onEmit=n:this.onUpdate=n;else if(f==="object"&&this.hasBoth(n,"start","end")){this.start=n.start,this.end=n.end;var o=this.has(n,"random");if(o&&(this.onEmit=this.randomRangedValueEmit),this.has(n,"steps"))this.steps=n.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var u=this.has(n,"ease")?n.ease:"Linear";this.ease=r(u,n.easeParams),o||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(f==="object"&&this.hasBoth(n,"min","max"))this.start=n.min,this.end=n.max,this.onEmit=this.randomRangedValueEmit;else if(f==="object"&&this.has(n,"random")){var d=n.random;Array.isArray(d)&&(this.start=d[0],this.end=d[1]),this.onEmit=this.randomRangedValueEmit}else f==="object"&&this.hasEither(n,"onEmit","onUpdate")&&(this.has(n,"onEmit")&&(this.onEmit=n.onEmit),this.has(n,"onUpdate")&&(this.onUpdate=n.onUpdate));return this},has:function(n,f){return n.hasOwnProperty(f)},hasBoth:function(n,f,o){return n.hasOwnProperty(f)&&n.hasOwnProperty(o)},hasEither:function(n,f,o){return n.hasOwnProperty(f)||n.hasOwnProperty(o)},defaultEmit:function(n,f,o){return o},defaultUpdate:function(n,f,o,u){return u},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var n=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[n]},randomRangedValueEmit:function(n,f){var o=h(this.start,this.end);return n&&n.data[f]&&(n.data[f].min=o),o},steppedEmit:function(){var n=this.counter,f=this.counter+(this.end-this.start)/this.steps;return this.counter=s(f,this.start,this.end),n},easedValueEmit:function(n,f){if(n&&n.data[f]){var o=n.data[f];o.min=this.start,o.max=this.end}return this.start},easeValueUpdate:function(n,f,o){var u=n.data[f];return(u.max-u.min)*this.ease(o)+u.min}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=new e({initialize:function(s,i,n,f,o){if(typeof s=="object"){var u=s;s=h(u,"x",0),i=h(u,"y",0),n=h(u,"power",0),f=h(u,"epsilon",100),o=h(u,"gravity",50)}else s===void 0&&(s=0),i===void 0&&(i=0),n===void 0&&(n=0),f===void 0&&(f=100),o===void 0&&(o=50);this.x=s,this.y=i,this.active=!0,this._gravity=o,this._power=0,this._epsilon=0,this.power=n,this.epsilon=f},update:function(a,s){var i=this.x-a.x,n=this.y-a.y,f=i*i+n*n;if(f!==0){var o=Math.sqrt(f);f<this._epsilon&&(f=this._epsilon);var u=this._power*s/(f*o)*100;a.velocityX+=i*u,a.velocityY+=n*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var s=this.power;this._gravity=a,this.power=s}}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(36),r=t(50),a=new e({initialize:function(i){this.emitter=i,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(s,i){var n=this.emitter;this.frame=n.getFrame(),n.emitZone&&n.emitZone.getPoint(this),s===void 0?this.x+=n.x.onEmit(this,"x"):this.x+=s,i===void 0?this.y+=n.y.onEmit(this,"y"):this.y+=i,this.life=n.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var f=n.speedX.onEmit(this,"speedX"),o=n.speedY?n.speedY.onEmit(this,"speedY"):f;if(n.radial){var u=h(n.angle.onEmit(this,"angle"));this.velocityX=Math.cos(u)*Math.abs(f),this.velocityY=Math.sin(u)*Math.abs(o)}else if(n.moveTo){var d=n.moveToX.onEmit(this,"moveToX"),c=n.moveToY?n.moveToY.onEmit(this,"moveToY"):d,v=Math.atan2(c-this.y,d-this.x),p=r(this.x,this.y,d,c)/(this.life/1e3);this.velocityX=Math.cos(v)*p,this.velocityY=Math.sin(v)*p}else this.velocityX=f,this.velocityY=o;n.acceleration&&(this.accelerationX=n.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=n.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=n.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=n.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=n.delay.onEmit(this,"delay"),this.scaleX=n.scaleX.onEmit(this,"scaleX"),this.scaleY=n.scaleY?n.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=n.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),this.bounce=n.bounce.onEmit(this,"bounce"),this.alpha=n.alpha.onEmit(this,"alpha"),this.tint=n.tint.onEmit(this,"tint")},computeVelocity:function(s,i,n,f){var o=this.velocityX,u=this.velocityY,d=this.accelerationX,c=this.accelerationY,v=this.maxVelocityX,p=this.maxVelocityY;o+=s.gravityX*n,u+=s.gravityY*n,d&&(o+=d*n),c&&(u+=c*n),o>v?o=v:o<-v&&(o=-v),u>p?u=p:u<-p&&(u=-p),this.velocityX=o,this.velocityY=u;for(var x=0;x<f.length;x++)f[x].update(this,i,n)},checkBounds:function(s){var i=s.bounds,n=-this.bounce;this.x<i.x&&s.collideLeft?(this.x=i.x,this.velocityX*=n):this.x>i.right&&s.collideRight&&(this.x=i.right,this.velocityX*=n),this.y<i.y&&s.collideTop?(this.y=i.y,this.velocityY*=n):this.y>i.bottom&&s.collideBottom&&(this.y=i.bottom,this.velocityY*=n)},update:function(s,i,n){if(this.delayCurrent>0)return this.delayCurrent-=s,!1;var f=this.emitter,o=1-this.lifeCurrent/this.life;return this.lifeT=o,this.computeVelocity(f,s,i,n),this.x+=this.velocityX*i,this.y+=this.velocityY*i,f.bounds&&this.checkBounds(f),f.deathZone&&f.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=f.scaleX.onUpdate(this,"scaleX",o,this.scaleX),f.scaleY?this.scaleY=f.scaleY.onUpdate(this,"scaleY",o,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",o,this.angle),this.rotation=h(this.angle),this.alpha=f.alpha.onUpdate(this,"alpha",o,this.alpha),this.tint=f.tint.onUpdate(this,"tint",o,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0)}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),h=t(0),r=t(11),a=t(453),s=t(454),i=t(449),n=t(2),f=t(210),o=t(455),u=t(126),d=t(451),c=t(456),v=t(10),p=t(79),x=t(3),y=t(68),S=new h({Mixins:[r.BlendMode,r.Mask,r.ScrollFactor,r.Visible],initialize:function(A,M){this.manager=A,this.texture=A.texture,this.frames=[A.defaultFrame],this.defaultFrame=A.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=d,this.x=new i(M,"x",0,!0),this.y=new i(M,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new i(M,"accelerationX",0,!0),this.accelerationY=new i(M,"accelerationY",0,!0),this.maxVelocityX=new i(M,"maxVelocityX",1e4,!0),this.maxVelocityY=new i(M,"maxVelocityY",1e4,!0),this.speedX=new i(M,"speedX",0,!0),this.speedY=new i(M,"speedY",0,!0),this.moveTo=!1,this.moveToX=new i(M,"moveToX",0,!0),this.moveToY=new i(M,"moveToY",0,!0),this.bounce=new i(M,"bounce",0,!0),this.scaleX=new i(M,"scaleX",1),this.scaleY=new i(M,"scaleY",1),this.tint=new i(M,"tint",16777215),this.alpha=new i(M,"alpha",1),this.lifespan=new i(M,"lifespan",1e3,!0),this.angle=new i(M,"angle",{min:0,max:360},!0),this.rotate=new i(M,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new i(M,"quantity",1,!0),this.delay=new i(M,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=e.NORMAL,this.follow=null,this.followOffset=new x,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,M&&this.fromJSON(M)},fromJSON:function(E){if(!E)return this;var A=0,M="";for(A=0;A<this.configFastMap.length;A++)M=this.configFastMap[A],u(E,M)&&(this[M]=n(E,M));for(A=0;A<this.configOpMap.length;A++)M=this.configOpMap[A],u(E,M)&&this[M].loadConfig(E);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,u(E,"speed")&&(this.speedX.loadConfig(E,"speed"),this.speedY=null),(o(E,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),u(E,"scale")&&(this.scaleX.loadConfig(E,"scale"),this.scaleY=null),u(E,"callbackScope")){var L=n(E,"callbackScope",null);this.emitCallbackScope=L,this.deathCallbackScope=L}return u(E,"emitZone")&&this.setEmitZone(E.emitZone),u(E,"deathZone")&&this.setDeathZone(E.deathZone),u(E,"bounds")&&this.setBounds(E.bounds),u(E,"followOffset")&&this.followOffset.setFromObject(n(E,"followOffset",0)),u(E,"frame")&&this.setFrame(E.frame),u(E,"reserve")&&this.reserve(E.reserve),this},toJSON:function(E){E===void 0&&(E={});var A=0,M="";for(A=0;A<this.configFastMap.length;A++)M=this.configFastMap[A],E[M]=this[M];for(A=0;A<this.configOpMap.length;A++)M=this.configOpMap[A],this[M]&&(E[M]=this[M].toJSON());return this.speedY||(delete E.speedX,E.speed=this.speedX.toJSON()),this.scaleY||(delete E.scaleX,E.scale=this.scaleX.toJSON()),E},startFollow:function(E,A,M,L){return A===void 0&&(A=0),M===void 0&&(M=0),L===void 0&&(L=!1),this.follow=E,this.followOffset.set(A,M),this.trackVisible=L,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return f(this.frames);var E=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=y(this.currentFrame+1,0,this._frameLength)),E},setFrame:function(E,A,M){A===void 0&&(A=!0),M===void 0&&(M=1),this.randomFrame=A,this.frameQuantity=M,this.currentFrame=0,this._frameCounter=0;var L=typeof E;if(Array.isArray(E)||L==="string"||L==="number")this.manager.setEmitterFrames(E,this);else if(L==="object"){var F=E;E=n(F,"frames",null),E&&this.manager.setEmitterFrames(E,this);var O=n(F,"cycle",!1);this.randomFrame=!O,this.frameQuantity=n(F,"quantity",M)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(E){return E===void 0&&(E=!0),this.radial=E,this},setPosition:function(E,A){return this.x.onChange(E),this.y.onChange(A),this},setBounds:function(E,A,M,L){if(typeof E=="object"){var F=E;E=F.x,A=F.y,M=u(F,"w")?F.w:F.width,L=u(F,"h")?F.h:F.height}return this.bounds?this.bounds.setTo(E,A,M,L):this.bounds=new v(E,A,M,L),this},setSpeedX:function(E){return this.speedX.onChange(E),this.radial=!1,this},setSpeedY:function(E){return this.speedY&&(this.speedY.onChange(E),this.radial=!1),this},setSpeed:function(E){return this.speedX.onChange(E),this.speedY=null,this.radial=!0,this},setScaleX:function(E){return this.scaleX.onChange(E),this},setScaleY:function(E){return this.scaleY.onChange(E),this},setScale:function(E){return this.scaleX.onChange(E),this.scaleY=null,this},setGravityX:function(E){return this.gravityX=E,this},setGravityY:function(E){return this.gravityY=E,this},setGravity:function(E,A){return this.gravityX=E,this.gravityY=A,this},setAlpha:function(E){return this.alpha.onChange(E),this},setTint:function(E){return this.tint.onChange(E),this},setEmitterAngle:function(E){return this.angle.onChange(E),this},setAngle:function(E){return this.angle.onChange(E),this},setLifespan:function(E){return this.lifespan.onChange(E),this},setQuantity:function(E){return this.quantity.onChange(E),this},setFrequency:function(E,A){return this.frequency=E,this._counter=0,A&&this.quantity.onChange(A),this},setEmitZone:function(E){if(E===void 0)this.emitZone=null;else{var A=n(E,"type","random"),M=n(E,"source",null);switch(A){case"random":this.emitZone=new c(M);break;case"edge":var L=n(E,"quantity",1),F=n(E,"stepRate",0),O=n(E,"yoyo",!1),B=n(E,"seamless",!0);this.emitZone=new s(M,L,F,O,B);break}}return this},setDeathZone:function(E){if(E===void 0)this.deathZone=null;else{var A=n(E,"type","onEnter"),M=n(E,"source",null);if(M&&typeof M.contains=="function"){var L=A==="onEnter";this.deathZone=new a(M,L)}}return this},reserve:function(E){for(var A=this.dead,M=0;M<E;M++)A.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(E,A){return E===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof E=="function"&&(this.emitCallback=E,A&&(this.emitCallbackScope=A)),this},onParticleDeath:function(E,A){return E===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof E=="function"&&(this.deathCallback=E,A&&(this.deathCallbackScope=A)),this},killAll:function(){for(var E=this.dead,A=this.alive;A.length>0;)E.push(A.pop());return this},forEachAlive:function(E,A){for(var M=this.alive,L=M.length,F=0;F<L;++F)E.call(A,M[F],this);return this},forEachDead:function(E,A){for(var M=this.dead,L=M.length,F=0;F<L;++F)E.call(A,M[F],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return p(this.alive,this.depthSortCallback),this},flow:function(E,A){return A===void 0&&(A=1),this.frequency=E,this.quantity.onChange(A),this.start()},explode:function(E,A,M){return this.frequency=-1,this.emitParticle(E,A,M)},emitParticleAt:function(E,A,M){return this.emitParticle(M,E,A)},emitParticle:function(E,A,M){if(!this.atLimit()){E===void 0&&(E=this.quantity.onEmit());for(var L=this.dead,F=this.follow?this.follow.x+this.followOffset.x:A,O=this.follow?this.follow.y+this.followOffset.y:M,B=0;B<E;B++){var N=L.pop();if(N||(N=new this.particleClass(this)),N.fire(F,O),this.particleBringToTop?this.alive.push(N):this.alive.unshift(N),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,N,this),this.atLimit())break}return N}},preUpdate:function(E,A){A*=this.timeScale;var M=A/1e3;this.trackVisible&&(this.visible=this.follow.visible);var L=this.manager.getProcessors(),F=this.alive,O=this.dead,B=0,N=[],G=F.length;for(B=0;B<G;B++){var Y=F[B];Y.update(A,M,L)&&N.push({index:B,particle:Y})}if(G=N.length,G>0){var H=this.deathCallback,b=this.deathCallbackScope;for(B=G-1;B>=0;B--){var Z=N[B];F.splice(Z.index,1),O.push(Z.particle),H&&H.call(b,Z.particle),Z.particle.resetPosition()}}this.on&&(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=A,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(E,A){return E.y-A.y}});l.exports=S},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s){this.source=a,this.killOnEnter=s},willKill:function(r){var a=this.source.contains(r.x,r.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n,f){n===void 0&&(n=!1),f===void 0&&(f=!0),this.source=a,this.points=[],this.quantity=s,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var r=this.points[0],a=this.points[this.points.length-1];r.x===a.x&&r.y===a.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(r){return this.source=r,this.updateSource()},getPoint:function(r){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(r.x=a.x,r.y=a.y)}});l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){for(var r=0;r<h.length;r++)if(e.hasOwnProperty(h[r]))return!0;return!1};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(3),r=new e({initialize:function(s){this.source=s,this._tempVec=new h},getPoint:function(a){var s=this._tempVec;this.source.getRandomPoint(s),a.x=s.x,a.y=s.y}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(73),a=new e({Extends:r,Mixins:[h.PathFollower],initialize:function(i,n,f,o,u,d){r.call(this,i,f,o,u,d),this.path=n},preUpdate:function(s,i){this.anims.update(s,i),this.pathUpdate(s)}});l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=e.canvas,s=e.context,i=e.style,n=[],f=0,o=r.length;i.maxLines>0&&i.maxLines<r.length&&(o=i.maxLines),i.syncFont(a,s);for(var u=0;u<o;u++){var d=i.strokeThickness;d+=s.measureText(r[u]).width,i.wordWrap&&(d-=s.measureText(" ").width),n[u]=Math.ceil(d),f=Math.max(f,n[u])}var c=h.fontSize+i.strokeThickness,v=c*o,p=e.lineSpacing;return o>1&&(v+=p*(o-1)),{width:f,height:v,lines:o,lineWidths:n,lineSpacing:p,lineHeight:c}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(13),r=t(6),a=t(460),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new e({initialize:function(f,o){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(o,!1,!0);var u=r(o,"metrics",!1);u?this.metrics={ascent:r(u,"ascent",0),descent:r(u,"descent",0),fontSize:r(u,"fontSize",0)}:this.metrics=a(this)},setStyle:function(n,f,o){f===void 0&&(f=!0),o===void 0&&(o=!1),n&&n.hasOwnProperty("fontSize")&&typeof n.fontSize=="number"&&(n.fontSize=n.fontSize.toString()+"px");for(var u in s){var d=o?s[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=r(n,s[u][0],d):this[u]=h(n,s[u][0],d)}var c=r(n,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=r(n,"fill",null);return v!==null&&(this.color=v),f?this.update(!0):this.parent},syncFont:function(n,f){f.font=this._font},syncStyle:function(n,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(n,f){f?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(n,f){f===void 0&&(f=!0);var o=n,u="",d="";if(typeof n!="string")o=r(n,"fontFamily","Courier"),u=r(n,"fontSize","16px"),d=r(n,"fontStyle","");else{var c=n.split(" "),v=0;d=c.length>2?c[v++]:"",u=c[v++]||"16px",o=c[v++]||"Courier"}return(o!==this.fontFamily||u!==this.fontSize||d!==this.fontStyle)&&(this.fontFamily=o,this.fontSize=u,this.fontStyle=d,f&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,f){return this.fixedWidth=n,this.fixedHeight=f,n&&(this.parent.width=n),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,f){return f===void 0&&(f=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==f)&&(this.stroke=n,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(n,f,o,u,d,c){return n===void 0&&(n=0),f===void 0&&(f=0),o===void 0&&(o="#000"),u===void 0&&(u=0),d===void 0&&(d=!1),c===void 0&&(c=!0),this.shadowOffsetX=n,this.shadowOffsetY=f,this.shadowColor=o,this.shadowBlur=u,this.shadowStroke=d,this.shadowFill=c,this.update(!1)},setShadowOffset:function(n,f){return n===void 0&&(n=0),f===void 0&&(f=n),this.shadowOffsetX=n,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,f){return f===void 0&&(f=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(n,f){return f===void 0&&(f=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var f in s)n[f]=this[f];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),h=function(r){var a=e.create(this),s=a.getContext("2d");r.syncFont(a,s);var i=s.measureText(r.testString);if("actualBoundingBoxAscent"in i){var n=i.actualBoundingBoxAscent,f=i.actualBoundingBoxDescent;return e.remove(a),{ascent:n,descent:f,fontSize:n+f}}var o=Math.ceil(i.width*r.baselineX),u=o,d=2*u;u=u*r.baselineY|0,a.width=o,a.height=d,s.fillStyle="#f00",s.fillRect(0,0,o,d),s.font=r._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(r.testString,0,u);var c={ascent:0,descent:0,fontSize:0},v=s.getImageData(0,0,o,d);if(!v)return c.ascent=u,c.descent=u+6,c.fontSize=c.ascent+c.descent,e.remove(a),c;var p=v.data,x=p.length,y=o*4,S,E,A=0,M=!1;for(S=0;S<u;S++){for(E=0;E<y;E+=4)if(p[A+E]!==255){M=!0;break}if(!M)A+=y;else break}for(c.ascent=u-S,A=x-y,M=!1,S=d;S>u;S--){for(E=0;E<y;E+=4)if(p[A+E]!==255){M=!0;break}if(!M)A-=y;else break}return c.descent=S-u,c.fontSize=c.ascent+c.descent,e.remove(a),c};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1097),h=t(0),r=t(36),a=t(59),s=t(65),i=t(14),n=t(34),f=new h({Extends:n,Mixins:[e],initialize:function(u,d,c,v,p,x,y,S,E){d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=128),p===void 0&&(p=0),x===void 0&&(x=360),y===void 0&&(y=!1),n.call(this,u,"Arc",new s(0,0,v)),this._startAngle=p,this._endAngle=x,this._anticlockwise=y,this._iterations=.01,this.setPosition(d,c);var A=this.geom.radius*2;this.setSize(A,A),S!==void 0&&this.setFillStyle(S,E),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(o){this._iterations=o,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(o){this.geom.radius=o;var u=o*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(o){this._startAngle=o,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(o){this._endAngle=o,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(o){this._anticlockwise=o,this.updateData()}},setRadius:function(o){return this.radius=o,this},setIterations:function(o){return o===void 0&&(o=.01),this.iterations=o,this},setStartAngle:function(o,u){return this._startAngle=o,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(o,u){return this._endAngle=o,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var o=this._iterations,u=o,d=this.geom.radius,c=r(this._startAngle),v=r(this._endAngle),p=this._anticlockwise,x=d,y=d;v-=c,p?v<-i.PI2?v=-i.PI2:v>0&&(v=-i.PI2+v%i.PI2):v>i.PI2?v=i.PI2:v<0&&(v=i.PI2+v%i.PI2);for(var S=[x+Math.cos(c)*d,y+Math.sin(c)*d],E;u<1;)E=v*u+c,S.push(x+Math.cos(E)*d,y+Math.sin(E)*d),u+=o;return E=v+c,S.push(x+Math.cos(E)*d,y+Math.sin(E)*d),S.push(x+Math.cos(c)*d,y+Math.sin(c)*d),this.pathIndexes=a(S),this.pathData=S,this}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(1100),r=t(59),a=t(10),s=t(34),i=new e({Extends:s,Mixins:[h],initialize:function(f,o,u,d,c,v){o===void 0&&(o=0),u===void 0&&(u=0),s.call(this,f,"Curve",d),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(o,u),c!==void 0&&this.setFillStyle(c,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,f=this._smoothness;this.geom.getBounds(n,f),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var o=[],u=this.geom.getPoints(f),d=0;d<u.length;d++)o.push(u[d].x,u[d].y);return o.push(u[0].x,u[0].y),this.pathIndexes=r(o),this.pathData=o,this}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(59),r=t(1103),a=t(111),s=t(34),i=new e({Extends:s,Mixins:[r],initialize:function(f,o,u,d,c,v,p){o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=128),s.call(this,f,"Ellipse",new a(d/2,c/2,d,c)),this._smoothness=64,this.setPosition(o,u),this.width=d,this.height=c,v!==void 0&&this.setFillStyle(v,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,f){return this.width=n,this.height=f,this.geom.setPosition(n/2,f/2),this.geom.setSize(n,f),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],f=this.geom.getPoints(this._smoothness),o=0;o<f.length;o++)n.push(f[o].x,f[o].y);return n.push(f[0].x,f[0].y),this.pathIndexes=h(n),this.pathData=n,this}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(34),r=t(1106),a=new e({Extends:h,Mixins:[r],initialize:function(i,n,f,o,u,d,c,v,p,x,y){n===void 0&&(n=0),f===void 0&&(f=0),o===void 0&&(o=128),u===void 0&&(u=128),d===void 0&&(d=32),c===void 0&&(c=32),h.call(this,i,"Grid",null),this.cellWidth=d,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,f),this.setSize(o,u),this.setFillStyle(v,p),x!==void 0&&this.setOutlineStyle(x,y),this.updateDisplayOrigin()},setFillStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=i,this.showOutline=!0),this}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1109),h=t(0),r=t(34),a=new h({Extends:r,Mixins:[e],initialize:function(i,n,f,o,u,d,c,v){n===void 0&&(n=0),f===void 0&&(f=0),o===void 0&&(o=48),u===void 0&&(u=32),d===void 0&&(d=15658734),c===void 0&&(c=10066329),v===void 0&&(v=13421772),r.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=d,this.fillLeft=c,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,f),this.setSize(o,u),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,i,n){return s===void 0&&(s=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=s,this.showLeft=i,this.showRight=n,this},setFillStyle:function(s,i,n){return this.fillTop=s,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(1112),r=t(34),a=new e({Extends:r,Mixins:[h],initialize:function(i,n,f,o,u,d,c,v,p){n===void 0&&(n=0),f===void 0&&(f=0),o===void 0&&(o=48),u===void 0&&(u=32),d===void 0&&(d=!1),c===void 0&&(c=15658734),v===void 0&&(v=10066329),p===void 0&&(p=13421772),r.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=v,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=d,this.isFilled=!0,this.setPosition(n,f),this.setSize(o,u),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,i,n){return s===void 0&&(s=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=s,this.showLeft=i,this.showRight=n,this},setFillStyle:function(s,i,n){return this.fillTop=s,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(34),r=t(47),a=t(1115),s=new e({Extends:h,Mixins:[a],initialize:function(n,f,o,u,d,c,v,p,x){f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=128),v===void 0&&(v=0),h.call(this,n,"Line",new r(u,d,c,v));var y=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,o),this.setSize(y,S),p!==void 0&&this.setStrokeStyle(1,p,x),this.updateDisplayOrigin()},setLineWidth:function(i,n){return n===void 0&&(n=i),this._startWidth=i,this._endWidth=n,this.lineWidth=i,this},setTo:function(i,n,f,o){return this.geom.setTo(i,n,f,o),this}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1118),h=t(0),r=t(59),a=t(469),s=t(227),i=t(34),n=t(472),f=new h({Extends:i,Mixins:[e],initialize:function(u,d,c,v,p,x){d===void 0&&(d=0),c===void 0&&(c=0),i.call(this,u,"Polygon",new s(v));var y=a(this.geom);this.setPosition(d,c),this.setSize(y.width,y.height),p!==void 0&&this.setFillStyle(p,x),this.updateDisplayOrigin(),this.updateData()},smooth:function(o){o===void 0&&(o=1);for(var u=0;u<o;u++)n(this.geom);return this.updateData()},updateData:function(){for(var o=[],u=this.geom.points,d=0;d<u.length;d++)o.push(u[d].x,u[d].y);return o.push(u[0].x,u[0].y),this.pathIndexes=r(o),this.pathData=o,this}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=function(r,a){a===void 0&&(a=new e);for(var s=1/0,i=1/0,n=-s,f=-i,o,u=0;u<r.points.length;u++)o=r.points[u],s=Math.min(s,o.x),i=Math.min(i,o.y),n=Math.max(n,o.x),f=Math.max(f,o.y);return a.x=s,a.y=i,a.width=n-s,a.height=f-i,a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),h=t(47),r=t(471),a=function(s,i,n,f){f===void 0&&(f=[]);var o=s.points,u=r(s);!i&&n>0&&(i=u/n);for(var d=0;d<i;d++)for(var c=u*(d/i),v=0,p=0;p<o.length;p++){var x=o[p],y=o[(p+1)%o.length],S=new h(x.x,x.y,y.x,y.y),E=e(S);if(c<v||c>v+E){v+=E;continue}var A=S.getPoint((c-v)/E);f.push(A);break}return f};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),h=t(47),r=function(a){for(var s=a.points,i=0,n=0;n<s.length;n++){var f=s[n],o=s[(n+1)%s.length],u=new h(f.x,f.y,o.x,o.y);i+=e(u)}return i};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(h,r){return h[0]=r[0],h[1]=r[1],h},e=function(h){var r,a=[],s=h.points;for(r=0;r<s.length;r++)a.push([s[r].x,s[r].y]);var i=[];for(a.length>0&&i.push(t([0,0],a[0])),r=0;r<a.length-1;r++){var n=a[r],f=a[r+1],o=n[0],u=n[1],d=f[0],c=f[1];i.push([.85*o+.15*d,.85*u+.15*c]),i.push([.15*o+.85*d,.15*u+.85*c])}return a.length>1&&i.push(t([0,0],a[a.length-1])),h.setTo(i)};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(10),r=t(34),a=t(1121),s=new e({Extends:r,Mixins:[a],initialize:function(n,f,o,u,d,c,v){f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=128),d===void 0&&(d=128),r.call(this,n,"Rectangle",new h(0,0,u,d)),this.setPosition(f,o),this.setSize(u,d),c!==void 0&&this.setFillStyle(c,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,n){return this.width=i,this.height=n,this.geom.setSize(i,n),this.updateData(),this},updateData:function(){var i=[],n=this.geom,f=this._tempLine;return n.getLineA(f),i.push(f.x1,f.y1,f.x2,f.y2),n.getLineB(f),i.push(f.x2,f.y2),n.getLineC(f),i.push(f.x2,f.y2),n.getLineD(f),i.push(f.x2,f.y2),this.pathData=i,this}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1124),h=t(0),r=t(59),a=t(34),s=new h({Extends:a,Mixins:[e],initialize:function(n,f,o,u,d,c,v,p){f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=5),d===void 0&&(d=32),c===void 0&&(c=64),a.call(this,n,"Star",null),this._points=u,this._innerRadius=d,this._outerRadius=c,this.setPosition(f,o),this.setSize(c*2,c*2),v!==void 0&&this.setFillStyle(v,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],n=this._points,f=this._innerRadius,o=this._outerRadius,u=Math.PI/2*3,d=Math.PI/n,c=o,v=o;i.push(c,v+-o);for(var p=0;p<n;p++)i.push(c+Math.cos(u)*o,v+Math.sin(u)*o),u+=d,i.push(c+Math.cos(u)*f,v+Math.sin(u)*f),u+=d;return i.push(c,v+-o),this.pathIndexes=r(i),this.pathData=i,this}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(34),r=t(82),a=t(1127),s=new e({Extends:h,Mixins:[a],initialize:function(n,f,o,u,d,c,v,p,x,y,S){f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=64),v===void 0&&(v=0),p===void 0&&(p=128),x===void 0&&(x=128),h.call(this,n,"Triangle",new r(u,d,c,v,p,x));var E=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(f,o),this.setSize(E,A),y!==void 0&&this.setFillStyle(y,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,n,f,o,u,d){return this.geom.setTo(i,n,f,o,u,d),this.updateData()},updateData:function(){var i=[],n=this.geom,f=this._tempLine;return n.getLineA(f),i.push(f.x1,f.y1,f.x2,f.y2),n.getLineB(f),i.push(f.x2,f.y2),n.getLineC(f),i.push(f.x2,f.y2),this.pathData=i,this}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=t(67),r=function(a,s,i){i===void 0&&(i=new e);var n=a.getLineA(),f=a.getLineB(),o=a.getLineC();if(s<=0||s>=1)return i.x=n.x1,i.y=n.y1,i;var u=h(n),d=h(f),c=h(o),v=u+d+c,p=v*s,x=0;return p<u?(x=p/u,i.x=n.x1+(n.x2-n.x1)*x,i.y=n.y1+(n.y2-n.y1)*x):p>u+d?(p-=u+d,x=p/c,i.x=o.x1+(o.x2-o.x1)*x,i.y=o.y1+(o.y2-o.y1)*x):(p-=u,x=p/d,i.x=f.x1+(f.x2-f.x1)*x,i.y=f.y1+(f.y2-f.y1)*x),i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),h=t(4),r=function(a,s,i,n){n===void 0&&(n=[]);var f=a.getLineA(),o=a.getLineB(),u=a.getLineC(),d=e(f),c=e(o),v=e(u),p=d+c+v;!s&&i>0&&(s=p/i);for(var x=0;x<s;x++){var y=p*(x/s),S=0,E=new h;y<d?(S=y/d,E.x=f.x1+(f.x2-f.x1)*S,E.y=f.y1+(f.y2-f.y1)*S):y>d+c?(y-=d+c,S=y/v,E.x=u.x1+(u.x2-u.x1)*S,E.y=u.y1+(u.y2-u.y1)*S):(y-=d,S=y/c,E.x=o.x1+(o.x2-o.x1)*S,E.y=o.y1+(o.y2-o.y1)*S),n.push(E)}return n};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(h))return e[h]=r,!0;if(h.indexOf(".")!==-1){for(var a=h.split("."),s=e,i=e,n=0;n<a.length;n++)if(s.hasOwnProperty(a[n]))i=s,s=s[a[n]];else return!1;return i[a[a.length-1]]=r,!0}return!1};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),h=t(117),r=function(a,s,i,n,f,o,u){if(n===void 0&&(n=!1),o===void 0&&(o=16777215),u===void 0&&(u=1),a.length!==s.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},c,v,p,x,y,S,E,A,M,L,F,O=n?3:2,B=Array.isArray(o),N=Array.isArray(u);if(Array.isArray(i)&&i.length>0)for(c=0;c<i.length;c++){var G=i[c],Y=i[c]*2,H=i[c]*O;v=a[H],p=a[H+1],x=n?a[H+2]:0,y=s[Y],S=s[Y+1],E=B?o[G]:o,A=N?u[G]:u,M=0,L=0,F=0,f&&(M=f[H],L=f[H+1],F=n?f[H+2]:0),d.vertices.push(new h(v,p,x,y,S,E,A,M,L,F))}else{var b=0,Z=0;for(c=0;c<a.length;c+=O)v=a[c],p=a[c+1],x=n?a[c+2]:0,y=s[b],S=s[b+1],E=B?o[Z]:o,A=N?u[Z]:u,M=0,L=0,F=0,f&&(M=f[c],L=f[c+1],F=n?f[c+2]:0),d.vertices.push(new h(v,p,x,y,S,E,A,M,L,F)),b+=2,Z++}for(c=0;c<d.vertices.length;c+=3){var $=d.vertices[c],w=d.vertices[c+1],D=d.vertices[c+2];d.faces.push(new e($,w,D))}return d};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),h=t(69),r=t(39),a=t(117),s=new r,i=new r,n=new h,f=function(o,u,d,c,v,p,x,y,S,E){d===void 0&&(d=1),c===void 0&&(c=0),v===void 0&&(v=0),p===void 0&&(p=0),x===void 0&&(x=0),y===void 0&&(y=0),S===void 0&&(S=0),E===void 0&&(E=!0);var A={faces:[],verts:[]},M=o.materials;s.set(c,v,p),i.set(x,y,S),n.fromRotationXYTranslation(i,s,E);for(var L=0;L<o.models.length;L++)for(var F=o.models[L],O=F.vertices,B=F.textureCoords,N=F.faces,G=0;G<N.length;G++){var Y=N[G],H=Y.vertices[0],b=Y.vertices[1],Z=Y.vertices[2],$=O[H.vertexIndex],w=O[b.vertexIndex],D=O[Z.vertexIndex],V=H.textureCoordsIndex,z=b.textureCoordsIndex,X=Z.textureCoordsIndex,j=V===-1?{u:0,v:1}:B[V],K=z===-1?{u:0,v:0}:B[z],Q=X===-1?{u:1,v:1}:B[X],k=16777215;Y.material!==""&&M[Y.material]&&(k=M[Y.material]);var _=new a($.x*d,$.y*d,$.z*d,j.u,j.v,k).transformMat4(n),it=new a(w.x*d,w.y*d,w.z*d,K.u,K.v,k).transformMat4(n),at=new a(D.x*d,D.y*d,D.z*d,Q.u,Q.v,k).transformMat4(n);A.verts.push(_,it,at),A.faces.push(new e(_,it,at))}return u&&(u.faces=u.faces.concat(A.faces),u.vertices=u.vertices.concat(A.verts)),A};l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),h=t(0),r=t(11),a=t(200),s=t(12),i=new h({Extends:e,Mixins:[r.ScrollFactor,r.Visible],initialize:function(f,o,u,d,c,v,p){e.call(this,f,o,u),this.color=new a(d,c,v),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(n){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var f=s.getFloatsFromUintRGB(n);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});i.RENDER_MASK=15,l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(151),h=t(0),r=t(50),a=t(481),s=t(150),i=t(200),n=t(74),f=t(79),o=t(12),u=new h({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(d,c,v,p,x,y){return this.systems.displayList.add(new s(this.scene,d,c,v,p,x,y))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(d){for(var c=this.lights,v=d.worldView,p=[],x=0;x<c.length;x++){var y=c[x];y.willRender(d)&&e(y,v)&&p.push({light:y,distance:r(y.x,y.y,v.centerX,v.centerY)})}return p.length>this.maxLights&&(f(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(d,c){return d.distance>=c.distance},setAmbientColor:function(d){var c=o.getFloatsFromUintRGB(d);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(d,c,v,p,x){d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=128),p===void 0&&(p=16777215),x===void 0&&(x=1);var y=o.getFloatsFromUintRGB(p),S=new a(d,c,v,y[0],y[1],y[2],x);return this.lights.push(S),S},removeLight:function(d){var c=this.lights.indexOf(d);return c>=0&&n(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(56),h=t(17),r={Circle:t(1191),Ellipse:t(1201),Intersects:t(484),Line:t(1221),Mesh:t(1243),Point:t(1246),Polygon:t(1260),Rectangle:t(502),Triangle:t(1293)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CircleToCircle:t(231),CircleToRectangle:t(151),GetCircleToCircle:t(1211),GetCircleToRectangle:t(1212),GetLineToCircle:t(232),GetLineToLine:t(485),GetLineToPoints:t(486),GetLineToPolygon:t(487),GetLineToRectangle:t(234),GetRaysFromPointToPolygon:t(1213),GetRectangleIntersection:t(1214),GetRectangleToRectangle:t(1215),GetRectangleToTriangle:t(1216),GetTriangleToCircle:t(1217),GetTriangleToLine:t(492),GetTriangleToTriangle:t(1218),LineToCircle:t(233),LineToLine:t(96),LineToRectangle:t(488),PointToLine:t(496),PointToLineSegment:t(1219),RectangleToRectangle:t(152),RectangleToTriangle:t(489),RectangleToValues:t(1220),TriangleToCircle:t(491),TriangleToLine:t(493),TriangleToTriangle:t(494)}},function(l,g,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),h=function(r,a,s){var i=r.x1,n=r.y1,f=r.x2,o=r.y2,u=a.x1,d=a.y1,c=a.x2,v=a.y2,p=f-i,x=o-n,y=c-u,S=v-d,E=S*p-y*x;if(p===0||E===0)return!1;var A=(p*(d-n)+x*(i-u))/(y*x-S*p),M=(u+y*A-i)/p;return M<0||A<0||A>1?null:(s===void 0&&(s=new e),s.set(i+p*M,n+x*M,M))};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),h=t(485),r=t(47),a=new r,s=new e,i=function(n,f,o){o===void 0&&(o=new e);var u=!1;o.set(),s.set();for(var d=f[0],c=1;c<f.length;c++){var v=f[c];a.setTo(d.x,d.y,v.x,v.y),d=v,h(n,a,s)&&(!u||s.z<o.z)&&(o.copy(s),u=!0)}return u?o:null};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),h=t(140),r=t(486),a=new e,s=function(i,n,f){f===void 0&&(f=new h),Array.isArray(n)||(n=[n]);var o=!1;f.set(),a.set();for(var u=0;u<n.length;u++)r(i,n[u].points,a)&&(!o||a.z<f.z)&&(f.set(a.x,a.y,a.z,u),o=!0);return o?f:null};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.x1,a=e.y1,s=e.x2,i=e.y2,n=h.x,f=h.y,o=h.right,u=h.bottom,d=0;if(r>=n&&r<=o&&a>=f&&a<=u||s>=n&&s<=o&&i>=f&&i<=u)return!0;if(r<n&&s>=n){if(d=a+(i-a)*(n-r)/(s-r),d>f&&d<=u)return!0}else if(r>o&&s<=o&&(d=a+(i-a)*(o-r)/(s-r),d>=f&&d<=u))return!0;if(a<f&&i>=f){if(d=r+(s-r)*(f-a)/(i-a),d>=n&&d<=o)return!0}else if(a>u&&i<=u&&(d=r+(s-r)*(u-a)/(i-a),d>=n&&d<=o))return!0;return!1};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),h=t(57),r=t(235),a=t(490),s=function(i,n){if(n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top)return!1;var f=n.getLineA(),o=n.getLineB(),u=n.getLineC();if(h(i,f.x1,f.y1)||h(i,f.x2,f.y2)||h(i,o.x1,o.y1)||h(i,o.x2,o.y2)||h(i,u.x1,u.y1)||h(i,u.x2,u.y2))return!0;var d=i.getLineA(),c=i.getLineB(),v=i.getLineC(),p=i.getLineD();if(e(f,d)||e(f,c)||e(f,v)||e(f,p)||e(o,d)||e(o,c)||e(o,v)||e(o,p)||e(u,d)||e(u,c)||e(u,v)||e(u,p))return!0;var x=a(i),y=r(n,x,!0);return y.length>0};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=[]),h.push({x:e.x,y:e.y}),h.push({x:e.right,y:e.y}),h.push({x:e.right,y:e.bottom}),h.push({x:e.x,y:e.bottom}),h};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(233),h=t(115),r=function(a,s){return a.left>s.right||a.right<s.left||a.top>s.bottom||a.bottom<s.top?!1:!!(h(a,s.x,s.y)||e(a.getLineA(),s)||e(a.getLineB(),s)||e(a.getLineC(),s))};l.exports=r},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=t(493),r=t(96),a=function(s,i,n){if(n===void 0&&(n=[]),h(s,i))for(var f=s.getLineA(),o=s.getLineB(),u=s.getLineC(),d=[new e,new e,new e],c=[r(f,i,d[0]),r(o,i,d[1]),r(u,i,d[2])],v=0;v<3;v++)c[v]&&n.push(d[v]);return n};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),h=function(r,a){return!!(r.contains(a.x1,a.y1)||r.contains(a.x2,a.y2)||e(r.getLineA(),a)||e(r.getLineB(),a)||e(r.getLineC(),a))};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(235),h=t(495),r=t(96),a=function(s,i){if(s.left>i.right||s.right<i.left||s.top>i.bottom||s.bottom<i.top)return!1;var n=s.getLineA(),f=s.getLineB(),o=s.getLineC(),u=i.getLineA(),d=i.getLineB(),c=i.getLineC();if(r(n,u)||r(n,d)||r(n,c)||r(f,u)||r(f,d)||r(f,c)||r(o,u)||r(o,d)||r(o,c))return!0;var v=h(s),p=e(i,v,!0);return p.length>0||(v=h(i),p=e(s,v,!0),p.length>0)};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=[]),h.push({x:e.x1,y:e.y1}),h.push({x:e.x2,y:e.y2}),h.push({x:e.x3,y:e.y3}),h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){r===void 0&&(r=1);var a=h.x1,s=h.y1,i=h.x2,n=h.y2,f=e.x,o=e.y,u=(i-a)*(i-a)+(n-s)*(n-s);if(u===0)return!1;var d=((f-a)*(i-a)+(o-s)*(n-s))/u;if(d<0)return Math.sqrt((a-f)*(a-f)+(s-o)*(s-o))<=r;if(d>=0&&d<=1){var c=((s-o)*(i-a)-(a-f)*(n-s))/u;return Math.abs(c)*Math.sqrt(u)<=r}else return Math.sqrt((i-f)*(i-f)+(n-o)*(n-o))<=r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=t(68),r=t(97),a=function(s){var i=r(s)-e.TAU;return h(i,-Math.PI,Math.PI)};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,e="untitled",h="",r="";function a(x){var y=x.indexOf("#");return y>-1?x.substring(0,y):x}function s(x){return x.models.length===0&&x.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),h="",x.models[x.models.length-1]}function i(x,y){var S=x.length>=2?x[1]:e;y.models.push({faces:[],name:S,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function n(x){x.length===2&&(h=x[1])}function f(x,y){var S=x.length,E=S>=2?parseFloat(x[1]):0,A=S>=3?parseFloat(x[2]):0,M=S>=4?parseFloat(x[3]):0;s(y).vertices.push({x:E,y:A,z:M})}function o(x,y){var S=x.length,E=S>=2?parseFloat(x[1]):0,A=S>=3?parseFloat(x[2]):0,M=S>=4?parseFloat(x[3]):0;isNaN(E)&&(E=0),isNaN(A)&&(A=0),isNaN(M)&&(M=0),t&&(A=1-A),s(y).textureCoords.push({u:E,v:A,w:M})}function u(x,y){var S=x.length,E=S>=2?parseFloat(x[1]):0,A=S>=3?parseFloat(x[2]):0,M=S>=4?parseFloat(x[3]):0;s(y).vertexNormals.push({x:E,y:A,z:M})}function d(x,y){var S=x.length-1;if(!(S<3)){for(var E={group:h,material:r,vertices:[]},A=0;A<S;A++){var M=x[A+1],L=M.split("/"),F=L.length;if(!(F<1||F>3)){var O=0,B=0,N=0;O=parseInt(L[0],10),F>1&&L[1]!==""&&(B=parseInt(L[1],10)),F>2&&(N=parseInt(L[2],10)),O!==0&&(O<0&&(O=s(y).vertices.length+1+O),B-=1,O-=1,N-=1,E.vertices.push({textureCoordsIndex:B,vertexIndex:O,vertexNormalIndex:N}))}}s(y).faces.push(E)}}function c(x,y){x.length>=2&&y.materialLibraries.push(x[1])}function v(x){x.length>=2&&(r=x[1])}var p=function(x,y){y===void 0&&(y=!0),t=y;var S={materials:{},materialLibraries:[],models:[]};h="",r="";for(var E=x.split(`
`),A=0;A<E.length;A++){var M=a(E[A]),L=M.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":i(L,S);break;case"g":n(L);break;case"v":f(L,S);break;case"vt":o(L,S);break;case"vn":u(L,S);break;case"f":d(L,S);break;case"mtllib":c(L,S);break;case"usemtl":v(L);break}}return S};l.exports=p},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),h=function(r){for(var a={},s=r.split(`
`),i="",n=0;n<s.length;n++){var f=s[n].trim();if(!(f.indexOf("#")===0||f==="")){var o=f.replace(/\s\s+/g," ").trim().split(" ");switch(o[0].toLowerCase()){case"newmtl":{i=o[1];break}case"kd":{var u=Math.floor(o[1]*255),d=o.length>=2?Math.floor(o[2]*255):u,c=o.length>=3?Math.floor(o[3]*255):u;a[i]=e(u,d,c);break}}}}return a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x*e.x+e.y*e.y};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10);e.Area=t(1267),e.Ceil=t(1268),e.CeilAll=t(1269),e.CenterOn=t(190),e.Clone=t(1270),e.Contains=t(57),e.ContainsPoint=t(1271),e.ContainsRect=t(503),e.CopyFrom=t(1272),e.Decompose=t(490),e.Equals=t(1273),e.FitInside=t(1274),e.FitOutside=t(1275),e.Floor=t(1276),e.FloorAll=t(1277),e.FromPoints=t(199),e.FromXY=t(1278),e.GetAspectRatio=t(237),e.GetCenter=t(1279),e.GetPoint=t(171),e.GetPoints=t(306),e.GetSize=t(1280),e.Inflate=t(1281),e.Intersection=t(1282),e.MarchingAnts=t(316),e.MergePoints=t(1283),e.MergeRect=t(1284),e.MergeXY=t(1285),e.Offset=t(1286),e.OffsetPoint=t(1287),e.Overlaps=t(1288),e.Perimeter=t(130),e.PerimeterPoint=t(1289),e.Random=t(174),e.RandomOutside=t(1290),e.SameDimensions=t(1291),e.Scale=t(1292),e.Union=t(441),l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.width*h.height>e.width*e.height?!1:h.x>e.x&&h.x<e.right&&h.right>e.x&&h.right<e.right&&h.y>e.y&&h.y<e.bottom&&h.bottom>e.y&&h.bottom<e.bottom};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){return a===void 0&&(a=new e),a.x=(r.x1+r.x2+r.x3)/3,a.y=(r.y1+r.y2+r.y3)/3,a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e.x1+=h,e.y1+=r,e.x2+=h,e.y2+=r,e.x3+=h,e.y3+=r,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);function h(a,s,i,n){var f=a-i,o=s-n,u=f*f+o*o;return Math.sqrt(u)}var r=function(a,s){s===void 0&&(s=new e);var i=a.x1,n=a.y1,f=a.x2,o=a.y2,u=a.x3,d=a.y3,c=h(u,d,f,o),v=h(i,n,u,d),p=h(f,o,i,n),x=c+v+p;return s.x=(i*c+f*v+u*p)/x,s.y=(n*c+o*v+d*p)/x,s};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return function(r,a,s,i){var n=e.getPixelAlpha(a,s,i.texture.key,i.frame.name);return n&&n>=h}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:r,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s){this.pad=a,this.events=a.events,this.index=s,this.value=0,this.threshold=.1},update:function(r){this.value=r},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(239),r=new e({initialize:function(s,i){this.pad=s,this.events=s.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var s=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(h.BUTTON_DOWN,s,this,a),this.pad.emit(h.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(h.BUTTON_UP,s,this,a),this.pad.emit(h.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(509),h=t(510),r=t(0),a=t(9),s=t(3),i=new r({Extends:a,initialize:function(f,o){a.call(this),this.manager=f,this.pad=o,this.id=o.id,this.index=o.index;for(var u=[],d=0;d<o.buttons.length;d++)u.push(new h(this,d));this.buttons=u;var c=[];for(d=0;d<o.axes.length;d++)c.push(new e(this,d));this.axes=c,this.vibration=o.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:v,this._LCRight=u[15]?u[15]:v,this._LCTop=u[12]?u[12]:v,this._LCBottom=u[13]?u[13]:v,this._RCLeft=u[2]?u[2]:v,this._RCRight=u[1]?u[1]:v,this._RCTop=u[3]?u[3]:v,this._RCBottom=u[0]?u[0]:v,this._FBLeftTop=u[4]?u[4]:v,this._FBLeftBottom=u[6]?u[6]:v,this._FBRightTop=u[5]?u[5]:v,this._FBRightBottom=u[7]?u[7]:v;var p={value:0};this._HAxisLeft=c[0]?c[0]:p,this._VAxisLeft=c[1]?c[1]:p,this._HAxisRight=c[2]?c[2]:p,this._VAxisRight=c[3]?c[3]:p,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var f,o=this.buttons,u=n.buttons,d=o.length;for(f=0;f<d;f++)o[f].update(u[f].value);var c=this.axes,v=n.axes;for(d=c.length,f=0;f<d;f++)c[f].update(v[f]);d>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),d>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(154),a=new e({Extends:h,initialize:function(i,n){h.call(this),this.plugin=i,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(r.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(r.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(r.UP,this,s))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(154),r=t(2),a=t(514),s=t(516),i=new e({initialize:function(f,o,u){if(u===void 0&&(u={}),o.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var d=0;d<o.length;d++){var c=o[d];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=r(u,"resetOnWrongKey",!0),this.maxKeyDelay=r(u,"maxKeyDelay",0),this.resetOnMatch=r(u,"resetOnMatch",!1),this.deleteOnMatch=r(u,"deleteOnMatch",!1);var v=this,p=function(x){if(!(v.matched||!v.enabled)){var y=a(x,v);y&&(v.manager.emit(h.COMBO_MATCH,v,x),v.resetOnMatch?s(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=p,this.manager.on(h.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(h.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(515),h=function(r,a){if(a.matched)return!0;var s=!1,i=!1;if(r.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var n=a.timeLastMatched+a.maxKeyDelay;r.timeStamp<=n&&(i=!0,s=e(r,a))}else i=!0,s=e(r,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),s&&(a.timeLastMatched=r.timeStamp,a.matched=!0,a.timeMatched=r.timeStamp),s};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.timeLastMatched=e.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(240),h=function(r,a){var s=e(a,r.xhrSettings),i=new XMLHttpRequest;if(i.open("GET",r.src,s.async,s.user,s.password),i.responseType=r.xhrSettings.responseType,i.timeout=s.timeout,s.headers)for(var n in s.headers)i.setRequestHeader(n,s.headers[n]);return s.header&&s.headerValue&&i.setRequestHeader(s.header,s.headerValue),s.requestedWith&&i.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&i.overrideMimeType(s.overrideMimeType),s.withCredentials&&(i.withCredentials=!0),i.onload=r.onLoad.bind(r,i),i.onerror=r.onError.bind(r,i),i.onprogress=r.onProgress.bind(r),i.send(),i};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(519),n=t(7),f=new e({Extends:r,initialize:function(u,d,c,v,p){if(n(d)){var x=d;d=s(x,"key"),v=s(x,"xhrSettings"),p=s(x,"context",p)}var y={type:"audio",cache:u.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:d,url:c.url,xhrSettings:v,config:{context:p}};r.call(this,u,y)},onProcess:function(){this.state=h.FILE_PROCESSING;var o=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){o.data=u,o.onProcessComplete()},function(u){console.error("Error decoding audio: "+o.key+" - ",u?u.message:null),o.onProcessError()}),this.config.context=null}});f.create=function(o,u,d,c,v){var p=o.systems.game,x=p.config.audio,y=p.device.audio;n(u)&&(d=s(u,"url",[]),c=s(u,"config",{}));var S=f.getAudioURL(p,d);return S?y.webAudio&&!x.disableWebAudio?new f(o,u,S,v,p.sound.context):new i(o,u,S,c):null},f.getAudioURL=function(o,u){Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=s(u[d],"url",u[d]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var v=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=s(u[d],"type",v?v[1]:"").toLowerCase(),o.device.audio[v])return{url:c,type:v}}return null},a.register("audio",function(o,u,d,c){var v=this.systems.game,p=v.config.audio,x=v.device.audio;if(p.noAudio||!x.webAudio&&!x.audioData)return this;var y;if(Array.isArray(o))for(var S=0;S<o.length;S++)y=f.create(this,o[S]),y&&this.addFile(y);else y=f.create(this,o,u,d,c),y&&this.addFile(y);return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(95),r=t(23),a=t(2),s=t(155),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c){if(i(u)){var v=u;u=a(v,"key"),c=a(v,"config",c)}var p={type:"audio",cache:o.cacheManager.audio,extension:d.type,key:u,url:d.url,config:c};r.call(this,o,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var o=this.data[f];o.oncanplaythrough=null,o.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var o=f.target;o.oncanplaythrough=null,o.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var o=0;o<f;o++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+o).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(o=0;o<this.data.length;o++)u=this.data[o],u.src=s(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c){var v="js";if(i(u)){var p=u;u=s(p,"key"),d=s(p,"url"),c=s(p,"xhrSettings"),v=s(p,"extension",v)}var x={type:"script",cache:!1,extension:v,responseType:"text",key:u,url:d,xhrSettings:c};r.call(this,o,x)},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(f,o,u){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new n(this,f[d]));else this.addFile(new n(this,f,o,u));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(522),h=t(157),r=t(0),a=t(62),s=t(524),i=t(525),n=new r({initialize:function(o){this.world=o,this.scene=o.scene,this.sys=o.scene.sys},collider:function(f,o,u,d,c){return this.world.addCollider(f,o,u,d,c)},overlap:function(f,o,u,d,c){return this.world.addOverlap(f,o,u,d,c)},existing:function(f,o){var u=o?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(f,u),f},staticImage:function(f,o,u,d){var c=new e(this.scene,f,o,u,d);return this.sys.displayList.add(c),this.world.enableBody(c,a.STATIC_BODY),c},image:function(f,o,u,d){var c=new e(this.scene,f,o,u,d);return this.sys.displayList.add(c),this.world.enableBody(c,a.DYNAMIC_BODY),c},staticSprite:function(f,o,u,d){var c=new h(this.scene,f,o,u,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,a.STATIC_BODY),c},sprite:function(f,o,u,d){var c=new h(this.scene,f,o,u,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,a.DYNAMIC_BODY),c},staticGroup:function(f,o){return this.sys.updateList.add(new i(this.world,this.world.scene,f,o))},group:function(f,o){return this.sys.updateList.add(new s(this.world,this.world.scene,f,o))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(243),r=t(125),a=new e({Extends:r,Mixins:[h.Acceleration,h.Angular,h.Bounce,h.Debug,h.Drag,h.Enable,h.Friction,h.Gravity,h.Immovable,h.Mass,h.Pushable,h.Size,h.Velocity],initialize:function(i,n,f,o,u){r.call(this,i,n,f,o,u),this.body=null}});l.exports=a},function(l,g,t){var e=t(244),h=t(65),r=t(231),a=t(151),s=function(i,n,f,o,u,d){var c=e(i,n-o,f-o,2*o,2*o,u,d);if(c.length===0)return c;for(var v=new h(n,f,o),p=new h,x=[],y=0;y<c.length;y++){var S=c[y];S.isCircle?(p.setTo(S.center.x,S.center.y,S.halfWidth),r(v,p)&&x.push(S)):a(v,S)&&x.push(S)}return x};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),h=t(0),r=t(62),a=t(2),s=t(113),i=t(7),n=new h({Extends:s,initialize:function(o,u,d,c){if(!d&&!c)c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(i(d))c=d,d=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&i(d[0])){c=d[0];var v=this;d.forEach(function(p){p.internalCreateCallback=v.createCallbackHandler,p.internalRemoveCallback=v.removeCallbackHandler}),d=null}else c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,c.classType=a(c,"classType",e),this.physicsType=r.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(c,"collideWorldBounds",!1),setBoundsRectangle:a(c,"customBoundsRectangle",null),setAccelerationX:a(c,"accelerationX",0),setAccelerationY:a(c,"accelerationY",0),setAllowDrag:a(c,"allowDrag",!0),setAllowGravity:a(c,"allowGravity",!0),setAllowRotation:a(c,"allowRotation",!0),setBounceX:a(c,"bounceX",0),setBounceY:a(c,"bounceY",0),setDragX:a(c,"dragX",0),setDragY:a(c,"dragY",0),setEnable:a(c,"enable",!0),setGravityX:a(c,"gravityX",0),setGravityY:a(c,"gravityY",0),setFrictionX:a(c,"frictionX",0),setFrictionY:a(c,"frictionY",0),setMaxVelocityX:a(c,"maxVelocityX",1e4),setMaxVelocityY:a(c,"maxVelocityY",1e4),setVelocityX:a(c,"velocityX",0),setVelocityY:a(c,"velocityY",0),setAngularVelocity:a(c,"angularVelocity",0),setAngularAcceleration:a(c,"angularAcceleration",0),setAngularDrag:a(c,"angularDrag",0),setMass:a(c,"mass",1),setImmovable:a(c,"immovable",!1)},s.call(this,u,d,c),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,r.DYNAMIC_BODY);var o=f.body;for(var u in this.defaults)o[u](this.defaults[u])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,o,u){u===void 0&&(u=0);for(var d=this.getChildren(),c=0;c<d.length;c++)d[c].body.velocity.set(f+c*u,o+c*u);return this},setVelocityX:function(f,o){o===void 0&&(o=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.x=f+d*o;return this},setVelocityY:function(f,o){o===void 0&&(o=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.y=f+d*o;return this}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),h=t(0),r=t(62),a=t(2),s=t(113),i=t(7),n=new h({Extends:s,initialize:function(o,u,d,c){!d&&!c?c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:e}:i(d)?(c=d,d=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=a(c,"classType",e)):Array.isArray(d)&&i(d[0])?(c=d,d=null,c.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=a(v,"classType",e)})):c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=r.STATIC_BODY,s.call(this,u,d,c),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,r.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,o=0;o<f.length;o++)f[o].body.reset();return this}});l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(350),h=t(527),r=t(18),a=t(0),s=t(528),i=t(62),n=t(50),f=t(9),o=t(245),u=t(124),d=t(354),c=t(355),v=t(246),p=t(247),x=t(529),y=t(6),S=t(14),E=t(211),A=t(530),M=t(10),L=t(531),F=t(532),O=t(537),B=t(538),N=t(149),G=t(539),Y=t(248),H=t(25),b=t(3),Z=t(68),$=new a({Extends:f,initialize:function(D,V){f.call(this),this.scene=D,this.bodies=new N,this.staticBodies=new N,this.pendingDestroy=new N,this.colliders=new E,this.gravity=new b(y(V,"gravity.x",0),y(V,"gravity.y",0)),this.bounds=new M(y(V,"x",0),y(V,"y",0),y(V,"width",D.sys.scale.width),y(V,"height",D.sys.scale.height)),this.checkCollision={up:y(V,"checkCollision.up",!0),down:y(V,"checkCollision.down",!0),left:y(V,"checkCollision.left",!0),right:y(V,"checkCollision.right",!0)},this.fps=y(V,"fps",60),this.fixedStep=y(V,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(V,"timeScale",1),this.OVERLAP_BIAS=y(V,"overlapBias",4),this.TILE_BIAS=y(V,"tileBias",16),this.forceX=y(V,"forceX",!1),this.isPaused=y(V,"isPaused",!1),this._total=0,this.drawDebug=y(V,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(V,"debugShowBody",!0),debugShowStaticBody:y(V,"debugShowStaticBody",!0),debugShowVelocity:y(V,"debugShowVelocity",!0),bodyDebugColor:y(V,"debugBodyColor",16711935),staticBodyDebugColor:y(V,"debugStaticBodyColor",255),velocityDebugColor:y(V,"debugVelocityColor",65280)},this.maxEntries=y(V,"maxEntries",16),this.useTree=y(V,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.drawDebug&&this.createDebugGraphic()},enable:function(w,D){D===void 0&&(D=i.DYNAMIC_BODY),Array.isArray(w)||(w=[w]);for(var V=0;V<w.length;V++){var z=w[V];if(z.isParent)for(var X=z.getChildren(),j=0;j<X.length;j++){var K=X[j];K.isParent?this.enable(K,D):this.enableBody(K,D)}else this.enableBody(z,D)}},enableBody:function(w,D){return D===void 0&&(D=i.DYNAMIC_BODY),w.body||(D===i.DYNAMIC_BODY?w.body=new h(this,w):D===i.STATIC_BODY&&(w.body=new G(this,w))),this.add(w.body),w},add:function(w){return w.physicsType===i.DYNAMIC_BODY?this.bodies.set(w):w.physicsType===i.STATIC_BODY&&(this.staticBodies.set(w),this.staticTree.insert(w)),w.enable=!0,w},disable:function(w){Array.isArray(w)||(w=[w]);for(var D=0;D<w.length;D++){var V=w[D];if(V.isParent)for(var z=V.getChildren(),X=0;X<z.length;X++){var j=z[X];j.isParent?this.disable(j):this.disableBody(j.body)}else this.disableBody(V.body)}},disableBody:function(w){this.remove(w),w.enable=!1},remove:function(w){w.physicsType===i.DYNAMIC_BODY?(this.tree.remove(w),this.bodies.delete(w)):w.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(w),this.staticTree.remove(w))},createDebugGraphic:function(){var w=this.scene.sys.add.graphics({x:0,y:0});return w.setDepth(Number.MAX_VALUE),this.debugGraphic=w,this.drawDebug=!0,w},setBounds:function(w,D,V,z,X,j,K,Q){return this.bounds.setTo(w,D,V,z),X!==void 0&&this.setBoundsCollision(X,j,K,Q),this},setBoundsCollision:function(w,D,V,z){return w===void 0&&(w=!0),D===void 0&&(D=!0),V===void 0&&(V=!0),z===void 0&&(z=!0),this.checkCollision.left=w,this.checkCollision.right=D,this.checkCollision.up=V,this.checkCollision.down=z,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(w,D,V,z,X){V===void 0&&(V=null),z===void 0&&(z=null),X===void 0&&(X=V);var j=new s(this,!1,w,D,V,z,X);return this.colliders.add(j),j},addOverlap:function(w,D,V,z,X){V===void 0&&(V=null),z===void 0&&(z=null),X===void 0&&(X=V);var j=new s(this,!0,w,D,V,z,X);return this.colliders.add(j),j},removeCollider:function(w){return this.colliders.remove(w),this},setFPS:function(w){return this.fps=w,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(w,D){if(!(this.isPaused||this.bodies.size===0)){var V,z=this._frameTime,X=this._frameTimeMS*this.timeScale;this._elapsed+=D;var j,K=this.bodies.entries,Q=this._elapsed>=X;for(this.fixedStep||(z=D*.001,Q=!0,this._elapsed=0),V=0;V<K.length;V++)j=K[V],j.enable&&j.preUpdate(Q,z);if(Q){this._elapsed-=X,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var k=this.colliders.update();for(V=0;V<k.length;V++){var _=k[V];_.active&&_.update()}this.emit(o.WORLD_STEP,z)}for(;this._elapsed>=X;)this._elapsed-=X,this.step(z)}},step:function(w){var D,V,z=this.bodies.entries,X=z.length;for(D=0;D<X;D++)V=z[D],V.enable&&V.update(w);this.useTree&&(this.tree.clear(),this.tree.load(z));var j=this.colliders.update();for(D=0;D<j.length;D++){var K=j[D];K.active&&K.update()}this.emit(o.WORLD_STEP,w),this.stepsLastFrame++},postUpdate:function(){var w,D,V=this.bodies.entries,z=V.length,X=this.bodies,j=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,w=0;w<z;w++)D=V[w],D.enable&&D.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),w=0;w<z;w++)D=V[w],D.willDrawDebug()&&D.drawDebug(K);for(V=j.entries,z=V.length,w=0;w<z;w++)D=V[w],D.willDrawDebug()&&D.drawDebug(K)}var Q=this.pendingDestroy;if(Q.size>0){var k=this.tree,_=this.staticTree;for(V=Q.entries,z=V.length,w=0;w<z;w++)D=V[w],D.physicsType===i.DYNAMIC_BODY?(k.remove(D),X.delete(D)):D.physicsType===i.STATIC_BODY&&(_.remove(D),j.delete(D)),D.world=void 0,D.gameObject=void 0;Q.clear()}},updateMotion:function(w,D){w.allowRotation&&this.computeAngularVelocity(w,D),this.computeVelocity(w,D)},computeAngularVelocity:function(w,D){var V=w.angularVelocity,z=w.angularAcceleration,X=w.angularDrag,j=w.maxAngular;z?V+=z*D:w.allowDrag&&X&&(X*=D,d(V-X,0,.1)?V-=X:c(V+X,0,.1)?V+=X:V=0),V=r(V,-j,j);var K=V-w.angularVelocity;w.angularVelocity+=K,w.rotation+=w.angularVelocity*D},computeVelocity:function(w,D){var V=w.velocity.x,z=w.acceleration.x,X=w.drag.x,j=w.maxVelocity.x,K=w.velocity.y,Q=w.acceleration.y,k=w.drag.y,_=w.maxVelocity.y,it=w.speed,at=w.maxSpeed,ot=w.allowDrag,ct=w.useDamping;w.allowGravity&&(V+=(this.gravity.x+w.gravity.x)*D,K+=(this.gravity.y+w.gravity.y)*D),z?V+=z*D:ot&&X&&(ct?(X=Math.pow(X,D),V*=X,it=Math.sqrt(V*V+K*K),u(it,0,.001)&&(V=0)):(X*=D,d(V-X,0,.01)?V-=X:c(V+X,0,.01)?V+=X:V=0)),Q?K+=Q*D:ot&&k&&(ct?(k=Math.pow(k,D),K*=k,it=Math.sqrt(V*V+K*K),u(it,0,.001)&&(K=0)):(k*=D,d(K-k,0,.01)?K-=k:c(K+k,0,.01)?K+=k:K=0)),V=r(V,-j,j),K=r(K,-_,_),w.velocity.set(V,K),at>-1&&it>at&&(w.velocity.normalize().scale(at),it=at),w.speed=it},separate:function(w,D,V,z,X,j){if(!j&&!w.enable||!D.enable||w.checkCollision.none||D.checkCollision.none||!this.intersects(w,D)||V&&V.call(z,w.gameObject,D.gameObject)===!1)return!1;if(w.isCircle&&D.isCircle)return this.separateCircle(w,D,X);if(w.isCircle!==D.isCircle){var K=w.isCircle?D:w,Q=w.isCircle?w:D,k={x:K.x,y:K.y,right:K.right,bottom:K.bottom},_=Q.center;if((_.y<k.y||_.y>k.bottom)&&(_.x<k.x||_.x>k.right))return this.separateCircle(w,D,X)}var it=!1,at=!1;X?(it=O(w,D,X,this.OVERLAP_BIAS),at=B(w,D,X,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+w.gravity.y)<Math.abs(this.gravity.x+w.gravity.x)?(it=O(w,D,X,this.OVERLAP_BIAS),this.intersects(w,D)&&(at=B(w,D,X,this.OVERLAP_BIAS))):(at=B(w,D,X,this.OVERLAP_BIAS),this.intersects(w,D)&&(it=O(w,D,X,this.OVERLAP_BIAS)));var ot=it||at;return ot&&(X?(w.onOverlap||D.onOverlap)&&this.emit(o.OVERLAP,w.gameObject,D.gameObject,w,D):(w.onCollide||D.onCollide)&&this.emit(o.COLLIDE,w.gameObject,D.gameObject,w,D)),ot},separateCircle:function(w,D,V,z){v(w,D,!1,z),p(w,D,!1,z);var X=0;if(w.isCircle!==D.isCircle){var j={x:D.isCircle?w.position.x:D.position.x,y:D.isCircle?w.position.y:D.position.y,right:D.isCircle?w.right:D.right,bottom:D.isCircle?w.bottom:D.bottom},K={x:w.isCircle?w.center.x:D.center.x,y:w.isCircle?w.center.y:D.center.y,radius:w.isCircle?w.halfWidth:D.halfWidth};K.y<j.y?K.x<j.x?X=n(K.x,K.y,j.x,j.y)-K.radius:K.x>j.right&&(X=n(K.x,K.y,j.right,j.y)-K.radius):K.y>j.bottom&&(K.x<j.x?X=n(K.x,K.y,j.x,j.bottom)-K.radius:K.x>j.right&&(X=n(K.x,K.y,j.right,j.bottom)-K.radius)),X*=-1}else X=w.halfWidth+D.halfWidth-n(w.center.x,w.center.y,D.center.x,D.center.y);if(w.overlapR=X,D.overlapR=X,V||X===0||w.immovable&&D.immovable||w.customSeparateX||D.customSeparateX)return X!==0&&(w.onOverlap||D.onOverlap)&&this.emit(o.OVERLAP,w.gameObject,D.gameObject,w,D),X!==0;var Q=w.center.x-D.center.x,k=w.center.y-D.center.y,_=Math.sqrt(Math.pow(Q,2)+Math.pow(k,2)),it=(D.center.x-w.center.x)/_||0,at=(D.center.y-w.center.y)/_||0,ot=2*(w.velocity.x*it+w.velocity.y*at-D.velocity.x*it-D.velocity.y*at)/(w.mass+D.mass);(w.immovable||D.immovable)&&(ot*=2),w.immovable||(w.velocity.x=w.velocity.x-ot/w.mass*it,w.velocity.y=w.velocity.y-ot/w.mass*at),D.immovable||(D.velocity.x=D.velocity.x+ot/D.mass*it,D.velocity.y=D.velocity.y+ot/D.mass*at),!w.immovable&&!D.immovable&&(X/=2);var ct=e(w.center,D.center),ut=(X+S.EPSILON)*Math.cos(ct),mt=(X+S.EPSILON)*Math.sin(ct);return w.immovable||(w.x-=ut,w.y-=mt,w.updateCenter()),D.immovable||(D.x+=ut,D.y+=mt,D.updateCenter()),w.velocity.x*=w.bounce.x,w.velocity.y*=w.bounce.y,D.velocity.x*=D.bounce.x,D.velocity.y*=D.bounce.y,(w.onCollide||D.onCollide)&&this.emit(o.COLLIDE,w.gameObject,D.gameObject,w,D),!0},intersects:function(w,D){return w===D?!1:!w.isCircle&&!D.isCircle?!(w.right<=D.position.x||w.bottom<=D.position.y||w.position.x>=D.right||w.position.y>=D.bottom):w.isCircle?D.isCircle?n(w.center.x,w.center.y,D.center.x,D.center.y)<=w.halfWidth+D.halfWidth:this.circleBodyIntersects(w,D):this.circleBodyIntersects(D,w)},circleBodyIntersects:function(w,D){var V=r(w.center.x,D.left,D.right),z=r(w.center.y,D.top,D.bottom),X=(w.center.x-V)*(w.center.x-V),j=(w.center.y-z)*(w.center.y-z);return X+j<=w.halfWidth*w.halfWidth},overlap:function(w,D,V,z,X){return V===void 0&&(V=null),z===void 0&&(z=null),X===void 0&&(X=V),this.collideObjects(w,D,V,z,X,!0)},collide:function(w,D,V,z,X){return V===void 0&&(V=null),z===void 0&&(z=null),X===void 0&&(X=V),this.collideObjects(w,D,V,z,X,!1)},collideObjects:function(w,D,V,z,X,j){var K,Q;w.isParent&&w.physicsType===void 0&&(w=w.children.entries),D&&D.isParent&&D.physicsType===void 0&&(D=D.children.entries);var k=Array.isArray(w),_=Array.isArray(D);if(this._total=0,!k&&!_)this.collideHandler(w,D,V,z,X,j);else if(!k&&_)for(K=0;K<D.length;K++)this.collideHandler(w,D[K],V,z,X,j);else if(k&&!_)if(D)for(K=0;K<w.length;K++)this.collideHandler(w[K],D,V,z,X,j);else for(K=0;K<w.length;K++){var it=w[K];for(Q=K+1;Q<w.length;Q++)K!==Q&&this.collideHandler(it,w[Q],V,z,X,j)}else for(K=0;K<w.length;K++)for(Q=0;Q<D.length;Q++)this.collideHandler(w[K],D[Q],V,z,X,j);return this._total>0},collideHandler:function(w,D,V,z,X,j){if(D===void 0&&w.isParent)return this.collideGroupVsGroup(w,w,V,z,X,j);if(!w||!D)return!1;if(w.body){if(D.body)return this.collideSpriteVsSprite(w,D,V,z,X,j);if(D.isParent)return this.collideSpriteVsGroup(w,D,V,z,X,j);if(D.isTilemap)return this.collideSpriteVsTilemapLayer(w,D,V,z,X,j)}else if(w.isParent){if(D.body)return this.collideSpriteVsGroup(D,w,V,z,X,j);if(D.isParent)return this.collideGroupVsGroup(w,D,V,z,X,j);if(D.isTilemap)return this.collideGroupVsTilemapLayer(w,D,V,z,X,j)}else if(w.isTilemap){if(D.body)return this.collideSpriteVsTilemapLayer(D,w,V,z,X,j);if(D.isParent)return this.collideGroupVsTilemapLayer(D,w,V,z,X,j)}},collideSpriteVsSprite:function(w,D,V,z,X,j){return!w.body||!D.body?!1:(this.separate(w.body,D.body,z,X,j)&&(V&&V.call(X,w,D),this._total++),!0)},collideSpriteVsGroup:function(w,D,V,z,X,j){var K=w.body;if(!(D.length===0||!K||!K.enable||K.checkCollision.none)){var Q,k,_;if(this.useTree||D.physicsType===i.STATIC_BODY){var it=this.treeMinMax;it.minX=K.left,it.minY=K.top,it.maxX=K.right,it.maxY=K.bottom;var at=D.physicsType===i.DYNAMIC_BODY?this.tree.search(it):this.staticTree.search(it);for(k=at.length,Q=0;Q<k;Q++)_=at[Q],!(K===_||!_.enable||_.checkCollision.none||!D.contains(_.gameObject))&&this.separate(K,_,z,X,j,!0)&&(V&&V.call(X,K.gameObject,_.gameObject),this._total++)}else{var ot=D.getChildren(),ct=D.children.entries.indexOf(w);for(k=ot.length,Q=0;Q<k;Q++)_=ot[Q].body,!(!_||Q===ct||!_.enable)&&this.separate(K,_,z,X,j)&&(V&&V.call(X,K.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(w,D,V,z,X,j){var K=w.getChildren();if(K.length===0)return!1;for(var Q=!1,k=0;k<K.length;k++)K[k].body&&this.collideSpriteVsTilemapLayer(K[k],D,V,z,X,j)&&(Q=!0);return Q},collideTiles:function(w,D,V,z,X){return!w.body.enable||D.length===0?!1:this.collideSpriteVsTilesHandler(w,D,V,z,X,!1,!1)},overlapTiles:function(w,D,V,z,X){return!w.body.enable||D.length===0?!1:this.collideSpriteVsTilesHandler(w,D,V,z,X,!0,!1)},collideSpriteVsTilemapLayer:function(w,D,V,z,X,j){var K=w.body;if(!K.enable||K.checkCollision.none)return!1;var Q=K.position.x,k=K.position.y,_=K.width,it=K.height,at=D.layer;if(at.tileWidth>at.baseTileWidth){var ot=(at.tileWidth-at.baseTileWidth)*D.scaleX;Q-=ot,_+=ot}if(at.tileHeight>at.baseTileHeight){var ct=(at.tileHeight-at.baseTileHeight)*D.scaleY;it+=ct}var ut=x(Q,k,_,it,null,D.scene.cameras.main,D.layer);return ut.length===0?!1:this.collideSpriteVsTilesHandler(w,ut,V,z,X,j,!0)},collideSpriteVsTilesHandler:function(w,D,V,z,X,j,K){for(var Q=w.body,k,_={left:0,right:0,top:0,bottom:0},it,at=!1,ot=0;ot<D.length;ot++){k=D[ot],it=k.tilemapLayer;var ct=it.tileToWorldXY(k.x,k.y);_.left=ct.x,_.top=ct.y,k.baseHeight!==k.height&&(_.top-=(k.height-k.baseHeight)*it.scaleY),_.right=_.left+k.width*it.scaleX,_.bottom=_.top+k.height*it.scaleY,Y(_,Q)&&(!z||z.call(X,w,k))&&A(k,w)&&(j||F(ot,Q,k,_,it,this.TILE_BIAS,K))&&(this._total++,at=!0,V&&V.call(X,w,k),j&&Q.onOverlap?this.emit(o.TILE_OVERLAP,w,k,Q):Q.onCollide&&this.emit(o.TILE_COLLIDE,w,k,Q))}return at},collideGroupVsGroup:function(w,D,V,z,X,j){if(!(w.length===0||D.length===0))for(var K=w.getChildren(),Q=0;Q<K.length;Q++)this.collideSpriteVsGroup(K[Q],D,V,z,X,j)},wrap:function(w,D){w.body?this.wrapObject(w,D):w.getChildren?this.wrapArray(w.getChildren(),D):Array.isArray(w)?this.wrapArray(w,D):this.wrapObject(w,D)},wrapArray:function(w,D){for(var V=0;V<w.length;V++)this.wrapObject(w[V],D)},wrapObject:function(w,D){D===void 0&&(D=0),w.x=Z(w.x,this.bounds.left-D,this.bounds.right+D),w.y=Z(w.y,this.bounds.top-D,this.bounds.bottom+D)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});l.exports=$},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(62),r=t(245),a=t(196),s=t(10),i=t(57),n=t(3),f=new e({initialize:function(u,d){var c=d.displayWidth?d.displayWidth:64,v=d.displayHeight?d.displayHeight:64;this.world=u,this.gameObject=d,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=u.defaults.debugShowBody,this.debugShowVelocity=u.defaults.debugShowVelocity,this.debugBodyColor=u.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=c,this.height=v,this.sourceWidth=c,this.sourceHeight=v,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(v/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new n,this.newVelocity=new n,this.deltaMax=new n,this.acceleration=new n,this.allowDrag=!0,this.drag=new n,this.allowGravity=!0,this.gravity=new n,this.bounce=new n,this.worldBounce=null,this.customBoundsRectangle=u.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new n(1e4,1e4),this.maxSpeed=-1,this.friction=new n(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=h.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=h.DYNAMIC_BODY,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s},updateBounds:function(){var o=this.gameObject,u=this.transform;if(o.parentContainer){var d=o.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);u.x=d.tx,u.y=d.ty,u.rotation=a(d.rotation),u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.displayOriginX=o.displayOriginX,u.displayOriginY=o.displayOriginY}else u.x=o.x,u.y=o.y,u.rotation=o.angle,u.scaleX=o.scaleX,u.scaleY=o.scaleY,u.displayOriginX=o.displayOriginX,u.displayOriginY=o.displayOriginY;var c=!1;if(this.syncBounds){var v=o.getBounds(this._bounds);this.width=v.width,this.height=v.height,c=!0}else{var p=Math.abs(u.scaleX),x=Math.abs(u.scaleY);(this._sx!==p||this._sy!==x)&&(this.width=this.sourceWidth*p,this.height=this.sourceHeight*x,this._sx=p,this._sy=x,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var o=this.transform;this.position.x=o.x+o.scaleX*(this.offset.x-o.displayOriginX),this.position.y=o.y+o.scaleY*(this.offset.y-o.displayOriginY),this.updateCenter()},resetFlags:function(o){o===void 0&&(o=!1);var u=this.wasTouching,d=this.touching,c=this.blocked;o?(u.none=!0,u.up=!1,u.down=!1,u.left=!1,u.right=!1):(u.none=d.none,u.up=d.up,u.down=d.down,u.left=d.left,u.right=d.right),d.none=!0,d.up=!1,d.down=!1,d.left=!1,d.right=!1,c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(o,u){o&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),o&&this.update(u)},update:function(o){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,o);var u=this.velocity.x,d=this.velocity.y;this.newVelocity.set(u*o,d*o),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(d,u),this.speed=Math.sqrt(u*u+d*d),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(r.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var o=this.position.x-this.prevFrame.x,u=this.position.y-this.prevFrame.y;if(this.moves){var d=this.deltaMax.x,c=this.deltaMax.y;d!==0&&o!==0&&(o<0&&o<-d?o=-d:o>0&&o>d&&(o=d)),c!==0&&u!==0&&(u<0&&u<-c?u=-c:u>0&&u>c&&(u=c)),this.gameObject.x+=o,this.gameObject.y+=u}o<0?this.facing=h.FACING_LEFT:o>0&&(this.facing=h.FACING_RIGHT),u<0?this.facing=h.FACING_UP:u>0&&(this.facing=h.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=o,this._ty=u},setBoundsRectangle:function(o){return this.customBoundsRectangle=o||this.world.bounds,this},checkWorldBounds:function(){var o=this.position,u=this.customBoundsRectangle,d=this.world.checkCollision,c=this.worldBounce?-this.worldBounce.x:-this.bounce.x,v=this.worldBounce?-this.worldBounce.y:-this.bounce.y,p=!1;return o.x<u.x&&d.left?(o.x=u.x,this.velocity.x*=c,this.blocked.left=!0,p=!0):this.right>u.right&&d.right&&(o.x=u.right-this.width,this.velocity.x*=c,this.blocked.right=!0,p=!0),o.y<u.y&&d.up?(o.y=u.y,this.velocity.y*=v,this.blocked.up=!0,p=!0):this.bottom>u.bottom&&d.down&&(o.y=u.bottom-this.height,this.velocity.y*=v,this.blocked.down=!0,p=!0),p&&(this.blocked.none=!1,this.updateCenter()),p},setOffset:function(o,u){return u===void 0&&(u=o),this.offset.set(o,u),this},setSize:function(o,u,d){d===void 0&&(d=!0);var c=this.gameObject;if(!o&&c.frame&&(o=c.frame.realWidth),!u&&c.frame&&(u=c.frame.realHeight),this.sourceWidth=o,this.sourceHeight=u,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&c.getCenter){var v=(c.width-o)/2,p=(c.height-u)/2;this.offset.set(v,p)}return this.isCircle=!1,this.radius=0,this},setCircle:function(o,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),o>0?(this.isCircle=!0,this.radius=o,this.sourceWidth=o*2,this.sourceHeight=o*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter()):this.isCircle=!1,this},reset:function(o,u){this.stop();var d=this.gameObject;d.setPosition(o,u),d.getTopLeft?d.getTopLeft(this.position):this.position.set(o,u),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=d.angle,this.preRotation=d.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(o){return o.x=this.x,o.y=this.y,o.right=this.right,o.bottom=this.bottom,o},hitTest:function(o,u){if(!this.isCircle)return i(this,o,u);if(this.radius>0&&o>=this.left&&o<=this.right&&u>=this.top&&u<=this.bottom){var d=(this.center.x-o)*(this.center.x-o),c=(this.center.y-u)*(this.center.y-u);return d+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(o){var u=this.position,d=u.x+this.halfWidth,c=u.y+this.halfHeight;this.debugShowBody&&(o.lineStyle(o.defaultStrokeWidth,this.debugBodyColor),this.isCircle?o.strokeCircle(d,c,this.width/2):(this.checkCollision.up&&o.lineBetween(u.x,u.y,u.x+this.width,u.y),this.checkCollision.right&&o.lineBetween(u.x+this.width,u.y,u.x+this.width,u.y+this.height),this.checkCollision.down&&o.lineBetween(u.x,u.y+this.height,u.x+this.width,u.y+this.height),this.checkCollision.left&&o.lineBetween(u.x,u.y,u.x,u.y+this.height))),this.debugShowVelocity&&(o.lineStyle(o.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),o.lineBetween(d,c,d+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(o,u,d,c){o===void 0&&(o=!0),this.collideWorldBounds=o;var v=u!==void 0,p=d!==void 0;return(v||p)&&(this.worldBounce||(this.worldBounce=new n),v&&(this.worldBounce.x=u),p&&(this.worldBounce.y=d)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(o,u){return this.velocity.set(o,u),o=this.velocity.x,u=this.velocity.y,this.speed=Math.sqrt(o*o+u*u),this},setVelocityX:function(o){this.velocity.x=o;var u=o,d=this.velocity.y;return this.speed=Math.sqrt(u*u+d*d),this},setVelocityY:function(o){this.velocity.y=o;var u=this.velocity.x,d=o;return this.speed=Math.sqrt(u*u+d*d),this},setMaxVelocity:function(o,u){return this.maxVelocity.set(o,u),this},setMaxVelocityX:function(o){return this.maxVelocity.x=o,this},setMaxVelocityY:function(o){return this.maxVelocity.y=o,this},setMaxSpeed:function(o){return this.maxSpeed=o,this},setBounce:function(o,u){return this.bounce.set(o,u),this},setBounceX:function(o){return this.bounce.x=o,this},setBounceY:function(o){return this.bounce.y=o,this},setAcceleration:function(o,u){return this.acceleration.set(o,u),this},setAccelerationX:function(o){return this.acceleration.x=o,this},setAccelerationY:function(o){return this.acceleration.y=o,this},setAllowDrag:function(o){return o===void 0&&(o=!0),this.allowDrag=o,this},setAllowGravity:function(o){return o===void 0&&(o=!0),this.allowGravity=o,this},setAllowRotation:function(o){return o===void 0&&(o=!0),this.allowRotation=o,this},setDrag:function(o,u){return this.drag.set(o,u),this},setDamping:function(o){return this.useDamping=o,this},setDragX:function(o){return this.drag.x=o,this},setDragY:function(o){return this.drag.y=o,this},setGravity:function(o,u){return this.gravity.set(o,u),this},setGravityX:function(o){return this.gravity.x=o,this},setGravityY:function(o){return this.gravity.y=o,this},setFriction:function(o,u){return this.friction.set(o,u),this},setFrictionX:function(o){return this.friction.x=o,this},setFrictionY:function(o){return this.friction.y=o,this},setAngularVelocity:function(o){return this.angularVelocity=o,this},setAngularAcceleration:function(o){return this.angularAcceleration=o,this},setAngularDrag:function(o){return this.angularDrag=o,this},setMass:function(o){return this.mass=o,this},setImmovable:function(o){return o===void 0&&(o=!0),this.immovable=o,this},setEnable:function(o){return o===void 0&&(o=!0),this.enable=o,this},processX:function(o,u,d,c){this.x+=o,this.updateCenter(),u!==null&&(this.velocity.x=u);var v=this.blocked;d&&(v.left=!0),c&&(v.right=!0)},processY:function(o,u,d,c){this.y+=o,this.updateCenter(),u!==null&&(this.velocity.y=u);var v=this.blocked;d&&(v.up=!0),c&&(v.down=!0)},x:{get:function(){return this.position.x},set:function(o){this.position.x=o}},y:{get:function(){return this.position.y},set:function(o){this.position.y=o}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n,f,o,u){this.world=a,this.name="",this.active=!0,this.overlapOnly=s,this.object1=i,this.object2=n,this.collideCallback=f,this.processCallback=o,this.callbackContext=u},setName:function(r){return this.name=r,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=t(3),r=new h,a=new h,s=function(i,n,f,o,u,d,c){var v=c.tilemapLayer.tilemap._convert.WorldToTileXY;v(i,n,!0,r,d,c);var p=r.x,x=r.y;v(i+f,n+o,!1,a,d,c);var y=Math.ceil(a.x),S=Math.ceil(a.y);return e(p,x,y-p,S-x,u,c)};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,h,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,h,e):!0};l.exports=t},function(l,g,t){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(436);function h(S){if(!(this instanceof h))return new h(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}h.prototype={all:function(){return this._all(this.data,[])},search:function(S){var E=this.data,A=[],M=this.toBBox;if(!p(S,E))return A;for(var L=[],F,O,B,N;E;){for(F=0,O=E.children.length;F<O;F++)B=E.children[F],N=E.leaf?M(B):B,p(S,N)&&(E.leaf?A.push(B):v(S,N)?this._all(B,A):L.push(B));E=L.pop()}return A},collides:function(S){var E=this.data,A=this.toBBox;if(!p(S,E))return!1;for(var M=[],L,F,O,B;E;){for(L=0,F=E.children.length;L<F;L++)if(O=E.children[L],B=E.leaf?A(O):O,p(S,B)){if(E.leaf||v(S,B))return!0;M.push(O)}E=M.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var E=0,A=S.length;E<A;E++)this.insert(S[E]);return this}var M=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=M;else if(this.data.height===M.height)this._splitRoot(this.data,M);else{if(this.data.height<M.height){var L=this.data;this.data=M,M=L}this._insert(M,this.data.height-M.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(S,E){if(!S)return this;for(var A=this.data,M=this.toBBox(S),L=[],F=[],O,B,N,G;A||L.length;){if(A||(A=L.pop(),B=L[L.length-1],O=F.pop(),G=!0),A.leaf&&(N=r(S,A.children,E),N!==-1))return A.children.splice(N,1),L.push(A),this._condense(L),this;!G&&!A.leaf&&v(A,M)?(L.push(A),F.push(O),O=0,B=A,A=A.children[0]):B?(O++,A=B.children[O],G=!1):A=null}return this},toBBox:function(S){return S},compareMinX:n,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,E){for(var A=[];S;)S.leaf?E.push.apply(E,S.children):A.push.apply(A,S.children),S=A.pop();return E},_build:function(S,E,A,M){var L=A-E+1,F=this._maxEntries,O;if(L<=F)return O=x(S.slice(E,A+1)),a(O,this.toBBox),O;M||(M=Math.ceil(Math.log(L)/Math.log(F)),F=Math.ceil(L/Math.pow(F,M-1))),O=x([]),O.leaf=!1,O.height=M;var B=Math.ceil(L/F),N=B*Math.ceil(Math.sqrt(F)),G,Y,H,b;for(y(S,E,A,N,this.compareMinX),G=E;G<=A;G+=N)for(H=Math.min(G+N-1,A),y(S,G,H,B,this.compareMinY),Y=G;Y<=H;Y+=B)b=Math.min(Y+B-1,H),O.children.push(this._build(S,Y,b,M-1));return a(O,this.toBBox),O},_chooseSubtree:function(S,E,A,M){for(var L,F,O,B,N,G,Y,H;M.push(E),!(E.leaf||M.length-1===A);){for(Y=H=1/0,L=0,F=E.children.length;L<F;L++)O=E.children[L],N=o(O),G=d(S,O)-N,G<H?(H=G,Y=N<Y?N:Y,B=O):G===H&&N<Y&&(Y=N,B=O);E=B||E.children[0]}return E},_insert:function(S,E,A){var M=this.toBBox,L=A?S:M(S),F=[],O=this._chooseSubtree(L,this.data,E,F);for(O.children.push(S),i(O,L);E>=0&&F[E].children.length>this._maxEntries;)this._split(F,E),E--;this._adjustParentBBoxes(L,F,E)},_split:function(S,E){var A=S[E],M=A.children.length,L=this._minEntries;this._chooseSplitAxis(A,L,M);var F=this._chooseSplitIndex(A,L,M),O=x(A.children.splice(F,A.children.length-F));O.height=A.height,O.leaf=A.leaf,a(A,this.toBBox),a(O,this.toBBox),E?S[E-1].children.push(O):this._splitRoot(A,O)},_splitRoot:function(S,E){this.data=x([S,E]),this.data.height=S.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(S,E,A){var M,L,F,O,B,N,G,Y;for(N=G=1/0,M=E;M<=A-E;M++)L=s(S,0,M,this.toBBox),F=s(S,M,A,this.toBBox),O=c(L,F),B=o(L)+o(F),O<N?(N=O,Y=M,G=B<G?B:G):O===N&&B<G&&(G=B,Y=M);return Y},_chooseSplitAxis:function(S,E,A){var M=S.leaf?this.compareMinX:n,L=S.leaf?this.compareMinY:f,F=this._allDistMargin(S,E,A,M),O=this._allDistMargin(S,E,A,L);F<O&&S.children.sort(M)},_allDistMargin:function(S,E,A,M){S.children.sort(M);var L=this.toBBox,F=s(S,0,E,L),O=s(S,A-E,A,L),B=u(F)+u(O),N,G;for(N=E;N<A-E;N++)G=S.children[N],i(F,S.leaf?L(G):G),B+=u(F);for(N=A-E-1;N>=E;N--)G=S.children[N],i(O,S.leaf?L(G):G),B+=u(O);return B},_adjustParentBBoxes:function(S,E,A){for(var M=A;M>=0;M--)i(E[M],S)},_condense:function(S){for(var E=S.length-1,A;E>=0;E--)S[E].children.length===0?E>0?(A=S[E-1].children,A.splice(A.indexOf(S[E]),1)):this.clear():a(S[E],this.toBBox)},compareMinX:function(S,E){return S.left-E.left},compareMinY:function(S,E){return S.top-E.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function r(S,E,A){if(!A)return E.indexOf(S);for(var M=0;M<E.length;M++)if(A(S,E[M]))return M;return-1}function a(S,E){s(S,0,S.children.length,E,S)}function s(S,E,A,M,L){L||(L=x(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var F=E,O;F<A;F++)O=S.children[F],i(L,S.leaf?M(O):O);return L}function i(S,E){return S.minX=Math.min(S.minX,E.minX),S.minY=Math.min(S.minY,E.minY),S.maxX=Math.max(S.maxX,E.maxX),S.maxY=Math.max(S.maxY,E.maxY),S}function n(S,E){return S.minX-E.minX}function f(S,E){return S.minY-E.minY}function o(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function u(S){return S.maxX-S.minX+(S.maxY-S.minY)}function d(S,E){return(Math.max(E.maxX,S.maxX)-Math.min(E.minX,S.minX))*(Math.max(E.maxY,S.maxY)-Math.min(E.minY,S.minY))}function c(S,E){var A=Math.max(S.minX,E.minX),M=Math.max(S.minY,E.minY),L=Math.min(S.maxX,E.maxX),F=Math.min(S.maxY,E.maxY);return Math.max(0,L-A)*Math.max(0,F-M)}function v(S,E){return S.minX<=E.minX&&S.minY<=E.minY&&E.maxX<=S.maxX&&E.maxY<=S.maxY}function p(S,E){return E.minX<=S.maxX&&E.minY<=S.maxY&&E.maxX>=S.minX&&E.maxY>=S.minY}function x(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(S,E,A,M,L){for(var F=[E,A],O;F.length;)A=F.pop(),E=F.pop(),!(A-E<=M)&&(O=E+Math.ceil((A-E)/M/2)*M,e(S,O,E,A,L),F.push(E,O,O,A))}l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(533),h=t(535),r=t(248),a=function(s,i,n,f,o,u,d){var c=f.left,v=f.top,p=f.right,x=f.bottom,y=n.faceLeft||n.faceRight,S=n.faceTop||n.faceBottom;if(d||(y=!0,S=!0),!y&&!S)return!1;var E=0,A=0,M=0,L=1;if(i.deltaAbsX()>i.deltaAbsY()?M=-1:i.deltaAbsX()<i.deltaAbsY()&&(L=-1),i.deltaX()!==0&&i.deltaY()!==0&&y&&S&&(M=Math.min(Math.abs(i.position.x-p),Math.abs(i.right-c)),L=Math.min(Math.abs(i.position.y-x),Math.abs(i.bottom-v))),M<L){if(y&&(E=e(i,n,c,p,u,d),E!==0&&!r(f,i)))return!0;S&&(A=h(i,n,v,x,u,d))}else{if(S&&(A=h(i,n,v,x,u,d),A!==0&&!r(f,i)))return!0;y&&(E=e(i,n,c,p,u,d))}return E!==0||A!==0};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(534),h=function(r,a,s,i,n,f){var o=0,u=a.faceLeft,d=a.faceRight,c=a.collideLeft,v=a.collideRight;return f||(u=!0,d=!0,c=!0,v=!0),r.deltaX()<0&&v&&r.checkCollision.left?d&&r.x<i&&(o=r.x-i,o<-n&&(o=0)):r.deltaX()>0&&c&&r.checkCollision.right&&u&&r.right>s&&(o=r.right-s,o>n&&(o=0)),o!==0&&(r.customSeparateX?r.overlapX=o:e(r,o)),o};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h<0?(e.blocked.none=!1,e.blocked.left=!0):h>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=h,e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(536),h=function(r,a,s,i,n,f){var o=0,u=a.faceTop,d=a.faceBottom,c=a.collideUp,v=a.collideDown;return f||(u=!0,d=!0,c=!0,v=!0),r.deltaY()<0&&v&&r.checkCollision.up?d&&r.y<i&&(o=r.y-i,o<-n&&(o=0)):r.deltaY()>0&&c&&r.checkCollision.down&&u&&r.bottom>s&&(o=r.bottom-s,o>n&&(o=0)),o!==0&&(r.customSeparateY?r.overlapY=o:e(r,o)),o};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h<0?(e.blocked.none=!1,e.blocked.up=!0):h>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=h,e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(246),h=t(1389),r=function(a,s,i,n){var f=e(a,s,i,n),o=a.immovable,u=s.immovable;if(i||f===0||o&&u||a.customSeparateX||s.customSeparateX)return f!==0||a.embedded&&s.embedded;var d=h.Set(a,s,f);return!o&&!u?d>0?!0:h.Check():(o?h.RunImmovableBody1(d):u&&h.RunImmovableBody2(d),!0)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(247),h=t(1390),r=function(a,s,i,n){var f=e(a,s,i,n),o=a.immovable,u=s.immovable;if(i||f===0||o&&u||a.customSeparateY||s.customSeparateY)return f!==0||a.embedded&&s.embedded;var d=h.Set(a,s,f);return!o&&!u?d>0?!0:h.Check():(o?h.RunImmovableBody1(d):u&&h.RunImmovableBody2(d),!0)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),h=t(0),r=t(62),a=t(57),s=t(3),i=new h({initialize:function(f,o){var u=o.displayWidth?o.displayWidth:64,d=o.displayHeight?o.displayHeight:64;this.world=f,this.gameObject=o,this.debugShowBody=f.defaults.debugShowStaticBody,this.debugBodyColor=f.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(o.x-u*o.originX,o.y-d*o.originY),this.width=u,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=r.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(n,f){return n&&n!==this.gameObject&&(this.gameObject.body=null,n.body=this,this.gameObject=n),f&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var n=this.gameObject;return n.getTopLeft(this.position),this.width=n.displayWidth,this.height=n.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(n,f){return f===void 0&&(f=n),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n,f),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(n,f,o){o===void 0&&(o=!0);var u=this.gameObject;if(!n&&u.frame&&(n=u.frame.realWidth),!f&&u.frame&&(f=u.frame.realHeight),this.world.staticTree.remove(this),this.width=n,this.height=f,this.halfWidth=Math.floor(n/2),this.halfHeight=Math.floor(f/2),o&&u.getCenter){var d=u.displayWidth/2,c=u.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(n,f,o){return f===void 0&&(f=this.offset.x),o===void 0&&(o=this.offset.y),n>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=n,this.width=n*2,this.height=n*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,o),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(n,f){var o=this.gameObject;n===void 0&&(n=o.x),f===void 0&&(f=o.y),this.world.staticTree.remove(this),o.setPosition(n,f),o.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,f){return this.isCircle?e(this,n,f):a(this,n,f)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(n){var f=this.position,o=f.x+this.halfWidth,u=f.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?n.strokeCircle(o,u,this.width/2):n.strokeRect(f.x,f.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(n){return n<=0&&(n=.1),this.mass=n,this},x:{get:function(){return this.position.x},set:function(n){this.world.staticTree.remove(this),this.position.x=n,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(n){this.world.staticTree.remove(this),this.position.y=n,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=i},function(l,g,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(0),h=new e({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=new e,r=function(a,s,i,n){var f=i.tilemapLayer,o=f.cullPaddingX,u=f.cullPaddingY,d=f.tilemap.tileToWorldXY(a,s,h,n,f);return d.x>n.worldView.x+f.scaleX*i.tileWidth*(-o-.5)&&d.x<n.worldView.right+f.scaleX*i.tileWidth*(o-.5)&&d.y>n.worldView.y+f.scaleY*i.tileHeight*(-u-1)&&d.y<n.worldView.bottom+f.scaleY*i.tileHeight*(u-.5)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=function(r,a,s,i,n,f,o){for(var u=e(s,i,n,f,null,o),d=0;d<u.length;d++)u[d]&&u[d].index===r&&(u[d].index=a)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=t(139),r=t(76),a=new e,s=function(i,n){var f=i.tilemapLayer.tilemap,o=i.tilemapLayer,u=Math.floor(f.tileWidth*o.scaleX),d=Math.floor(f.tileHeight*o.scaleY),c=r(n.worldView.x-o.x,u,0,!0)-o.cullPaddingX,v=h(n.worldView.right-o.x,u,0,!0)+o.cullPaddingX,p=r(n.worldView.y-o.y,d,0,!0)-o.cullPaddingY,x=h(n.worldView.bottom-o.y,d,0,!0)+o.cullPaddingY;return a.setTo(c,p,v-c,x-p)};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(543),h=t(159),r=function(a,s,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var f=a.tilemapLayer,o=e(a,s);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(o.left=0,o.right=a.width,o.top=0,o.bottom=a.height),h(a,o,n,i),i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(546),h=t(159),r=function(a,s,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var f=a.tilemapLayer;if(!f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1){var o=e(a,s);h(a,o,n,i)}return i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),h=t(76),r=function(a,s){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,f=Math.floor(i.tileWidth*n.scaleX),o=Math.floor(i.tileHeight*n.scaleY),u=a.hexSideLength,d=(o-u)/2+u,c=h(s.worldView.x-n.x,f,0,!0)-n.cullPaddingX,v=e(s.worldView.right-n.x,f,0,!0)+n.cullPaddingX,p=h(s.worldView.y-n.y,d,0,!0)-n.cullPaddingY,x=e(s.worldView.bottom-n.y,d,0,!0)+n.cullPaddingY;return{left:c,right:v,top:p,bottom:x}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(541),h=function(r,a,s,i){s===void 0&&(s=[]),i===void 0&&(i=0),s.length=0;var n=r.tilemapLayer,f=r.data,o=r.width,u=r.height,d=0,c=o,v=0,p=u;if(!n.skipCull){var x,y,S;if(i===0){for(y=v;y<p;y++)for(x=d;f[y]&&x<c;x++)if(e(x,y,r,a)){if(S=f[y][x],!S||S.index===-1||!S.visible||S.alpha===0)continue;s.push(S)}}else if(i===1){for(y=v;y<p;y++)for(x=c;f[y]&&x>=d;x--)if(e(x,y,r,a)){if(S=f[y][x],!S||S.index===-1||!S.visible||S.alpha===0)continue;s.push(S)}}else if(i===2){for(y=p;y>=v;y--)for(x=d;f[y]&&x<c;x++)if(e(x,y,r,a)){if(S=f[y][x],!S||S.index===-1||!S.visible||S.alpha===0)continue;s.push(S)}}else if(i===3){for(y=p;y>=v;y--)for(x=c;f[y]&&x>=d;x--)if(e(x,y,r,a)){if(S=f[y][x],!S||S.index===-1||!S.visible||S.alpha===0)continue;s.push(S)}}}return n.tilesDrawn=s.length,n.tilesTotal=o*u,s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(549),h=t(159),r=function(a,s,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var f=a.tilemapLayer;if(!f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1){var o=e(a,s);h(a,o,n,i)}return i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),h=t(76),r=function(a,s){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,f=Math.floor(i.tileWidth*n.scaleX),o=Math.floor(i.tileHeight*n.scaleY),u=h(s.worldView.x-n.x,f,0,!0)-n.cullPaddingX,d=e(s.worldView.right-n.x,f,0,!0)+n.cullPaddingX,c=h(s.worldView.y-n.y,o/2,0,!0)-n.cullPaddingY,v=e(s.worldView.bottom-n.y,o/2,0,!0)+n.cullPaddingY;return{left:u,right:d,top:c,bottom:v}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n){s||(s=new e);var f=n.baseTileWidth,o=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),f*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),o*=u.scaleY);var v=n.hexSideLength,p=(o-v)/2+v,x=d+r*f+a%2*(f/2),y=c+a*p;return s.set(x,y)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n){s||(s=new e);var f=n.baseTileWidth,o=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),f*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),o*=u.scaleY);var v=d+(r-a)*(f/2),p=c+(r+a)*(o/2);return s.set(v,p)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n){s||(s=new e);var f=n.baseTileWidth,o=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),f*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),o*=u.scaleY);var v=d+r*f+a%2*(f/2),p=c+a*(o/2);return s.set(v,p)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(253),h=t(254),r=t(3),a=function(s,i,n,f,o){return n||(n=new r(0,0)),n.x=e(s,f,o),n.y=h(i,f,o),n};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=r.baseTileHeight,s=r.tilemapLayer,i=0;s&&(h===void 0&&(h=s.scene.cameras.main),i=s.y+h.scrollY*(1-s.scrollFactorY),a*=s.scaleY);var n=s.tilemap.hexSideLength,f=(a-n)/2+n;return i+e*f};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=r.baseTileHeight,s=r.tilemapLayer,i=0;return s&&(h===void 0&&(h=s.scene.cameras.main),i=s.y+h.scrollY*(1-s.scrollFactorY),a*=s.scaleY),i+e*(a/2)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n,f){i||(i=new e);var o=f.baseTileWidth,u=f.baseTileHeight,d=f.tilemapLayer;d&&(n||(n=d.scene.cameras.main),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,r=r-(d.x+n.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var c=f.hexSideLength,v=(u-c)/2+c,p=s?Math.floor(a/v):a/v,x=s?Math.floor((r-p%2*.5*o)/o):(r-p%2*.5*o)/o;return i.set(x,p)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n,f){i||(i=new e);var o=f.baseTileWidth,u=f.baseTileHeight,d=f.tilemapLayer;d&&(n||(n=d.scene.cameras.main),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,r=r-(d.x+n.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var c=s?Math.floor((r/(o/2)+a/(u/2))/2):(r/(o/2)+a/(u/2))/2,v=s?Math.floor((a/(u/2)-r/(o/2))/2):(a/(u/2)-r/(o/2))/2;return i.set(c,v)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n,f){i||(i=new e);var o=f.baseTileWidth,u=f.baseTileHeight,d=f.tilemapLayer;d&&(n||(n=d.scene.cameras.main),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,r=r-(d.x+n.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var c=s?Math.floor(a/(u/2)):a/(u/2),v=s?Math.floor((r+c%2*.5*o)/o):(r+c%2*.5*o)/o;return i.set(v,c)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(255),h=t(256),r=t(3),a=function(s,i,n,f,o,u){return n===void 0&&(n=!0),f||(f=new r(0,0)),f.x=e(s,n,o,u),f.y=h(i,n,o,u),f};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=a.baseTileHeight,i=a.tilemapLayer;i&&(r||(r=i.scene.cameras.main),e=e-(i.y+r.scrollY*(1-i.scrollFactorY)),s*=i.scaleY);var n=a.hexSideLength,f=(s-n)/2+n;return h?Math.floor(e/f):e/f};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=a.baseTileHeight,i=a.tilemapLayer;return i&&(r||(r=i.scene.cameras.main),e=e-(i.y+r.scrollY*(1-i.scrollFactorY)),s*=i.scaleY),h?Math.floor(e/(s/2)):e/(s/2)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),h=function(r,a,s){if(e(r,a,s)){var i=s.data[a][r];return i!==null&&i.index>-1}else return!1};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),h=t(119),r=t(252),a=function(s,i,n,f,o){if(n===void 0&&(n=!0),f===void 0&&(f=!0),!h(s,i,o))return null;var u=o.data[i][s];if(u)o.data[i][s]=n?null:new e(o,-1,s,i,o.tileWidth,o.tileHeight);else return null;return f&&u&&u.collides&&r(s,i,o),u};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),h=t(259),r=t(565),a=t(566),s=t(577),i=function(n,f,o,u,d,c){var v;switch(f){case e.ARRAY_2D:v=h(n,o,u,d,c);break;case e.CSV:v=r(n,o,u,d,c);break;case e.TILED_JSON:v=a(n,o,c);break;case e.WELTMEISTER:v=s(n,o,c);break;default:console.warn("Unrecognized tilemap data format: "+f),v=null}return v};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),h=t(259),r=function(a,s,i,n,f){var o=s.trim().split(`
`).map(function(d){return d.split(",")}),u=h(a,o,i,n,f);return u.format=e.CSV,u};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(567),h=t(568),r=t(29),a=t(40),s=t(258),i=t(121),n=t(569),f=t(570),o=t(573),u=t(575),d=function(c,v,p){var x=new i({width:v.width,height:v.height,name:c,tileWidth:v.tilewidth,tileHeight:v.tileheight,orientation:s(v.orientation),format:a.TILED_JSON,version:v.version,properties:v.properties,renderOrder:v.renderorder,infinite:v.infinite});x.orientation===r.HEXAGONAL&&(x.hexSideLength=v.hexsidelength),x.layers=o(v,p),x.images=n(v);var y=u(v);return x.tilesets=y.tilesets,x.imageCollections=y.imageCollections,x.objects=f(v),x.tiles=h(x),e(x),x};l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),h=function(r){for(var a,s,i,n,f,o=0;o<r.layers.length;o++){a=r.layers[o],n=null;for(var u=0;u<a.data.length;u++){f=a.data[u];for(var d=0;d<f.length;d++)s=f[d],!(s===null||s.index<0)&&(i=r.tiles[s.index][2],n=r.tilesets[i],s.width=n.tileWidth,s.height=n.tileHeight,n.tileProperties&&n.tileProperties[s.index-n.firstgid]&&(s.properties=e(s.properties,n.tileProperties[s.index-n.firstgid])))}}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),h=function(r){var a,s,i=[];for(a=0;a<r.imageCollections.length;a++)for(var n=r.imageCollections[a],f=n.images,o=0;o<f.length;o++){var u=f[o];s=new e(u.image,u.gid,n.imageWidth,n.imageHeight,0,0),s.updateTileData(n.imageWidth,n.imageHeight),r.tilesets.push(s)}for(a=0;a<r.tilesets.length;a++){s=r.tilesets[a];for(var d=s.tileMargin,c=s.tileMargin,v=0,p=0,x=0,y=s.firstgid;y<s.firstgid+s.total&&(i[y]=[d,c,a],d+=s.tileWidth+s.tileSpacing,v++,!(v===s.total||(p++,p===s.columns&&(d=s.tileMargin,c+=s.tileHeight+s.tileSpacing,p=0,x++,x===s.rows))));y++);}return i};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=t(161),r=function(a){for(var s=[],i=[],n=h(a);n.i<n.layers.length||i.length>0;){if(n.i>=n.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=i.pop();continue}var f=n.layers[n.i];if(n.i++,f.type!=="imagelayer"){if(f.type==="group"){var o=h(a,f,n);i.push(n),n=o}continue}var u=e(f,"offsetx",0)+e(f,"startx",0),d=e(f,"offsety",0)+e(f,"starty",0);s.push({name:n.name+f.name,image:f.image,x:n.x+u+f.x,y:n.y+d+f.y,alpha:n.opacity*f.opacity,visible:n.visible&&f.visible,properties:e(f,"properties",{})})}return s};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=t(260),r=t(572),a=t(161),s=function(i){for(var n=[],f=[],o=a(i);o.i<o.layers.length||f.length>0;){if(o.i>=o.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=f.pop();continue}var u=o.layers[o.i];if(o.i++,u.opacity*=o.opacity,u.visible=o.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var d=a(i,u,o);f.push(o),o=d}continue}u.name=o.name+u.name;for(var c=o.x+e(u,"startx",0)+e(u,"offsetx",0),v=o.y+e(u,"starty",0)+e(u,"offsety",0),p=[],x=0;x<u.objects.length;x++){var y=h(u.objects[x],c,v);p.push(y)}var S=new r(u);S.objects=p,n.push(S)}return n};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(126),h=function(r,a){for(var s={},i=0;i<a.length;i++){var n=a[i];e(r,n)&&(s[n]=r[n])}return s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=new e({initialize:function(s){s===void 0&&(s={}),this.name=h(s,"name","object layer"),this.opacity=h(s,"opacity",1),this.properties=h(s,"properties",{}),this.propertyTypes=h(s,"propertytypes",{}),this.type=h(s,"type","objectgroup"),this.visible=h(s,"visible",!0),this.objects=h(s,"objects",[])}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(574),h=t(29),r=t(161),a=t(258),s=t(2),i=t(120),n=t(261),f=t(85),o=function(u,d){for(var c=s(u,"infinite",!1),v=[],p=[],x=r(u);x.i<x.layers.length||p.length>0;){if(x.i>=x.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}x=p.pop();continue}var y=x.layers[x.i];if(x.i++,y.type!=="tilelayer"){if(y.type==="group"){var S=r(u,y,x);p.push(x),x=S}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}else if(y.encoding&&y.encoding==="base64"){if(y.chunks)for(var E=0;E<y.chunks.length;E++)y.chunks[E].data=e(y.chunks[E].data);y.data&&(y.data=e(y.data)),delete y.encoding}var A,M,L,F,O=[],B=0;if(c){var N=s(y,"startx",0)+y.x,G=s(y,"starty",0)+y.y;A=new i({name:x.name+y.name,x:x.x+s(y,"offsetx",0)+N*u.tilewidth,y:x.y+s(y,"offsety",0)+G*u.tileheight,width:y.width,height:y.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:x.opacity*y.opacity,visible:x.visible&&y.visible,properties:s(y,"properties",[]),orientation:a(u.orientation)}),A.orientation===h.HEXAGONAL&&(A.hexSideLength=u.hexsidelength);for(var Y=0;Y<y.height;Y++){O.push([null]);for(var H=0;H<y.width;H++)O[Y][H]=null}for(Y=0,Q=y.chunks.length;Y<Q;Y++)for(var b=y.chunks[Y],Z=b.x-N,$=b.y-G,w=0,D=0,V=b.data.length;D<V;D++){var z=B+Z,X=w+$;M=n(b.data[D]),M.gid>0?(L=new f(A,M.gid,z,X,u.tilewidth,u.tileheight),L.rotation=M.rotation,L.flipX=M.flipped,O[X][z]=L):(F=d?null:new f(A,-1,z,X,u.tilewidth,u.tileheight),O[X][z]=F),B++,B===b.width&&(w++,B=0)}}else{A=new i({name:x.name+y.name,x:x.x+s(y,"offsetx",0)+y.x,y:x.y+s(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:x.opacity*y.opacity,visible:x.visible&&y.visible,properties:s(y,"properties",[]),orientation:a(u.orientation)}),A.orientation===h.HEXAGONAL&&(A.hexSideLength=u.hexsidelength);for(var j=[],K=0,Q=y.data.length;K<Q;K++)M=n(y.data[K]),M.gid>0?(L=new f(A,M.gid,B,O.length,u.tilewidth,u.tileheight),L.rotation=M.rotation,L.flipX=M.flipped,j.push(L)):(F=d?null:new f(A,-1,B,O.length,u.tilewidth,u.tileheight),j.push(F)),B++,B===y.width&&(O.push(j),B=0,j=[])}A.data=O,v.push(A)}return v};l.exports=o},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var h=window.atob(e),r=h.length,a=new Array(r/4),s=0;s<r;s+=4)a[s/4]=(h.charCodeAt(s)|h.charCodeAt(s+1)<<8|h.charCodeAt(s+2)<<16|h.charCodeAt(s+3)<<24)>>>0;return a};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),h=t(576),r=t(260),a=t(1453),s=function(i){for(var n=[],f=[],o=null,u,d=0;d<i.tilesets.length;d++){var c=i.tilesets[d];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var v=new e(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing);if(i.version>1){var p=void 0,x=void 0;if(Array.isArray(c.tiles)){p=p||{},x=x||{};for(var y=0;y<c.tiles.length;y++){var S=c.tiles[y];if(S.properties){var E={};S.properties.forEach(function(Y){E[Y.name]=Y.value}),x[S.id]=E}if(S.objectgroup&&((p[S.id]||(p[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var A=S.objectgroup.objects.map(function(Y){return r(Y)});p[S.id].objectgroup.objects=A}S.animation&&((p[S.id]||(p[S.id]={})).animation=S.animation),S.type&&((p[S.id]||(p[S.id]={})).type=S.type)}}Array.isArray(c.wangsets)&&(p=p||{},x=x||{},a(c.wangsets,p)),p&&(v.tileData=p,v.tileProperties=x)}else if(c.tileproperties&&(v.tileProperties=c.tileproperties),c.tiles){v.tileData=c.tiles;for(u in v.tileData){var M=v.tileData[u].objectgroup;if(M&&M.objects){var L=M.objects.map(function(Y){return r(Y)});v.tileData[u].objectgroup.objects=L}}}v.updateTileData(c.imagewidth,c.imageheight),n.push(v)}else{var F=new h(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),O=0;for(y=0;y<c.tiles.length;y++){S=c.tiles[y];var B=S.image,N=parseInt(S.id,10),G=c.firstgid+N;F.addImage(G,B),O=Math.max(N,O)}F.maxId=O,f.push(F)}o&&(o.lastgid=c.firstgid-1),o=c}return{tilesets:n,imageCollections:f}};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a,s,i,n,f,o,u){(i===void 0||i<=0)&&(i=32),(n===void 0||n<=0)&&(n=32),f===void 0&&(f=0),o===void 0&&(o=0),this.name=a,this.firstgid=s|0,this.imageWidth=i|0,this.imageHeight=n|0,this.imageMargin=f|0,this.imageSpacing=o|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},addImage:function(r,a){return this.images.push({gid:r,image:a}),this.total++,this}});l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),h=t(121),r=t(578),a=t(579),s=function(i,n,f){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var o=0,u=0,d=0;d<n.layer.length;d++)n.layer[d].width>o&&(o=n.layer[d].width),n.layer[d].height>u&&(u=n.layer[d].height);var c=new h({width:o,height:u,name:i,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:e.WELTMEISTER});return c.layers=r(n,f),c.tilesets=a(n),c};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(120),h=t(85),r=function(a,s){for(var i=[],n=0;n<a.layer.length;n++){for(var f=a.layer[n],o=new e({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),u=[],d=[],c=0;c<f.data.length;c++){for(var v=0;v<f.data[c].length;v++){var p=f.data[c][v]-1,x;p>-1?x=new h(o,p,v,c,f.tilesize,f.tilesize):x=s?null:new h(o,-1,v,c,f.tilesize,f.tilesize),u.push(x)}d.push(u),u=[]}o.data=d,i.push(o)}return i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),h=function(r){for(var a=[],s=[],i=0;i<r.layer.length;i++){var n=r.layer[i],f=n.tilesetName;f!==""&&s.indexOf(f)===-1&&(s.push(f),a.push(new e(f,0,n.tilesize,n.tilesize,0,0)))}return a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(36),r=t(40),a=t(2),s=t(120),i=t(29),n=t(362),f=t(74),o=t(73),u=t(85),d=t(251),c=t(581),v=t(122),p=new e({initialize:function(y,S){this.scene=y,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(E),WorldToTileX:d.GetWorldToTileXFunction(E),WorldToTileY:d.GetWorldToTileYFunction(E),TileToWorldXY:d.GetTileToWorldXYFunction(E),TileToWorldX:d.GetTileToWorldXFunction(E),TileToWorldY:d.GetTileToWorldYFunction(E)}},createBlankDynamicLayer:function(x,y,S,E,A,M,L,F){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(x,y,S,E,A,M,L,F)},createDynamicLayer:function(x,y,S,E){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(x,y,S,E)},createStaticLayer:function(x,y,S,E){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(x,y,S,E)},setRenderOrder:function(x){var y=["right-down","left-down","right-up","left-up"];return typeof x=="number"&&(x=y[x]),y.indexOf(x)>-1&&(this.renderOrder=x),this},addTilesetImage:function(x,y,S,E,A,M,L){if(x===void 0)return null;if(y==null&&(y=x),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var F=this.scene.sys.textures.get(y),O=this.getTilesetIndex(x);if(O===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+x),null;var B=this.tilesets[O];return B?(B.setTileSize(S,E),B.setSpacing(A,M),B.setImage(F),B):(S===void 0&&(S=this.tileWidth),E===void 0&&(E=this.tileHeight),A===void 0&&(A=0),M===void 0&&(M=0),L===void 0&&(L=0),B=new v(x,L,S,E,A,M),B.setImage(F),this.tilesets.push(B),B)},copy:function(x,y,S,E,A,M,L,F){return F=this.getLayer(F),F!==null?(d.Copy(x,y,S,E,A,M,L,F),this):null},createBlankLayer:function(x,y,S,E,A,M,L,F){S===void 0&&(S=0),E===void 0&&(E=0),A===void 0&&(A=this.width),M===void 0&&(M=this.height),L===void 0&&(L=this.tileWidth),F===void 0&&(F=this.tileHeight);var O=this.getLayerIndex(x);if(O!==null)return console.warn("Invalid Tilemap Layer ID: "+x),null;for(var B=new s({name:x,tileWidth:L,tileHeight:F,width:A,height:M,orientation:this.orientation}),N,G=0;G<M;G++){N=[];for(var Y=0;Y<A;Y++)N.push(new u(B,-1,Y,G,L,F,this.tileWidth,this.tileHeight));B.data.push(N)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var H=new c(this.scene,this,this.currentLayerIndex,y,S,E);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(x,y,S,E){var A=this.getLayerIndex(x);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+x),typeof x=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var M=this.layers[A];if(M.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+x),null;this.currentLayerIndex=A,S===void 0&&(S=M.x),E===void 0&&(E=M.y);var L=new c(this.scene,this,A,y,S,E);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(x,y){var S=[],E=this.getObjectLayer(x);if(!E)return console.warn("createFromObjects: Invalid objectLayerName given: "+x),S;Array.isArray(y)||(y=[y]);for(var A=E.objects,M=0;M<y.length;M++){for(var L=y[M],F=a(L,"id",null),O=a(L,"gid",null),B=a(L,"name",null),N,G=[],Y=0;Y<A.length;Y++)N=A[Y],(F===null&&O===null&&B===null||F!==null&&N.id===F||O!==null&&N.gid===O||B!==null&&N.name===B)&&G.push(N);for(var H=a(L,"classType",o),b=a(L,"scene",this.scene),Z=a(L,"container",null),$=a(L,"key",null),w=a(L,"frame",null),D=0;D<G.length;D++){N=G[D];var V=new H(b);V.setName(N.name),V.setPosition(N.x,N.y),V.setTexture($,w),N.width&&(V.displayWidth=N.width),N.height&&(V.displayHeight=N.height);var z={x:V.originX*N.width,y:(V.originY-1)*N.height};if(N.rotation){var X=h(N.rotation);n(z,X),V.rotation=X}if(V.x+=z.x,V.y+=z.y,(N.flippedHorizontal!==void 0||N.flippedVertical!==void 0)&&V.setFlip(N.flippedHorizontal,N.flippedVertical),N.visible||(V.visible=!1),Array.isArray(N.properties))N.properties.forEach(function(K){var Q=K.name;V[Q]!==void 0?V[Q]=K.value:V.setData(Q,K.value)});else for(var j in N.properties)V[j]!==void 0?V[j]=N.properties[j]:V.setData(j,N.properties[j]);Z?Z.add(V):b.add.existing(V),S.push(V)}}return S},createFromTiles:function(x,y,S,E,A,M){return M=this.getLayer(M),M===null?null:d.CreateFromTiles(x,y,S,E,A,M)},fill:function(x,y,S,E,A,M,L){return M===void 0&&(M=!0),L=this.getLayer(L),L===null?null:(d.Fill(x,y,S,E,A,M,L),this)},filterObjects:function(x,y,S){if(typeof x=="string"){var E=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+E),null}return x.objects.filter(y,S)},filterTiles:function(x,y,S,E,A,M,L,F){return F=this.getLayer(F),F===null?null:d.FilterTiles(x,y,S,E,A,M,L,F)},findByIndex:function(x,y,S,E){return E=this.getLayer(E),E===null?null:d.FindByIndex(x,y,S,E)},findObject:function(x,y,S){if(typeof x=="string"){var E=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+E),null}return x.objects.find(y,S)||null},findTile:function(x,y,S,E,A,M,L,F){return F=this.getLayer(F),F===null?null:d.FindTile(x,y,S,E,A,M,L,F)},forEachTile:function(x,y,S,E,A,M,L,F){return F=this.getLayer(F),F===null?null:(d.ForEachTile(x,y,S,E,A,M,L,F),this)},getImageIndex:function(x){return this.getIndex(this.images,x)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(x){return x.name})},getIndex:function(x,y){for(var S=0;S<x.length;S++)if(x[S].name===y)return S;return null},getLayer:function(x){var y=this.getLayerIndex(x);return y!==null?this.layers[y]:null},getObjectLayer:function(x){var y=this.getIndex(this.objects,x);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(x){return x.name})},getLayerIndex:function(x){return x===void 0?this.currentLayerIndex:typeof x=="string"?this.getLayerIndexByName(x):typeof x=="number"&&x<this.layers.length?x:x instanceof c?x.layerIndex:null},getLayerIndexByName:function(x){return this.getIndex(this.layers,x)},getTileAt:function(x,y,S,E){return E=this.getLayer(E),E===null?null:d.GetTileAt(x,y,S,E)},getTileAtWorldXY:function(x,y,S,E,A){return A=this.getLayer(A),A===null?null:d.GetTileAtWorldXY(x,y,S,E,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(x){return x.name})},getTilesWithin:function(x,y,S,E,A,M){return M=this.getLayer(M),M===null?null:d.GetTilesWithin(x,y,S,E,A,M)},getTilesWithinShape:function(x,y,S,E){return E=this.getLayer(E),E===null?null:d.GetTilesWithinShape(x,y,S,E)},getTilesWithinWorldXY:function(x,y,S,E,A,M,L){return L=this.getLayer(L),L===null?null:d.GetTilesWithinWorldXY(x,y,S,E,A,M,L)},getTileset:function(x){var y=this.getIndex(this.tilesets,x);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(x){return this.getIndex(this.tilesets,x)},hasTileAt:function(x,y,S){return S=this.getLayer(S),S===null?null:d.HasTileAt(x,y,S)},hasTileAtWorldXY:function(x,y,S,E){return E=this.getLayer(E),E===null?null:d.HasTileAtWorldXY(x,y,S,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(x){this.setLayer(x)}},putTileAt:function(x,y,S,E,A){return E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:d.PutTileAt(x,y,S,E,A)},putTileAtWorldXY:function(x,y,S,E,A,M){return E===void 0&&(E=!0),M=this.getLayer(M),M===null?null:d.PutTileAtWorldXY(x,y,S,E,A,M)},putTilesAt:function(x,y,S,E,A){return E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:(d.PutTilesAt(x,y,S,E,A),this)},randomize:function(x,y,S,E,A,M){return M=this.getLayer(M),M===null?null:(d.Randomize(x,y,S,E,A,M),this)},calculateFacesAt:function(x,y,S){return S=this.getLayer(S),S===null?null:(d.CalculateFacesAt(x,y,S),this)},calculateFacesWithin:function(x,y,S,E,A){return A=this.getLayer(A),A===null?null:(d.CalculateFacesWithin(x,y,S,E,A),this)},removeLayer:function(x){var y=this.getLayerIndex(x);if(y!==null){f(this.layers,y);for(var S=y;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(x){var y=this.getLayerIndex(x);return y!==null?(x=this.layers[y],x.destroy(),f(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var x=this.layers,y=0;y<x.length;y++)x[y].tilemapLayer&&x[y].tilemapLayer.destroy(!1);return x.length=0,this.currentLayerIndex=0,this},removeTile:function(x,y,S){y===void 0&&(y=-1),S===void 0&&(S=!0);var E=[];Array.isArray(x)||(x=[x]);for(var A=0;A<x.length;A++){var M=x[A];E.push(this.removeTileAt(M.x,M.y,!0,S,M.tilemapLayer)),y>-1&&this.putTileAt(y,M.x,M.y,S,M.tilemapLayer)}return E},removeTileAt:function(x,y,S,E,A){return S===void 0&&(S=!0),E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:d.RemoveTileAt(x,y,S,E,A)},removeTileAtWorldXY:function(x,y,S,E,A,M){return S===void 0&&(S=!0),E===void 0&&(E=!0),M=this.getLayer(M),M===null?null:d.RemoveTileAtWorldXY(x,y,S,E,A,M)},renderDebug:function(x,y,S){return S=this.getLayer(S),S===null?null:(this.orientation===i.ORTHOGONAL&&d.RenderDebug(x,y,S),this)},renderDebugFull:function(x,y){for(var S=this.layers,E=0;E<S.length;E++)d.RenderDebug(x,y,S[E]);return this},replaceByIndex:function(x,y,S,E,A,M,L){return L=this.getLayer(L),L===null?null:(d.ReplaceByIndex(x,y,S,E,A,M,L),this)},setCollision:function(x,y,S,E,A){return y===void 0&&(y=!0),S===void 0&&(S=!0),A===void 0&&(A=!0),E=this.getLayer(E),E===null?null:(d.SetCollision(x,y,S,E,A),this)},setCollisionBetween:function(x,y,S,E,A){return S===void 0&&(S=!0),E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:(d.SetCollisionBetween(x,y,S,E,A),this)},setCollisionByProperty:function(x,y,S,E){return y===void 0&&(y=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByProperty(x,y,S,E),this)},setCollisionByExclusion:function(x,y,S,E){return y===void 0&&(y=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByExclusion(x,y,S,E),this)},setCollisionFromCollisionGroup:function(x,y,S){return x===void 0&&(x=!0),y===void 0&&(y=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionFromCollisionGroup(x,y,S),this)},setTileIndexCallback:function(x,y,S,E){return E=this.getLayer(E),E===null?null:(d.SetTileIndexCallback(x,y,S,E),this)},setTileLocationCallback:function(x,y,S,E,A,M,L){return L=this.getLayer(L),L===null?null:(d.SetTileLocationCallback(x,y,S,E,A,M,L),this)},setLayer:function(x){var y=this.getLayerIndex(x);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(x,y){this.tileWidth=x,this.tileHeight=y,this.widthInPixels=this.width*x,this.heightInPixels=this.height*y;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=x,this.layers[S].baseTileHeight=y;for(var E=this.layers[S].data,A=this.layers[S].width,M=this.layers[S].height,L=0;L<M;L++)for(var F=0;F<A;F++){var O=E[L][F];O!==null&&O.setSize(void 0,void 0,x,y)}}return this},setLayerTileSize:function(x,y,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=x,S.tileHeight=y;for(var E=S.data,A=S.width,M=S.height,L=0;L<M;L++)for(var F=0;F<A;F++){var O=E[L][F];O!==null&&O.setSize(x,y)}return this},shuffle:function(x,y,S,E,A){return A=this.getLayer(A),A===null?null:(d.Shuffle(x,y,S,E,A),this)},swapByIndex:function(x,y,S,E,A,M,L){return L=this.getLayer(L),L===null?null:(d.SwapByIndex(x,y,S,E,A,M,L),this)},tileToWorldX:function(x,y,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(x,y,S)},tileToWorldY:function(x,y,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(x,y,S)},tileToWorldXY:function(x,y,S,E,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(x,y,S,E,A)},weightedRandomize:function(x,y,S,E,A,M){return M=this.getLayer(M),M===null?null:(d.WeightedRandomize(y,S,E,A,x,M),this)},worldToTileX:function(x,y,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(x,y,S,E)},worldToTileY:function(x,y,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(x,y,S,E)},worldToTileXY:function(x,y,S,E,A,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileXY(x,y,S,E,A,M)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});l.exports=p},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(11),r=t(15),a=t(251),s=t(1456),i=new e({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Origin,h.Pipeline,h.Transform,h.Visible,h.ScrollFactor,s],initialize:function(f,o,u,d,c,v){r.call(this,f,"TilemapLayer"),this.isTilemap=!0,this.tilemap=o,this.layerIndex=u,this.layer=o.layers[u],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(c,v),this.setOrigin(),this.setSize(o.tileWidth*this.layer.width,o.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(n){var f=[],o=[],u=this.tilemap;Array.isArray(n)||(n=[n]);for(var d=0;d<n.length;d++){var c=n[d];if(typeof c=="string"&&(c=u.getTileset(c)),c){o.push(c);for(var v=c.firstgid,p=0;p<c.total;p++)f[v+p]=c}}this.gidMap=f,this.tileset=o},setRenderOrder:function(n){var f=["right-down","left-down","right-up","left-up"];return typeof n=="string"&&(n=f.indexOf(n)),n>=0&&n<4&&(this._renderOrder=n),this},calculateFacesAt:function(n,f){return a.CalculateFacesAt(n,f,this.layer),this},calculateFacesWithin:function(n,f,o,u){return a.CalculateFacesWithin(n,f,o,u,this.layer),this},createFromTiles:function(n,f,o,u,d){return a.CreateFromTiles(n,f,o,u,d,this.layer)},cull:function(n){return this.cullCallback(this.layer,n,this.culledTiles,this._renderOrder)},copy:function(n,f,o,u,d,c,v){return a.Copy(n,f,o,u,d,c,v,this.layer),this},fill:function(n,f,o,u,d,c){return a.Fill(n,f,o,u,d,c,this.layer),this},filterTiles:function(n,f,o,u,d,c,v){return a.FilterTiles(n,f,o,u,d,c,v,this.layer)},findByIndex:function(n,f,o){return a.FindByIndex(n,f,o,this.layer)},findTile:function(n,f,o,u,d,c,v){return a.FindTile(n,f,o,u,d,c,v,this.layer)},forEachTile:function(n,f,o,u,d,c,v){return a.ForEachTile(n,f,o,u,d,c,v,this.layer),this},getTileAt:function(n,f,o){return a.GetTileAt(n,f,o,this.layer)},getTileAtWorldXY:function(n,f,o,u){return a.GetTileAtWorldXY(n,f,o,u,this.layer)},getTilesWithin:function(n,f,o,u,d){return a.GetTilesWithin(n,f,o,u,d,this.layer)},getTilesWithinShape:function(n,f,o){return a.GetTilesWithinShape(n,f,o,this.layer)},getTilesWithinWorldXY:function(n,f,o,u,d,c){return a.GetTilesWithinWorldXY(n,f,o,u,d,c,this.layer)},hasTileAt:function(n,f){return a.HasTileAt(n,f,this.layer)},hasTileAtWorldXY:function(n,f,o){return a.HasTileAtWorldXY(n,f,o,this.layer)},putTileAt:function(n,f,o,u){return a.PutTileAt(n,f,o,u,this.layer)},putTileAtWorldXY:function(n,f,o,u,d){return a.PutTileAtWorldXY(n,f,o,u,d,this.layer)},putTilesAt:function(n,f,o,u){return a.PutTilesAt(n,f,o,u,this.layer),this},randomize:function(n,f,o,u,d){return a.Randomize(n,f,o,u,d,this.layer),this},removeTileAt:function(n,f,o,u){return a.RemoveTileAt(n,f,o,u,this.layer)},removeTileAtWorldXY:function(n,f,o,u,d){return a.RemoveTileAtWorldXY(n,f,o,u,d,this.layer)},renderDebug:function(n,f){return a.RenderDebug(n,f,this.layer),this},replaceByIndex:function(n,f,o,u,d,c){return a.ReplaceByIndex(n,f,o,u,d,c,this.layer),this},setSkipCull:function(n){return n===void 0&&(n=!0),this.skipCull=n,this},setCullPadding:function(n,f){return n===void 0&&(n=1),f===void 0&&(f=1),this.cullPaddingX=n,this.cullPaddingY=f,this},setCollision:function(n,f,o,u){return a.SetCollision(n,f,o,this.layer,u),this},setCollisionBetween:function(n,f,o,u){return a.SetCollisionBetween(n,f,o,u,this.layer),this},setCollisionByProperty:function(n,f,o){return a.SetCollisionByProperty(n,f,o,this.layer),this},setCollisionByExclusion:function(n,f,o){return a.SetCollisionByExclusion(n,f,o,this.layer),this},setCollisionFromCollisionGroup:function(n,f){return a.SetCollisionFromCollisionGroup(n,f,this.layer),this},setTileIndexCallback:function(n,f,o){return a.SetTileIndexCallback(n,f,o,this.layer),this},setTileLocationCallback:function(n,f,o,u,d,c){return a.SetTileLocationCallback(n,f,o,u,d,c,this.layer),this},shuffle:function(n,f,o,u){return a.Shuffle(n,f,o,u,this.layer),this},swapByIndex:function(n,f,o,u,d,c){return a.SwapByIndex(n,f,o,u,d,c,this.layer),this},tileToWorldX:function(n,f){return this.tilemap.tileToWorldX(n,f,this)},tileToWorldY:function(n,f){return this.tilemap.tileToWorldY(n,f,this)},tileToWorldXY:function(n,f,o,u){return this.tilemap.tileToWorldXY(n,f,o,u,this)},weightedRandomize:function(n,f,o,u,d){return a.WeightedRandomize(f,o,u,d,n,this.layer),this},worldToTileX:function(n,f,o){return this.tilemap.worldToTileX(n,f,o,this)},worldToTileY:function(n,f,o){return this.tilemap.worldToTileY(n,f,o,this)},worldToTileXY:function(n,f,o,u,d){return this.tilemap.worldToTileXY(n,f,o,u,d,this)},destroy:function(n){n===void 0&&(n=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),n&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(2),r=new e({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(a){return this.delay=h(a,"delay",0),this.repeat=h(a,"repeat",0),this.loop=h(a,"loop",!1),this.callback=h(a,"callback",void 0),this.callbackScope=h(a,"callbackScope",this.callback),this.args=h(a,"args",[]),this.timeScale=h(a,"timeScale",1),this.startAt=h(a,"startAt",0),this.paused=h(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1465),h=function(r){var a,s=[];if(r.hasOwnProperty("props"))for(a in r.props)a.substr(0,1)!=="_"&&s.push({key:a,value:r.props[a]});else for(a in r)e.indexOf(a)===-1&&a.substr(0,1)!=="_"&&s.push({key:a,value:r[a]});return s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),h=function(r){var a=e(r,"tweens",null);return a===null?[]:(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a]),a)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),h=t(13),r=t(99),a=t(80),s=t(162),i=t(6),n=t(264),f=t(266),o=t(268),u=function(d,c,v){v===void 0&&(v=e);var p=i(c,"from",0),x=i(c,"to",1),y=[{value:p}],S=s(c,"delay",v.delay),E=s(c,"duration",v.duration),A=i(c,"easeParams",v.easeParams),M=a(i(c,"ease",v.ease),A),L=s(c,"hold",v.hold),F=s(c,"repeat",v.repeat),O=s(c,"repeatDelay",v.repeatDelay),B=r(c,"yoyo",v.yoyo),N=[],G=n("value",x),Y=o(y[0],0,"value",G.getEnd,G.getStart,G.getActive,M,S,E,B,L,F,O,!1,!1);Y.start=p,Y.current=p,Y.to=x,N.push(Y);var H=new f(d,N,y);H.offset=h(c,"offset",null),H.completeDelay=h(c,"completeDelay",0),H.loop=Math.round(h(c,"loop",0)),H.loopDelay=Math.round(h(c,"loopDelay",0)),H.paused=r(c,"paused",!1),H.useFrames=r(c,"useFrames",!1);for(var b=i(c,"callbackScope",H),Z=[H,null],$=f.TYPES,w=0;w<$.length;w++){var D=$[w],V=i(c,D,!1);if(V){var z=i(c,D+"Scope",b),X=i(c,D+"Params",[]);H.setCallback(D,V,Z.concat(X),z)}}return H};l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(80),h=t(6),r=t(14),a=function(s,i){i===void 0&&(i={});var n,f=h(i,"start",0),o=h(i,"ease",null),u=h(i,"grid",null),d=h(i,"from",0),c=d==="first",v=d==="center",p=d==="last",x=typeof d=="number",y=Array.isArray(s),S=parseFloat(y?s[0]:s),E=y?parseFloat(s[1]):0,A=Math.max(S,E);if(y&&(f+=S),u){var M=u[0],L=u[1],F=0,O=0,B=0,N=0,G=[];p?(F=M-1,O=L-1):x?(F=d%M,O=Math.floor(d/M)):v&&(F=(M-1)/2,O=(L-1)/2);for(var Y=r.MIN_SAFE_INTEGER,H=0;H<L;H++){G[H]=[];for(var b=0;b<M;b++){B=F-b,N=O-H;var Z=Math.sqrt(B*B+N*N);Z>Y&&(Y=Z),G[H][b]=Z}}}var $=o?e(o):null;return u?n=function(w,D,V,z){var X=0,j=z%M,K=Math.floor(z/M);j>=0&&j<M&&K>=0&&K<L&&(X=G[K][j]);var Q;if(y){var k=E-S;$?Q=X/Y*k*$(X/Y):Q=X/Y*k}else $?Q=X*S*$(X/Y):Q=X*S;return Q+f}:n=function(w,D,V,z,X){X--;var j;c?j=z:v?j=Math.abs(X/2-z):p?j=X-z:x&&(j=Math.abs(d-z));var K;if(y){var Q;v?Q=(E-S)/X*(j*2):Q=(E-S)/X*j,$?K=Q*$(j/X):K=Q}else $?K=X*A*$(j/X):K=j*S;return K+f},n};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),h=t(265),r=t(13),a=t(99),s=t(80),i=t(162),n=t(263),f=t(584),o=t(6),u=t(588),d=t(163),c=function(v,p){var x=new u(v);x.completeDelay=r(p,"completeDelay",0),x.loop=Math.round(r(p,"loop",0)),x.loopDelay=Math.round(r(p,"loopDelay",0)),x.paused=a(p,"paused",!1),x.useFrames=a(p,"useFrames",!1);var y=o(p,"callbackScope",x),S=[x],E=o(p,"onStart",!1);if(E){var A=o(p,"onStartScope",y),M=o(p,"onStartParams",[]);x.setCallback("onStart",E,S.concat(M),A)}var L=o(p,"onUpdate",!1);if(L){var F=o(p,"onUpdateScope",y),O=o(p,"onUpdateParams",[]);x.setCallback("onUpdate",L,S.concat(O),F)}var B=o(p,"onLoop",!1);if(B){var N=o(p,"onLoopScope",y),G=o(p,"onLoopParams",[]);x.setCallback("onLoop",B,S.concat(G),N)}var Y=o(p,"onYoyo",!1);if(Y){var H=o(p,"onYoyoScope",y),b=o(p,"onYoyoParams",[]);x.setCallback("onYoyo",Y,S.concat(null,b),H)}var Z=o(p,"onComplete",!1);if(Z){var $=o(p,"onCompleteScope",y),w=o(p,"onCompleteParams",[]);x.setCallback("onComplete",Z,S.concat(w),$)}var D=f(p);if(D.length===0)return x.paused=!0,x;var V=e(h);V.targets=n(p);var z=r(p,"totalDuration",0);z>0?V.duration=Math.floor(z/D.length):V.duration=i(p,"duration",V.duration),V.delay=i(p,"delay",V.delay),V.easeParams=o(p,"easeParams",V.easeParams),V.ease=s(o(p,"ease",V.ease),V.easeParams),V.hold=i(p,"hold",V.hold),V.repeat=i(p,"repeat",V.repeat),V.repeatDelay=i(p,"repeatDelay",V.repeatDelay),V.yoyo=a(p,"yoyo",V.yoyo),V.flipX=a(p,"flipX",V.flipX),V.flipY=a(p,"flipY",V.flipY);for(var X=0;X<D.length;X++)x.queue(d(x,D[X],V));return x};l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(267),a=t(163),s=t(100),i=new e({Extends:h,initialize:function(f){h.call(this),this.manager=f,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING_ADD,this._pausedState=s.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(n,f){this.emit(n,this),f&&f.func.apply(f.scope,f.params)},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===s.ACTIVE},add:function(n){return this.queue(a(this,n))},queue:function(n){return this.isPlaying()||(n.parent=this,n.parentIsTimeline=!0,this.data.push(n),this.totalData=this.data.length),this},hasOffset:function(n){return n.offset!==null},isOffsetAbsolute:function(n){return typeof n=="number"},isOffsetRelative:function(n){var f=typeof n;if(f==="string"){var o=n[0];if(o==="-"||o==="+")return!0}return!1},getRelativeOffset:function(n,f){var o=n[0],u=parseFloat(n.substr(2)),d=f;switch(o){case"+":d+=u;break;case"-":d-=u;break}return Math.max(0,d)},calcDuration:function(){for(var n=0,f=0,o=0,u=0;u<this.totalData;u++){var d=this.data[u];d.init(),this.hasOffset(d)?this.isOffsetAbsolute(d.offset)?(d.calculatedOffset=d.offset,d.offset===0&&(o=0)):this.isOffsetRelative(d.offset)&&(d.calculatedOffset=this.getRelativeOffset(d.offset,n)):d.calculatedOffset=o,n=d.totalDuration+d.calculatedOffset,f+=d.totalDuration,o+=d.totalDuration}this.duration=f,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=s.PAUSED,!1):!0},resetTweens:function(n){for(var f=0;f<this.totalData;f++){var o=this.data[f];o.play(n)}},setCallback:function(n,f,o,u){return i.TYPES.indexOf(n)!==-1&&(this.callbacks[n]={func:f,scope:u,params:o}),this},makeActive:function(n){return this.manager.makeActive(n)},play:function(){if(this.state!==s.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=s.ACTIVE;this.dispatchTimelineEvent(r.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=s.LOOP_DELAY):(this.state=s.ACTIVE,this.dispatchTimelineEvent(r.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=s.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=s.PENDING_REMOVE,this.dispatchTimelineEvent(r.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(n,f){if(this.state!==s.PAUSED){switch(this.useFrames&&(f=1*this.manager.timeScale),f*=this.timeScale,this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case s.ACTIVE:for(var o=this.totalData,u=0;u<this.totalData;u++){var d=this.data[u];d.update(n,f)&&o--}this.dispatchTimelineEvent(r.TIMELINE_UPDATE,this.callbacks.onUpdate),o===0&&this.nextState();break;case s.LOOP_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=s.ACTIVE,this.dispatchTimelineEvent(r.TIMELINE_LOOP,this.callbacks.onLoop));break;case s.COMPLETE_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=s.PENDING_REMOVE,this.dispatchTimelineEvent(r.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===s.PENDING_REMOVE}},stop:function(){this.state=s.PENDING_REMOVE},pause:function(){if(this.state!==s.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=s.PAUSED,this.emit(r.TIMELINE_PAUSE,this),this},resume:function(){return this.state===s.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(r.TIMELINE_RESUME,this)),this},hasTarget:function(n){for(var f=0;f<this.data.length;f++)if(this.data[f].hasTarget(n))return!0;return!1},destroy:function(){for(var n=0;n<this.data.length;n++)this.data[n].stop()}});i.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],l.exports=i},function(l,g,t){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),h=t(41),r=t(32),a=t(2),s=t(64),i={parseBody:function(n,f,o,u){u===void 0&&(u={});for(var d=a(o,"fixtures",[]),c=[],v=0;v<d.length;v++)for(var p=this.parseFixture(d[v]),x=0;x<p.length;x++)c.push(p[x]);var y=r.clone(o,!0);r.extend(y,u,!0),delete y.fixtures,delete y.type;var S=h.create(y);return h.setParts(S,c),h.setPosition(S,{x:n,y:f}),S},parseFixture:function(n){var f=r.extend({},!1,n);delete f.circle,delete f.vertices;var o;if(n.circle){var u=a(n.circle,"x"),d=a(n.circle,"y"),c=a(n.circle,"radius");o=[e.circle(u,d,c,f)]}else n.vertices&&(o=this.parseVertices(n.vertices,f));return o},parseVertices:function(n,f){f===void 0&&(f={});for(var o=[],u=0;u<n.length;u++)s.clockwiseSort(n[u]),o.push(h.create(r.extend({position:s.centre(n[u]),vertices:n[u]},f)));return e.flagCoincidentParts(o)}};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),h=t(41),r={parseBody:function(a,s,i,n){n===void 0&&(n={});var f,o=i.vertices;if(o.length===1)n.vertices=o[0],f=h.create(n),e.flagCoincidentParts(f.parts);else{for(var u=[],d=0;d<o.length;d++){var c=h.create({vertices:o[d]});u.push(c)}e.flagCoincidentParts(u),n.parts=u,f=h.create(n)}return f.label=i.label,h.setPosition(f,{x:a,y:s}),f}};l.exports=r},function(l,g,t){var e={};l.exports=e;var h=t(118),r=t(128),a=t(32),s=t(41),i=t(86);(function(){e.stack=function(n,f,o,u,d,c,v){for(var p=h.create({label:"Stack"}),x=n,y=f,S,E=0,A=0;A<u;A++){for(var M=0,L=0;L<o;L++){var F=v(x,y,L,A,S,E);if(F){var O=F.bounds.max.y-F.bounds.min.y,B=F.bounds.max.x-F.bounds.min.x;O>M&&(M=O),s.translate(F,{x:B*.5,y:O*.5}),x=F.bounds.max.x+d,h.addBody(p,F),S=F,E+=1}else x+=d}y+=M+c,x=n}return p},e.chain=function(n,f,o,u,d,c){for(var v=n.bodies,p=1;p<v.length;p++){var x=v[p-1],y=v[p],S=x.bounds.max.y-x.bounds.min.y,E=x.bounds.max.x-x.bounds.min.x,A=y.bounds.max.y-y.bounds.min.y,M=y.bounds.max.x-y.bounds.min.x,L={bodyA:x,pointA:{x:E*f,y:S*o},bodyB:y,pointB:{x:M*u,y:A*d}},F=a.extend(L,c);h.addConstraint(n,r.create(F))}return n.label+=" Chain",n},e.mesh=function(n,f,o,u,d){var c=n.bodies,v,p,x,y,S;for(v=0;v<o;v++){for(p=1;p<f;p++)x=c[p-1+v*f],y=c[p+v*f],h.addConstraint(n,r.create(a.extend({bodyA:x,bodyB:y},d)));if(v>0)for(p=0;p<f;p++)x=c[p+(v-1)*f],y=c[p+v*f],h.addConstraint(n,r.create(a.extend({bodyA:x,bodyB:y},d))),u&&p>0&&(S=c[p-1+(v-1)*f],h.addConstraint(n,r.create(a.extend({bodyA:S,bodyB:y},d)))),u&&p<f-1&&(S=c[p+1+(v-1)*f],h.addConstraint(n,r.create(a.extend({bodyA:S,bodyB:y},d))))}return n.label+=" Mesh",n},e.pyramid=function(n,f,o,u,d,c,v){return e.stack(n,f,o,u,d,c,function(p,x,y,S,E,A){var M=Math.min(u,Math.ceil(o/2)),L=E?E.bounds.max.x-E.bounds.min.x:0;if(!(S>M)){S=M-S;var F=S,O=o-1-S;if(!(y<F||y>O)){A===1&&s.translate(E,{x:(y+(o%2===1?1:-1))*L,y:0});var B=E?y*L:0;return v(n+B+y*d,x,y,S,E,A)}}})},e.newtonsCradle=function(n,f,o,u,d){for(var c=h.create({label:"Newtons Cradle"}),v=0;v<o;v++){var p=1.9,x=i.circle(n+v*(u*p),f+d,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=r.create({pointA:{x:n+v*(u*p),y:f},bodyB:x});h.addBody(c,x),h.addConstraint(c,y)}return c},e.car=function(n,f,o,u,d){var c=s.nextGroup(!0),v=20,p=-o*.5+v,x=o*.5-v,y=0,S=h.create({label:"Car"}),E=i.rectangle(n,f,o,u,{collisionFilter:{group:c},chamfer:{radius:u*.5},density:2e-4}),A=i.circle(n+p,f+y,d,{collisionFilter:{group:c},friction:.8}),M=i.circle(n+x,f+y,d,{collisionFilter:{group:c},friction:.8}),L=r.create({bodyB:E,pointB:{x:p,y},bodyA:A,stiffness:1,length:0}),F=r.create({bodyB:E,pointB:{x,y},bodyA:M,stiffness:1,length:0});return h.addBody(S,E),h.addBody(S,A),h.addBody(S,M),h.addConstraint(S,L),h.addConstraint(S,F),S},e.softBody=function(n,f,o,u,d,c,v,p,x,y){x=a.extend({inertia:1/0},x),y=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var S=e.stack(n,f,o,u,d,c,function(E,A){return i.circle(E,A,p,x)});return e.mesh(S,o,u,v,y),S.label="Soft Body",S}})()},function(l,g,t){var e={};l.exports=e,t(84);var h=t(32);(function(){e.pathToVertices=function(r,a){typeof window<"u"&&!("SVGPathSeg"in window)&&h.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,i,n,f,o,u,d,c,v,p,x=[],y,S,E=0,A=0,M=0;a=a||15;var L=function(O,B,N){var G=N%2===1&&N>1;if(!v||O!=v.x||B!=v.y){v&&G?(y=v.x,S=v.y):(y=0,S=0);var Y={x:y+O,y:S+B};(G||!v)&&(v=Y),x.push(Y),A=y+O,M=S+B}},F=function(O){var B=O.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":A=O.x,M=O.y;break;case"H":A=O.x;break;case"V":M=O.y;break}L(A,M,O.pathSegType)}};for(e._svgPathToAbsolute(r),n=r.getTotalLength(),u=[],s=0;s<r.pathSegList.numberOfItems;s+=1)u.push(r.pathSegList.getItem(s));for(d=u.concat();E<n;){if(p=r.getPathSegAtLength(E),o=u[p],o!=c){for(;d.length&&d[0]!=o;)F(d.shift());c=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=r.getPointAtLength(E),L(f.x,f.y,0);break}E+=a}for(s=0,i=d.length;s<i;++s)F(d[s]);return x},e._svgPathToAbsolute=function(r){for(var a,s,i,n,f,o,u=r.pathSegList,d=0,c=0,v=u.numberOfItems,p=0;p<v;++p){var x=u.getItem(p),y=x.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(y))"x"in x&&(d=x.x),"y"in x&&(c=x.y);else switch("x1"in x&&(i=d+x.x1),"x2"in x&&(f=d+x.x2),"y1"in x&&(n=c+x.y1),"y2"in x&&(o=c+x.y2),"x"in x&&(d+=x.x),"y"in x&&(c+=x.y),y){case"m":u.replaceItem(r.createSVGPathSegMovetoAbs(d,c),p);break;case"l":u.replaceItem(r.createSVGPathSegLinetoAbs(d,c),p);break;case"h":u.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(d),p);break;case"v":u.replaceItem(r.createSVGPathSegLinetoVerticalAbs(c),p);break;case"c":u.replaceItem(r.createSVGPathSegCurvetoCubicAbs(d,c,i,n,f,o),p);break;case"s":u.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(d,c,f,o),p);break;case"q":u.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(d,c,i,n),p);break;case"t":u.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(d,c),p);break;case"a":u.replaceItem(r.createSVGPathSegArcAbs(d,c,x.r1,x.r2,x.angle,x.largeArcFlag,x.sweepFlag),p);break;case"z":case"Z":d=a,c=s;break}(y=="M"||y=="m")&&(a=d,s=c)}}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),h=t(41),r=t(0),a=t(249),s=t(9),i=t(2),n=t(126),f=t(64),o=new r({Extends:s,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(d,c,v){s.call(this),this.tile=c,this.world=d,c.physics.matterBody&&c.physics.matterBody.destroy(),c.physics.matterBody=this;var p=i(v,"body",null),x=i(v,"addToWorld",!0);if(p)this.setBody(p,x);else{var y=c.getCollisionGroup(),S=i(y,"objects",[]);S.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}},setFromTileRectangle:function(u){u===void 0&&(u={}),n(u,"isStatic")||(u.isStatic=!0),n(u,"addToWorld")||(u.addToWorld=!0);var d=this.tile.getBounds(),c=d.x+d.width/2,v=d.y+d.height/2,p=e.rectangle(c,v,d.width,d.height,u);return this.setBody(p,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),n(u,"isStatic")||(u.isStatic=!0),n(u,"addToWorld")||(u.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,c=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),p=this.tile.getTop(),x=this.tile.getCollisionGroup(),y=i(x,"objects",[]),S=[],E=0;E<y.length;E++){var A=y[E],M=v+A.x*d,L=p+A.y*c,F=A.width*d,O=A.height*c,B=null;if(A.rectangle)B=e.rectangle(M+F/2,L+O/2,F,O,u);else if(A.ellipse)B=e.circle(M+F/2,L+O/2,F/2,u);else if(A.polygon||A.polyline){var N=A.polygon?A.polygon:A.polyline,G=N.map(function(b){return{x:b.x*d,y:b.y*c}}),Y=f.create(G),H=f.centre(Y);M+=H.x,L+=H.y,B=e.fromVertices(M,L,Y,u)}B&&S.push(B)}return S.length===1?this.setBody(S[0],u.addToWorld):S.length>1&&(u.parts=S,this.setBody(h.create(u),u.addToWorld)),this},setBody:function(u,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1399);e.Body=t(41),e.Composite=t(118),e.World=t(596),e.Detector=t(273),e.Grid=t(597),e.Pairs=t(598),e.Pair=t(250),e.Query=t(1400),e.Resolver=t(599),e.SAT=t(274),e.Constraint=t(128),e.Common=t(32),e.Engine=t(1401),e.Events=t(166),e.Sleeping=t(165),e.Plugin=t(595),e.Bodies=t(86),e.Composites=t(591),e.Axes=t(271),e.Bounds=t(84),e.Svg=t(592),e.Vector=t(83),e.Vertices=t(64),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,l.exports=e},function(l,g,t){var e={};l.exports=e;var h=t(32);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||h.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var a=e._registry[r.name],s=e.versionParse(r.version).number,i=e.versionParse(a.version).number;s>i?(h.warn("Plugin.register:",e.toString(a),"was upgraded to",e.toString(r)),e._registry[r.name]=r):s<i?h.warn("Plugin.register:",e.toString(a),"can not be downgraded to",e.toString(r)):r!==a&&h.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,a){return r.used.indexOf(a)>-1},e.isFor=function(r,a){var s=r.for&&e.dependencyParse(r.for);return!r.for||a.name===s.name&&e.versionSatisfies(a.version,s.range)},e.use=function(r,a){if(r.uses=(r.uses||[]).concat(a||[]),r.uses.length===0){h.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var s=e.dependencies(r),i=h.topologicalSort(s),n=[],f=0;f<i.length;f+=1)if(i[f]!==r.name){var o=e.resolve(i[f]);if(!o){n.push(" "+i[f]);continue}e.isUsed(r,o.name)||(e.isFor(o,r)||(h.warn("Plugin.use:",e.toString(o),"is for",o.for,"but installed on",e.toString(r)+"."),o._warned=!0),o.install?o.install(r):(h.warn("Plugin.use:",e.toString(o),"does not specify an install function."),o._warned=!0),o._warned?(n.push(" "+e.toString(o)),delete o._warned):n.push(" "+e.toString(o)),r.used.push(o.name))}n.length>0&&!o.silent&&h.info(n.join("  "))},e.dependencies=function(r,a){var s=e.dependencyParse(r),i=s.name;if(a=a||{},!(i in a)){r=e.resolve(r)||r,a[i]=h.map(r.uses||[],function(f){e.isPlugin(f)&&e.register(f);var o=e.dependencyParse(f),u=e.resolve(f);return u&&!e.versionSatisfies(u.version,o.range)?(h.warn("Plugin.dependencies:",e.toString(u),"does not satisfy",e.toString(o),"used by",e.toString(s)+"."),u._warned=!0,r._warned=!0):u||(h.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(s),"could not be resolved."),r._warned=!0),o.name});for(var n=0;n<a[i].length;n+=1)e.dependencies(a[i][n],a);return a}},e.dependencyParse=function(r){if(h.isString(r)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return a.test(r)||h.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var a=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;a.test(r)||h.warn("Plugin.versionParse:",r,"is not a valid version or range.");var s=r.split("-");r=s[0];var i=isNaN(Number(r[0])),n=i?r.substr(1):r,f=h.map(n.split("."),function(o){return Number(o)});return{isRange:i,version:n,range:r,operator:i?r[0]:"",parts:f,prerelease:s[1],number:f[0]*1e8+f[1]*1e4+f[2]}},e.versionSatisfies=function(r,a){a=a||"*";var s=e.versionParse(a),i=s.parts,n=e.versionParse(r),f=n.parts;if(s.isRange){if(s.operator==="*"||r==="*")return!0;if(s.operator==="~")return f[0]===i[0]&&f[1]===i[1]&&f[2]>=i[2];if(s.operator==="^")return i[0]>0?f[0]===i[0]&&n.number>=s.number:i[1]>0?f[1]===i[1]&&f[2]>=i[2]:f[2]===i[2]}return r===a||r==="*"}})()},function(l,g,t){var e={};l.exports=e;var h=t(118);t(128);var r=t(32);(function(){e.create=function(a){var s=h.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return r.extend(s,i,a)}})()},function(l,g,t){var e={};l.exports=e;var h=t(250),r=t(273),a=t(32);(function(){e.create=function(s){var i={controller:e,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(i,s)},e.update=function(s,i,n,f){var o,u,d,c=n.world,v=s.buckets,p,x,y=!1,S=n.metrics;for(S.broadphaseTests=0,o=0;o<i.length;o++){var E=i[o];if(!(E.isSleeping&&!f)&&!(E.bounds.max.x<c.bounds.min.x||E.bounds.min.x>c.bounds.max.x||E.bounds.max.y<c.bounds.min.y||E.bounds.min.y>c.bounds.max.y)){var A=e._getRegion(s,E);if(!E.region||A.id!==E.region.id||f){S.broadphaseTests+=1,(!E.region||f)&&(E.region=A);var M=e._regionUnion(A,E.region);for(u=M.startCol;u<=M.endCol;u++)for(d=M.startRow;d<=M.endRow;d++){x=e._getBucketId(u,d),p=v[x];var L=u>=A.startCol&&u<=A.endCol&&d>=A.startRow&&d<=A.endRow,F=u>=E.region.startCol&&u<=E.region.endCol&&d>=E.region.startRow&&d<=E.region.endRow;!L&&F&&F&&p&&e._bucketRemoveBody(s,p,E),(E.region===A||L&&!F||f)&&(p||(p=e._createBucket(v,x)),e._bucketAddBody(s,p,E))}E.region=A,y=!0}}}y&&(s.pairsList=e._createActivePairsList(s))},e.clear=function(s){s.buckets={},s.pairs={},s.pairsList=[]},e._regionUnion=function(s,i){var n=Math.min(s.startCol,i.startCol),f=Math.max(s.endCol,i.endCol),o=Math.min(s.startRow,i.startRow),u=Math.max(s.endRow,i.endRow);return e._createRegion(n,f,o,u)},e._getRegion=function(s,i){var n=i.bounds,f=Math.floor(n.min.x/s.bucketWidth),o=Math.floor(n.max.x/s.bucketWidth),u=Math.floor(n.min.y/s.bucketHeight),d=Math.floor(n.max.y/s.bucketHeight);return e._createRegion(f,o,u,d)},e._createRegion=function(s,i,n,f){return{id:s+","+i+","+n+","+f,startCol:s,endCol:i,startRow:n,endRow:f}},e._getBucketId=function(s,i){return"C"+s+"R"+i},e._createBucket=function(s,i){var n=s[i]=[];return n},e._bucketAddBody=function(s,i,n){for(var f=0;f<i.length;f++){var o=i[f];if(!(n.id===o.id||n.isStatic&&o.isStatic)){var u=h.id(n,o),d=s.pairs[u];d?d[2]+=1:s.pairs[u]=[n,o,1]}}i.push(n)},e._bucketRemoveBody=function(s,i,n){i.splice(i.indexOf(n),1);for(var f=0;f<i.length;f++){var o=i[f],u=h.id(n,o),d=s.pairs[u];d&&(d[2]-=1)}},e._createActivePairsList=function(s){var i,n,f=[];i=a.keys(s.pairs);for(var o=0;o<i.length;o++)n=s.pairs[i[o]],n[2]>0?f.push(n):delete s.pairs[i[o]];return f}})()},function(l,g,t){var e={};l.exports=e;var h=t(250),r=t(32);(function(){e._pairMaxIdleLife=1e3,e.create=function(a){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},e.update=function(a,s,i){var n=a.list,f=a.table,o=a.collisionStart,u=a.collisionEnd,d=a.collisionActive,c,v,p,x;for(o.length=0,u.length=0,d.length=0,x=0;x<n.length;x++)n[x].confirmedActive=!1;for(x=0;x<s.length;x++)c=s[x],c.collided&&(v=h.id(c.bodyA,c.bodyB),p=f[v],p?(p.isActive?d.push(p):o.push(p),h.update(p,c,i),p.confirmedActive=!0):(p=h.create(c,i),f[v]=p,o.push(p),n.push(p)));for(x=0;x<n.length;x++)p=n[x],p.isActive&&!p.confirmedActive&&(h.setActive(p,!1,i),u.push(p))},e.removeOld=function(a,s){var i=a.list,n=a.table,f=[],o,u,d,c;for(c=0;c<i.length;c++){if(o=i[c],u=o.collision,u.bodyA.isSleeping||u.bodyB.isSleeping){o.timeUpdated=s;continue}s-o.timeUpdated>e._pairMaxIdleLife&&f.push(c)}for(c=0;c<f.length;c++)d=f[c]-c,o=i[d],delete n[o.id],i.splice(d,1)},e.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},function(l,g,t){var e={};l.exports=e;var h=t(64),r=t(83),a=t(32),s=t(84);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(i){var n,f,o;for(n=0;n<i.length;n++)f=i[n],f.isActive&&(o=f.activeContacts.length,f.collision.parentA.totalContacts+=o,f.collision.parentB.totalContacts+=o)},e.solvePosition=function(i,n,f){var o,u,d,c,v,p,x,y,S,E,A,M,L,F,O,B,N=f*e._positionDampen;for(o=0;o<n.length;o++){var G=n[o];G.previousPositionImpulse.x=G.positionImpulse.x,G.previousPositionImpulse.y=G.positionImpulse.y}for(o=0;o<i.length;o++)c=i[o],!(!c.isActive||c.isSensor)&&(v=c.collision,p=v.parentA,x=v.parentB,y=v.normal,A=p.previousPositionImpulse,M=x.previousPositionImpulse,E=v.penetration,F=M.x-A.x+E.x,O=M.y-A.y+E.y,u=y.x,d=y.y,S=u*F+d*O,c.separation=S,B=(S-c.slop)*N,(p.isStatic||x.isStatic)&&(B*=2),p.isStatic||p.isSleeping||(L=B/p.totalContacts,p.positionImpulse.x+=u*L,p.positionImpulse.y+=d*L),x.isStatic||x.isSleeping||(L=B/x.totalContacts,x.positionImpulse.x-=u*L,x.positionImpulse.y-=d*L))},e.postSolvePosition=function(i){for(var n=0;n<i.length;n++){var f=i[n];if(f.totalContacts=0,f.positionImpulse.x!==0||f.positionImpulse.y!==0){for(var o=0;o<f.parts.length;o++){var u=f.parts[o];h.translate(u.vertices,f.positionImpulse),s.update(u.bounds,u.vertices,f.velocity),u.position.x+=f.positionImpulse.x,u.position.y+=f.positionImpulse.y}f.positionPrev.x+=f.positionImpulse.x,f.positionPrev.y+=f.positionImpulse.y,r.dot(f.positionImpulse,f.velocity)<0?(f.positionImpulse.x=0,f.positionImpulse.y=0):(f.positionImpulse.x*=e._positionWarming,f.positionImpulse.y*=e._positionWarming)}}},e.preSolveVelocity=function(i){var n,f,o,u,d,c,v,p,x,y,S,E,A,M,L=r._temp[0],F=r._temp[1];for(n=0;n<i.length;n++)if(o=i[n],!(!o.isActive||o.isSensor))for(u=o.activeContacts,d=o.collision,c=d.parentA,v=d.parentB,p=d.normal,x=d.tangent,f=0;f<u.length;f++)y=u[f],S=y.vertex,E=y.normalImpulse,A=y.tangentImpulse,(E!==0||A!==0)&&(L.x=p.x*E+x.x*A,L.y=p.y*E+x.y*A,c.isStatic||c.isSleeping||(M=r.sub(S,c.position,F),c.positionPrev.x+=L.x*c.inverseMass,c.positionPrev.y+=L.y*c.inverseMass,c.anglePrev+=r.cross(M,L)*c.inverseInertia),v.isStatic||v.isSleeping||(M=r.sub(S,v.position,F),v.positionPrev.x-=L.x*v.inverseMass,v.positionPrev.y-=L.y*v.inverseMass,v.anglePrev-=r.cross(M,L)*v.inverseInertia))},e.solveVelocity=function(i,n){for(var f=n*n,o=r._temp[0],u=r._temp[1],d=r._temp[2],c=r._temp[3],v=r._temp[4],p=r._temp[5],x=0;x<i.length;x++){var y=i[x];if(!(!y.isActive||y.isSensor)){var S=y.collision,E=S.parentA,A=S.parentB,M=S.normal,L=S.tangent,F=y.activeContacts,O=1/F.length;E.velocity.x=E.position.x-E.positionPrev.x,E.velocity.y=E.position.y-E.positionPrev.y,A.velocity.x=A.position.x-A.positionPrev.x,A.velocity.y=A.position.y-A.positionPrev.y,E.angularVelocity=E.angle-E.anglePrev,A.angularVelocity=A.angle-A.anglePrev;for(var B=0;B<F.length;B++){var N=F[B],G=N.vertex,Y=r.sub(G,E.position,u),H=r.sub(G,A.position,d),b=r.add(E.velocity,r.mult(r.perp(Y),E.angularVelocity),c),Z=r.add(A.velocity,r.mult(r.perp(H),A.angularVelocity),v),$=r.sub(b,Z,p),w=r.dot(M,$),D=r.dot(L,$),V=Math.abs(D),z=a.sign(D),X=(1+y.restitution)*w,j=a.clamp(y.separation+w,0,1)*e._frictionNormalMultiplier,K=D,Q=1/0;V>y.friction*y.frictionStatic*j*f&&(Q=V,K=a.clamp(y.friction*z*f,-Q,Q));var k=r.cross(Y,M),_=r.cross(H,M),it=O/(E.inverseMass+A.inverseMass+E.inverseInertia*k*k+A.inverseInertia*_*_);if(X*=it,K*=it,w<0&&w*w>e._restingThresh*f)N.normalImpulse=0;else{var at=N.normalImpulse;N.normalImpulse=Math.min(N.normalImpulse+X,0),X=N.normalImpulse-at}if(D*D>e._restingThreshTangent*f)N.tangentImpulse=0;else{var ot=N.tangentImpulse;N.tangentImpulse=a.clamp(N.tangentImpulse+K,-Q,Q),K=N.tangentImpulse-ot}o.x=M.x*X+L.x*K,o.y=M.y*X+L.y*K,E.isStatic||E.isSleeping||(E.positionPrev.x+=o.x*E.inverseMass,E.positionPrev.y+=o.y*E.inverseMass,E.anglePrev+=r.cross(Y,o)*E.inverseInertia),A.isStatic||A.isSleeping||(A.positionPrev.x-=o.x*A.inverseMass,A.positionPrev.y-=o.y*A.inverseMass,A.anglePrev-=r.cross(H,o)*A.inverseInertia)}}}}})()},function(l,g){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}l.exports=t},function(l,g,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(276),h=function(r,a,s,i){for(var n=r[0],f=1;f<r.length;f++){var o=r[f];e(o,n,a,s,i),n=o}return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n){return e(r,"angle",a,s,i,n)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){for(var a=0;a<e.length;a++){var s=e[a];h.call(r,s)}return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){r===void 0&&(r=0);for(var a=r;a<e.length;a++){var s=e[a],i=!0;for(var n in h)s[n]!==h[n]&&(i=!1);if(i)return s}return null};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){r===void 0&&(r=0);for(var a=r;a<e.length;a++){var s=e[a],i=!0;for(var n in h)s[n]!==h[n]&&(i=!1);if(i)return s}return null};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(289),h=t(123),r=t(2),a=t(1),s=t(129),i=new s({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1),n=function(f,o){o===void 0&&(o={});var u=o.hasOwnProperty("width"),d=o.hasOwnProperty("height"),c=r(o,"width",-1),v=r(o,"height",-1),p=r(o,"cellWidth",1),x=r(o,"cellHeight",p),y=r(o,"position",h.TOP_LEFT),S=r(o,"x",0),E=r(o,"y",0),A=0,M=0,L=c*p,F=v*x;i.setPosition(S,E),i.setSize(p,x);for(var O=0;O<f.length;O++)if(e(f[O],i,y),u&&c===-1)i.x+=p;else if(d&&v===-1)i.y+=x;else if(d&&!u){if(M+=x,i.y+=x,M===F&&(M=0,A+=p,i.y=E,i.x+=p,A===L))break}else if(A+=p,i.x+=p,A===L&&(A=0,M+=x,i.x=S,i.y+=x,M===F))break;return f};l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=2,r={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,s,i,n){return a===void 0&&(a=1),s===void 0?this.alpha=a:(this._alphaTL=e(a,0,1),this._alphaTR=e(s,0,1),this._alphaBL=e(i,0,1),this._alphaBR=e(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var s=e(a,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=-3:this.renderFlags|=h}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var s=e(a,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=h)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var s=e(a,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=h)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var s=e(a,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=h)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var s=e(a,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=h)}}};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,h){return this.width=e,this.height=h,this},setDisplaySize:function(e,h){return this.displayWidth=e,this.displayHeight=h,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={texture:null,frame:null,isCropped:!1,setCrop:function(e,h,r,a){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,h,r,a,this.flipX,this.flipY);else{var s=e;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,h){return this.flipX=e,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=t(308),r=t(3),a={prepareBoundsOutput:function(s,i){if(i===void 0&&(i=!1),this.rotation!==0&&h(s,this.x,this.y,this.rotation),i&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(s.x,s.y,s)}return s},getCenter:function(s){return s===void 0&&(s=new r),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,s},getTopLeft:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getTopCenter:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getTopRight:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getLeftCenter:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,i)},getRightCenter:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,i)},getBottomLeft:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBottomCenter:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBottomRight:function(s,i){return s||(s=new r),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBounds:function(s){s===void 0&&(s=new e);var i,n,f,o,u,d,c,v;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),p.transformPoint(s.x,s.y,s),i=s.x,n=s.y,this.getTopRight(s),p.transformPoint(s.x,s.y,s),f=s.x,o=s.y,this.getBottomLeft(s),p.transformPoint(s.x,s.y,s),u=s.x,d=s.y,this.getBottomRight(s),p.transformPoint(s.x,s.y,s),c=s.x,v=s.y}else this.getTopLeft(s),i=s.x,n=s.y,this.getTopRight(s),f=s.x,o=s.y,this.getBottomLeft(s),u=s.x,d=s.y,this.getBottomRight(s),c=s.x,v=s.y;return s.x=Math.min(i,f,u,c),s.y=Math.min(n,o,d,v),s.width=Math.max(i,f,u,c)-s.x,s.height=Math.max(n,o,d,v)-s.y,s}};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="blur"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="contextlost"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="contextrestored"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="focus"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="hidden"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="poststep"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prestep"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="step"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="visible"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,h){return e===void 0&&(e=.5),h===void 0&&(h=e),this.originX=e,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,h){return e===void 0&&(e=0),h===void 0&&(h=e),this.displayOriginX=e,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),h=t(99),r=t(6),a=t(100),s=t(3),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(n,f){f===void 0&&(f=this.pathConfig);var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this.path=n,f&&this.startFollow(f),this},setRotateToPath:function(n,f){return f===void 0&&(f=0),this.rotateToPath=n,this.pathRotationOffset=f,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,f){n===void 0&&(n={}),f===void 0&&(f=0);var o=this.pathTween;o&&o.isPlaying()&&o.stop(),typeof n=="number"&&(n={duration:n}),n.from=r(n,"from",0),n.to=r(n,"to",1);var u=h(n,"positionOnPath",!1);this.rotateToPath=h(n,"rotateToPath",!1),this.pathRotationOffset=r(n,"rotationOffset",0);var d=r(n,"startAt",f);if(d&&(n.onStart=function(v){var p=v.data[0];p.progress=d,p.elapsed=p.duration*d;var x=p.ease(p.progress);p.current=p.start+(p.end-p.start)*x,p.target[p.key]=p.current}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+e(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n){var f=n.data[0],o=this.pathDelta,u=this.pathVector;if(o.copy(u).negate(),f.state===a.COMPLETE){this.path.getPoint(1,u),o.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(f.state!==a.PLAYING_FORWARD&&f.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),u),o.add(u),u.add(this.pathOffset);var d=this.x,c=this.y;this.setPosition(u.x,u.y);var v=this.x-d,p=this.y-c;if(v===0&&p===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,v)+e(this.pathRotationOffset))}}};l.exports=i},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return e===void 0&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,h){return this.width=e,this.height=h,this},setDisplaySize:function(e,h){return this.displayWidth=e,this.displayHeight=h,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(h,r){return this.texture=this.scene.sys.textures.get(h),this.setFrame(r)},setFrame:function(h,r,a){return r===void 0&&(r=!0),a===void 0&&(a=!0),this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=t,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setCrop:function(h,r,a,s){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,r,a,s,this.flipX,this.flipY);else{var i=h;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(h,r){return this.texture=this.scene.sys.textures.get(h),this.setFrame(r)},setFrame:function(h,r,a){return r===void 0&&(r=!0),a===void 0&&(a=!0),this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=t,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,h,r,a){return e===void 0&&(e=16777215),h===void 0&&(h=e,r=e,a=e),this.tintTopLeft=e,this.tintTopRight=h,this.tintBottomLeft=r,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(e,h,r,a){return this.setTint(e,h,r,a),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata-"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedata"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="setdata"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="created"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="error"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeked"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeking"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="timeout"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="create"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postupdate"},function(l,g){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleep"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioncomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioninit"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionout"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionwake"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wake"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n){return e(r,"alpha",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n){return e(r,"x",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n,f,o){return s==null&&(s=a),e(r,"x",a,i,f,o),e(r,"y",s,n,f,o)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n){return e(r,"y",a,s,i,n)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r===void 0&&(r=0),a===void 0&&(a=6.28);for(var s=r,i=(a-r)/e.length,n=0;n<e.length;n++)e[n].x=h.x+h.radius*Math.cos(s),e[n].y=h.y+h.radius*Math.sin(s),s+=i;return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r===void 0&&(r=0),a===void 0&&(a=6.28);for(var s=r,i=(a-r)/e.length,n=h.width/2,f=h.height/2,o=0;o<e.length;o++)e[o].x=h.x+n*Math.cos(s),e[o].y=h.y+f*Math.sin(s),s+=i;return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(172),h=function(r,a){for(var s=e(a,r.length),i=0;i<r.length;i++){var n=r[i],f=s[i];n.x=f.x,n.y=f.y}return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(316),h=t(178),r=t(179),a=function(s,i,n){n===void 0&&(n=0);var f=e(i,!1,s.length);n>0?h(f,n):n<0&&r(f,Math.abs(n));for(var o=0;o<s.length;o++)s[o].x=f[o].x,s[o].y=f[o].y;return s};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(317),h=function(r,a,s){var i=e({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},s),n=e({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},s),f=e({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},s);i.pop(),n.pop(),f.pop(),i=i.concat(n,f);for(var o=i.length/r.length,u=0,d=0;d<r.length;d++){var c=r[d],v=i[Math.floor(u)];c.x=v.x,c.y=v.y,u+=o}return r};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){for(var a=0;a<e.length;a++){var s=e[a];s.anims&&s.anims.play(h,r)}return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(170),h=function(r,a){for(var s=0;s<r.length;s++)e(a,r[s]);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(180),h=function(r,a){for(var s=0;s<r.length;s++)e(a,r[s]);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(173),h=function(r,a){for(var s=0;s<r.length;s++)e(a,r[s]);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(174),h=function(r,a){for(var s=0;s<r.length;s++)e(a,r[s]);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(181),h=function(r,a){for(var s=0;s<r.length;s++)e(a,r[s]);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n){return e(r,"rotation",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),h=t(50),r=function(a,s,i){for(var n=s.x,f=s.y,o=0;o<a.length;o++){var u=a[o];e(u,n,f,i,Math.max(1,h(u.x,u.y,n,f)))}return a};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),h=function(r,a,s,i){var n=a.x,f=a.y;if(i===0)return r;for(var o=0;o<r.length;o++)e(r[o],n,f,s,i);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n){return e(r,"scaleX",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n,f,o){return s==null&&(s=a),e(r,"scaleX",a,i,f,o),e(r,"scaleY",s,n,f,o)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),h=function(r,a,s,i,n){return e(r,"scaleY",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"alpha",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i){return e(r,"blendMode",a,0,s,i)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"depth",a,s,i,n)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){for(var a=0;a<e.length;a++)e[a].setInteractive(h,r);return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n,f,o){return s==null&&(s=a),e(r,"originX",a,i,f,o),e(r,"originY",s,n,f,o),r.forEach(function(u){u.updateDisplayOrigin()}),r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"rotation",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n,f,o){return s==null&&(s=a),e(r,"scaleX",a,i,f,o),e(r,"scaleY",s,n,f,o)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"scaleX",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"scaleY",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n,f,o){return s==null&&(s=a),e(r,"scrollFactorX",a,i,f,o),e(r,"scrollFactorY",s,n,f,o)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"scrollFactorX",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"scrollFactorY",a,s,i,n)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){for(var i=0;i<e.length;i++)e[i].setTint(h,r,a,s);return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i){return e(r,"visible",a,0,s,i)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"x",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n,f,o){return s==null&&(s=a),e(r,"x",a,i,f,o),e(r,"y",s,n,f,o)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),h=function(r,a,s,i,n){return e(r,"y",a,s,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i,n){i===void 0&&(i=0),n===void 0&&(n=new e);var f,o;if(r.length>1){var u,d,c,v;if(i===0){var p=r.length-1;for(f=r[p].x,o=r[p].y,u=p-1;u>=0;u--)v=r[u],d=v.x,c=v.y,v.x=f,v.y=o,f=d,o=c;r[p].x=a,r[p].y=s}else{for(f=r[0].x,o=r[0].y,u=1;u<r.length;u++)v=r[u],d=v.x,c=v.y,v.x=f,v.y=o,f=d,o=c;r[0].x=a,r[0].y=s}}else f=r[0].x,o=r[0].y,r[0].x=a,r[0].y=s;return n.x=f,n.y=o,n};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(131),h=function(r){return e(r)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),h=function(r,a,s,i,n){n===void 0&&(n=!1);var f=Math.abs(i-s)/r.length,o;if(n)for(o=0;o<r.length;o++)r[o][a]+=e(o*f,s,i);else for(o=0;o<r.length;o++)r[o][a]=e(o*f,s,i);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),h=function(r,a,s,i,n){n===void 0&&(n=!1);var f=Math.abs(i-s)/r.length,o;if(n)for(o=0;o<r.length;o++)r[o][a]+=e(o*f,s,i);else for(o=0;o<r.length;o++)r[o][a]=e(o*f,s,i);return r};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){s===void 0&&(s=!1);var i=Math.abs(a-r)/e.length,n;if(s)for(n=0;n<e.length;n++)e[n][h]+=n*i+r;else for(n=0;n<e.length;n++)e[n][h]=n*i+r;return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var h=0;h<e.length;h++)e[h].visible=!e[h].visible;return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),h=function(r,a,s){s===void 0&&(s=0);for(var i=0;i<r.length;i++){var n=r[i];n.x=e(n.x,a.left-s,a.right+s),n.y=e(n.y,a.top-s,a.bottom+s)}return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Animation:t(185),AnimationFrame:t(319),AnimationManager:t(321),AnimationState:t(164),Events:t(132)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete-"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrepeat"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrestart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationupdate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BaseCache:t(323),CacheManager:t(325),Events:t(324)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Controls:t(739),Scene2D:t(742)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FixedKeyControl:t(740),SmoothedKeyControl:t(741)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(6),r=new e({initialize:function(s){this.camera=h(s,"camera",null),this.left=h(s,"left",null),this.right=h(s,"right",null),this.up=h(s,"up",null),this.down=h(s,"down",null),this.zoomIn=h(s,"zoomIn",null),this.zoomOut=h(s,"zoomOut",null),this.zoomSpeed=h(s,"zoomSpeed",.01),this.minZoom=h(s,"minZoom",.001),this.maxZoom=h(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=h(s,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=h(s,"speed.x",0),this.speedY=h(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(6),r=new e({initialize:function(s){this.camera=h(s,"camera",null),this.left=h(s,"left",null),this.right=h(s,"right",null),this.up=h(s,"up",null),this.down=h(s,"down",null),this.zoomIn=h(s,"zoomIn",null),this.zoomOut=h(s,"zoomOut",null),this.zoomSpeed=h(s,"zoomSpeed",.01),this.minZoom=h(s,"minZoom",.001),this.maxZoom=h(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=h(s,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=h(s,"acceleration.x",0),this.accelY=h(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=h(s,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=h(s,"drag.x",0),this.dragY=h(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=h(s,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=h(s,"maxSpeed.x",0),this.maxSpeedY=h(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*a|0),this._speedY!==0&&(s.scrollY-=this._speedY*a|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Camera:t(326),BaseCamera:t(133),CameraManager:t(799),Effects:t(333),Events:t(37)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameradestroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeincomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeinstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutcomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashcomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="followupdate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapancomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapanstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatecomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatestart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakecomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakestart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomcomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomstart"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(37),a=new h({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,i,n,f,o,u,d,c){if(s===void 0&&(s=!0),i===void 0&&(i=1e3),n===void 0&&(n=0),f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=s,this.progress=0,this.red=n,this.green=f,this.blue=o,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c;var v=s?r.FADE_OUT_START:r.FADE_IN_START;return this.camera.emit(v,this.camera,this,i,n,f,o),this.camera},update:function(s,i){this.isRunning&&(this._elapsed+=i,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(s,i){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,f=this.red/255,o=this.green/255,u=this.blue/255;return s.drawFillRect(n.x,n.y,n.width,n.height,i(u,o,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?r.FADE_OUT_COMPLETE:r.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(37),a=new h({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,i,n,f,o,u,d){return s===void 0&&(s=250),i===void 0&&(i=255),n===void 0&&(n=255),f===void 0&&(f=255),o===void 0&&(o=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=i,this.green=n,this.blue=f,this.alpha=1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(r.FLASH_START,this.camera,this,s,i,n,f),this.camera)},update:function(s,i){this.isRunning&&(this._elapsed+=i,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var i=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(s,i){if(!this.isRunning)return!1;var n=this.camera,f=this.red/255,o=this.green/255,u=this.blue/255;return s.drawFillRect(n.x,n.y,n.width,n.height,i(u,o,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(134),a=t(37),s=t(3),i=new h({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,f,o,u,d,c,v){o===void 0&&(o=1e3),u===void 0&&(u=r.Linear),d===void 0&&(d=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene);var p=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(n,f),p.getScroll(n,f,this.current),typeof u=="string"&&r.hasOwnProperty(u)?this.ease=r[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.camera.emit(a.PAN_START,this.camera,this,o,n,f)),p},update:function(n,f){if(this.isRunning){this._elapsed+=f;var o=e(this._elapsed/this.duration,0,1);this.progress=o;var u=this.camera;if(this._elapsed<this.duration){var d=this.ease(o);u.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*d,v=this.source.y+(this.current.y-this.source.y)*d;u.setScroll(c,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,o,c,v)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,o,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=i},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=1.70158),e*e*((h+1)*e-h)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=1.70158),--e*e*((h+1)*e+h)+1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=1.70158);var r=h*1.525;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h=!1;return e<.5?(e=1-e*2,h=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,h?(1-e)*.5:e*.5+.5};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.sqrt(1-e*e)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(1- --e*e)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e+1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(h===void 0&&(h=.1),r===void 0&&(r=.1),e===0)return 0;if(e===1)return 1;var a=r/4;return h<1?h=1:a=r*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/r))};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(h===void 0&&(h=.1),r===void 0&&(r=.1),e===0)return 0;if(e===1)return 1;var a=r/4;return h<1?h=1:a=r*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*e)*Math.sin((e-a)*(2*Math.PI)/r)+1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(h===void 0&&(h=.1),r===void 0&&(r=.1),e===0)return 0;if(e===1)return 1;var a=r/4;return h<1?h=1:a=r*Math.asin(1/h)/(2*Math.PI),(e*=2)<1?-.5*(h*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/r)):h*Math.pow(2,-10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/r)*.5+1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.pow(2,10*(e-1))-.001};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.pow(2,-10*e)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*(2-e)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1- --e*e*e*e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e*e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e*e*e+1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=1),e<=0?0:e>=1?1:((h*e|0)+1)*(1/h)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(37),a=t(3),s=new h({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,n,f,o,u){return i===void 0&&(i=100),n===void 0&&(n=.05),f===void 0&&(f=!1),o===void 0&&(o=null),u===void 0&&(u=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=o,this._onUpdateScope=u,this.camera.emit(r.SHAKE_START,this.camera,this,i,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,n){if(this.isRunning)if(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,o=this.camera.width,u=this.camera.height,d=this.camera.zoom;this._offsetX=(Math.random()*f.x*o*2-f.x*o)*d,this._offsetY=(Math.random()*f.y*u*2-f.y*u)*d,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});l.exports=s},function(l,g,t){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e=t(18),h=t(0),r=t(37),a=t(134),s=new h({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,n,f,o,u,d,c){f===void 0&&(f=1e3),o===void 0&&(o=a.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=i;i<0?(v=-1*i,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;v=v-Math.floor(v/p)*p;var x=this.camera;if(!u&&this.isRunning)return x;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=x.rotation,this.destination=v,typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.shortestPath){var y=0,S=0;this.destination>this.source?y=Math.abs(this.destination-this.source):y=Math.abs(this.destination+p)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+p)-this.destination,y<S?this.clockwise=!0:y>S&&(this.clockwise=!1)}return this.camera.emit(r.ROTATE_START,this.camera,this,f,v),x},update:function(i,n){if(this.isRunning){this._elapsed+=n;var f=e(this._elapsed/this.duration,0,1);this.progress=f;var o=this.camera;if(this._elapsed<this.duration){var u=this.ease(f);this.current=o.rotation;var d=0,c=360*Math.PI/180,v=this.destination,p=this.current;this.clockwise===!1&&(v=this.current,p=this.destination),v>=p?d=Math.abs(v-p):d=Math.abs(v+c)-p;var x=0;this.clockwise?x=o.rotation+d*u:x=o.rotation-d*u,o.rotation=x,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,f,x)}else o.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(134),a=t(37),s=new h({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,n,f,o,u,d){n===void 0&&(n=1e3),f===void 0&&(f=r.Linear),o===void 0&&(o=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!o&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=c.zoom,this.destination=i,typeof f=="string"&&r.hasOwnProperty(f)?this.ease=r[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(a.ZOOM_START,this.camera,this,n,i)),c},update:function(i,n){this.isRunning&&(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(326),h=t(0),r=t(2),a=t(24),s=t(57),i=t(104),n=t(20),f=new h({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.start,this)},boot:function(){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new e(0,0,o.scale.width,o.scale.height).setScene(this.scene),o.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.shutdown,this)},add:function(o,u,d,c,v,p){o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),v===void 0&&(v=!1),p===void 0&&(p="");var x=new e(o,u,d,c);return x.setName(p),x.setScene(this.scene),x.setRoundPixels(this.roundPixels),x.id=this.getNextID(),this.cameras.push(x),v&&(this.main=x),x},addExisting:function(o,u){u===void 0&&(u=!1);var d=this.cameras.indexOf(o);return d===-1?(o.id=this.getNextID(),o.setRoundPixels(this.roundPixels),this.cameras.push(o),u&&(this.main=o),o):null},getNextID:function(){for(var o=this.cameras,u=1,d=0;d<32;d++){for(var c=!1,v=0;v<o.length;v++){var p=o[v];if(p&&p.id===u){c=!0;continue}}if(c)u=u<<1;else return u}return 0},getTotal:function(o){o===void 0&&(o=!1);for(var u=0,d=this.cameras,c=0;c<d.length;c++){var v=d[c];(!o||o&&v.visible)&&u++}return u},fromJSON:function(o){Array.isArray(o)||(o=[o]);for(var u=this.scene.sys.scale.width,d=this.scene.sys.scale.height,c=0;c<o.length;c++){var v=o[c],p=r(v,"x",0),x=r(v,"y",0),y=r(v,"width",u),S=r(v,"height",d),E=this.add(p,x,y,S);E.name=r(v,"name",""),E.zoom=r(v,"zoom",1),E.rotation=r(v,"rotation",0),E.scrollX=r(v,"scrollX",0),E.scrollY=r(v,"scrollY",0),E.roundPixels=r(v,"roundPixels",!1),E.visible=r(v,"visible",!0);var A=r(v,"backgroundColor",!1);A&&E.setBackgroundColor(A);var M=r(v,"bounds",null);if(M){var L=r(M,"x",0),F=r(M,"y",0),O=r(M,"width",u),B=r(M,"height",d);E.setBounds(L,F,O,B)}}return this},getCamera:function(o){for(var u=this.cameras,d=0;d<u.length;d++)if(u[d].name===o)return u[d];return null},getCamerasBelowPointer:function(o){for(var u=this.cameras,d=o.x,c=o.y,v=[],p=0;p<u.length;p++){var x=u[p];x.visible&&x.inputEnabled&&s(x,d,c)&&v.unshift(x)}return v},remove:function(o,u){u===void 0&&(u=!0),Array.isArray(o)||(o=[o]);for(var d=0,c=this.cameras,v=0;v<o.length;v++){var p=c.indexOf(o[v]);p!==-1&&(u?c[p].destroy():c[p].renderList=[],c.splice(p,1),d++)}return!this.main&&c[0]&&(this.main=c[0]),d},render:function(o,u){for(var d=this.scene,c=this.cameras,v=0;v<this.cameras.length;v++){var p=c[v];if(p.visible&&p.alpha>0){p.preRender();var x=this.getVisibleChildren(u.getChildren(),p);o.render(d,x,p)}}},getVisibleChildren:function(o,u){for(var d=[],c=0;c<o.length;c++){var v=o[c];v.willRender(u)&&d.push(v)}return d},resetAll:function(){for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(o,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].update(o,u)},onResize:function(o,u,d,c,v){for(var p=0;p<this.cameras.length;p++){var x=this.cameras[p];x._x===0&&x._y===0&&x._width===c&&x._height===v&&x.setSize(u.width,u.height)}},resize:function(o,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].setSize(o,u)},shutdown:function(){this.main=void 0;for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();this.cameras=[];var u=this.systems.events;u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});a.register("CameraManager",f,"cameras"),l.exports=f},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="enterfullscreen"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenfailed"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenunsupported"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="leavefullscreen"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="orientationchange"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Config:t(346),CreateRenderer:t(366),DebugHeader:t(384),Events:t(22),TimeStep:t(385),VisibilityHandler:t(387)}},function(l,g){var t=l.exports={},e,h;function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?h=clearTimeout:h=a}catch{h=a}})();function s(x){if(e===setTimeout)return setTimeout(x,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(x,0);try{return e(x,0)}catch{try{return e.call(null,x,0)}catch{return e.call(this,x,0)}}}function i(x){if(h===clearTimeout)return clearTimeout(x);if((h===a||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(x);try{return h(x)}catch{try{return h.call(null,x)}catch{return h.call(this,x)}}}var n=[],f=!1,o,u=-1;function d(){!f||!o||(f=!1,o.length?n=o.concat(n):u=-1,n.length&&c())}function c(){if(!f){var x=s(d);f=!0;for(var y=n.length;y;){for(o=n,n=[];++u<y;)o&&o[u].run();u=-1,y=n.length}o=null,f=!1,i(x)}}t.nextTick=function(x){var y=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)y[S-1]=arguments[S];n.push(new v(x,y)),n.length===1&&!f&&s(c)};function v(x,y){this.fun=x,this.array=y}v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function p(){}t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(x){return[]},t.binding=function(x){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(x){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),h={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function r(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(h.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(h.mspointer=!0),navigator.getGamepads&&(h.gamepads=!0),"onwheel"in window||e.ie&&"WheelEvent"in window?h.wheelEvent="wheel":"onmousewheel"in window?h.wheelEvent="mousewheel":e.firefox&&"MouseScrollEvent"in window&&(h.wheelEvent="DOMMouseScroll")),h}l.exports=r()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),h={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function r(){if(typeof importScripts=="function")return h;h.audioData=!!window.Audio,h.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),s=!!a.canPlayType;try{if(s&&(a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(h.ogg=!0),(a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||a.canPlayType("audio/opus;").replace(/^no$/,""))&&(h.opus=!0),a.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(h.mp3=!0),a.canPlayType("audio/wav").replace(/^no$/,"")&&(h.wav=!0),(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;").replace(/^no$/,""))&&(h.m4a=!0),a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(h.webm=!0),a.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(e.edge)h.dolby=!0;else if(e.safari&&e.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),n=parseInt(RegExp.$2,10);(i===10&&n>=11||i>10)&&(h.dolby=!0)}}}catch{}return h}l.exports=r()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function e(){if(typeof importScripts=="function")return t;var h=document.createElement("video"),r=!!h.canPlayType;try{r&&(h.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch{}return t}l.exports=e()},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return t;var h,r="Fullscreen",a="FullScreen",s=["request"+r,"request"+a,"webkitRequest"+r,"webkitRequest"+a,"msRequest"+r,"msRequest"+a,"mozRequest"+a,"mozRequest"+r];for(h=0;h<s.length;h++)if(document.documentElement[s[h]]){t.available=!0,t.request=s[h];break}var i=["cancel"+a,"exit"+r,"webkitCancel"+a,"webkitExit"+r,"msCancel"+a,"msExit"+r,"mozCancel"+a,"mozExit"+r];if(t.available){for(h=0;h<i.length;h++)if(document[i[h]]){t.cancel=i[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}l.exports=e()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:t(349),BetweenPoints:t(350),BetweenPointsY:t(813),BetweenY:t(814),CounterClockwise:t(815),Normalize:t(351),Random:t(816),RandomDegrees:t(817),Reverse:t(818),RotateTo:t(819),ShortestBetween:t(820),Wrap:t(269),WrapDegrees:t(270)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return Math.atan2(h.x-e.x,h.y-e.y)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return Math.atan2(r-e,a-h)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=function(r){return r>Math.PI&&(r-=e.PI2),Math.abs(((r+e.TAU)%e.PI2-e.PI2)%e.PI2)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),h=function(){return e(-Math.PI,Math.PI)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),h=function(){return e(-180,180)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(351),h=function(r){return e(r+Math.PI)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=function(r,a,s){return s===void 0&&(s=.05),r===a||(Math.abs(a-r)<=s||Math.abs(a-r)>=e.PI2-s?r=a:(Math.abs(a-r)>Math.PI&&(a<r?a+=e.PI2:a-=e.PI2),a>r?r+=s:a<r&&(r-=s))),r};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=h-e;if(r===0)return 0;var a=Math.floor((r- -180)/360);return r-a*360};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:t(50),BetweenPoints:t(352),BetweenPointsSquared:t(822),Chebyshev:t(823),Power:t(824),Snake:t(825),Squared:t(353)}},function(l,g){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.x-h.x,a=e.y-h.y;return r*r+a*a};l.exports=t},function(l,g){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return Math.max(Math.abs(e-r),Math.abs(h-a))};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(r-e,s)+Math.pow(a-h,s))};l.exports=t},function(l,g){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return Math.abs(e-r)+Math.abs(h-a)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Back:t(334),Bounce:t(335),Circular:t(336),Cubic:t(337),Elastic:t(338),Expo:t(339),Linear:t(340),Quadratic:t(341),Quartic:t(342),Quintic:t(343),Sine:t(344),Stepped:t(345)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:t(828),Equal:t(124),Floor:t(829),GreaterThan:t(354),LessThan:t(355)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=1e-4),Math.ceil(e-h)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=1e-4),Math.floor(e+h)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bezier:t(831),CatmullRom:t(832),CubicBezier:t(358),Linear:t(833),QuadraticBezier:t(359),SmoothStep:t(360),SmootherStep:t(834)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(356),h=function(r,a){for(var s=0,i=r.length-1,n=0;n<=i;n++)s+=Math.pow(1-a,i-n)*Math.pow(a,n)*r[n]*e(i,n);return s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),h=function(r,a){var s=r.length-1,i=s*a,n=Math.floor(i);return r[0]===r[s]?(a<0&&(n=Math.floor(i=s*(1+a))),e(i-n,r[(n-1+s)%s],r[n],r[(n+1)%s],r[(n+2)%s])):a<0?r[0]-(e(-i,r[0],r[0],r[1],r[1])-r[0]):a>1?r[s]-(e(i-s,r[s],r[s],r[s-1],r[s-1])-r[s]):e(i-n,r[n?n-1:0],r[n],r[s<n+1?s:n+1],r[s<n+2?s:n+2])};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),h=function(r,a){var s=r.length-1,i=s*a,n=Math.floor(i);return a<0?e(r[0],r[1],i):a>1?e(r[s],r[s-1],s-i):e(r[n],r[n+1>s?s:n+1],i-n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),h=function(r,a,s){return a+(s-a)*e(r,0,1)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetNext:t(361),IsSize:t(138),IsValue:t(836)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0&&(e&e-1)===0};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:t(139),Floor:t(76),To:t(838)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){return r===void 0&&(r=0),h===0?e:(e-=r,e=h*Math.round(e/h),a?(r+e)/h:r+e)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=new e({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var r=2091639*this.s0+this.c*23283064365386963e-26;return this.c=r|0,this.s0=this.s1,this.s1=this.s2,this.s2=r-this.c,this.s2},hash:function(r){var a,s=this.n;r=r.toString();for(var i=0;i<r.length;i++)s+=r.charCodeAt(i),a=.02519603282416938*s,s=a>>>0,a-=s,a*=s,s=a>>>0,a-=s,s+=a*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(r){typeof r=="string"?this.state(r):this.sow(r)},sow:function(r){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!r)for(var a=0;a<r.length&&r[a]!=null;a++){var s=r[a];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(r,a){return Math.floor(this.realInRange(0,a-r+1)+r)},between:function(r,a){return Math.floor(this.realInRange(0,a-r+1)+r)},realInRange:function(r,a){return this.frac()*(a-r)+r},normal:function(){return 1-2*this.frac()},uuid:function(){var r="",a="";for(a=r="";r++<36;a+=~r%5|r*3&4?(r^15?8^this.frac()*(r^20?16:4):4).toString(16):"-");return a},pick:function(r){return r[this.integerInRange(0,r.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(r){return r[~~(Math.pow(this.frac(),2)*(r.length-1)+.5)]},timestamp:function(r,a){return this.realInRange(r||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(r){return typeof r=="string"&&r.match(/^!rnd/)&&(r=r.split(","),this.c=parseFloat(r[1]),this.s0=parseFloat(r[2]),this.s1=parseFloat(r[3]),this.s2=parseFloat(r[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(r){for(var a=r.length-1,s=a;s>0;s--){var i=Math.floor(this.frac()*(s+1)),n=r[i];r[i]=r[s],r[s]=n}return r}});l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var h=0,r=0;r<e.length;r++)h+=+e[r];return h/e.length};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){h===void 0&&(h=0),r===void 0&&(r=10);var a=Math.pow(r,-h);return Math.ceil(e*a)/a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return Math.abs(e-h)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(69),a=t(1),s=new r,i=new h({initialize:function n(f,o,u,d){f===void 0&&(f=0),o===void 0&&(o=0),u===void 0&&(u=0),d===void 0&&(d=n.DefaultOrder),this._x=f,this._y=o,this._z=u,this._order=d,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,f,o,u){return u===void 0&&(u=this._order),this._x=n,this._y=f,this._z=o,this._order=u,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,f,o){return f===void 0&&(f=this._order),o===void 0&&(o=!1),s.fromQuat(n),this.setFromRotationMatrix(s,f,o)},setFromRotationMatrix:function(n,f,o){f===void 0&&(f=this._order),o===void 0&&(o=!1);var u=n.val,d=u[0],c=u[4],v=u[8],p=u[1],x=u[5],y=u[9],S=u[2],E=u[6],A=u[10],M=0,L=0,F=0,O=.99999;switch(f){case"XYZ":{L=Math.asin(e(v,-1,1)),Math.abs(v)<O?(M=Math.atan2(-y,A),F=Math.atan2(-c,d)):M=Math.atan2(E,x);break}case"YXZ":{M=Math.asin(-e(y,-1,1)),Math.abs(y)<O?(L=Math.atan2(v,A),F=Math.atan2(p,x)):L=Math.atan2(-S,d);break}case"ZXY":{M=Math.asin(e(E,-1,1)),Math.abs(E)<O?(L=Math.atan2(-S,A),F=Math.atan2(-c,x)):F=Math.atan2(p,d);break}case"ZYX":{L=Math.asin(-e(S,-1,1)),Math.abs(S)<O?(M=Math.atan2(E,A),F=Math.atan2(p,d)):F=Math.atan2(-c,x);break}case"YZX":{F=Math.asin(e(p,-1,1)),Math.abs(p)<O?(M=Math.atan2(-y,x),L=Math.atan2(-S,d)):L=Math.atan2(v,A);break}case"XZY":{F=Math.asin(-e(c,-1,1)),Math.abs(c)<O?(M=Math.atan2(E,x),L=Math.atan2(v,d)):M=Math.atan2(-y,A);break}}return this._x=M,this._y=L,this._z=F,this._order=f,o&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",l.exports=i},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){h===void 0&&(h=0),r===void 0&&(r=10);var a=Math.pow(r,-h);return Math.floor(e*a)/a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e/h/1e3};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e==parseFloat(e)?!(e%2):void 0};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===parseFloat(e)?!(e%2):void 0};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return Math.min(e+h,r)};l.exports=t},function(l,g){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h=e.length;if(h===0)return 0;e.sort(function(a,s){return a-s});var r=Math.floor(h/2);return h%2===0?(e[r]+e[r-1])/2:e[r]};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return Math.max(e-h,r)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r===void 0&&(r=h+1);var s=(e-h)/(r-h);return s>1?a!==void 0?(s=(a-e)/(a-r),s<0&&(s=0)):s=1:s<0&&(s=0),s};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=1);var r=Math.random()*2*Math.PI;return e.x=Math.cos(r)*h,e.y=Math.sin(r)*h,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=1);var r=Math.random()*2*Math.PI,a=Math.random()*2-1,s=Math.sqrt(1-a*a)*h;return e.x=Math.cos(r)*s,e.y=Math.sin(r)*s,e.z=a*h,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h=1),e.x=(Math.random()*2-1)*h,e.y=(Math.random()*2-1)*h,e.z=(Math.random()*2-1)*h,e.w=(Math.random()*2-1)*h,e};l.exports=t},function(l,g){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){return e.x=h+s*Math.cos(a),e.y=r+s*Math.sin(a),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){h===void 0&&(h=0),r===void 0&&(r=10);var a=Math.pow(r,-h);return Math.round(e*a)/a};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h===void 0&&(h=1),r===void 0&&(r=1),a===void 0&&(a=1),a*=Math.PI/e;for(var s=[],i=[],n=0;n<e;n++)r-=h*a,h+=r*a,s[n]=r,i[n]=h;return{sin:i,cos:s,length:e}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),h=function(r,a,s,i){i===void 0&&(i=new e);var n=0,f=0,o=a*s;return r>0&&r<=o&&(r>a-1?(f=Math.floor(r/a),n=r-f*a):n=r),i.set(n,f)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return Math.abs(e-h)<=r};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),h=t(69),r=t(365),a=new h,s=new r,i=new e,n=function(f,o,u){return s.setAxisAngle(o,u),a.fromRotationTranslation(s,i.set(0,0,0)),f.transformMat4(a)};l.exports=n},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addtexture"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onerror"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onload"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removetexture"},function(l,g){l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineafterflush"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebeforeflush"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebind"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineboot"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinedestroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinerebind"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineresize"},function(l,g){l.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(l,g){l.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GenerateTexture:t(388),Palettes:t(889)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARNE16:t(389),C64:t(890),CGA:t(891),JMP:t(892),MSX:t(893)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Path:t(895),MoveTo:t(393),CubicBezier:t(390),Curve:t(94),Ellipse:t(391),Line:t(392),QuadraticBezier:t(394),Spline:t(395)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(390),r=t(391),a=t(5),s=t(392),i=t(393),n=t(394),f=t(10),o=t(395),u=t(3),d=t(14),c=new e({initialize:function(p,x){p===void 0&&(p=0),x===void 0&&(x=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,x)},add:function(v){return this.curves.push(v),this},circleTo:function(v,p,x){return p===void 0&&(p=!1),this.ellipseTo(v,v,0,360,p,x)},closePath:function(){var v=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return v.equals(p)||this.curves.push(new s(p,v)),this},cubicBezierTo:function(v,p,x,y,S,E){var A=this.getEndPoint(),M,L,F;return v instanceof u?(M=v,L=p,F=x):(M=new u(x,y),L=new u(S,E),F=new u(v,p)),this.add(new h(A,M,L,F))},quadraticBezierTo:function(v,p,x,y){var S=this.getEndPoint(),E,A;return v instanceof u?(E=v,A=p):(E=new u(x,y),A=new u(v,p)),this.add(new n(S,E,A))},draw:function(v,p){for(var x=0;x<this.curves.length;x++){var y=this.curves[x];y.active&&y.draw(v,p)}return v},ellipseTo:function(v,p,x,y,S,E){var A=new r(0,0,v,p,x,y,S,E),M=this.getEndPoint(this._tmpVec2A),L=A.getStartPoint(this._tmpVec2B);return M.subtract(L),A.x=M.x,A.y=M.y,this.add(A)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var p=0;p<v.curves.length;p++){var x=v.curves[p];switch(x.type){case"LineCurve":this.add(s.fromJSON(x));break;case"EllipseCurve":this.add(r.fromJSON(x));break;case"SplineCurve":this.add(o.fromJSON(x));break;case"CubicBezierCurve":this.add(h.fromJSON(x));break;case"QuadraticBezierCurve":this.add(n.fromJSON(x));break}}return this},getBounds:function(v,p){v===void 0&&(v=new f),p===void 0&&(p=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var x=new f,y=d.MIN_SAFE_INTEGER,S=d.MIN_SAFE_INTEGER,E=0;E<this.curves.length;E++){var A=this.curves[E];A.active&&(A.getBounds(x,p),v.x=Math.min(v.x,x.x),v.y=Math.min(v.y,x.y),y=Math.max(y,x.right),S=Math.max(S,x.bottom))}return v.right=y,v.bottom=S,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],p=0,x=0;x<this.curves.length;x++)p+=this.curves[x].getLength(),v.push(p);return this.cacheLengths=v,v},getEndPoint:function(v){return v===void 0&&(v=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,p){p===void 0&&(p=new u);for(var x=v*this.getLength(),y=this.getCurveLengths(),S=0;S<y.length;){if(y[S]>=x){var E=y[S]-x,A=this.curves[S],M=A.getLength(),L=M===0?0:1-E/M;return A.getPointAt(L,p)}S++}return null},getPoints:function(v){v===void 0&&(v=12);for(var p=[],x,y=0;y<this.curves.length;y++){var S=this.curves[y];if(S.active)for(var E=S.getResolution(v),A=S.getPoints(E),M=0;M<A.length;M++){var L=A[M];x&&x.equals(L)||(p.push(L),x=L)}}return this.autoClose&&p.length>1&&!p[p.length-1].equals(p[0])&&p.push(p[0]),p},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var p=[],x=0;x<=v;x++)p.push(this.getPoint(x/v));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,p){p===void 0&&(p=new u);for(var x=v*this.getLength(),y=this.getCurveLengths(),S=0;S<y.length;){if(y[S]>=x){var E=y[S]-x,A=this.curves[S],M=A.getLength(),L=M===0?0:1-E/M;return A.getTangentAt(L,p)}S++}return null},lineTo:function(v,p){v instanceof u?this._tmpVec2B.copy(v):this._tmpVec2B.set(v,p);var x=this.getEndPoint(this._tmpVec2A);return this.add(new s([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new o(v))},moveTo:function(v,p){return v instanceof u?this.add(new i(v.x,v.y)):this.add(new i(v,p))},toJSON:function(){for(var v=[],p=0;p<this.curves.length;p++)v.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(v,p){return new c(v,p)}),l.exports=c},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DataManager:t(101),DataManagerPlugin:t(897),Events:t(315)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(101),r=t(24),a=t(20),s=new e({Extends:h,initialize:function(n){h.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){h.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});r.register("DataManagerPlugin",s,"data"),l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Align:t(899),BaseShader:t(396),Bounds:t(902),Canvas:t(906),Color:t(397),ColorMatrix:t(198),Masks:t(916),RGB:t(200)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),h=t(17),r={In:t(900),To:t(901)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:t(290),BottomLeft:t(291),BottomRight:t(292),Center:t(293),LeftCenter:t(295),QuickSet:t(289),RightCenter:t(296),TopCenter:t(297),TopLeft:t(298),TopRight:t(299)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:t(277),BottomLeft:t(278),BottomRight:t(279),LeftBottom:t(280),LeftCenter:t(281),LeftTop:t(282),QuickSet:t(276),RightBottom:t(283),RightCenter:t(284),RightTop:t(285),TopCenter:t(286),TopLeft:t(287),TopRight:t(288)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CenterOn:t(294),GetBottom:t(42),GetBounds:t(903),GetCenterX:t(87),GetCenterY:t(89),GetLeft:t(43),GetOffsetX:t(904),GetOffsetY:t(905),GetRight:t(44),GetTop:t(45),SetBottom:t(55),SetCenterX:t(88),SetCenterY:t(90),SetLeft:t(53),SetRight:t(54),SetTop:t(52)}},function(l,g,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),h=t(43),r=t(44),a=t(45),s=function(i,n){n===void 0&&(n={});var f=h(i),o=a(i);return n.x=f,n.y=o,n.width=r(i)-f,n.height=e(i)-o,n};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.originX};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height*e.originY};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasInterpolation:t(367),CanvasPool:t(31),Smoothing:t(192),TouchAction:t(907),UserSelect:t(908)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===void 0&&(h="none"),e.style.msTouchAction=h,e.style["ms-touch-action"]=h,e.style["touch-action"]=h,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h="none");var r=["-webkit-","-khtml-","-moz-","-ms-",""];return r.forEach(function(a){e.style[a+"user-select"]=h}),e.style["-webkit-touch-callout"]=h,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),h=function(r){r===void 0&&(r=1024);var a=[],s=255,i,n=255,f=0,o=0;for(i=0;i<=s;i++)a.push({r:n,g:i,b:o,color:e(n,i,o)});for(f=255,i=s;i>=0;i--)a.push({r:i,g:f,b:o,color:e(i,f,o)});for(n=0,i=0;i<=s;i++,f--)a.push({r:n,g:f,b:i,color:e(n,f,i)});for(f=0,o=255,i=0;i<=s;i++,o--,n++)a.push({r:n,g:f,b:o,color:e(n,f,o)});if(r===1024)return a;var u=[],d=0,c=1024/r;for(i=0;i<r;i++)u.push(a[Math.floor(d)]),d+=c;return u};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(h.a=e>>>24),h};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),h=t(399),r=function(a,s,i){var n=i,f=i,o=i;if(s!==0){var u=i<.5?i*(1+s):i+s-i*s,d=2*i-u;n=h(d,u,a+1/3),f=h(d,u,a),o=h(d,u,a-1/3)}var c=new e;return c.setGLTo(n,f,o,1)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(188),h=function(r,a){r===void 0&&(r=1),a===void 0&&(a=1);for(var s=[],i=0;i<=359;i++)s.push(e(i/359,r,a));return s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),h=function(s,i,n,f,o,u,d,c){d===void 0&&(d=100),c===void 0&&(c=0);var v=c/d;return{r:e(s,f,v),g:e(i,o,v),b:e(n,u,v)}},r=function(s,i,n,f){return n===void 0&&(n=100),f===void 0&&(f=0),h(s.r,s.g,s.b,i.r,i.g,i.b,n,f)},a=function(s,i,n,f,o,u){return o===void 0&&(o=100),u===void 0&&(u=0),h(s.r,s.g,s.b,i,n,f,o,u)};l.exports={RGBWithRGB:h,ColorWithRGB:a,ColorWithColor:r}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),h=t(38),r=function(a,s){return a===void 0&&(a=0),s===void 0&&(s=255),new h(e(a,s),e(a,s),e(a,s))};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(398),h=function(r,a,s,i,n){return i===void 0&&(i=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(r<<16)+(a<<8)+s).toString(16).slice(1,7):"0x"+e(i)+e(r)+e(a)+e(s)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BitmapMask:t(310),GeometryMask:t(311)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={AddToDOM:t(142),DOMContentLoaded:t(400),GetInnerHeight:t(401),GetScreenOrientation:t(402),GetTarget:t(407),ParseXML:t(408),RemoveFromDOM:t(202),RequestAnimationFrame:t(386)};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EventEmitter:t(919)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(24),a=new e({Extends:h,initialize:function(){h.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});r.register("EventEmitter",a,"events"),l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),h=t(321),r=t(325),a=t(31),s=t(0),i=t(346),n=t(921),f=t(366),o=t(101),u=t(384),d=t(347),c=t(400),v=t(9),p=t(22),x=t(409),y=t(24),S=t(414),E=t(415),A=t(417),M=t(106),L=t(422),F=t(385),O=t(387),B=t(426),N=new s({initialize:function(Y){this.config=new i(Y),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new h(this),this.textures=new L(this),this.cache=new r(this),this.registry=new o(this),this.input=new x(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=d,this.scale=new E(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new F(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,c(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),n(this),u(this),e(this.canvas,this.config.parent),this.textures.once(M.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var G=this.events;G.on(p.HIDDEN,this.onHidden,this),G.on(p.VISIBLE,this.onVisible,this),G.on(p.BLUR,this.onBlur,this),G.on(p.FOCUS,this.onFocus,this)},step:function(G,Y){if(this.pendingDestroy)return this.runDestroy();var H=this.events;H.emit(p.PRE_STEP,G,Y),H.emit(p.STEP,G,Y),this.scene.update(G,Y),H.emit(p.POST_STEP,G,Y);var b=this.renderer;b.preRender(),H.emit(p.PRE_RENDER,b,G,Y),this.scene.render(b),b.postRender(),H.emit(p.POST_RENDER,b,G,Y)},headlessStep:function(G,Y){if(this.pendingDestroy)return this.runDestroy();var H=this.events;H.emit(p.PRE_STEP,G,Y),H.emit(p.STEP,G,Y),this.scene.update(G,Y),H.emit(p.POST_STEP,G,Y),H.emit(p.PRE_RENDER),H.emit(p.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(G,Y){Y===void 0&&(Y=!1),this.pendingDestroy=!0,this.removeCanvas=G,this.noReturn=Y},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});l.exports=N},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),h=function(r){var a=r.config;if(!(!a.parent||!a.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+r.scale.width+"px;","height: "+r.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),r.domContainer=s,e(s,a.parent)}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameout"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameover"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectdown"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectmove"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectout"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectover"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectup"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectwheel"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="process"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdownoutside"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerupoutside"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerlockchange"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addfile"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete-"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loaderror"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="load"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fileprogress"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postprocess"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="progress"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(!r.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=e.source[h];e.add("__BASE",h,0,0,a.width,a.height);for(var s=r.getElementsByTagName("SubTexture"),i,n=0;n<s.length;n++){var f=s[n].attributes,o=f.name.value,u=parseInt(f.x.value,10),d=parseInt(f.y.value,10),c=parseInt(f.width.value,10),v=parseInt(f.height.value,10);if(i=e.add(o,h,u,d,c,v),f.frameX){var p=Math.abs(parseInt(f.frameX.value,10)),x=Math.abs(parseInt(f.frameY.value,10)),y=parseInt(f.frameWidth.value,10),S=parseInt(f.frameHeight.value,10);i.setTrim(c,v,p,x,y,S)}}return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.source[h];return e.add("__BASE",h,0,0,r.width,r.height),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.source[h];return e.add("__BASE",h,0,0,r.width,r.height),e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),h=function(r,a,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=r.source[a];r.add("__BASE",a,0,0,i.width,i.height);for(var n=Array.isArray(s.textures)?s.textures[a].frames:s.frames,f,o=0;o<n.length;o++){var u=n[o];f=r.add(u.filename,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),u.trimmed&&f.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(f.rotated=!0,f.updateUVsInverted());var d=u.anchor||u.pivot;d&&(f.customPivot=!0,f.pivotX=d.x,f.pivotY=d.y),f.customData=e(u)}for(var c in s)c!=="frames"&&(Array.isArray(s[c])?r.customData[c]=s[c].slice(0):r.customData[c]=s[c]);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),h=function(r,a,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=r.source[a];r.add("__BASE",a,0,0,i.width,i.height);var n=s.frames,f;for(var o in n)if(n.hasOwnProperty(o)){var u=n[o];f=r.add(o,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),u.trimmed&&f.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(f.rotated=!0,f.updateUVsInverted());var d=u.anchor||u.pivot;d&&(f.customPivot=!0,f.pivotX=d.x,f.pivotY=d.y),f.customData=e(u)}for(var c in s)c!=="frames"&&(Array.isArray(s[c])?r.customData[c]=s[c].slice(0):r.customData[c]=s[c]);return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=function(r,a,s,i,n,f,o){var u=e(o,"frameWidth",null),d=e(o,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=r.source[a];r.add("__BASE",a,0,0,c.width,c.height);var v=e(o,"startFrame",0),p=e(o,"endFrame",-1),x=e(o,"margin",0),y=e(o,"spacing",0),S=Math.floor((n-x+y)/(u+y)),E=Math.floor((f-x+y)/(d+y)),A=S*E;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",r.key),(v>A||v<-A)&&(v=0),v<0&&(v=A+v),p!==-1&&(A=v+(p+1));for(var M=x,L=x,F=0,O=0,B=0;B<A;B++){F=0,O=0;var N=M+u,G=L+d;N>n&&(F=N-n),G>f&&(O=G-f),r.add(B,a,s+M,i+L,u-F,d-O),M+=u+y,M+u>n&&(M=x,L+=d+y)}return r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),h=function(r,a,s){var i=e(s,"frameWidth",null),n=e(s,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=r.source[0];r.add("__BASE",0,0,0,f.width,f.height),e(s,"startFrame",0),e(s,"endFrame",-1);for(var o=e(s,"margin",0),u=e(s,"spacing",0),d=a.cutX,c=a.cutY,v=a.cutWidth,p=a.cutHeight,x=a.realWidth,y=a.realHeight,S=Math.floor((x-o+u)/(i+u)),E=Math.floor((y-o+u)/(n+u)),A=a.x,M=i-A,L=i-(x-v-A),F=a.y,O=n-F,B=n-(y-p-F),N,G=o,Y=o,H=0,b=a.sourceIndex,Z=0;Z<E;Z++){for(var $=Z===0,w=Z===E-1,D=0;D<S;D++){var V=D===0,z=D===S-1;if(N=r.add(H,b,d+G,c+Y,i,n),V||$||z||w){var X=V?A:0,j=$?F:0,K=0,Q=0;V&&(K+=i-M),z&&(K+=i-L),$&&(Q+=n-O),w&&(Q+=n-B);var k=i-K,_=n-Q;N.cutWidth=k,N.cutHeight=_,N.setTrim(i,n,X,j,k,_)}G+=u,V?G+=M:z?G+=L:G+=i,H++}G=o,Y+=u,$?Y+=O:w?Y+=B:Y+=n}return r};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,e=function(r,a,s,i){var n=t-i.y-i.height;r.add(s,a,i.x,n,i.width,i.height)},h=function(r,a,s){var i=r.source[a];r.add("__BASE",a,0,0,i.width,i.height),t=i.height;for(var n=s.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",u="",d={x:0,y:0,width:0,height:0},c=0;c<n.length;c++){var v=n[c].match(f);if(v){var p=v[1]==="- ",x=v[2],y=v[3];if(p&&(u!==o&&(e(r,a,u,d),o=u),d={x:0,y:0,width:0,height:0}),x==="name"){u=y;continue}switch(x){case"x":case"y":case"width":case"height":d[x]=parseInt(y,10);break}}}return u!==o&&e(r,a,u,d),r};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decoded"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decodedall"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="looped"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},function(l,g){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pan"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seek"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stopall"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Events:t(75),DisplayList:t(1012),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(1040),Components:t(11),GetCalcMatrix:t(19),BuildGameObject:t(28),BuildGameObjectAnimation:t(439),GameObject:t(15),BitmapText:t(148),Blitter:t(213),Bob:t(440),Container:t(214),DOMElement:t(442),DynamicBitmapText:t(215),Extern:t(444),Graphics:t(216),Group:t(113),Image:t(125),Layer:t(219),Particles:t(1074),PathFollower:t(457),RenderTexture:t(221),RetroFont:t(1082),Rope:t(223),Sprite:t(73),Text:t(224),GetTextSize:t(458),MeasureText:t(460),TextStyle:t(459),TileSprite:t(225),Zone:t(129),Video:t(226),Shape:t(34),Arc:t(461),Curve:t(462),Ellipse:t(463),Grid:t(464),IsoBox:t(465),IsoTriangle:t(466),Line:t(467),Polygon:t(468),Rectangle:t(473),Star:t(474),Triangle:t(475),Factories:{Blitter:t(1130),Container:t(1131),DOMElement:t(1132),DynamicBitmapText:t(1133),Extern:t(1134),Graphics:t(1135),Group:t(1136),Image:t(1137),Layer:t(1138),Particles:t(1139),PathFollower:t(1140),RenderTexture:t(1141),Rope:t(1142),Sprite:t(1143),StaticBitmapText:t(1144),Text:t(1145),TileSprite:t(1146),Zone:t(1147),Video:t(1148),Arc:t(1149),Curve:t(1150),Ellipse:t(1151),Grid:t(1152),IsoBox:t(1153),IsoTriangle:t(1154),Line:t(1155),Polygon:t(1156),Rectangle:t(1157),Star:t(1158),Triangle:t(1159)},Creators:{Blitter:t(1160),Container:t(1161),DynamicBitmapText:t(1162),Graphics:t(1163),Group:t(1164),Image:t(1165),Layer:t(1166),Particles:t(1167),RenderTexture:t(1168),Rope:t(1169),Sprite:t(1170),StaticBitmapText:t(1171),Text:t(1172),TileSprite:t(1173),Zone:t(1174),Video:t(1175)}};e.Shader=t(229),e.Mesh=t(230),e.PointLight=t(150),e.Factories.Shader=t(1184),e.Factories.Mesh=t(1185),e.Factories.PointLight=t(1186),e.Creators.Shader=t(1187),e.Creators.Mesh=t(1188),e.Creators.PointLight=t(1189),e.Light=t(481),e.LightsManager=t(482),e.LightsPlugin=t(1190),l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(110),r=t(24),a=t(75),s=t(20),i=t(79),n=new e({Extends:h,initialize:function(o){h.call(this,o),this.sortChildrenFlag=!1,this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(a.ADDED_TO_SCENE,f,this.scene),this.events.emit(s.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(a.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,o){return f._depth-o._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list,o=f.length;o--;)f[o].destroy(!0);f.length=0,this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});r.register("DisplayList",n,"displayList"),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CheckMatrix:t(209),MatrixToString:t(1014),ReverseColumns:t(1015),ReverseRows:t(1016),Rotate180:t(1017),RotateLeft:t(1018),RotateMatrix:t(147),RotateRight:t(1019),Translate:t(1020),TransposeMatrix:t(435)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(186),h=t(209),r=function(a){var s="";if(!h(a))return s;for(var i=0;i<a.length;i++){for(var n=0;n<a[i].length;n++){var f=a[i][n].toString();f!=="undefined"?s+=e(f,2):s+="?",n<a[i].length-1&&(s+=" |")}if(i<a.length-1){s+=`
`;for(var o=0;o<a[i].length;o++)s+="---",o<a[i].length-1&&(s+="+");s+=`
`}}return s};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.reverse()};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var h=0;h<e.length;h++)e[h].reverse();return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),h=function(r){return e(r,180)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),h=function(r){return e(r,90)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),h=function(r){return e(r,-90)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(178),h=t(179),r=function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),i!==0&&(i<0?e(a,Math.abs(i)):h(a,i)),s!==0)for(var n=0;n<a.length;n++){var f=a[n];s<0?e(f,Math.abs(s)):h(f,s)}return a};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){if(s===void 0&&(s=e),r>0){var i=r-e.length;if(i<=0)return null}if(!Array.isArray(h))return e.indexOf(h)===-1?(e.push(h),a&&a.call(s,h),h):null;for(var n=h.length-1;n>=0;)e.indexOf(h[n])!==-1&&h.splice(n,1),n--;if(n=h.length,n===0)return null;r>0&&n>i&&(h.splice(i),n=i);for(var f=0;f<n;f++){var o=h[f];e.push(o),a&&a.call(s,o)}return h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s,i){if(r===void 0&&(r=0),i===void 0&&(i=e),a>0){var n=a-e.length;if(n<=0)return null}if(!Array.isArray(h))return e.indexOf(h)===-1?(e.splice(r,0,h),s&&s.call(i,h),h):null;for(var f=h.length-1;f>=0;)e.indexOf(h[f])!==-1&&h.pop(),f--;if(f=h.length,f===0)return null;a>0&&f>n&&(h.splice(n),f=n);for(var o=f-1;o>=0;o--){var u=h[o];e.splice(r,0,u),s&&s.call(i,u)}return h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.indexOf(h);return r!==-1&&r<e.length&&(e.splice(r,1),e.push(h)),h};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),h=function(r,a,s,i,n){i===void 0&&(i=0),n===void 0&&(n=r.length);var f=0;if(e(r,i,n))for(var o=i;o<n;o++){var u=r[o];u[a]===s&&f++}return f};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a,s=[null];for(a=3;a<arguments.length;a++)s.push(arguments[a]);for(a=0;a<e.length;a++)s[0]=e[a],h.apply(r,s);return e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),h=function(r,a,s,i,n){if(i===void 0&&(i=0),n===void 0&&(n=r.length),e(r,i,n)){var f,o=[null];for(f=5;f<arguments.length;f++)o.push(arguments[f]);for(f=i;f<n;f++)o[0]=r[f],a.apply(s,o)}return r};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.indexOf(h);if(r>0){var a=e[r-1],s=e.indexOf(a);e[r]=a,e[s]=h}return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=e.indexOf(h);if(a===-1||r<0||r>=e.length)throw new Error("Supplied index out of bounds");return a!==r&&(e.splice(a,1),e.splice(r,0,h)),h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.indexOf(h);if(r!==-1&&r<e.length-1){var a=e[r+1],s=e.indexOf(a);e[r]=a,e[s]=h}return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(h===r)return e;var a=e.indexOf(h),s=e.indexOf(r);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a>s||(e.splice(a,1),s===e.length-1?e.push(h):e.splice(s,0,h)),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(h===r)return e;var a=e.indexOf(h),s=e.indexOf(r);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a<s||(e.splice(a,1),s===0?e.unshift(h):e.splice(s,0,h)),e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(363),h=function(r,a,s){r===void 0&&(r=0),a===void 0&&(a=null),s===void 0&&(s=1),a===null&&(a=r,r=0);for(var i=[],n=Math.max(e((a-r)/(s||1)),0),f=0;f<n;f++)i.push(r),r+=s;return i};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),h=function(r,a,s,i){if(i===void 0&&(i=r),a<0||a>r.length-1)throw new Error("Index out of bounds");var n=e(r,a);return s&&s.call(i,n),n};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),h=function(r,a,s,i,n){if(a===void 0&&(a=0),s===void 0&&(s=r.length),n===void 0&&(n=r),e(r,a,s)){var f=s-a,o=r.splice(a,f);if(i)for(var u=0;u<o.length;u++){var d=o[u];i.call(n,d)}return o}else return[]};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),h=function(r,a,s){a===void 0&&(a=0),s===void 0&&(s=r.length);var i=a+Math.floor(Math.random()*s);return e(r,i)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=e.indexOf(h),s=e.indexOf(r);return a!==-1&&s===-1?(e[a]=r,!0):!1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.indexOf(h);return r!==-1&&r>0&&(e.splice(r,1),e.unshift(h)),h};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),h=function(r,a,s,i,n){if(i===void 0&&(i=0),n===void 0&&(n=r.length),e(r,i,n))for(var f=i;f<n;f++){var o=r[f];o.hasOwnProperty(a)&&(o[a]=s)}return r};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){if(h===r)return e;var a=e.indexOf(h),s=e.indexOf(r);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return e[a]=r,e[s]=h,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(211),r=t(24),a=t(20),s=new e({Extends:h,initialize:function(n){h.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,n){for(var f=this._active,o=f.length,u=0;u<o;u++){var d=f[u];d.active&&d.preUpdate.call(d,i,n)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(a.PRE_UPDATE,this.update,this),n.off(a.UPDATE,this.sceneUpdate,this),n.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});r.register("UpdateList",s,"updateList"),l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){if(r===void 0&&(r=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var s=e.text,i=s.length,n=e.maxWidth,f=e.wordWrapCharCode,o=Number.MAX_VALUE,u=Number.MAX_VALUE,d=0,c=0,v=e.fontData.chars,p=e.fontData.lineHeight,x=e.letterSpacing,y=0,S=0,E=0,A=null,M=e._align,L=0,F=0,O=e.fontSize/e.fontData.size,B=O*e.scaleX,N=O*e.scaleY,G=null,Y=0,H=[],b=Number.MAX_VALUE,Z=0,$=0,w=0,D,V=[],z=[],X=null;if(n>0){for(D=0;D<i;D++){if(E=s.charCodeAt(D),E===10){X!==null&&(V.push({word:X.word,i:X.i,x:X.x*B,y:X.y*N,w:X.w*B,h:X.h*N,cr:!0}),X=null),y=0,S+=p,G=null;continue}if(A=v[E],!!A){if(G!==null)var j=A.kerning[Y];E===f?X!==null&&(V.push({word:X.word,i:X.i,x:X.x*B,y:X.y*N,w:X.w*B,h:X.h*N,cr:!1}),X=null):(X===null&&(X={word:"",i:D,x:y,y:S,w:0,h:p,cr:!1}),X.word=X.word.concat(s[D]),X.w+=A.xOffset+A.xAdvance+(j!==void 0?j:0)),y+=A.xAdvance+x,G=A,Y=E}}X!==null&&V.push({word:X.word,i:X.i,x:X.x*B,y:X.y*N,w:X.w*B,h:X.h*N,cr:!1}),y=0,S=0,G=null,Y=0;var K,Q=0,k=[];for(D=0;D<V.length;D++){var _=V[D],it=_.x,at=_.x+_.w;if(K){var ot=it-(K.x+K.w);Q=it-(ot+K.w),K=null}var ct=it-Q,ut=at-Q;ct>n||ut>n?(k.push(_.i-1),_.cr?(k.push(_.i+_.word.length),Q=0,K=null):K=_):_.cr&&(k.push(_.i+_.word.length),Q=0,K=null)}var mt=function(Zt,Jt,ue){return Zt.substr(0,Jt)+ue+Zt.substr(Jt+1)};for(D=k.length-1;D>=0;D--)s=mt(s,k[D],`
`);a.wrappedText=s,i=s.length,V=[],X=null}var Nt=0;for(D=0;D<i;D++){if(E=s.charCodeAt(D),E===10){X!==null&&(V.push({word:X.word,i:X.i,x:X.x*B,y:X.y*N,w:X.w*B,h:X.h*N}),X=null),y=0,S+=p,G=null,H[$]=w,w>Z&&(Z=w),w<b&&(b=w),$++,w=0;continue}if(A=v[E],!!A){if(L=y,F=S,G!==null){var Mt=A.kerning[Y];L+=Mt!==void 0?Mt:0}o>L&&(o=L),u>F&&(u=F);var Ct=L+A.xAdvance,ft=F+p;d<Ct&&(d=Ct),c<ft&&(c=ft);var wt=A.xOffset+A.xAdvance+(Mt!==void 0?Mt:0);E===f?X!==null&&(V.push({word:X.word,i:X.i,x:X.x*B,y:X.y*N,w:X.w*B,h:X.h*N}),X=null):(X===null&&(X={word:"",i:Nt,x:y,y:S,w:0,h:p}),X.word=X.word.concat(s[D]),X.w+=wt),z.push({i:Nt,char:s[D],code:E,x:(A.xOffset+y)*O,y:(A.yOffset+S)*O,w:A.width*O,h:A.height*O,t:S*O,r:Ct*O,b:p*O,line:$,glyph:A}),y+=A.xAdvance+x,G=A,Y=E,w=Ct*O,Nt++}}if(X!==null&&V.push({word:X.word,i:X.i,x:X.x*B,y:X.y*N,w:X.w*B,h:X.h*N}),H[$]=w,w>Z&&(Z=w),w<b&&(b=w),M>0)for(var Tt=0;Tt<z.length;Tt++){var Lt=z[Tt];if(M===1){var xe=(Z-H[Lt.line])/2;Lt.x+=xe,Lt.r+=xe}else if(M===2){var ye=Z-H[Lt.line];Lt.x+=ye,Lt.r+=ye}}var bt=a.local,Ut=a.global,_t=a.lines;return bt.x=o*O,bt.y=u*O,bt.width=d*O,bt.height=c*O,Ut.x=e.x-e._displayOriginX+o*B,Ut.y=e.y-e._displayOriginY+u*N,Ut.width=d*B,Ut.height=c*N,_t.shortest=b,_t.longest=Z,_t.lengths=H,h&&(bt.x=Math.ceil(bt.x),bt.y=Math.ceil(bt.y),bt.width=Math.ceil(bt.width),bt.height=Math.ceil(bt.height),Ut.x=Math.ceil(Ut.x),Ut.y=Math.ceil(Ut.y),Ut.width=Math.ceil(Ut.width),Ut.height=Math.ceil(Ut.height),_t.shortest=Math.ceil(b),_t.longest=Math.ceil(Z)),r&&(e._displayOriginX=e.originX*bt.width,e._displayOriginY=e.originY*bt.height,Ut.x=e.x-e._displayOriginX*e.scaleX,Ut.y=e.y-e._displayOriginY*e.scaleY,h&&(Ut.x=Math.ceil(Ut.x),Ut.y=Math.ceil(Ut.y))),a.words=V,a.characters=z,a.lines.height=p,a.scale=O,a.scaleX=e.scaleX,a.scaleY=e.scaleY,a};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(212),h=function(r,a,s,i,n,f,o){var u=r.sys.textures.get(s),d=u.get(i),c=r.sys.cache.xml.get(n);if(d&&c){var v=e(c,d,f,o,u);return r.sys.cache.bitmapFont.add(a,{data:v,texture:s,frame:i,fromAtlas:!0}),!0}else return!1};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1046),h=t(1048),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1047),h=t(19),r=t(12),a=function(s,i,n,f){var o=i._text,u=o.length;if(u!==0){n.addToRenderList(i);var d=s.pipelines.set(i.pipeline,i),c=h(i,n,f).calc,v=n.roundPixels,p=n.alpha,x=i.charColors,y=i.tintFill,S=r.getTintAppendFloatAlpha,E=S(i.tintTopLeft,p*i._alphaTL),A=S(i.tintTopRight,p*i._alphaTR),M=S(i.tintBottomLeft,p*i._alphaBL),L=S(i.tintBottomRight,p*i._alphaBR),F=i.frame.glTexture,O=d.setGameObject(i),B=i.getTextBounds(!1),N,G,Y,H=B.characters,b=i.dropShadowX,Z=i.dropShadowY,$=b!==0||Z!==0;if(s.pipelines.preBatch(i),$){var w=i.dropShadowColor,D=i.dropShadowAlpha,V=S(w,p*D*i._alphaTL),z=S(w,p*D*i._alphaTR),X=S(w,p*D*i._alphaBL),j=S(w,p*D*i._alphaBR);for(N=0;N<H.length;N++)G=H[N],Y=G.glyph,!(G.code===32||Y.width===0||Y.height===0)&&e(d,i,G,Y,b,Z,c,v,V,z,X,j,1,F,O)}for(N=0;N<H.length;N++)if(G=H[N],Y=G.glyph,!(G.code===32||Y.width===0||Y.height===0))if(x[G.i]){var K=x[G.i],Q=K.tintEffect,k=S(K.tintTL,p*i._alphaTL),_=S(K.tintTR,p*i._alphaTR),it=S(K.tintBL,p*i._alphaBL),at=S(K.tintBR,p*i._alphaBR);e(d,i,G,Y,0,0,c,v,k,_,it,at,Q,F,O)}else e(d,i,G,Y,0,0,c,v,E,A,M,L,y,F,O);s.pipelines.postBatch(i)}};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s,i,n,f,o,u,d,c,v,p,x){var y=r.x-h.displayOriginX+s,S=r.y-h.displayOriginY+i,E=y+r.w,A=S+r.h,M=n.getXRound(y,S,f),L=n.getYRound(y,S,f),F=n.getXRound(y,A,f),O=n.getYRound(y,A,f),B=n.getXRound(E,A,f),N=n.getYRound(E,A,f),G=n.getXRound(E,S,f),Y=n.getYRound(E,S,f);e.batchQuad(h,M,L,F,O,B,N,G,Y,a.u0,a.v0,a.u1,a.v1,o,u,d,c,v,p,x)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),h=function(r,a,s,i){var n=a._text,f=n.length,o=r.currentContext;if(!(f===0||!e(r,o,a,s,i))){s.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.fontData.chars,c=a.fontData.lineHeight,v=a._letterSpacing,p=0,x=0,y=0,S=null,E=0,A=0,M=0,L=0,F=0,O=0,B=null,N=0,G=u.source.image,Y=u.cutX,H=u.cutY,b=a._fontSize/a.fontData.size,Z=a._align,$=0,w=0,D=a.getTextBounds(!1);a.maxWidth>0&&(n=D.wrappedText,f=n.length);var V=a._bounds.lines;Z===1?w=(V.longest-V.lengths[0])/2:Z===2&&(w=V.longest-V.lengths[0]),o.translate(-a.displayOriginX,-a.displayOriginY);for(var z=s.roundPixels,X=0;X<f;X++){if(y=n.charCodeAt(X),y===10){$++,Z===1?w=(V.longest-V.lengths[$])/2:Z===2&&(w=V.longest-V.lengths[$]),p=0,x+=c,B=null;continue}if(S=d[y],!!S){if(E=Y+S.x,A=H+S.y,M=S.width,L=S.height,F=S.xOffset+p,O=S.yOffset+x,B!==null){var j=S.kerning[N];F+=j!==void 0?j:0}F*=b,O*=b,F+=w,p+=S.xAdvance+v,B=S,N=y,!(M===0||L===0||y===32)&&(z&&(F=Math.round(F),O=Math.round(O)),o.save(),o.translate(F,O),o.scale(b,b),o.drawImage(G,E,A,M,L,0,0,M,L),o.restore())}}o.restore()}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1050),h=t(1051),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),h=t(12),r=new e,a=function(s,i,n,f){var o=i.getRenderList();if(o.length!==0){var u=n.alpha*i.alpha;if(u!==0){n.addToRenderList(i);var d=s.pipelines.set(this.pipeline,i),c=n.scrollX*i.scrollFactorX,v=n.scrollY*i.scrollFactorY,p=r.copyFrom(n.matrix);f&&(p.multiplyWithOffset(f,-c,-v),c=0,v=0);var x=i.x-c,y=i.y-v,S=-1,E=!1,A=n.roundPixels;s.pipelines.preBatch(i);for(var M=0;M<o.length;M++){var L=o[M],F=L.frame,O=L.alpha*u;if(O!==0){var B=F.width,N=F.height,G=x+L.x+F.x,Y=y+L.y+F.y;L.flipX&&(B*=-1,G+=F.width),L.flipY&&(N*=-1,Y+=F.height);var H=G+B,b=Y+N,Z=p.getX(G,Y),$=p.getY(G,Y),w=p.getX(H,b),D=p.getY(H,b),V=h.getTintAppendFloatAlpha(L.tint,O);if(F.sourceIndex!==S){var z=d.setGameObject(i,F);S=F.sourceIndex}A&&(Z=Math.round(Z),$=Math.round($),w=Math.round(w),D=Math.round(D)),d.batchQuad(i,Z,$,Z,D,w,D,w,$,F.u0,F.v0,F.u1,F.v1,V,V,V,V,E,F.glTexture,z)&&(S=-1)}}s.pipelines.postBatch(i)}}};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s=h.getRenderList();if(s.length!==0){var i=e.currentContext,n=r.alpha*h.alpha;if(n!==0){r.addToRenderList(h),i.globalCompositeOperation=e.blendModes[h.blendMode],i.imageSmoothingEnabled=!(!e.antialias||h.frame.source.scaleMode);var f=h.x-r.scrollX*h.scrollFactorX,o=h.y-r.scrollY*h.scrollFactorY;i.save(),a&&a.copyToContext(i);for(var u=r.roundPixels,d=0;d<s.length;d++){var c=s[d],v=c.flipX||c.flipY,p=c.frame,x=p.canvasData,y=p.x,S=p.y,E=1,A=1,M=c.alpha*n;M!==0&&(i.globalAlpha=M,v?(c.flipX&&(E=-1,y-=x.width),c.flipY&&(A=-1,S-=x.height),i.save(),i.translate(c.x+f,c.y+o),i.scale(E,A),i.drawImage(p.source.image,x.x,x.y,x.width,x.height,y,S,x.width,x.height),i.restore()):(u&&(y=Math.round(y),S=Math.round(S)),i.drawImage(p.source.image,x.x,x.y,x.width,x.height,y+c.x+f,S+c.y+o,x.width,x.height)))}i.restore()}}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1053),h=t(1054),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r.addToRenderList(h);var s=h.list,i=s.length;if(i!==0){var n=h.localTransform;a?(n.loadIdentity(),n.multiply(a),n.translate(h.x,h.y),n.rotate(h.rotation),n.scale(h.scaleX,h.scaleY)):n.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),e.pipelines.preBatch(h);var f=h.blendMode!==-1;f||e.setBlendMode(0);for(var o=h.alpha,u=h.scrollFactorX,d=h.scrollFactorY,c=0;c<i;c++){var v=s[c];if(v.willRender(r)){var p,x,y,S;if(v.alphaTopLeft!==void 0)p=v.alphaTopLeft,x=v.alphaTopRight,y=v.alphaBottomLeft,S=v.alphaBottomRight;else{var E=v.alpha;p=E,x=E,y=E,S=E}var A=v.scrollFactorX,M=v.scrollFactorY;!f&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode);var L=v.mask;L&&L.preRenderWebGL(e,v,r);var F=v.type;F!==e.currentType&&(e.newType=!0,e.currentType=F),e.nextTypeMatch=c<i-1?s[c+1].type===e.currentType:!1,v.setScrollFactor(A*u,M*d),v.setAlpha(p*o,x*o,y*o,S*o),v.renderWebGL(e,v,r,n),v.setAlpha(p,x,y,S),v.setScrollFactor(A,M),L&&L.postRenderWebGL(e,r),e.newType=!1}}e.pipelines.postBatch(h)}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r.addToRenderList(h);var s=h.list;if(s.length!==0){var i=h.localTransform;a?(i.loadIdentity(),i.multiply(a),i.translate(h.x,h.y),i.rotate(h.rotation),i.scale(h.scaleX,h.scaleY)):i.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var n=h.blendMode!==-1;n||e.setBlendMode(0);var f=h._alpha,o=h.scrollFactorX,u=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(e,null,r);for(var d=0;d<s.length;d++){var c=s[d];if(c.willRender(r)){var v=c.alpha,p=c.scrollFactorX,x=c.scrollFactorY;!n&&c.blendMode!==e.currentBlendMode&&e.setBlendMode(c.blendMode),c.setScrollFactor(p*o,x*u),c.setAlpha(v*f),c.renderCanvas(e,c,r,i),c.setAlpha(v),c.setScrollFactor(p,x)}}h.mask&&h.mask.postRenderCanvas(e)}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(443),h=t(443),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1058),h=t(1059),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(25),r=t(12),a=new h,s=function(i,n,f,o){var u=n.text,d=u.length;if(d!==0){f.addToRenderList(n);var c=i.pipelines.set(n.pipeline,n),v=e(n,f,o),p=v.sprite,x=v.calc,y=a,S=n.cropWidth>0||n.cropHeight>0;S&&(c.flush(),i.pushScissor(x.tx,x.ty,n.cropWidth*x.scaleX,n.cropHeight*x.scaleY));var E=n.frame,A=E.glTexture,M=n.tintFill,L=r.getTintAppendFloatAlpha(n.tintTopLeft,f.alpha*n._alphaTL),F=r.getTintAppendFloatAlpha(n.tintTopRight,f.alpha*n._alphaTR),O=r.getTintAppendFloatAlpha(n.tintBottomLeft,f.alpha*n._alphaBL),B=r.getTintAppendFloatAlpha(n.tintBottomRight,f.alpha*n._alphaBR),N=c.setGameObject(n),G=0,Y=0,H=0,b=0,Z=n.letterSpacing,$,w=0,D=0,V,z=n.scrollX,X=n.scrollY,j=n.fontData,K=j.chars,Q=j.lineHeight,k=n.fontSize/j.size,_=0,it=n._align,at=0,ot=0,ct=n.getTextBounds(!1);n.maxWidth>0&&(u=ct.wrappedText,d=u.length);var ut=n._bounds.lines;it===1?ot=(ut.longest-ut.lengths[0])/2:it===2&&(ot=ut.longest-ut.lengths[0]);var mt=f.roundPixels,Nt=n.displayCallback,Mt=n.callbackData;i.pipelines.preBatch(n);for(var Ct=0;Ct<d;Ct++){if(H=u.charCodeAt(Ct),H===10){at++,it===1?ot=(ut.longest-ut.lengths[at])/2:it===2&&(ot=ut.longest-ut.lengths[at]),G=0,Y+=Q,V=null;continue}if($=K[H],!!$){w=$.width,D=$.height;var ft=$.xOffset+G-z,wt=$.yOffset+Y-X;if(V!==null){var Tt=$.kerning[b];ft+=Tt!==void 0?Tt:0}if(G+=$.xAdvance+Z,V=$,b=H,!(w===0||D===0||H===32)){if(k=n.fontSize/n.fontData.size,_=0,Nt){Mt.color=0,Mt.tint.topLeft=L,Mt.tint.topRight=F,Mt.tint.bottomLeft=O,Mt.tint.bottomRight=B,Mt.index=Ct,Mt.charCode=H,Mt.x=ft,Mt.y=wt,Mt.scale=k,Mt.rotation=_,Mt.data=$.data;var Lt=Nt(Mt);ft=Lt.x,wt=Lt.y,k=Lt.scale,_=Lt.rotation,Lt.color?(L=Lt.color,F=Lt.color,O=Lt.color,B=Lt.color):(L=Lt.tint.topLeft,F=Lt.tint.topRight,O=Lt.tint.bottomLeft,B=Lt.tint.bottomRight),L=r.getTintAppendFloatAlpha(L,f.alpha*n._alphaTL),F=r.getTintAppendFloatAlpha(F,f.alpha*n._alphaTR),O=r.getTintAppendFloatAlpha(O,f.alpha*n._alphaBL),B=r.getTintAppendFloatAlpha(B,f.alpha*n._alphaBR)}ft*=k,wt*=k,ft-=n.displayOriginX,wt-=n.displayOriginY,ft+=ot,y.applyITRS(ft,wt,_,k,k),x.multiply(y,p);var xe=$.u0,ye=$.v0,bt=$.u1,Ut=$.v1,_t=w,Zt=D,Jt=p.e,ue=p.f,Be=Zt*p.c+p.e,ci=Zt*p.d+p.f,_e=_t*p.a+Zt*p.c+p.e,ti=_t*p.b+Zt*p.d+p.f,vi=_t*p.a+p.e,je=_t*p.b+p.f;mt&&(Jt=Math.round(Jt),ue=Math.round(ue),Be=Math.round(Be),ci=Math.round(ci),_e=Math.round(_e),ti=Math.round(ti),vi=Math.round(vi),je=Math.round(je)),c.batchQuad(n,Jt,ue,Be,ci,_e,ti,vi,je,xe,ye,bt,Ut,L,F,O,B,M,A,N)}}}S&&(c.flush(),i.popScissor()),i.pipelines.postBatch(n)}};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),h=function(r,a,s,i){var n=a._text,f=n.length,o=r.currentContext;if(!(f===0||!e(r,o,a,s,i))){s.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.displayCallback,c=a.callbackData,v=a.fontData.chars,p=a.fontData.lineHeight,x=a._letterSpacing,y=0,S=0,E=0,A=null,M=0,L=0,F=0,O=0,B=0,N=0,G=null,Y=0,H=a.frame.source.image,b=u.cutX,Z=u.cutY,$=0,w=0,D=a._fontSize/a.fontData.size,V=a._align,z=0,X=0;a.getTextBounds(!1);var j=a._bounds.lines;V===1?X=(j.longest-j.lengths[0])/2:V===2&&(X=j.longest-j.lengths[0]),o.translate(-a.displayOriginX,-a.displayOriginY);var K=s.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(o.beginPath(),o.rect(0,0,a.cropWidth,a.cropHeight),o.clip());for(var Q=0;Q<f;Q++){if(w=D,$=0,E=n.charCodeAt(Q),E===10){z++,V===1?X=(j.longest-j.lengths[z])/2:V===2&&(X=j.longest-j.lengths[z]),y=0,S+=p,G=null;continue}if(A=v[E],!!A){if(M=b+A.x,L=Z+A.y,F=A.width,O=A.height,B=A.xOffset+y-a.scrollX,N=A.yOffset+S-a.scrollY,G!==null){var k=A.kerning[Y];B+=k!==void 0?k:0}if(d){c.index=Q,c.charCode=E,c.x=B,c.y=N,c.scale=w,c.rotation=$,c.data=A.data;var _=d(c);B=_.x,N=_.y,w=_.scale,$=_.rotation}B*=w,N*=w,B+=X,y+=A.xAdvance+x,G=A,Y=E,!(F===0||O===0||E===32)&&(K&&(B=Math.round(B),N=Math.round(N)),o.save(),o.translate(B,N),o.rotate($),o.scale(w,w),o.drawImage(H,M,L,F,O,0,0,F,O),o.restore())}}o.restore()}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1061),h=t(1062),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=function(r,a,s,i){r.pipelines.clear();var n=e(a,s,i).calc;a.render.call(a,r,s,n),r.pipelines.rebind()};l.exports=h},function(l,g){},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1064),h=t(448),h=t(448),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),h=t(19),r=t(25),a=t(12),s=function(u,d,c){this.x=u,this.y=d,this.width=c},i=function(u,d,c){this.points=[],this.pointsLength=1,this.points[0]=new s(u,d,c)},n=[],f=new r,o=function(u,d,c,v){if(d.commandBuffer.length!==0){c.addToRenderList(d);var p=u.pipelines.set(d.pipeline,d);u.pipelines.preBatch(d);for(var x=h(d,c,v).calc,y=f.loadIdentity(),S=d.commandBuffer,E=c.alpha*d.alpha,A=1,M=p.fillTint,L=p.strokeTint,F=0,O=0,B=0,N=.01,G=Math.PI*2,Y,H=[],b=0,Z=!0,$=null,w=a.getTintAppendFloatAlpha,D=0;D<S.length;D++)switch(Y=S[D],Y){case e.BEGIN_PATH:{H.length=0,$=null,Z=!0;break}case e.CLOSE_PATH:{Z=!1,$&&$.points.length&&$.points.push($.points[0]);break}case e.FILL_PATH:{for(b=0;b<H.length;b++)p.batchFillPath(H[b].points,y,x);break}case e.STROKE_PATH:{for(b=0;b<H.length;b++)p.batchStrokePath(H[b].points,A,Z,y,x);break}case e.LINE_STYLE:{A=S[++D];var V=S[++D],z=S[++D]*E,X=w(V,z);L.TL=X,L.TR=X,L.BL=X,L.BR=X;break}case e.FILL_STYLE:{var j=S[++D],K=S[++D]*E,Q=w(j,K);M.TL=Q,M.TR=Q,M.BL=Q,M.BR=Q;break}case e.GRADIENT_FILL_STYLE:{var k=S[++D]*E,_=S[++D]*E,it=S[++D]*E,at=S[++D]*E;M.TL=w(S[++D],k),M.TR=w(S[++D],_),M.BL=w(S[++D],it),M.BR=w(S[++D],at);break}case e.GRADIENT_LINE_STYLE:{A=S[++D];var ot=S[++D]*E;L.TL=w(S[++D],ot),L.TR=w(S[++D],ot),L.BL=w(S[++D],ot),L.BR=w(S[++D],ot);break}case e.ARC:{var ct=0,ut=S[++D],mt=S[++D],Nt=S[++D],Mt=S[++D],Ct=S[++D],ft=S[++D],wt=S[++D];for(Ct-=Mt,ft?Ct<-G?Ct=-G:Ct>0&&(Ct=-G+Ct%G):Ct>G?Ct=G:Ct<0&&(Ct=G+Ct%G),$===null&&($=new i(ut+Math.cos(Mt)*Nt,mt+Math.sin(Mt)*Nt,A),H.push($),ct+=N);ct<1+wt;)B=Ct*ct+Mt,F=ut+Math.cos(B)*Nt,O=mt+Math.sin(B)*Nt,$.points.push(new s(F,O,A)),ct+=N;B=Ct+Mt,F=ut+Math.cos(B)*Nt,O=mt+Math.sin(B)*Nt,$.points.push(new s(F,O,A));break}case e.FILL_RECT:{p.batchFillRect(S[++D],S[++D],S[++D],S[++D],y,x);break}case e.FILL_TRIANGLE:{p.batchFillTriangle(S[++D],S[++D],S[++D],S[++D],S[++D],S[++D],y,x);break}case e.STROKE_TRIANGLE:{p.batchStrokeTriangle(S[++D],S[++D],S[++D],S[++D],S[++D],S[++D],A,y,x);break}case e.LINE_TO:{$!==null?$.points.push(new s(S[++D],S[++D],A)):($=new i(S[++D],S[++D],A),H.push($));break}case e.MOVE_TO:{$=new i(S[++D],S[++D],A),H.push($);break}case e.SAVE:{n.push(y.copyToArray());break}case e.RESTORE:{y.copyFromArray(n.pop());break}case e.TRANSLATE:{ut=S[++D],mt=S[++D],y.translate(ut,mt);break}case e.SCALE:{ut=S[++D],mt=S[++D],y.scale(ut,mt);break}case e.ROTATE:{y.rotate(S[++D]);break}}u.pipelines.postBatch(d)}};l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1066),h=t(1067),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r.addToRenderList(h),h.pipeline.batchSprite(h,r,a)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r.addToRenderList(h),e.batchSprite(h,h.frame,r,a)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1069),h=t(1070),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r.addToRenderList(h),this.pipeline.batchSprite(h,r,a)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r.addToRenderList(h),e.batchSprite(h,h.frame,r,a)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1072),h=t(1073),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=h.list,s=a.length;if(s!==0){h.depthSort(),e.pipelines.preBatch(h);var i=h.blendMode!==-1;i||e.setBlendMode(0);for(var n=h.alpha,f=0;f<s;f++){var o=a[f];if(o.willRender(r)){var u,d,c,v;if(o.alphaTopLeft!==void 0)u=o.alphaTopLeft,d=o.alphaTopRight,c=o.alphaBottomLeft,v=o.alphaBottomRight;else{var p=o.alpha;u=p,d=p,c=p,v=p}!i&&o.blendMode!==e.currentBlendMode&&e.setBlendMode(o.blendMode);var x=o.mask;x&&x.preRenderWebGL(e,o,r);var y=o.type;y!==e.currentType&&(e.newType=!0,e.currentType=y),e.nextTypeMatch=f<s-1?a[f+1].type===e.currentType:!1,o.setAlpha(u*n,d*n,c*n,v*n),o.renderWebGL(e,o,r),o.setAlpha(u,d,c,v),x&&x.postRenderWebGL(e,r),e.newType=!1}}e.pipelines.postBatch(h)}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=h.list;if(a.length!==0){h.depthSort();var s=h.blendMode!==-1;s||e.setBlendMode(0);var i=h._alpha;h.mask&&h.mask.preRenderCanvas(e,null,r);for(var n=0;n<a.length;n++){var f=a[n];if(f.willRender(r)){var o=f.alpha;!s&&f.blendMode!==e.currentBlendMode&&e.setBlendMode(f.blendMode),f.setAlpha(o*i),f.renderCanvas(e,f,r),f.setAlpha(o)}}h.mask&&h.mask.postRenderCanvas(e)}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EmitterOp:t(449),GravityWell:t(450),Particle:t(451),ParticleEmitter:t(452),ParticleEmitterManager:t(220),Zones:t(1078)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1076),h=t(1077),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),h=t(12),r=new e,a=new e,s=new e,i=new e,n=function(f,o,u,d){var c=o.emitters.list,v=c.length;if(v!==0){var p=f.pipelines.set(o.pipeline),x=r,y=a,S=s,E=i;d?(E.loadIdentity(),E.multiply(d),E.translate(o.x,o.y),E.rotate(o.rotation),E.scale(o.scaleX,o.scaleY)):E.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var A=u.roundPixels,M=o.defaultFrame.glTexture,L=h.getTintAppendFloatAlpha,F=p.setGameObject(o,o.defaultFrame);f.pipelines.preBatch(o);for(var O=0;O<v;O++){var B=c[O],N=B.alive,G=N.length;if(!(!B.visible||G===0)){u.addToRenderList(B);var Y=B.scrollFactorX,H=B.scrollFactorY;f.setBlendMode(B.blendMode),B.mask&&(B.mask.preRenderWebGL(f,B,u),f.pipelines.set(o.pipeline));for(var b=0,Z=0;Z<G;Z++){var $=N[Z],w=$.alpha*u.alpha;if(!(w<=0)){S.applyITRS($.x,$.y,$.rotation,$.scaleX,$.scaleY),x.copyFrom(u.matrix),x.multiplyWithOffset(E,-u.scrollX*Y,-u.scrollY*H),S.e=$.x,S.f=$.y,x.multiply(S,y);var D=$.frame,V=-D.halfWidth,z=-D.halfHeight,X=V+D.width,j=z+D.height,K=y.getXRound(V,z,A),Q=y.getYRound(V,z,A),k=y.getXRound(V,j,A),_=y.getYRound(V,j,A),it=y.getXRound(X,j,A),at=y.getYRound(X,j,A),ot=y.getXRound(X,z,A),ct=y.getYRound(X,z,A),ut=L($.tint,w);p.batchQuad(B,K,Q,k,_,it,at,ot,ct,D.u0,D.v0,D.u1,D.v1,ut,ut,ut,ut,b,M,F)}}B.mask&&B.mask.postRenderWebGL(f,u)}}f.pipelines.postBatch(o)}};l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),h=new e,r=new e,a=new e,s=new e,i=function(n,f,o,u){var d=f.emitters.list,c=d.length;if(c!==0){var v=h.copyFrom(o.matrix),p=r,x=a,y=s;u?(y.loadIdentity(),y.multiply(u),y.translate(f.x,f.y),y.rotate(f.rotation),y.scale(f.scaleX,f.scaleY)):y.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);for(var S=n.currentContext,E=o.roundPixels,A=0;A<c;A++){var M=d[A],L=M.alive,F=L.length;if(!(!M.visible||F===0)){o.addToRenderList(M);var O=M.scrollFactorX,B=M.scrollFactorY;S.save(),S.globalCompositeOperation=n.blendModes[M.blendMode];for(var N=0;N<F;N++){var G=L[N],Y=G.alpha*o.alpha;if(!(Y<=0)){x.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),v.copyFrom(o.matrix),v.multiplyWithOffset(y,-o.scrollX*O,-o.scrollY*B),x.e=G.x,x.f=G.y,v.multiply(x,p);var H=G.frame,b=H.canvasData,Z=-H.halfWidth,$=-H.halfHeight;S.globalAlpha=Y,S.save(),p.setToContext(S),E&&(Z=Math.round(Z),$=Math.round($)),S.imageSmoothingEnabled=!(!n.antialias||H.source.scaleMode),S.drawImage(H.source.image,b.x,b.y,b.width,b.height,Z,$,b.width,b.height),S.restore()}}S.restore()}}}};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DeathZone:t(453),EdgeZone:t(454),RandomZone:t(456)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1080),h=t(1081),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),h=function(r,a,s,i){s.addToRenderList(a);var n=s.alpha,f=a.renderTarget,o=f.width,u=f.height,d=e.getTintAppendFloatAlpha,c=r.pipelines.set(a.pipeline),v=c.setTexture2D(f.texture);r.pipelines.preBatch(a),c.batchTexture(a,f.texture,o,u,a.x,a.y,o,u,a.scaleX,a.scaleY,a.rotation,a.flipX,!a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,o,u,d(a.tintTopLeft,n*a._alphaTL),d(a.tintTopRight,n*a._alphaTR),d(a.tintBottomLeft,n*a._alphaBL),d(a.tintBottomRight,n*a._alphaBR),a.tintFill,0,0,s,i,!0,v),r.resetTextures(),r.pipelines.postBatch(a)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){r.addToRenderList(h),e.batchSprite(h,h.frame,r,a)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1083),h=t(17),r={Parse:t(1084)};r=h(!1,r,e),l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),h=function(r,a){var s=a.width,i=a.height,n=Math.floor(s/2),f=Math.floor(i/2),o=e(a,"chars","");if(o!==""){var u=e(a,"image",""),d=r.sys.textures.getFrame(u),c=d.cutX,v=d.cutY,p=d.source.width,x=d.source.height,y=e(a,"offset.x",0),S=e(a,"offset.y",0),E=e(a,"spacing.x",0),A=e(a,"spacing.y",0),M=e(a,"lineSpacing",0),L=e(a,"charsPerRow",null);L===null&&(L=p/s,L>o.length&&(L=o.length));for(var F=y,O=S,B={retroFont:!0,font:u,size:s,lineHeight:i+M,chars:{}},N=0,G=0;G<o.length;G++){var Y=o.charCodeAt(G),H=(c+F)/p,b=(v+O)/x,Z=(c+F+s)/p,$=(v+O+i)/x;B.chars[Y]={x:F,y:O,width:s,height:i,centerX:n,centerY:f,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:H,v0:b,u1:Z,v1:$},N++,N===L?(N=0,F=y,O+=i+A):F+=s+E}var w={data:B,frame:null,texture:u};return w}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1086),h=t(1087),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(12),r=function(a,s,i,n){i.addToRenderList(s);var f=a.pipelines.set(s.pipeline,s),o=e(s,i,n).calc,u=s.vertices,d=s.uv,c=s.colors,v=s.alphas,p=s.alpha,x=h.getTintAppendFloatAlpha,y=i.roundPixels,S=u.length,E=Math.floor(S*.5);f.flush(),a.pipelines.preBatch(s);var A=f.setGameObject(s),M=f.vertexViewF32,L=f.vertexViewU32,F=f.vertexCount*f.currentShader.vertexComponentCount-1,O=0,B=s.tintFill;s.dirty&&s.updateVertices();for(var N=s.debugCallback,G=[],Y=0;Y<S;Y+=2){var H=u[Y+0],b=u[Y+1],Z=H*o.a+b*o.c+o.e,$=H*o.b+b*o.d+o.f;y&&(Z=Math.round(Z),$=Math.round($)),M[++F]=Z,M[++F]=$,M[++F]=d[Y+0],M[++F]=d[Y+1],M[++F]=A,M[++F]=B,L[++F]=x(c[O],i.alpha*(v[O]*p)),O++,N&&(G[Y+0]=Z,G[Y+1]=$)}N&&N.call(s,s,S,G),f.vertexCount+=E,a.pipelines.postBatch(s)};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1089),h=t(1090),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),h=function(r,a,s,i){if(!(a.width===0||a.height===0)){s.addToRenderList(a);var n=a.frame,f=n.width,o=n.height,u=e.getTintAppendFloatAlpha,d=r.pipelines.set(a.pipeline,a),c=d.setTexture2D(n.glTexture,a);r.pipelines.preBatch(a),d.batchTexture(a,n.glTexture,f,o,a.x,a.y,f/a.style.resolution,o/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,f,o,u(a.tintTopLeft,s.alpha*a._alphaTL),u(a.tintTopRight,s.alpha*a._alphaTR),u(a.tintBottomLeft,s.alpha*a._alphaBL),u(a.tintBottomRight,s.alpha*a._alphaBR),a.tintFill,0,0,s,i,!1,c),r.pipelines.postBatch(a)}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h.width===0||h.height===0||(r.addToRenderList(h),e.batchSprite(h,h.frame,r,a))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1092),h=t(1093),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),h=function(r,a,s,i){a.updateCanvas();var n=a.width,f=a.height;if(!(n===0||f===0)){s.addToRenderList(a),r.pipelines.preBatch(a);var o=e.getTintAppendFloatAlpha,u=r.pipelines.set(a.pipeline,a),d=u.setTexture2D(a.fillPattern,a);u.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,n,f,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*n,a.originY*f,0,0,n,f,o(a.tintTopLeft,s.alpha*a._alphaTL),o(a.tintTopRight,s.alpha*a._alphaTR),o(a.tintBottomLeft,s.alpha*a._alphaBL),o(a.tintBottomRight,s.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,s,i,!1,d),r.pipelines.postBatch(a)}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h.updateCanvas(),r.addToRenderList(h),e.batchSprite(h,h.frame,r,a)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1095),h=t(1096),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h.videoTexture&&(r.addToRenderList(h),h.pipeline.batchSprite(h,r,a))};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h.videoTexture&&(r.addToRenderList(h),e.batchSprite(h,h.frame,r,a))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1098),h=t(1099),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(114),r=t(81),a=function(s,i,n,f){n.addToRenderList(i);var o=s.pipelines.set(i.pipeline),u=e(i,n,f),d=o.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,p=n.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&h(o,d,i,p,c,v),i.isStroked&&r(o,i,p,c,v),s.pipelines.postBatch(i)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),h=t(48),r=t(60),a=t(30),s=function(i,n,f,o){f.addToRenderList(n);var u=i.currentContext;if(a(i,u,n,f,o)){var d=n.radius;u.beginPath(),u.arc(d-n.originX*(d*2),d-n.originY*(d*2),d,e(n._startAngle),e(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(h(u,n),u.fill()),n.isStroked&&(r(u,n),u.stroke()),u.restore()}};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1101),h=t(1102),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),h=t(19),r=t(81),a=function(s,i,n,f){n.addToRenderList(i);var o=s.pipelines.set(i.pipeline),u=h(i,n,f),d=o.calcMatrix.copyFrom(u.calc),c=i._displayOriginX+i._curveBounds.x,v=i._displayOriginY+i._curveBounds.y,p=n.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(o,d,i,p,c,v),i.isStroked&&r(o,i,p,c,v),s.pipelines.postBatch(i)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(60),r=t(30),a=function(s,i,n,f){n.addToRenderList(i);var o=s.currentContext;if(r(s,o,i,n,f)){var u=i._displayOriginX+i._curveBounds.x,d=i._displayOriginY+i._curveBounds.y,c=i.pathData,v=c.length-1,p=c[0]-u,x=c[1]-d;o.beginPath(),o.moveTo(p,x),i.closePath||(v-=2);for(var y=2;y<v;y+=2){var S=c[y]-u,E=c[y+1]-d;o.lineTo(S,E)}i.closePath&&o.closePath(),i.isFilled&&(e(o,i),o.fill()),i.isStroked&&(h(o,i),o.stroke()),o.restore()}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1104),h=t(1105),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),h=t(19),r=t(81),a=function(s,i,n,f){n.addToRenderList(i);var o=s.pipelines.set(i.pipeline),u=h(i,n,f),d=o.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,p=n.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(o,d,i,p,c,v),i.isStroked&&r(o,i,p,c,v),s.pipelines.postBatch(i)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(60),r=t(30),a=function(s,i,n,f){n.addToRenderList(i);var o=s.currentContext;if(r(s,o,i,n,f)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,p=c[0]-u,x=c[1]-d;o.beginPath(),o.moveTo(p,x),i.closePath||(v-=2);for(var y=2;y<v;y+=2){var S=c[y]-u,E=c[y+1]-d;o.lineTo(S,E)}o.closePath(),i.isFilled&&(e(o,i),o.fill()),i.isStroked&&(h(o,i),o.stroke()),o.restore()}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1107),h=t(1108),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(12),r=function(a,s,i,n){i.addToRenderList(s);var f=a.pipelines.set(s.pipeline),o=e(s,i,n),u=f.calcMatrix.copyFrom(o.calc);u.translate(-s._displayOriginX,-s._displayOriginY);var d=i.alpha*s.alpha,c=s.width,v=s.height,p=s.cellWidth,x=s.cellHeight,y=Math.ceil(c/p),S=Math.ceil(v/x),E=p,A=x,M=p-(y*p-c),L=x-(S*x-v),F,O,B=s.showCells,N=s.showAltCells,G=s.showOutline,Y=0,H=0,b=0,Z=0,$=0;if(G&&(E--,A--,M===p&&M--,L===x&&L--),a.pipelines.preBatch(s),B&&s.fillAlpha>0)for(F=f.fillTint,O=h.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*d),F.TL=O,F.TR=O,F.BL=O,F.BR=O,H=0;H<S;H++)for(N&&(b=H%2),Y=0;Y<y;Y++){if(N&&b){b=0;continue}b++,Z=Y<y-1?E:M,$=H<S-1?A:L,f.batchFillRect(Y*p,H*x,Z,$)}if(N&&s.altFillAlpha>0)for(F=f.fillTint,O=h.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*d),F.TL=O,F.TR=O,F.BL=O,F.BR=O,H=0;H<S;H++)for(N&&(b=H%2),Y=0;Y<y;Y++){if(N&&!b){b=1;continue}b=0,Z=Y<y-1?E:M,$=H<S-1?A:L,f.batchFillRect(Y*p,H*x,Z,$)}if(G&&s.outlineFillAlpha>0){var w=f.strokeTint,D=h.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*d);for(w.TL=D,w.TR=D,w.BL=D,w.BR=D,Y=1;Y<y;Y++){var V=Y*p;f.batchLine(V,0,V,v,1,1,1,0,!1)}for(H=1;H<S;H++){var z=H*x;f.batchLine(0,z,c,z,1,1,1,0,!1)}}a.pipelines.postBatch(s)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(60),r=t(30),a=function(s,i,n,f){n.addToRenderList(i);var o=s.currentContext;if(r(s,o,i,n,f)){var u=-i._displayOriginX,d=-i._displayOriginY,c=n.alpha*i.alpha,v=i.width,p=i.height,x=i.cellWidth,y=i.cellHeight,S=Math.ceil(v/x),E=Math.ceil(p/y),A=x,M=y,L=x-(S*x-v),F=y-(E*y-p),O=i.showCells,B=i.showAltCells,N=i.showOutline,G=0,Y=0,H=0,b=0,Z=0;if(N&&(A--,M--,L===x&&L--,F===y&&F--),O&&i.fillAlpha>0)for(e(o,i),Y=0;Y<E;Y++)for(B&&(H=Y%2),G=0;G<S;G++){if(B&&H){H=0;continue}H++,b=G<S-1?A:L,Z=Y<E-1?M:F,o.fillRect(u+G*x,d+Y*y,b,Z)}if(B&&i.altFillAlpha>0)for(e(o,i,i.altFillColor,i.altFillAlpha*c),Y=0;Y<E;Y++)for(B&&(H=Y%2),G=0;G<S;G++){if(B&&!H){H=1;continue}H=0,b=G<S-1?A:L,Z=Y<E-1?M:F,o.fillRect(u+G*x,d+Y*y,b,Z)}if(N&&i.outlineFillAlpha>0){for(h(o,i,i.outlineFillColor,i.outlineFillAlpha*c),G=1;G<S;G++){var $=G*x;o.beginPath(),o.moveTo($+u,d),o.lineTo($+u,p+d),o.stroke()}for(Y=1;Y<E;Y++){var w=Y*y;o.beginPath(),o.moveTo(u,w+d),o.lineTo(u+v,w+d),o.stroke()}}o.restore()}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1110),h=t(1111),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(12),r=function(a,s,i,n){i.addToRenderList(s);var f=a.pipelines.set(s.pipeline),o=e(s,i,n),u=f.calcMatrix.copyFrom(o.calc),d=s.width,c=s.height,v=d/2,p=d/s.projection,x=i.alpha*s.alpha;if(s.isFilled){var y,S,E,A,M,L,F,O,B;a.pipelines.preBatch(s),s.showTop&&(y=h.getTintAppendFloatAlpha(s.fillTop,x),S=u.getX(-v,-c),E=u.getY(-v,-c),A=u.getX(0,-p-c),M=u.getY(0,-p-c),L=u.getX(v,-c),F=u.getY(v,-c),O=u.getX(0,p-c),B=u.getY(0,p-c),f.batchQuad(s,S,E,A,M,L,F,O,B,0,0,1,1,y,y,y,y,2)),s.showLeft&&(y=h.getTintAppendFloatAlpha(s.fillLeft,x),S=u.getX(-v,0),E=u.getY(-v,0),A=u.getX(0,p),M=u.getY(0,p),L=u.getX(0,p-c),F=u.getY(0,p-c),O=u.getX(-v,-c),B=u.getY(-v,-c),f.batchQuad(s,S,E,A,M,L,F,O,B,0,0,1,1,y,y,y,y,2)),s.showRight&&(y=h.getTintAppendFloatAlpha(s.fillRight,x),S=u.getX(v,0),E=u.getY(v,0),A=u.getX(0,p),M=u.getY(0,p),L=u.getX(0,p-c),F=u.getY(0,p-c),O=u.getX(v,-c),B=u.getY(v,-c),f.batchQuad(s,S,E,A,M,L,F,O,B,0,0,1,1,y,y,y,y,2)),a.pipelines.postBatch(s)}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(30),r=function(a,s,i,n){i.addToRenderList(s);var f=a.currentContext;if(h(a,f,s,i,n)&&s.isFilled){var o=s.width,u=s.height,d=o/2,c=o/s.projection;s.showTop&&(e(f,s,s.fillTop),f.beginPath(),f.moveTo(-d,-u),f.lineTo(0,-c-u),f.lineTo(d,-u),f.lineTo(d,-1),f.lineTo(0,c-1),f.lineTo(-d,-1),f.lineTo(-d,-u),f.fill()),s.showLeft&&(e(f,s,s.fillLeft),f.beginPath(),f.moveTo(-d,0),f.lineTo(0,c),f.lineTo(0,c-u),f.lineTo(-d,-u),f.lineTo(-d,0),f.fill()),s.showRight&&(e(f,s,s.fillRight),f.beginPath(),f.moveTo(d,0),f.lineTo(0,c),f.lineTo(0,c-u),f.lineTo(d,-u),f.lineTo(d,0),f.fill()),f.restore()}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1113),h=t(1114),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(12),r=function(a,s,i,n){i.addToRenderList(s);var f=a.pipelines.set(s.pipeline),o=e(s,i,n),u=f.calcMatrix.copyFrom(o.calc),d=s.width,c=s.height,v=d/2,p=d/s.projection,x=s.isReversed,y=i.alpha*s.alpha;if(s.isFilled){a.pipelines.preBatch(s);var S,E,A,M,L,F,O;if(s.showTop&&x){S=h.getTintAppendFloatAlpha(s.fillTop,y),E=u.getX(-v,-c),A=u.getY(-v,-c),M=u.getX(0,-p-c),L=u.getY(0,-p-c),F=u.getX(v,-c),O=u.getY(v,-c);var B=u.getX(0,p-c),N=u.getY(0,p-c);f.batchQuad(s,E,A,M,L,F,O,B,N,0,0,1,1,S,S,S,S,2)}s.showLeft&&(S=h.getTintAppendFloatAlpha(s.fillLeft,y),x?(E=u.getX(-v,-c),A=u.getY(-v,-c),M=u.getX(0,p),L=u.getY(0,p),F=u.getX(0,p-c),O=u.getY(0,p-c)):(E=u.getX(-v,0),A=u.getY(-v,0),M=u.getX(0,p),L=u.getY(0,p),F=u.getX(0,p-c),O=u.getY(0,p-c)),f.batchTri(s,E,A,M,L,F,O,0,0,1,1,S,S,S,2)),s.showRight&&(S=h.getTintAppendFloatAlpha(s.fillRight,y),x?(E=u.getX(v,-c),A=u.getY(v,-c),M=u.getX(0,p),L=u.getY(0,p),F=u.getX(0,p-c),O=u.getY(0,p-c)):(E=u.getX(v,0),A=u.getY(v,0),M=u.getX(0,p),L=u.getY(0,p),F=u.getX(0,p-c),O=u.getY(0,p-c)),f.batchTri(s,E,A,M,L,F,O,0,0,1,1,S,S,S,2)),a.pipelines.postBatch(s)}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(30),r=function(a,s,i,n){i.addToRenderList(s);var f=a.currentContext;if(h(a,f,s,i,n)&&s.isFilled){var o=s.width,u=s.height,d=o/2,c=o/s.projection,v=s.isReversed;s.showTop&&v&&(e(f,s,s.fillTop),f.beginPath(),f.moveTo(-d,-u),f.lineTo(0,-c-u),f.lineTo(d,-u),f.lineTo(0,c-u),f.fill()),s.showLeft&&(e(f,s,s.fillLeft),f.beginPath(),v?(f.moveTo(-d,-u),f.lineTo(0,c),f.lineTo(0,c-u)):(f.moveTo(-d,0),f.lineTo(0,c),f.lineTo(0,c-u)),f.fill()),s.showRight&&(e(f,s,s.fillRight),f.beginPath(),v?(f.moveTo(d,-u),f.lineTo(0,c),f.lineTo(0,c-u)):(f.moveTo(d,0),f.lineTo(0,c),f.lineTo(0,c-u)),f.fill()),f.restore()}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1116),h=t(1117),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(12),r=function(a,s,i,n){i.addToRenderList(s);var f=a.pipelines.set(s.pipeline),o=e(s,i,n);f.calcMatrix.copyFrom(o.calc);var u=s._displayOriginX,d=s._displayOriginY,c=i.alpha*s.alpha;if(a.pipelines.preBatch(s),s.isStroked){var v=f.strokeTint,p=h.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*c);v.TL=p,v.TR=p,v.BL=p,v.BR=p;var x=s._startWidth,y=s._endWidth;f.batchLine(s.geom.x1-u,s.geom.y1-d,s.geom.x2-u,s.geom.y2-d,x,y,1,0,!1,o.sprite,o.camera)}a.pipelines.postBatch(s)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(60),h=t(30),r=function(a,s,i,n){i.addToRenderList(s);var f=a.currentContext;if(h(a,f,s,i,n)){var o=s._displayOriginX,u=s._displayOriginY;s.isStroked&&(e(f,s),f.beginPath(),f.moveTo(s.geom.x1-o,s.geom.y1-u),f.lineTo(s.geom.x2-o,s.geom.y2-u),f.stroke()),f.restore()}};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1119),h=t(1120),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),h=t(19),r=t(81),a=function(s,i,n,f){n.addToRenderList(i);var o=s.pipelines.set(i.pipeline),u=h(i,n,f),d=o.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,p=n.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(o,d,i,p,c,v),i.isStroked&&r(o,i,p,c,v),s.pipelines.postBatch(i)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(60),r=t(30),a=function(s,i,n,f){n.addToRenderList(i);var o=s.currentContext;if(r(s,o,i,n,f)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,p=c[0]-u,x=c[1]-d;o.beginPath(),o.moveTo(p,x),i.closePath||(v-=2);for(var y=2;y<v;y+=2){var S=c[y]-u,E=c[y+1]-d;o.lineTo(S,E)}o.closePath(),i.isFilled&&(e(o,i),o.fill()),i.isStroked&&(h(o,i),o.stroke()),o.restore()}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1122),h=t(1123),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(81),r=t(12),a=function(s,i,n,f){n.addToRenderList(i);var o=s.pipelines.set(i.pipeline),u=e(i,n,f);o.calcMatrix.copyFrom(u.calc);var d=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(s.pipelines.preBatch(i),i.isFilled){var p=o.fillTint,x=r.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);p.TL=x,p.TR=x,p.BL=x,p.BR=x,o.batchFillRect(-d,-c,i.width,i.height)}i.isStroked&&h(o,i,v,d,c),s.pipelines.postBatch(i)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(60),r=t(30),a=function(s,i,n,f){n.addToRenderList(i);var o=s.currentContext;if(r(s,o,i,n,f)){var u=i._displayOriginX,d=i._displayOriginY;i.isFilled&&(e(o,i),o.fillRect(-u,-d,i.width,i.height)),i.isStroked&&(h(o,i),o.beginPath(),o.rect(-u,-d,i.width,i.height),o.stroke()),o.restore()}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1125),h=t(1126),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),h=t(19),r=t(81),a=function(s,i,n,f){n.addToRenderList(i);var o=s.pipelines.set(i.pipeline),u=h(i,n,f),d=o.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,p=n.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(o,d,i,p,c,v),i.isStroked&&r(o,i,p,c,v),s.pipelines.postBatch(i)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(60),r=t(30),a=function(s,i,n,f){n.addToRenderList(i);var o=s.currentContext;if(r(s,o,i,n,f)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,p=c[0]-u,x=c[1]-d;o.beginPath(),o.moveTo(p,x),i.closePath||(v-=2);for(var y=2;y<v;y+=2){var S=c[y]-u,E=c[y+1]-d;o.lineTo(S,E)}o.closePath(),i.isFilled&&(e(o,i),o.fill()),i.isStroked&&(h(o,i),o.stroke()),o.restore()}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1128),h=t(1129),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=t(81),r=t(12),a=function(s,i,n,f){n.addToRenderList(i);var o=s.pipelines.set(i.pipeline),u=e(i,n,f);o.calcMatrix.copyFrom(u.calc);var d=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(s.pipelines.preBatch(i),i.isFilled){var p=o.fillTint,x=r.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);p.TL=x,p.TR=x,p.BL=x,p.BR=x;var y=i.geom.x1-d,S=i.geom.y1-c,E=i.geom.x2-d,A=i.geom.y2-c,M=i.geom.x3-d,L=i.geom.y3-c;o.batchFillTriangle(y,S,E,A,M,L,u.sprite,u.camera)}i.isStroked&&h(o,i,v,d,c),s.pipelines.postBatch(i)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),h=t(60),r=t(30),a=function(s,i,n,f){n.addToRenderList(i);var o=s.currentContext;if(r(s,o,i,n,f)){var u=i._displayOriginX,d=i._displayOriginY,c=i.geom.x1-u,v=i.geom.y1-d,p=i.geom.x2-u,x=i.geom.y2-d,y=i.geom.x3-u,S=i.geom.y3-d;o.beginPath(),o.moveTo(c,v),o.lineTo(p,x),o.lineTo(y,S),o.closePath(),i.isFilled&&(e(o,i),o.fill()),i.isStroked&&(h(o,i),o.stroke()),o.restore()}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),h=t(5);h.register("blitter",function(r,a,s,i){return this.displayList.add(new e(this.scene,r,a,s,i))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(214),h=t(5);h.register("container",function(r,a,s){return this.displayList.add(new e(this.scene,r,a,s))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(442),h=t(5);h.register("dom",function(r,a,s,i,n){var f=new e(this.scene,r,a,s,i,n);return this.displayList.add(f),f})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),h=t(5);h.register("dynamicBitmapText",function(r,a,s,i,n){return this.displayList.add(new e(this.scene,r,a,s,i,n))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(444),h=t(5);h.register("extern",function(){var r=new e(this.scene);return this.displayList.add(r),r})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(216),h=t(5);h.register("graphics",function(r){return this.displayList.add(new e(this.scene,r))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(113),h=t(5);h.register("group",function(r,a){return this.updateList.add(new e(this.scene,r,a))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(125),h=t(5);h.register("image",function(r,a,s,i){return this.displayList.add(new e(this.scene,r,a,s,i))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(219),h=t(5);h.register("layer",function(r){return this.displayList.add(new e(this.scene,r))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(220);e.register("particles",function(r,a,s){return this.displayList.add(new h(this.scene,r,a,s))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(457);e.register("follower",function(r,a,s,i,n){var f=new h(this.scene,r,a,s,i,n);return this.displayList.add(f),this.updateList.add(f),f})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(221);e.register("renderTexture",function(r,a,s,i,n,f){return this.displayList.add(new h(this.scene,r,a,s,i,n,f))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(223),h=t(5);h.register("rope",function(r,a,s,i,n,f,o,u){return this.displayList.add(new e(this.scene,r,a,s,i,n,f,o,u))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(73);e.register("sprite",function(r,a,s,i){var n=new h(this.scene,r,a,s,i);return this.displayList.add(n),n})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),h=t(5);h.register("bitmapText",function(r,a,s,i,n,f){return this.displayList.add(new e(this.scene,r,a,s,i,n,f))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(224),h=t(5);h.register("text",function(r,a,s,i){return this.displayList.add(new e(this.scene,r,a,s,i))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(225),h=t(5);h.register("tileSprite",function(r,a,s,i,n,f){return this.displayList.add(new e(this.scene,r,a,s,i,n,f))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(129),h=t(5);h.register("zone",function(r,a,s,i){return this.displayList.add(new e(this.scene,r,a,s,i))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(226),h=t(5);h.register("video",function(r,a,s){return this.displayList.add(new e(this.scene,r,a,s))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(461),h=t(5);h.register("arc",function(r,a,s,i,n,f,o,u){return this.displayList.add(new e(this.scene,r,a,s,i,n,f,o,u))}),h.register("circle",function(r,a,s,i,n){return this.displayList.add(new e(this.scene,r,a,s,0,360,!1,i,n))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(462);e.register("curve",function(r,a,s,i,n){return this.displayList.add(new h(this.scene,r,a,s,i,n))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(463),h=t(5);h.register("ellipse",function(r,a,s,i,n,f){return this.displayList.add(new e(this.scene,r,a,s,i,n,f))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(464);e.register("grid",function(r,a,s,i,n,f,o,u,d,c){return this.displayList.add(new h(this.scene,r,a,s,i,n,f,o,u,d,c))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(465);e.register("isobox",function(r,a,s,i,n,f,o){return this.displayList.add(new h(this.scene,r,a,s,i,n,f,o))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(466);e.register("isotriangle",function(r,a,s,i,n,f,o,u){return this.displayList.add(new h(this.scene,r,a,s,i,n,f,o,u))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(467);e.register("line",function(r,a,s,i,n,f,o,u){return this.displayList.add(new h(this.scene,r,a,s,i,n,f,o,u))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(468);e.register("polygon",function(r,a,s,i,n){return this.displayList.add(new h(this.scene,r,a,s,i,n))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(473);e.register("rectangle",function(r,a,s,i,n,f){return this.displayList.add(new h(this.scene,r,a,s,i,n,f))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(474),h=t(5);h.register("star",function(r,a,s,i,n,f,o){return this.displayList.add(new e(this.scene,r,a,s,i,n,f,o))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(475);e.register("triangle",function(r,a,s,i,n,f,o,u,d,c){return this.displayList.add(new h(this.scene,r,a,s,i,n,f,o,u,d,c))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),h=t(28),r=t(16),a=t(13);r.register("blitter",function(s,i){s===void 0&&(s={});var n=a(s,"key",null),f=a(s,"frame",null),o=new e(this.scene,0,0,n,f);return i!==void 0&&(s.add=i),h(this.scene,o,s),o})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(214),r=t(16),a=t(13);r.register("container",function(s,i){s===void 0&&(s={});var n=a(s,"x",0),f=a(s,"y",0),o=a(s,"children",null),u=new h(this.scene,n,f,o);return i!==void 0&&(s.add=i),e(this.scene,u,s),u})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),h=t(28),r=t(16),a=t(13);r.register("dynamicBitmapText",function(s,i){s===void 0&&(s={});var n=a(s,"font",""),f=a(s,"text",""),o=a(s,"size",!1),u=new e(this.scene,0,0,n,f,o);return i!==void 0&&(s.add=i),h(this.scene,u,s),u})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),h=t(216);e.register("graphics",function(r,a){r===void 0&&(r={}),a!==void 0&&(r.add=a);var s=new h(this.scene,r);return r.add&&this.scene.sys.displayList.add(s),s})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),h=t(113);e.register("group",function(r){return new h(this.scene,null,r)})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(125);h.register("image",function(s,i){s===void 0&&(s={});var n=r(s,"key",null),f=r(s,"frame",null),o=new a(this.scene,0,0,n,f);return i!==void 0&&(s.add=i),e(this.scene,o,s),o})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(219),r=t(16),a=t(13);r.register("layer",function(s,i){s===void 0&&(s={});var n=a(s,"children",null),f=new h(this.scene,n);return i!==void 0&&(s.add=i),e(this.scene,f,s),f})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),h=t(13),r=t(2),a=t(220);e.register("particles",function(s,i){s===void 0&&(s={});var n=h(s,"key",null),f=h(s,"frame",null),o=r(s,"emitters",null),u=new a(this.scene,n,f,o);i!==void 0&&(s.add=i);var d=r(s,"add",!1);return d?this.displayList.add(u):this.updateList.add(u),u})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(221);h.register("renderTexture",function(s,i){s===void 0&&(s={});var n=r(s,"x",0),f=r(s,"y",0),o=r(s,"width",32),u=r(s,"height",32),d=r(s,"key",void 0),c=r(s,"frame",void 0),v=new a(this.scene,n,f,o,u,d,c);return i!==void 0&&(s.add=i),e(this.scene,v,s),v})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(6),s=t(223);h.register("rope",function(i,n){i===void 0&&(i={});var f=r(i,"key",null),o=r(i,"frame",null),u=r(i,"horizontal",!0),d=a(i,"points",void 0),c=a(i,"colors",void 0),v=a(i,"alphas",void 0),p=new s(this.scene,0,0,f,o,d,u,c,v);return n!==void 0&&(i.add=n),e(this.scene,p,i),i.add||this.updateList.add(p),p})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(439),r=t(16),a=t(13),s=t(73);r.register("sprite",function(i,n){i===void 0&&(i={});var f=a(i,"key",null),o=a(i,"frame",null),u=new s(this.scene,0,0,f,o);return n!==void 0&&(i.add=n),e(this.scene,u,i),h(u,i),u})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),h=t(28),r=t(16),a=t(13),s=t(6);r.register("bitmapText",function(i,n){i===void 0&&(i={});var f=s(i,"font",""),o=a(i,"text",""),u=a(i,"size",!1),d=s(i,"align",0),c=new e(this.scene,0,0,f,o,u,d);return n!==void 0&&(i.add=n),h(this.scene,c,i),c})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(224);h.register("text",function(s,i){s===void 0&&(s={});var n=r(s,"text",""),f=r(s,"style",null),o=r(s,"padding",null);o!==null&&(f.padding=o);var u=new a(this.scene,0,0,n,f);return i!==void 0&&(s.add=i),e(this.scene,u,s),u.autoRound=r(s,"autoRound",!0),u.resolution=r(s,"resolution",1),u})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(225);h.register("tileSprite",function(s,i){s===void 0&&(s={});var n=r(s,"x",0),f=r(s,"y",0),o=r(s,"width",512),u=r(s,"height",512),d=r(s,"key",""),c=r(s,"frame",""),v=new a(this.scene,n,f,o,u,d,c);return i!==void 0&&(s.add=i),e(this.scene,v,s),v})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),h=t(13),r=t(129);e.register("zone",function(a){var s=h(a,"x",0),i=h(a,"y",0),n=h(a,"width",1),f=h(a,"height",n);return new r(this.scene,s,i,n,f)})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(226);h.register("video",function(s,i){s===void 0&&(s={});var n=r(s,"key",null),f=new a(this.scene,0,0,n);return i!==void 0&&(s.add=i),e(this.scene,f,s),s.add||this.updateList.add(f),f})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1177),h=t(1178),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=function(r,a,s,i){if(a.shader){if(s.addToRenderList(a),r.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var n=e(a,s,i).calc;(r.width!==a._rendererWidth||r.height!==a._rendererHeight)&&a.projOrtho(0,r.width,r.height,0),a.load(n.matrix),a.flush()}r.pipelines.rebind()}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1180),h=t(1181),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=function(r,a,s,i){var n=a.faces,f=n.length;if(f!==0){s.addToRenderList(a);var o=r.pipelines.set(a.pipeline,a),u=e(a,s,i).calc,d=o.setGameObject(a),c=o.vertexViewF32,v=o.vertexViewU32,p=o.vertexCount*o.currentShader.vertexComponentCount-1,x=a.tintFill,y=[],S=a.debugCallback,E=u.a,A=u.b,M=u.c,L=u.d,F=u.e,O=u.f,B=a.viewPosition.z,N=a.hideCCW,G=s.roundPixels,Y=s.alpha*a.alpha,H=0;r.pipelines.preBatch(a);for(var b=0;b<f;b++){var Z=n[b];Z.isInView(s,N,B,Y,E,A,M,L,F,O,G)&&(o.shouldFlush(3)&&(o.flush(),p=0),p=Z.load(c,v,p,d,x),H++,o.vertexCount+=3,S&&y.push(Z))}a.totalFrame+=H,S&&S.call(a,a,y),r.pipelines.postBatch(a)}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1183),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),h=function(r,a,s,i){s.addToRenderList(a);var n=r.pipelines.set(a.pipeline),f=e(a,s,i).calc,o=a.width,u=a.height,d=-a._radius,c=-a._radius,v=d+o,p=c+u,x=f.getX(0,0),y=f.getY(0,0),S=f.getX(d,c),E=f.getY(d,c),A=f.getX(d,p),M=f.getY(d,p),L=f.getX(v,p),F=f.getY(v,p),O=f.getX(v,c),B=f.getY(v,c);r.pipelines.preBatch(a),n.batchPointLight(a,s,S,E,A,M,L,F,O,B,x,y),r.pipelines.postBatch(a)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(229),h=t(5);h.register("shader",function(r,a,s,i,n,f,o){return this.displayList.add(new e(this.scene,r,a,s,i,n,f,o))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(230),h=t(5);h.register("mesh",function(r,a,s,i,n,f,o,u,d,c,v){return this.displayList.add(new e(this.scene,r,a,s,i,n,f,o,u,d,c,v))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(150);e.register("pointlight",function(r,a,s,i,n,f){return this.displayList.add(new h(this.scene,r,a,s,i,n,f))})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(229);h.register("shader",function(s,i){s===void 0&&(s={});var n=r(s,"key",null),f=r(s,"x",0),o=r(s,"y",0),u=r(s,"width",128),d=r(s,"height",128),c=new a(this.scene,n,f,o,u,d);return i!==void 0&&(s.add=i),e(this.scene,c,s),c})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(6),s=t(230);h.register("mesh",function(i,n){i===void 0&&(i={});var f=r(i,"key",null),o=r(i,"frame",null),u=a(i,"vertices",[]),d=a(i,"uvs",[]),c=a(i,"indicies",[]),v=a(i,"containsZ",!1),p=a(i,"normals",[]),x=a(i,"colors",16777215),y=a(i,"alphas",1),S=new s(this.scene,0,0,f,o,u,d,c,v,p,x,y);return n!==void 0&&(i.add=n),e(this.scene,S,i),S})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),h=t(16),r=t(13),a=t(150);h.register("pointlight",function(s,i){s===void 0&&(s={});var n=r(s,"color",16777215),f=r(s,"radius",128),o=r(s,"intensity",1),u=r(s,"attenuation",.1),d=new a(this.scene,0,0,n,f,o,u);return i!==void 0&&(s.add=i),e(this.scene,d,s),d})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(482),r=t(24),a=t(20),s=new e({Extends:h,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(a.BOOT,this.boot,this),h.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});r.register("LightsPlugin",s,"lights"),l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65);e.Area=t(1192),e.Circumference=t(302),e.CircumferencePoint=t(169),e.Clone=t(1193),e.Contains=t(66),e.ContainsPoint=t(1194),e.ContainsRect=t(1195),e.CopyFrom=t(1196),e.Equals=t(1197),e.GetBounds=t(1198),e.GetPoint=t(300),e.GetPoints=t(301),e.Offset=t(1199),e.OffsetPoint=t(1200),e.Random=t(170),l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),h=function(r){return new e(r.x,r.y,r.radius)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),h=function(r,a){return e(r,a.x,a.y)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),h=function(r,a){return e(r,a.x,a.y)&&e(r,a.right,a.y)&&e(r,a.x,a.bottom)&&e(r,a.right,a.bottom)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.setTo(e.x,e.y,e.radius)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x===h.x&&e.y===h.y&&e.radius===h.radius};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=function(r,a){return a===void 0&&(a=new e),a.x=r.left,a.y=r.top,a.width=r.diameter,a.height=r.diameter,a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e.x+=h,e.y+=r,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x+=h.x,e.y+=h.y,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111);e.Area=t(1202),e.Circumference=t(447),e.CircumferencePoint=t(218),e.Clone=t(1203),e.Contains=t(112),e.ContainsPoint=t(1204),e.ContainsRect=t(1205),e.CopyFrom=t(1206),e.Equals=t(1207),e.GetBounds=t(1208),e.GetPoint=t(445),e.GetPoints=t(446),e.Offset=t(1209),e.OffsetPoint=t(1210),e.Random=t(180),l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111),h=function(r){return new e(r.x,r.y,r.width,r.height)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),h=function(r,a){return e(r,a.x,a.y)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),h=function(r,a){return e(r,a.x,a.y)&&e(r,a.right,a.y)&&e(r,a.x,a.bottom)&&e(r,a.right,a.bottom)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.setTo(e.x,e.y,e.width,e.height)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x===h.x&&e.y===h.y&&e.width===h.width&&e.height===h.height};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=function(r,a){return a===void 0&&(a=new e),a.x=r.left,a.y=r.top,a.width=r.width,a.height=r.height,a};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e.x+=h,e.y+=r,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x+=h.x,e.y+=h.y,e};l.exports=t},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=t(231),r=function(a,s,i){if(i===void 0&&(i=[]),h(a,s)){var n=a.x,f=a.y,o=a.radius,u=s.x,d=s.y,c=s.radius,v,p,x,y,S;if(f===d)S=(c*c-o*o-u*u+n*n)/(2*(n-u)),v=1,p=-2*d,x=u*u+S*S-2*u*S+d*d-c*c,y=p*p-4*v*x,y===0?i.push(new e(S,-p/(2*v))):y>0&&(i.push(new e(S,(-p+Math.sqrt(y))/(2*v))),i.push(new e(S,(-p-Math.sqrt(y))/(2*v))));else{var E=(n-u)/(f-d),A=(c*c-o*o-u*u+n*n-d*d+f*f)/(2*(f-d));v=E*E+1,p=2*f*E-2*A*E-2*n,x=n*n+f*f+A*A-o*o-2*f*A,y=p*p-4*v*x,y===0?(S=-p/(2*v),i.push(new e(S,A-S*E))):y>0&&(S=(-p+Math.sqrt(y))/(2*v),i.push(new e(S,A-S*E)),S=(-p-Math.sqrt(y))/(2*v),i.push(new e(S,A-S*E)))}}return i};l.exports=r},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),h=t(151),r=function(a,s,i){if(i===void 0&&(i=[]),h(a,s)){var n=s.getLineA(),f=s.getLineB(),o=s.getLineC(),u=s.getLineD();e(n,a,i),e(f,a,i),e(o,a,i),e(u,a,i)}return i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(140),h=t(487),r=t(47),a=new r;function s(f,o,u,d,c){var v=Math.cos(f),p=Math.sin(f);a.setTo(o,u,o+v,u+p);var x=h(a,d);x&&c.push(new e(x.x,x.y,f,x.w))}function i(f,o){return f.z-o.z}var n=function(f,o,u){Array.isArray(u)||(u=[u]);for(var d=[],c=[],v=0;v<u.length;v++)for(var p=u[v].points,x=0;x<p.length;x++){var y=Math.atan2(p[x].y-o,p[x].x-f);c.indexOf(y)===-1&&(s(y,f,o,u,d),s(y-1e-5,f,o,u,d),s(y+1e-5,f,o,u,d),c.push(y))}return d.sort(i)};l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=t(152),r=function(a,s,i){return i===void 0&&(i=new e),h(a,s)&&(i.x=Math.max(a.x,s.x),i.y=Math.max(a.y,s.y),i.width=Math.min(a.right,s.right)-i.x,i.height=Math.min(a.bottom,s.bottom)-i.y),i};l.exports=r},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(234),h=t(152),r=function(a,s,i){if(i===void 0&&(i=[]),h(a,s)){var n=a.getLineA(),f=a.getLineB(),o=a.getLineC(),u=a.getLineD();e(n,s,i),e(f,s,i),e(o,s,i),e(u,s,i)}return i};l.exports=r},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(489),h=t(234),r=function(a,s,i){if(i===void 0&&(i=[]),e(a,s)){var n=s.getLineA(),f=s.getLineB(),o=s.getLineC();h(n,a,i),h(f,a,i),h(o,a,i)}return i};l.exports=r},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),h=t(491),r=function(a,s,i){if(i===void 0&&(i=[]),h(a,s)){var n=a.getLineA(),f=a.getLineB(),o=a.getLineC();e(n,s,i),e(f,s,i),e(o,s,i)}return i};l.exports=r},function(l,g,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(494),h=t(492),r=function(a,s,i){if(i===void 0&&(i=[]),e(a,s)){var n=s.getLineA(),f=s.getLineB(),o=s.getLineC();h(a,n,i),h(a,f,i),h(a,o,i)}return i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(496),h=function(r,a){if(!e(r,a))return!1;var s=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),n=Math.min(a.y1,a.y2),f=Math.max(a.y1,a.y2);return r.x>=s&&r.x<=i&&r.y>=n&&r.y<=f};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s,i){return i===void 0&&(i=0),!(h>e.right+i||r<e.left-i||a>e.bottom+i||s<e.top-i)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47);e.Angle=t(97),e.BresenhamPoints=t(317),e.CenterOn=t(1222),e.Clone=t(1223),e.CopyFrom=t(1224),e.Equals=t(1225),e.Extend=t(1226),e.GetEasedPoints=t(1227),e.GetMidPoint=t(1228),e.GetNearestPoint=t(1229),e.GetNormal=t(1230),e.GetPoint=t(307),e.GetPoints=t(172),e.GetShortestDistance=t(1231),e.Height=t(1232),e.Length=t(67),e.NormalAngle=t(497),e.NormalX=t(1233),e.NormalY=t(1234),e.Offset=t(1235),e.PerpSlope=t(1236),e.Random=t(173),e.ReflectAngle=t(1237),e.Rotate=t(1238),e.RotateAroundPoint=t(1239),e.RotateAroundXY=t(236),e.SetToAngle=t(1240),e.Slope=t(1241),e.Width=t(1242),l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=h-(e.x1+e.x2)/2,s=r-(e.y1+e.y2)/2;return e.x1+=a,e.y1+=s,e.x2+=a,e.y2+=s,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47),h=function(r){return new e(r.x1,r.y1,r.x2,r.y2)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.setTo(e.x1,e.y1,e.x2,e.y2)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x1===h.x1&&e.y1===h.y1&&e.x2===h.x2&&e.y2===h.y2};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),h=function(r,a,s){s===void 0&&(s=a);var i=e(r),n=r.x2-r.x1,f=r.y2-r.y1;return a&&(r.x1=r.x1-n/i*a,r.y1=r.y1-f/i*a),s&&(r.x2=r.x2+n/i*s,r.y2=r.y2+f/i*s),r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(352),h=t(80),r=t(4),a=function(s,i,n,f,o){f===void 0&&(f=0),o===void 0&&(o=[]);var u=[],d=s.x1,c=s.y1,v=s.x2-d,p=s.y2-c,x=h(i,o),y,S,E=n-1;for(y=0;y<E;y++)S=x(y/E),u.push(new r(d+v*S,c+p*S));if(S=x(1),u.push(new r(d+v*S,c+p*S)),f>0){var A=u[0],M=[A];for(y=1;y<u.length-1;y++){var L=u[y];e(A,L)>=f&&(M.push(L),A=L)}var F=u[u.length-1];return e(A,F)<f&&M.pop(),M.push(F),M}else return u};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){return a===void 0&&(a=new e),a.x=(r.x1+r.x2)/2,a.y=(r.y1+r.y2)/2,a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a,s){s===void 0&&(s=new e);var i=r.x1,n=r.y1,f=r.x2,o=r.y2,u=(f-i)*(f-i)+(o-n)*(o-n);if(u===0)return s;var d=((a.x-i)*(f-i)+(a.y-n)*(o-n))/u;return s.x=i+d*(f-i),s.y=n+d*(o-n),s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=t(97),r=t(4),a=function(s,i){i===void 0&&(i=new r);var n=h(s)-e.TAU;return i.x=Math.cos(n),i.y=Math.sin(n),i};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=e.x1,a=e.y1,s=e.x2,i=e.y2,n=(s-r)*(s-r)+(i-a)*(i-a);if(n===0)return!1;var f=((a-h.y)*(s-r)-(r-h.x)*(i-a))/n;return Math.abs(f)*Math.sqrt(n)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.y1-e.y2)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=t(97),r=function(a){return Math.cos(h(a)-e.TAU)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),h=t(97),r=function(a){return Math.sin(h(a)-e.TAU)};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e.x1+=h,e.y1+=r,e.x2+=h,e.y2+=r,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(97),h=t(497),r=function(a,s){return 2*h(s)-Math.PI-e(a)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),h=function(r,a){var s=(r.x1+r.x2)/2,i=(r.y1+r.y2)/2;return e(r,s,i,a)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),h=function(r,a,s){return e(r,a.x,a.y,s)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a,s){return e.x1=h,e.y1=r,e.x2=h+Math.cos(a)*s,e.y2=r+Math.sin(a)*s,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.x1-e.x2)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Face:t(116),GenerateGridVerts:t(1244),GenerateObjVerts:t(480),GenerateVerts:t(479),ParseObj:t(498),ParseObjMaterial:t(499),RotateFace:t(1245),Vertex:t(117)};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),h=t(2),r=t(69),a=t(39),s=t(117),i=new a,n=new a,f=new r,o=function(u){var d=h(u,"mesh"),c=h(u,"texture",null),v=h(u,"frame"),p=h(u,"width",1),x=h(u,"height",p),y=h(u,"widthSegments",1),S=h(u,"heightSegments",y),E=h(u,"x",0),A=h(u,"y",0),M=h(u,"z",0),L=h(u,"rotateX",0),F=h(u,"rotateY",0),O=h(u,"rotateZ",0),B=h(u,"zIsUp",!0),N=h(u,"isOrtho",d?d.dirtyCache[11]:!1),G=h(u,"colors",[16777215]),Y=h(u,"alphas",[1]),H=h(u,"tile",!1),b=h(u,"flipY",!1),Z=h(u,"width",null),$={faces:[],verts:[]};if(i.set(E,A,M),n.set(L,F,O),f.fromRotationXYTranslation(n,i,B),!c&&d)c=d.texture;else if(d&&typeof c=="string")c=d.scene.sys.textures.get(c);else return $;var w=c.get(v);!Z&&N&&c&&d&&(p=w.width/d.height,x=w.height/d.height);var D=p/2,V=x/2,z=Math.floor(y),X=Math.floor(S),j=z+1,K=X+1,Q=p/z,k=x/X,_=[],it=[],at,ot,ct=0,ut=1,mt=0,Nt=1;w&&(ct=w.u0,ut=w.u1,b?(mt=w.v1,Nt=w.v0):(mt=w.v0,Nt=w.v1));var Mt=ut-ct,Ct=Nt-mt;for(ot=0;ot<K;ot++){var ft=ot*k-V;for(at=0;at<j;at++){var wt=at*Q-D;it.push(wt,-ft);var Tt=ct+Mt*(at/z),Lt=mt+Ct*(ot/X);_.push(Tt,Lt)}}Array.isArray(G)||(G=[G]),Array.isArray(Y)||(Y=[Y]);var xe=0,ye=0;for(ot=0;ot<X;ot++)for(at=0;at<z;at++){var bt=(at+j*ot)*2,Ut=(at+j*(ot+1))*2,_t=(at+1+j*(ot+1))*2,Zt=(at+1+j*ot)*2,Jt=G[ye],ue=Y[xe],Be=new s(it[bt],it[bt+1],0,_[bt],_[bt+1],Jt,ue).transformMat4(f),ci=new s(it[Ut],it[Ut+1],0,_[Ut],_[Ut+1],Jt,ue).transformMat4(f),_e=new s(it[Zt],it[Zt+1],0,_[Zt],_[Zt+1],Jt,ue).transformMat4(f),ti=new s(it[Ut],it[Ut+1],0,_[Ut],_[Ut+1],Jt,ue).transformMat4(f),vi=new s(it[_t],it[_t+1],0,_[_t],_[_t+1],Jt,ue).transformMat4(f),je=new s(it[Zt],it[Zt+1],0,_[Zt],_[Zt+1],Jt,ue).transformMat4(f);H&&(Be.setUVs(ct,Nt),ci.setUVs(ct,mt),_e.setUVs(ut,Nt),ti.setUVs(ct,mt),vi.setUVs(ut,mt),je.setUVs(ut,Nt)),ye++,ye===G.length&&(ye=0),xe++,xe===Y.length&&(xe=0),$.verts.push(Be,ci,_e,ti,vi,je),$.faces.push(new e(Be,ci,_e),new e(ti,vi,je))}return d&&(d.faces=d.faces.concat($.faces),d.vertices=d.vertices.concat($.verts)),$};l.exports=o},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){var s,i;if(r===void 0&&a===void 0){var n=e.getInCenter();s=n.x,i=n.y}var f=Math.cos(h),o=Math.sin(h),u=e.vertex1,d=e.vertex2,c=e.vertex3,v=u.x-s,p=u.y-i;u.set(v*f-p*o+s,v*o+p*f+i),v=d.x-s,p=d.y-i,d.set(v*f-p*o+s,v*o+p*f+i),v=c.x-s,p=c.y-i,c.set(v*f-p*o+s,v*o+p*f+i)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);e.Ceil=t(1247),e.Clone=t(1248),e.CopyFrom=t(1249),e.Equals=t(1250),e.Floor=t(1251),e.GetCentroid=t(1252),e.GetMagnitude=t(500),e.GetMagnitudeSq=t(501),e.GetRectangleFromPoints=t(1253),e.Interpolate=t(1254),e.Invert=t(1255),e.Negative=t(1256),e.Project=t(1257),e.ProjectUnit=t(1258),e.SetMagnitude=t(1259),l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r){return new e(r.x,r.y)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.setTo(e.x,e.y)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x===h.x&&e.y===h.y};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){if(a===void 0&&(a=new e),!Array.isArray(r))throw new Error("GetCentroid points argument must be an array");var s=r.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)a.x=r[0].x,a.y=r[0].y;else{for(var i=0;i<s;i++)a.x+=r[i].x,a.y+=r[i].y;a.x/=s,a.y/=s}return a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=function(r,a){a===void 0&&(a=new e);for(var s=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,o=0;o<r.length;o++){var u=r[o];u.x>s&&(s=u.x),u.x<i&&(i=u.x),u.y>n&&(n=u.y),u.y<f&&(f=u.y)}return a.x=i,a.y=f,a.width=s-i,a.height=n-f,a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a,s,i){return s===void 0&&(s=0),i===void 0&&(i=new e),i.x=r.x+(a.x-r.x)*s,i.y=r.y+(a.y-r.y)*s,i};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(e.y,e.x)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){return a===void 0&&(a=new e),a.setTo(-r.x,-r.y)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=t(501),r=function(a,s,i){i===void 0&&(i=new e);var n=a.x*s.x+a.y*s.y,f=n/h(s);return f!==0&&(i.x=f*s.x,i.y=f*s.y),i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a,s){s===void 0&&(s=new e);var i=r.x*a.x+r.y*a.y;return i!==0&&(s.x=i*a.x,s.y=i*a.y),s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(500),h=function(r,a){if(r.x!==0||r.y!==0){var s=e(r);r.x/=s,r.y/=s}return r.x*=a,r.y*=a,r};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227);e.Clone=t(1261),e.Contains=t(228),e.ContainsPoint=t(1262),e.Earcut=t(59),e.GetAABB=t(469),e.GetNumberArray=t(1263),e.GetPoints=t(470),e.Perimeter=t(471),e.Reverse=t(1264),e.Simplify=t(1265),e.Smooth=t(472),e.Translate=t(1266),l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227),h=function(r){return new e(r.points)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(228),h=function(r,a){return e(r,a.x,a.y)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=[]);for(var r=0;r<e.points.length;r++)h.push(e.points[r].x),h.push(e.points[r].y);return h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.points.reverse(),e};l.exports=t},function(l,g){function t(i,n){var f=i.x-n.x,o=i.y-n.y;return f*f+o*o}function e(i,n,f){var o=n.x,u=n.y,d=f.x-o,c=f.y-u;if(d!==0||c!==0){var v=((i.x-o)*d+(i.y-u)*c)/(d*d+c*c);v>1?(o=f.x,u=f.y):v>0&&(o+=d*v,u+=c*v)}return d=i.x-o,c=i.y-u,d*d+c*c}function h(i,n){for(var f=i[0],o=[f],u,d=1,c=i.length;d<c;d++)u=i[d],t(u,f)>n&&(o.push(u),f=u);return f!==u&&o.push(u),o}function r(i,n,f,o,u){for(var d=o,c,v=n+1;v<f;v++){var p=e(i[v],i[n],i[f]);p>d&&(c=v,d=p)}d>o&&(c-n>1&&r(i,n,c,o,u),u.push(i[c]),f-c>1&&r(i,c,f,o,u))}function a(i,n){var f=i.length-1,o=[i[0]];return r(i,0,f,n,o),o.push(i[f]),o}var s=function(i,n,f){n===void 0&&(n=1),f===void 0&&(f=!1);var o=i.points;if(o.length>2){var u=n*n;f||(o=h(o,u)),i.setTo(a(o,u))}return i};l.exports=s},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){for(var a=e.points,s=0;s<a.length;s++)a[s].x+=h,a[s].y+=r;return e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.height};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=function(r){return new e(r.x,r.y,r.width,r.height)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(57),h=function(r,a){return e(r,a.x,a.y)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.setTo(e.x,e.y,e.width,e.height)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x===h.x&&e.y===h.y&&e.width===h.width&&e.height===h.height};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),h=function(r,a){var s=e(r);return s<e(a)?r.setSize(a.height*s,a.height):r.setSize(a.width,a.width/s),r.setPosition(a.centerX-r.width/2,a.centerY-r.height/2)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),h=function(r,a){var s=e(r);return s>e(a)?r.setSize(a.height*s,a.height):r.setSize(a.width,a.width/s),r.setPosition(a.centerX-r.width/2,a.centerY-r.height/2)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};l.exports=t},function(l,g,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=function(r,a,s,i,n){return n===void 0&&(n=new e),n.setTo(Math.min(r,s),Math.min(a,i),Math.abs(r-s),Math.abs(a-i))};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){return a===void 0&&(a=new e),a.x=r.centerX,a.y=r.centerY,a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=function(r,a){return a===void 0&&(a=new e),a.x=r.width,a.y=r.height,a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(190),h=function(r,a,s){var i=r.centerX,n=r.centerY;return r.setSize(r.width+a*2,r.height+s*2),e(r,i,n)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),h=t(152),r=function(a,s,i){return i===void 0&&(i=new e),h(a,s)?(i.x=Math.max(a.x,s.x),i.y=Math.max(a.y,s.y),i.width=Math.min(a.right,s.right)-i.x,i.height=Math.min(a.bottom,s.bottom)-i.y):i.setEmpty(),i};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){for(var r=e.x,a=e.right,s=e.y,i=e.bottom,n=0;n<h.length;n++)r=Math.min(r,h[n].x),a=Math.max(a,h[n].x),s=Math.min(s,h[n].y),i=Math.max(i,h[n].y);return e.x=r,e.y=s,e.width=a-r,e.height=i-s,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){var r=Math.min(e.x,h.x),a=Math.max(e.right,h.right);e.x=r,e.width=a-r;var s=Math.min(e.y,h.y),i=Math.max(e.bottom,h.bottom);return e.y=s,e.height=i-s,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){var a=Math.min(e.x,h),s=Math.max(e.right,h);e.x=a,e.width=s-a;var i=Math.min(e.y,r),n=Math.max(e.bottom,r);return e.y=i,e.height=n-i,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return e.x+=h,e.y+=r,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x+=h.x,e.y+=h.y,e};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x<h.right&&e.right>h.x&&e.y<h.bottom&&e.bottom>h.y};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),h=t(36),r=function(a,s,i){i===void 0&&(i=new e),s=h(s);var n=Math.sin(s),f=Math.cos(s),o=f>0?a.width/2:a.width/-2,u=n>0?a.height/2:a.height/-2;return Math.abs(o*n)<Math.abs(u*f)?u=o*n/f:o=u*f/n,i.x=o+a.centerX,i.y=u+a.centerY,i};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),h=t(503),r=t(4),a=function(s,i,n){if(n===void 0&&(n=new r),h(s,i))switch(e(0,3)){case 0:n.x=s.x+Math.random()*(i.right-s.x),n.y=s.y+Math.random()*(i.top-s.y);break;case 1:n.x=i.x+Math.random()*(s.right-i.x),n.y=i.bottom+Math.random()*(s.bottom-i.bottom);break;case 2:n.x=s.x+Math.random()*(i.x-s.x),n.y=i.y+Math.random()*(s.bottom-i.y);break;case 3:n.x=i.right+Math.random()*(s.right-i.right),n.y=s.y+Math.random()*(i.bottom-s.y);break}return n};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.width===h.width&&e.height===h.height};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r){return r===void 0&&(r=h),e.width*=h,e.height*=r,e};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82);e.Area=t(1294),e.BuildEquilateral=t(1295),e.BuildFromPolygon=t(1296),e.BuildRight=t(1297),e.CenterOn=t(1298),e.Centroid=t(504),e.CircumCenter=t(1299),e.CircumCircle=t(1300),e.Clone=t(1301),e.Contains=t(115),e.ContainsArray=t(235),e.ContainsPoint=t(1302),e.CopyFrom=t(1303),e.Decompose=t(495),e.Equals=t(1304),e.GetPoint=t(476),e.GetPoints=t(477),e.InCenter=t(506),e.Perimeter=t(1305),e.Offset=t(505),e.Random=t(181),e.Rotate=t(1306),e.RotateAroundPoint=t(1307),e.RotateAroundXY=t(238),l.exports=e},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var h=e.x1,r=e.y1,a=e.x2,s=e.y2,i=e.x3,n=e.y3;return Math.abs(((i-h)*(s-r)-(a-h)*(n-r))/2)};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),h=function(r,a,s){var i=s*(Math.sqrt(3)/2),n=r,f=a,o=r+s/2,u=a+i,d=r-s/2,c=a+i;return new e(n,f,o,u,d,c)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(59),h=t(82),r=function(a,s,i,n,f){s===void 0&&(s=null),i===void 0&&(i=1),n===void 0&&(n=1),f===void 0&&(f=[]);for(var o=e(a,s),u,d,c,v,p,x,y,S,E,A=0;A<o.length;A+=3)u=o[A],d=o[A+1],c=o[A+2],v=a[u*2]*i,p=a[u*2+1]*n,x=a[d*2]*i,y=a[d*2+1]*n,S=a[c*2]*i,E=a[c*2+1]*n,f.push(new h(v,p,x,y,S,E));return f};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),h=function(r,a,s,i){i===void 0&&(i=s);var n=r,f=a,o=r,u=a-i,d=r+s,c=a;return new e(n,f,o,u,d,c)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(504),h=t(505),r=function(a,s,i,n){n===void 0&&(n=e);var f=n(a),o=s-f.x,u=i-f.y;return h(a,o,u)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3);function h(a,s,i,n){return a*n-s*i}var r=function(a,s){s===void 0&&(s=new e);var i=a.x3,n=a.y3,f=a.x1-i,o=a.y1-n,u=a.x2-i,d=a.y2-n,c=2*h(f,o,u,d),v=h(o,f*f+o*o,d,u*u+d*d),p=h(f,f*f+o*o,u,u*u+d*d);return s.x=i-v/c,s.y=n+p/c,s};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),h=function(r,a){a===void 0&&(a=new e);var s=r.x1,i=r.y1,n=r.x2,f=r.y2,o=r.x3,u=r.y3,d=n-s,c=f-i,v=o-s,p=u-i,x=d*(s+n)+c*(i+f),y=v*(s+o)+p*(i+u),S=2*(d*(u-f)-c*(o-n)),E,A;if(Math.abs(S)<1e-6){var M=Math.min(s,n,o),L=Math.min(i,f,u);E=(Math.max(s,n,o)-M)*.5,A=(Math.max(i,f,u)-L)*.5,a.x=M+E,a.y=L+A,a.radius=Math.sqrt(E*E+A*A)}else a.x=(p*x-c*y)/S,a.y=(d*y-v*x)/S,E=a.x-s,A=a.y-i,a.radius=Math.sqrt(E*E+A*A);return a};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),h=function(r){return new e(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(115),h=function(r,a){return e(r,a.x,a.y)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.x1===h.x1&&e.y1===h.y1&&e.x2===h.x2&&e.y2===h.y2&&e.x3===h.x3&&e.y3===h.y3};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),h=function(r){var a=r.getLineA(),s=r.getLineB(),i=r.getLineC();return e(a)+e(s)+e(i)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),h=t(506),r=function(a,s){var i=h(a);return e(a,i.x,i.y,s)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),h=function(r,a,s){return e(r,a.x,a.y,s)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(203),h=t(17),r={CreatePixelPerfectHandler:t(507),CreateInteractiveObject:t(508),Events:t(51),Gamepad:t(1309),InputManager:t(409),InputPlugin:t(1321),InputPluginCache:t(153),Keyboard:t(1322),Mouse:t(1336),Pointer:t(412),Touch:t(1337)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Axis:t(509),Button:t(510),Events:t(239),Gamepad:t(511),GamepadPlugin:t(1316),Configs:t(1317)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="connected"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="disconnected"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(239),a=t(511),s=t(6),i=t(153),n=t(51),f=new e({Extends:h,initialize:function(u){h.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(n.BOOT,this.boot,this),u.pluginEvents.on(n.START,this.start,this)},boot:function(){var o=this.scene.sys.game,u=this.settings.input,d=o.config;this.enabled=s(u,"gamepad",d.inputGamepad)&&o.device.input.gamepads,this.target=s(u,"gamepad.target",d.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var o=this,u=this.target,d=function(c){c.defaultPrevented||!o.isActive()||(o.refreshPads(),o.queue.push(c))};this.onGamepadHandler=d,u.addEventListener("gamepadconnected",d,!1),u.addEventListener("gamepaddisconnected",d,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].removeAllListeners()},disconnectAll:function(){for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].pad.connected=!1},refreshPads:function(){var o=navigator.getGamepads();if(!o)this.disconnectAll();else for(var u=this.gamepads,d=0;d<o.length;d++){var c=o[d];if(c){var v=c.id,p=c.index,x=u[p];if(x)x.id!==v?(x.destroy(),u[p]=new a(this,c)):x.update(c);else{var y=new a(this,c);u[p]=y,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=y):this._pad3=y:this._pad2=y:this._pad1=y}}}},getAll:function(){for(var o=[],u=this.gamepads,d=0;d<u.length;d++)u[d]&&o.push(u[d]);return o},getPad:function(o){for(var u=this.gamepads,d=0;d<u.length;d++)if(u[d]&&u[d].index===o)return u[d]},update:function(){if(this.enabled){this.refreshPads();var o=this.queue.length;if(o!==0)for(var u=this.queue.splice(0,o),d=0;d<o;d++){var c=u[d],v=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(r.CONNECTED,v,c):c.type==="gamepaddisconnected"&&this.emit(r.DISCONNECTED,v,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var o=0;o<this.gamepads.length;o++)this.gamepads[o]&&this.gamepads[o].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DUALSHOCK_4:t(1318),SNES_USB:t(1319),XBOX_360:t(1320)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),h=t(66),r=t(0),a=t(203),s=t(508),i=t(507),n=t(50),f=t(111),o=t(112),u=t(51),d=t(9),c=t(2),v=t(56),p=t(153),x=t(7),y=t(24),S=t(10),E=t(57),A=t(20),M=t(82),L=t(115),F=new r({Extends:d,initialize:function(B){d.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var N={cancelled:!1};this._eventContainer={stopPropagation:function(){N.cancelled=!0}},this._eventData=N,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(A.BOOT,this.boot,this),B.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var O=this.systems.events;O.on(A.TRANSITION_START,this.transitionIn,this),O.on(A.TRANSITION_OUT,this.transitionOut,this),O.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(A.PRE_UPDATE,this.preUpdate,this),O.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(O){this.isActive()&&this.emit(u.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(u.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var O=this._pendingRemoval,B=this._pendingInsertion,N=O.length,G=B.length;if(!(N===0&&G===0)){for(var Y=this._list,H=0;H<N;H++){var b=O[H],Z=Y.indexOf(b);Z>-1&&(Y.splice(Z,1),this.clear(b,!0))}O.length=0,this._pendingRemoval.length=0,this._list=Y.concat(B.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(O,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,O,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var N,G=this.manager,Y=G.pointers,H=G.pointersTotal;for(N=0;N<H;N++)Y[N].updateMotion();if(this._list.length===0)return!1;var b=this.pollRate;if(b===-1)return!1;if(b>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Z=!1;for(N=0;N<H;N++){var $=0,w=Y[N];this._tempZones=[],this._temp=this.hitTestPointer(w),this.sortGameObjects(this._temp,w),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),$+=this.processOverOutEvents(w),this.getDragState(w)===2&&this.processDragThresholdEvent(w,O),$>0&&(Z=!0)}return Z},update:function(O,B){if(!this.isActive())return!1;for(var N=B.length,G=!1,Y=0;Y<N;Y++){var H=0,b=B[Y];switch(this._tempZones=[],this._temp=this.hitTestPointer(b),this.sortGameObjects(this._temp,b),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case a.MOUSE_DOWN:H+=this.processDragDownEvent(b),H+=this.processDownEvents(b),H+=this.processOverOutEvents(b);break;case a.MOUSE_UP:H+=this.processDragUpEvent(b),H+=this.processUpEvents(b),H+=this.processOverOutEvents(b);break;case a.TOUCH_START:H+=this.processDragDownEvent(b),H+=this.processDownEvents(b),H+=this.processOverEvents(b);break;case a.TOUCH_END:case a.TOUCH_CANCEL:H+=this.processDragUpEvent(b),H+=this.processUpEvents(b),H+=this.processOutEvents(b);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:H+=this.processDragMoveEvent(b),H+=this.processMoveEvents(b),H+=this.processOverOutEvents(b);break;case a.MOUSE_WHEEL:H+=this.processWheelEvent(b);break}H>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(O,B){B===void 0&&(B=!1);var N=O.input;if(N){B||this.queueForRemoval(O),N.gameObject=void 0,N.target=void 0,N.hitArea=void 0,N.hitAreaCallback=void 0,N.callbackContext=void 0,O.input=null;var G=this._draggable.indexOf(O);return G>-1&&this._draggable.splice(G,1),G=this._drag[0].indexOf(O),G>-1&&this._drag[0].splice(G,1),G=this._over[0].indexOf(O),G>-1&&(this._over[0].splice(G,1),this.manager.resetCursor(N)),O}},disable:function(O){O.input.enabled=!1},enable:function(O,B,N,G){return G===void 0&&(G=!1),O.input?O.input.enabled=!0:this.setHitArea(O,B,N),O.input&&G&&!O.input.dropZone&&(O.input.dropZone=G),this},hitTestPointer:function(O){for(var B=this.cameras.getCamerasBelowPointer(O),N=0;N<B.length;N++){for(var G=B[N],Y=this.manager.hitTest(O,this._list,G),H=0;H<Y.length;H++){var b=Y[H];b.input.dropZone&&this._tempZones.push(b)}if(Y.length>0)return O.camera=G,Y}return O.camera=B[0],[]},processDownEvents:function(O){var B=0,N=this._temp,G=this._eventData,Y=this._eventContainer;G.cancelled=!1;for(var H=!1,b=0;b<N.length;b++){var Z=N[b];if(Z.input){if(B++,Z.emit(u.GAMEOBJECT_POINTER_DOWN,O,Z.input.localX,Z.input.localY,Y),G.cancelled||!Z.input){H=!0;break}if(this.emit(u.GAMEOBJECT_DOWN,O,Z,Y),G.cancelled||!Z.input){H=!0;break}}}return!H&&this.manager&&(O.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,O,N):this.emit(u.POINTER_DOWN_OUTSIDE,O)),B},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,B){this._dragState[O.id]=B},processDragThresholdEvent:function(O,B){var N=!1,G=this.dragTimeThreshold,Y=this.dragDistanceThreshold;if((Y>0&&n(O.x,O.y,O.downX,O.downY)>=Y||G>0&&B>=O.downTime+G)&&(N=!0),N)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;for(var B=this._drag[O.id],N=0;N<B.length;N++){var G=B[N],Y=G.input;Y.dragState=2,Y.dragStartX=G.x,Y.dragStartY=G.y,Y.dragStartXGlobal=O.worldX,Y.dragStartYGlobal=O.worldY,Y.dragX=Y.dragStartXGlobal-Y.dragStartX,Y.dragY=Y.dragStartYGlobal-Y.dragStartY,G.emit(u.GAMEOBJECT_DRAG_START,O,Y.dragX,Y.dragY),this.emit(u.DRAG_START,O,G)}return this.setDragState(O,4),B.length},processDragDownEvent:function(O){var B=this._temp;if(this._draggable.length===0||B.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var N=[],G=0;G<B.length;G++){var Y=B[G];Y.input.draggable&&Y.input.dragState===0&&N.push(Y)}return N.length===0?(this.setDragState(O,0),0):(N.length>1&&(this.sortGameObjects(N,O),this.topOnly&&N.splice(1)),this._drag[O.id]=N,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;for(var B=this._tempZones,N=this._drag[O.id],G=0;G<N.length;G++){var Y=N[G],H=Y.input,b=H.target;if(b){var Z=B.indexOf(b);Z===0?(Y.emit(u.GAMEOBJECT_DRAG_OVER,O,b),this.emit(u.DRAG_OVER,O,Y,b)):Z>0?(Y.emit(u.GAMEOBJECT_DRAG_LEAVE,O,b),this.emit(u.DRAG_LEAVE,O,Y,b),H.target=B[0],b=H.target,Y.emit(u.GAMEOBJECT_DRAG_ENTER,O,b),this.emit(u.DRAG_ENTER,O,Y,b)):(Y.emit(u.GAMEOBJECT_DRAG_LEAVE,O,b),this.emit(u.DRAG_LEAVE,O,Y,b),B[0]?(H.target=B[0],b=H.target,Y.emit(u.GAMEOBJECT_DRAG_ENTER,O,b),this.emit(u.DRAG_ENTER,O,Y,b)):H.target=null)}else!b&&B[0]&&(H.target=B[0],b=H.target,Y.emit(u.GAMEOBJECT_DRAG_ENTER,O,b),this.emit(u.DRAG_ENTER,O,Y,b));var $,w;if(!Y.parentContainer)$=O.worldX-H.dragX,w=O.worldY-H.dragY;else{var D=O.worldX-H.dragStartXGlobal,V=O.worldY-H.dragStartYGlobal,z=Y.getParentRotation(),X=D*Math.cos(z)+V*Math.sin(z),j=V*Math.cos(z)-D*Math.sin(z);X*=1/Y.parentContainer.scaleX,j*=1/Y.parentContainer.scaleY,$=X+H.dragStartX,w=j+H.dragStartY}Y.emit(u.GAMEOBJECT_DRAG,O,$,w),this.emit(u.DRAG,O,Y,$,w)}return N.length},processDragUpEvent:function(O){for(var B=this._drag[O.id],N=0;N<B.length;N++){var G=B[N],Y=G.input;if(Y&&Y.dragState===2){Y.dragState=0,Y.dragX=Y.localX-G.displayOriginX,Y.dragY=Y.localY-G.displayOriginY;var H=!1,b=Y.target;b&&(G.emit(u.GAMEOBJECT_DROP,O,b),this.emit(u.DROP,O,G,b),Y.target=null,H=!0),G.input&&(G.emit(u.GAMEOBJECT_DRAG_END,O,Y.dragX,Y.dragY,H),this.emit(u.DRAG_END,O,G,H))}}return this.setDragState(O,0),B.splice(0),0},processMoveEvents:function(O){var B=0,N=this._temp,G=this._eventData,Y=this._eventContainer;G.cancelled=!1;for(var H=!1,b=0;b<N.length;b++){var Z=N[b];if(Z.input){if(B++,Z.emit(u.GAMEOBJECT_POINTER_MOVE,O,Z.input.localX,Z.input.localY,Y),G.cancelled||!Z.input){H=!0;break}if(this.emit(u.GAMEOBJECT_MOVE,O,Z,Y),G.cancelled||!Z.input){H=!0;break}if(this.topOnly)break}}return H||this.emit(u.POINTER_MOVE,O,N),B},processWheelEvent:function(O){var B=0,N=this._temp,G=this._eventData,Y=this._eventContainer;G.cancelled=!1;for(var H=!1,b=O.deltaX,Z=O.deltaY,$=O.deltaZ,w=0;w<N.length;w++){var D=N[w];if(D.input){if(B++,D.emit(u.GAMEOBJECT_POINTER_WHEEL,O,b,Z,$,Y),G.cancelled||!D.input){H=!0;break}if(this.emit(u.GAMEOBJECT_WHEEL,O,D,b,Z,$,Y),G.cancelled||!D.input){H=!0;break}}}return H||this.emit(u.POINTER_WHEEL,O,N,b,Z,$),B},processOverEvents:function(O){var B=this._temp,N=0,G=B.length,Y=[];if(G>0){var H=this.manager,b=this._eventData,Z=this._eventContainer;b.cancelled=!1;for(var $=!1,w=0;w<G;w++){var D=B[w];if(D.input){if(Y.push(D),H.setCursor(D.input),D.emit(u.GAMEOBJECT_POINTER_OVER,O,D.input.localX,D.input.localY,Z),N++,b.cancelled||!D.input){$=!0;break}if(this.emit(u.GAMEOBJECT_OVER,O,D,Z),b.cancelled||!D.input){$=!0;break}}}$||this.emit(u.POINTER_OVER,O,Y)}return this._over[O.id]=Y,N},processOutEvents:function(O){var B=this._over[O.id],N=0,G=B.length;if(G>0){var Y=this.manager,H=this._eventData,b=this._eventContainer;H.cancelled=!1;var Z=!1;this.sortGameObjects(B,O);for(var $=0;$<G;$++){var w=B[$];if(w=B[$],!!w.input){if(Y.resetCursor(w.input),w.emit(u.GAMEOBJECT_POINTER_OUT,O,b),N++,H.cancelled||!w.input){Z=!0;break}if(this.emit(u.GAMEOBJECT_OUT,O,w,b),H.cancelled||!w.input){Z=!0;break}Z||this.emit(u.POINTER_OUT,O,B)}}this._over[O.id]=[]}return N},processOverOutEvents:function(O){var B=this._temp,N,G,Y=[],H=[],b=[],Z=this._over[O.id],$=this._drag[O.id],w=this.manager;for(N=0;N<Z.length;N++)G=Z[N],B.indexOf(G)===-1&&$.indexOf(G)===-1?Y.push(G):b.push(G);for(N=0;N<B.length;N++)G=B[N],Z.indexOf(G)===-1&&H.push(G);var D=Y.length,V=0,z=this._eventData,X=this._eventContainer;z.cancelled=!1;var j=!1;if(D>0){for(this.sortGameObjects(Y,O),N=0;N<D;N++)if(G=Y[N],!!G.input){if(w.resetCursor(G.input),G.emit(u.GAMEOBJECT_POINTER_OUT,O,X),V++,z.cancelled||!G.input){j=!0;break}if(this.emit(u.GAMEOBJECT_OUT,O,G,X),z.cancelled||!G.input){j=!0;break}}j||this.emit(u.POINTER_OUT,O,Y)}if(D=H.length,z.cancelled=!1,j=!1,D>0){for(this.sortGameObjects(H,O),N=0;N<D;N++)if(G=H[N],!!G.input){if(w.setCursor(G.input),G.emit(u.GAMEOBJECT_POINTER_OVER,O,G.input.localX,G.input.localY,X),V++,z.cancelled||!G.input){j=!0;break}if(this.emit(u.GAMEOBJECT_OVER,O,G,X),z.cancelled||!G.input){j=!0;break}}j||this.emit(u.POINTER_OVER,O,H)}return Z=b.concat(H),this._over[O.id]=this.sortGameObjects(Z,O),V},processUpEvents:function(O){var B=this._temp,N=this._eventData,G=this._eventContainer;N.cancelled=!1;for(var Y=!1,H=0;H<B.length;H++){var b=B[H];if(b.input){if(b.emit(u.GAMEOBJECT_POINTER_UP,O,b.input.localX,b.input.localY,G),N.cancelled||!b.input){Y=!0;break}if(this.emit(u.GAMEOBJECT_UP,O,b,G),N.cancelled||!b.input){Y=!0;break}}}return!Y&&this.manager&&(O.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,O,B):this.emit(u.POINTER_UP_OUTSIDE,O)),B.length},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,B){B===void 0&&(B=!0),Array.isArray(O)||(O=[O]);for(var N=0;N<O.length;N++){var G=O[N];G.input.draggable=B;var Y=this._draggable.indexOf(G);B&&Y===-1?this._draggable.push(G):!B&&Y>-1&&this._draggable.splice(Y,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var B=this.systems.textures;return i(B,O)},setHitArea:function(O,B,N){if(B===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var G=!1,Y=!1,H=!1,b=!1,Z=!1,$=!0;if(x(B)){var w=B;B=c(w,"hitArea",null),N=c(w,"hitAreaCallback",null),G=c(w,"draggable",!1),Y=c(w,"dropZone",!1),H=c(w,"cursor",!1),b=c(w,"useHandCursor",!1),Z=c(w,"pixelPerfect",!1);var D=c(w,"alphaTolerance",1);Z&&(B={},N=this.makePixelPerfect(D)),(!B||!N)&&(this.setHitAreaFromTexture(O),$=!1)}else typeof B=="function"&&!N&&(N=B,B={});for(var V=0;V<O.length;V++){var z=O[V];if(Z&&z.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=z.input?z.input:s(z,B,N);X.customHitArea=$,X.dropZone=Y,X.cursor=b?"pointer":H,z.input=X,G&&this.setDraggable(z),this.queueForInsertion(z)}return this},setHitAreaCircle:function(O,B,N,G,Y){Y===void 0&&(Y=h);var H=new e(B,N,G);return this.setHitArea(O,H,Y)},setHitAreaEllipse:function(O,B,N,G,Y,H){H===void 0&&(H=o);var b=new f(B,N,G,Y);return this.setHitArea(O,b,H)},setHitAreaFromTexture:function(O,B){B===void 0&&(B=E),Array.isArray(O)||(O=[O]);for(var N=0;N<O.length;N++){var G=O[N],Y=G.frame,H=0,b=0;if(G.width?(H=G.width,b=G.height):Y&&(H=Y.realWidth,b=Y.realHeight),G.type==="Container"&&(H===0||b===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}H!==0&&b!==0&&(G.input=s(G,new S(0,0,H,b),B),this.queueForInsertion(G))}return this},setHitAreaRectangle:function(O,B,N,G,Y,H){H===void 0&&(H=E);var b=new S(B,N,G,Y);return this.setHitArea(O,b,H)},setHitAreaTriangle:function(O,B,N,G,Y,H,b,Z){Z===void 0&&(Z=L);var $=new M(B,N,G,Y,H,b);return this.setHitArea(O,$,Z)},enableDebug:function(O,B){B===void 0&&(B=65280);var N=O.input;if(!N||!N.hitArea)return this;var G=N.hitArea,Y=G.type,H=N.hitAreaDebug,b=this.systems.add,Z=this.systems.updateList;H&&(Z.remove(H),H.destroy(),H=null);var $=0,w=0;switch(Y){case v.CIRCLE:H=b.arc(0,0,G.radius),$=G.x-G.radius,w=G.y-G.radius;break;case v.ELLIPSE:H=b.ellipse(0,0,G.width,G.height),$=G.x-G.width/2,w=G.y-G.height/2;break;case v.LINE:H=b.line(0,0,G.x1,G.y1,G.x2,G.y2);break;case v.POLYGON:H=b.polygon(0,0,G.points);break;case v.RECTANGLE:H=b.rectangle(0,0,G.width,G.height),$=G.x,w=G.y;break;case v.TRIANGLE:H=b.triangle(0,0,G.x1,G.y1,G.x2,G.y2,G.x3,G.y3);break}return H&&(H.isFilled=!1,H.preUpdate=function(){H.setStrokeStyle(1/O.scale,B),H.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var D=O.x,V=O.y,z=O.rotation,X=O.scaleX,j=O.scaleY;if(O.parentContainer){var K=O.getWorldTransformMatrix();D=K.tx,V=K.ty,z=K.rotation,X=K.scaleX,j=K.scaleY}H.setRotation(z),H.setScale(X,j),H.setPosition(D+$,V+w),H.setScrollFactor(O.scrollFactorX,O.scrollFactorY),H.setDepth(O.depth)},Z.add(H),N.hitAreaDebug=H),this},removeDebug:function(O){var B=O.input;if(B&&B.hitAreaDebug){var N=B.hitAreaDebug;this.systems.updateList.remove(N),N.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,B){if(O.length<2)return O;var N=B.camera.renderList;return O.sort(function(G,Y){return N.indexOf(Y)-N.indexOf(G)})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,B){if(!O.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(O);if(O.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-O.parentContainer.getIndex(O);if(O.parentContainer===B)return-1;if(B.parentContainer===O)return 1;for(var N=O.getIndexList(),G=B.getIndexList(),Y=Math.min(N.length,G.length),H=0;H<Y;H++){var b=N[H],Z=G[H];if(b!==Z)return Z-b}return G.length-N.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var N=this.systems.events;N.off(A.TRANSITION_START,this.transitionIn,this),N.off(A.TRANSITION_OUT,this.transitionOut,this),N.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),N.off(A.PRE_UPDATE,this.preUpdate,this),B.events.off(u.GAME_OUT,this.onGameOut,this),B.events.off(u.GAME_OVER,this.onGameOver,this),N.off(A.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",F,"input"),l.exports=F},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:t(154),KeyboardManager:t(410),KeyboardPlugin:t(1330),Key:t(512),KeyCodes:t(143),KeyCombo:t(513),AdvanceKeyCombo:t(515),ProcessKeyCombo:t(514),ResetKeyCombo:t(516),JustDown:t(1332),JustUp:t(1333),DownDuration:t(1334),UpDuration:t(1335)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keycombomatch"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown-"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup-"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(9),r=t(154),a=t(22),s=t(6),i=t(51),n=t(153),f=t(512),o=t(143),u=t(513),d=t(1331),c=t(20),v=t(76),p=new e({Extends:h,initialize:function(y){h.call(this),this.game=y.systems.game,this.scene=y.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=y,this.manager=y.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,y.pluginEvents.once(i.BOOT,this.boot,this),y.pluginEvents.on(i.START,this.start,this)},boot:function(){var x=this.settings.input;this.enabled=s(x,"keyboard",!0);var y=s(x,"keyboard.capture",null);y&&this.addCaptures(y),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(x){return this.manager.addCapture(x),this},removeCapture:function(x){return this.manager.removeCapture(x),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:o.UP,down:o.DOWN,left:o.LEFT,right:o.RIGHT,space:o.SPACE,shift:o.SHIFT})},addKeys:function(x,y,S){y===void 0&&(y=!0),S===void 0&&(S=!1);var E={};if(typeof x=="string"){x=x.split(",");for(var A=0;A<x.length;A++){var M=x[A].trim();M&&(E[M]=this.addKey(M,y,S))}}else for(var L in x)E[L]=this.addKey(x[L],y,S);return E},addKey:function(x,y,S){y===void 0&&(y=!0),S===void 0&&(S=!1);var E=this.keys;if(x instanceof f){var A=E.indexOf(x);return A>-1?E[A]=x:E[x.keyCode]=x,y&&this.addCapture(x.keyCode),x.setEmitOnRepeat(S),x}return typeof x=="string"&&(x=o[x.toUpperCase()]),E[x]||(E[x]=new f(this,x),y&&this.addCapture(x),E[x].setEmitOnRepeat(S)),E[x]},removeKey:function(x,y){y===void 0&&(y=!1);var S=this.keys,E;if(x instanceof f){var A=S.indexOf(x);A>-1&&(E=this.keys[A],this.keys[A]=void 0)}else typeof x=="string"&&(x=o[x.toUpperCase()]);return S[x]&&(E=S[x],S[x]=void 0),E&&(E.plugin=null,y&&E.destroy()),this},removeAllKeys:function(x){for(var y=this.keys,S=0;S<y.length;S++){var E=y[S];E&&(y[S]=void 0,x&&E.destroy())}return this},createCombo:function(x,y){return new u(this,x,y)},checkDown:function(x,y){if(y===void 0&&(y=0),this.enabled&&x.isDown){var S=v(this.time-x.timeDown,y);if(S>x._tick)return x._tick=S,!0}return!1},update:function(){var x=this.manager.queue,y=x.length;if(!(!this.isActive()||y===0))for(var S=this.keys,E=0;E<y;E++){var A=x[E],M=A.keyCode,L=S[M],F=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(M===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=M,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(L&&(F=L.isDown,L.onDown(A)),!A.cancelled&&(!L||!F)&&(d[M]&&this.emit(r.KEY_DOWN+d[M],A),A.cancelled||this.emit(r.ANY_KEY_DOWN,A))):(L&&L.onUp(A),A.cancelled||(d[M]&&this.emit(r.KEY_UP+d[M],A),A.cancelled||this.emit(r.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var x=this.keys,y=0;y<x.length;y++)x[y]&&x[y].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var x=this.keys,y=0;y<x.length;y++)x[y]&&x[y].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),l.exports=p},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(143),h={};for(var r in e)h[e[r]]=r;l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justDown?(e._justDown=!1,!0):!1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justUp?(e._justUp=!1,!0):!1};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=50);var r=e.plugin.game.loop.time-e.timeDown;return e.isDown&&r<h};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){h===void 0&&(h=50);var r=e.plugin.game.loop.time-e.timeUp;return e.isUp&&r<h};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={MouseManager:t(411)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TouchManager:t(413)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(21),h=t(17),r={Events:t(95),FileTypes:t(1339),File:t(23),FileTypesManager:t(8),GetURL:t(155),LoaderPlugin:t(1365),MergeXHRSettings:t(240),MultiFile:t(49),XHRLoader:t(517),XHRSettings:t(156)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AnimationJSONFile:t(1340),AsepriteFile:t(1341),AtlasJSONFile:t(1342),AtlasXMLFile:t(1343),AudioFile:t(518),AudioSpriteFile:t(1344),BinaryFile:t(1345),BitmapFontFile:t(1346),CSSFile:t(1347),GLSLFile:t(1348),HTML5AudioFile:t(519),HTMLFile:t(1349),HTMLTextureFile:t(1350),ImageFile:t(71),JSONFile:t(61),MultiAtlasFile:t(1351),MultiScriptFile:t(1352),OBJFile:t(1353),PackFile:t(1354),PluginFile:t(1355),SceneFile:t(1356),ScenePluginFile:t(1357),ScriptFile:t(520),SpriteSheetFile:t(1358),SVGFile:t(1359),TextFile:t(242),TilemapCSVFile:t(1360),TilemapImpactFile:t(1361),TilemapJSONFile:t(1362),UnityAtlasFile:t(1363),VideoFile:t(1364),XMLFile:t(241)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(61),a=t(95),s=new e({Extends:r,initialize:function(n,f,o,u,d){r.call(this,n,f,o,u,d),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),r.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});h.register("animation",function(i,n,f,o){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new s(this,i[u]));else this.addFile(new s(this,i,n,o,f));return this}),l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(71),s=t(7),i=t(61),n=t(49),f=new e({Extends:n,initialize:function(u,d,c,v,p,x){var y,S;if(s(d)){var E=d;d=r(E,"key"),y=new a(u,{key:d,url:r(E,"textureURL"),extension:r(E,"textureExtension","png"),normalMap:r(E,"normalMap"),xhrSettings:r(E,"textureXhrSettings")}),S=new i(u,{key:d,url:r(E,"atlasURL"),extension:r(E,"atlasExtension","json"),xhrSettings:r(E,"atlasXhrSettings")})}else y=new a(u,d,c,p),S=new i(u,d,v,x);y.linkFile?n.call(this,u,"atlasjson",d,[y,S,y.linkFile]):n.call(this,u,"atlasjson",d,[y,S])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,u.data,d),u.addToCache(),this.complete=!0}}});h.register("aseprite",function(o,u,d,c,v){var p;if(Array.isArray(o))for(var x=0;x<o.length;x++)p=new f(this,o[x]),this.addFile(p.files);else p=new f(this,o,u,d,c,v),this.addFile(p.files);return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(71),s=t(7),i=t(61),n=t(49),f=new e({Extends:n,initialize:function(u,d,c,v,p,x){var y,S;if(s(d)){var E=d;d=r(E,"key"),y=new a(u,{key:d,url:r(E,"textureURL"),extension:r(E,"textureExtension","png"),normalMap:r(E,"normalMap"),xhrSettings:r(E,"textureXhrSettings")}),S=new i(u,{key:d,url:r(E,"atlasURL"),extension:r(E,"atlasExtension","json"),xhrSettings:r(E,"atlasXhrSettings")})}else y=new a(u,d,c,p),S=new i(u,d,v,x);y.linkFile?n.call(this,u,"atlasjson",d,[y,S,y.linkFile]):n.call(this,u,"atlasjson",d,[y,S])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,u.data,d),u.pendingDestroy(),this.complete=!0}}});h.register("atlas",function(o,u,d,c,v){var p;if(Array.isArray(o))for(var x=0;x<o.length;x++)p=new f(this,o[x]),this.addFile(p.files);else p=new f(this,o,u,d,c,v),this.addFile(p.files);return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(71),s=t(7),i=t(49),n=t(241),f=new e({Extends:i,initialize:function(u,d,c,v,p,x){var y,S;if(s(d)){var E=d;d=r(E,"key"),y=new a(u,{key:d,url:r(E,"textureURL"),extension:r(E,"textureExtension","png"),normalMap:r(E,"normalMap"),xhrSettings:r(E,"textureXhrSettings")}),S=new n(u,{key:d,url:r(E,"atlasURL"),extension:r(E,"atlasExtension","xml"),xhrSettings:r(E,"atlasXhrSettings")})}else y=new a(u,d,c,p),S=new n(u,d,v,x);y.linkFile?i.call(this,u,"atlasxml",d,[y,S,y.linkFile]):i.call(this,u,"atlasxml",d,[y,S])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(o.key,o.data,u.data,d),u.pendingDestroy(),this.complete=!0}}});h.register("atlasXML",function(o,u,d,c,v){var p;if(Array.isArray(o))for(var x=0;x<o.length;x++)p=new f(this,o[x]),this.addFile(p.files);else p=new f(this,o,u,d,c,v),this.addFile(p.files);return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(518),h=t(0),r=t(8),a=t(2),s=t(7),i=t(61),n=t(49),f=new h({Extends:n,initialize:function(u,d,c,v,p,x,y){if(s(d)){var S=d;d=a(S,"key"),c=a(S,"jsonURL"),v=a(S,"audioURL"),p=a(S,"audioConfig"),x=a(S,"audioXhrSettings"),y=a(S,"jsonXhrSettings")}var E;if(!v)E=new i(u,d,c,y),n.call(this,u,"audiosprite",d,[E]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=x;else{var A=e.create(u,d,v,p,x);A&&(E=new i(u,d,c,y),n.call(this,u,"audiosprite",d,[A,E]),this.config.resourceLoad=!1)}},onFileComplete:function(o){var u=this.files.indexOf(o);if(u!==-1&&(this.pending--,this.config.resourceLoad&&o.type==="json"&&o.data.hasOwnProperty("resources"))){var d=o.data.resources,c=a(this.config,"audioConfig"),v=a(this.config,"audioXhrSettings"),p=e.create(this.loader,o.key,d,c,v);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1];o.addToCache(),u.addToCache(),this.complete=!0}}});r.register("audioSprite",function(o,u,d,c,v,p){var x=this.systems.game,y=x.config.audio,S=x.device.audio;if(y&&y.noAudio||!S.webAudio&&!S.audioData)return this;var E;if(Array.isArray(o))for(var A=0;A<o.length;A++)E=new f(this,o[A]),E.files&&this.addFile(E.files);else E=new f(this,o,u,d,c,v,p),E.files&&this.addFile(E.files);return this})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c,v){var p="bin";if(i(u)){var x=u;u=s(x,"key"),d=s(x,"url"),c=s(x,"xhrSettings"),p=s(x,"extension",p),v=s(x,"dataType",v)}var y={type:"binary",cache:o.cacheManager.binary,extension:p,responseType:"arraybuffer",key:u,url:d,xhrSettings:c,config:{dataType:v}};r.call(this,o,y)},onProcess:function(){this.state=h.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(f,o,u,d){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new n(this,f[c]));else this.addFile(new n(this,f,o,d,u));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(71),s=t(7),i=t(49),n=t(212),f=t(241),o=new e({Extends:i,initialize:function(d,c,v,p,x,y){var S,E;if(s(c)){var A=c;c=r(A,"key"),S=new a(d,{key:c,url:r(A,"textureURL"),extension:r(A,"textureExtension","png"),normalMap:r(A,"normalMap"),xhrSettings:r(A,"textureXhrSettings")}),E=new f(d,{key:c,url:r(A,"fontDataURL"),extension:r(A,"fontDataExtension","xml"),xhrSettings:r(A,"fontDataXhrSettings")})}else S=new a(d,c,v,x),E=new f(d,c,p,y);S.linkFile?i.call(this,d,"bitmapfont",c,[S,E,S.linkFile]):i.call(this,d,"bitmapfont",c,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1];u.addToCache(),d.pendingDestroy();var c=u.cache.get(u.key),v=n(d.data,u.cache.getFrame(u.key),0,0,c);this.loader.cacheManager.bitmapFont.add(u.key,{data:v,texture:u.key,frame:null}),this.complete=!0}}});h.register("bitmapFont",function(u,d,c,v,p){var x;if(Array.isArray(u))for(var y=0;y<u.length;y++)x=new o(this,u[y]),this.addFile(x.files);else x=new o(this,u,d,c,v,p),this.addFile(x.files);return this}),l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c){var v="css";if(i(u)){var p=u;u=s(p,"key"),d=s(p,"url"),c=s(p,"xhrSettings"),v=s(p,"extension",v)}var x={type:"script",cache:!1,extension:v,responseType:"text",key:u,url:d,xhrSettings:c};r.call(this,o,x)},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(f,o,u){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new n(this,f[d]));else this.addFile(new n(this,f,o,u));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=t(396),f=new e({Extends:r,initialize:function(u,d,c,v,p){var x="glsl";if(i(d)){var y=d;d=s(y,"key"),c=s(y,"url"),v=s(y,"shaderType","fragment"),p=s(y,"xhrSettings"),x=s(y,"extension",x)}else v===void 0&&(v="fragment");var S={type:"glsl",cache:u.cacheManager.shader,extension:x,responseType:"text",key:d,url:c,config:{shaderType:v},xhrSettings:p};r.call(this,u,S)},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.split(`
`),u=this.extractBlock(o,0);if(u)for(;u;){var d=this.getShaderName(u.header),c=this.getShaderType(u.header),v=this.getShaderUniforms(u.header),p=u.shader;if(this.cache.has(d)){var x=this.cache.get(d);c==="fragment"?x.fragmentSrc=p:x.vertexSrc=p,x.uniforms||(x.uniforms=v)}else c==="fragment"?this.cache.add(d,new n(d,p,"",v)):this.cache.add(d,new n(d,"",p,v));u=this.extractBlock(o,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(o){for(var u=0;u<o.length;u++){var d=o[u].trim();if(d.substring(0,5)==="name:")return d.substring(5).trim()}return this.key},getShaderType:function(o){for(var u=0;u<o.length;u++){var d=o[u].trim();if(d.substring(0,5)==="type:")return d.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(o){for(var u={},d=0;d<o.length;d++){var c=o[d].trim();if(c.substring(0,8)==="uniform."){var v=c.indexOf(":");if(v){var p=c.substring(8,v);try{u[p]=JSON.parse(c.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return u},extractBlock:function(o,u){for(var d=-1,c=-1,v=-1,p=!1,x=!1,y=[],S=[],E=u;E<o.length;E++){var A=o[E].trim();if(A==="---")if(d===-1)d=E,p=!0;else if(p)c=E,p=!1,x=!0;else{x=!1;break}else p?y.push(A):x&&(S.push(A),v=E)}return!p&&c!==-1?{header:y,shader:S.join(`
`),offset:v}:null}});a.register("glsl",function(o,u,d,c){if(Array.isArray(o))for(var v=0;v<o.length;v++)this.addFile(new f(this,o[v]));else this.addFile(new f(this,o,u,d,c));return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c){var v="html";if(i(u)){var p=u;u=s(p,"key"),d=s(p,"url"),c=s(p,"xhrSettings"),v=s(p,"extension",v)}var x={type:"text",cache:o.cacheManager.html,extension:v,responseType:"text",key:u,url:d,xhrSettings:c};r.call(this,o,x)},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(f,o,u){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new n(this,f[d]));else this.addFile(new n(this,f,o,u));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c,v,p){c===void 0&&(c=512),v===void 0&&(v=512);var x="html";if(i(u)){var y=u;u=s(y,"key"),d=s(y,"url"),p=s(y,"xhrSettings"),x=s(y,"extension",x),c=s(y,"width",c),v=s(y,"height",v)}var S={type:"html",cache:o.textureManager,extension:x,responseType:"text",key:u,url:d,xhrSettings:p,config:{width:c,height:v}};r.call(this,o,S)},onProcess:function(){this.state=h.FILE_PROCESSING;var f=this.config.width,o=this.config.height,u=[];u.push('<svg width="'+f+'px" height="'+o+'px" viewBox="0 0 '+f+" "+o+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var d=[u.join(`
`)],c=this;try{var v=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=h.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){r.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(c.data),c.onProcessError()},r.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){var f=this.cache.addImage(this.key,this.data);this.pendingDestroy(f)}});a.register("htmlTexture",function(f,o,u,d,c){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new n(this,f[v]));else this.addFile(new n(this,f,o,u,d,c));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(71),s=t(7),i=t(61),n=t(49),f=new e({Extends:n,initialize:function(u,d,c,v,p,x,y){if(s(d)){var S=d;d=r(S,"key"),r(S,"url",!1)?c=r(S,"url"):c=r(S,"atlasURL"),x=r(S,"xhrSettings"),v=r(S,"path"),p=r(S,"baseURL"),y=r(S,"textureXhrSettings")}var E=new i(u,d,c,x);n.call(this,u,"multiatlas",d,[E]),this.config.path=v,this.config.baseURL=p,this.config.textureXhrSettings=y},onFileComplete:function(o){var u=this.files.indexOf(o);if(u!==-1&&(this.pending--,o.type==="json"&&o.data.hasOwnProperty("textures"))){var d=o.data.textures,c=this.config,v=this.loader,p=v.baseURL,x=v.path,y=v.prefix,S=r(c,"baseURL",this.baseURL),E=r(c,"path",this.path),A=r(c,"prefix",this.prefix),M=r(c,"textureXhrSettings");v.setBaseURL(S),v.setPath(E),v.setPrefix(A);for(var L=0;L<d.length;L++){var F=d[L].image,O="MA"+this.multiKeyIndex+"_"+F,B=new a(v,O,F,M);if(this.addToMultiFile(B),v.addFile(B),d[L].normalMap){var N=new a(v,O,d[L].normalMap,M);N.type="normalMap",B.setLink(N),this.addToMultiFile(N),v.addFile(N)}}v.setBaseURL(p),v.setPath(x),v.setPrefix(y)}},addToCache:function(){if(this.isReadyToProcess()){for(var o=this.files[0],u=[],d=[],c=[],v=1;v<this.files.length;v++){var p=this.files[v];if(p.type!=="normalMap")for(var x=p.key.indexOf("_"),y=p.key.substr(x+1),S=p.data,E=0;E<o.data.textures.length;E++){var A=o.data.textures[E];if(A.image===y){d.push(S),u.push(A),p.linkFile&&c.push(p.linkFile.data);break}}}for(c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,d,u,c),this.complete=!0,v=0;v<this.files.length;v++)this.files[v].pendingDestroy()}}});h.register("multiatlas",function(o,u,d,c,v){var p;if(Array.isArray(o))for(var x=0;x<o.length;x++)p=new f(this,o[x]),this.addFile(p.files);else p=new f(this,o,u,d,c,v),this.addFile(p.files);return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(7),s=t(49),i=t(520),n=new e({Extends:s,initialize:function(o,u,d,c){var v="js",p=[];if(a(u)){var x=u;u=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),v=r(x,"extension",v)}Array.isArray(d)||(d=[d]);for(var y=0;y<d.length;y++){var S=new i(o,{key:u+"_"+y.toString(),url:d[y],extension:v,xhrSettings:c});S.onProcess=function(){this.onProcessComplete()},p.push(S)}s.call(this,o,"scripts",u,p)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var o=this.files[f];o.data=document.createElement("script"),o.data.language="javascript",o.data.type="text/javascript",o.data.defer=!1,o.data.text=o.xhrLoader.responseText,document.head.appendChild(o.data)}this.complete=!0}}});h.register("scripts",function(f,o,u){var d;if(Array.isArray(f))for(var c=0;c<f.length;c++)d=new n(this,f[c]),this.addFile(d.files);else d=new n(this,f,o,u),this.addFile(d.files);return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(7),s=t(49),i=t(498),n=t(499),f=t(242),o=new e({Extends:s,initialize:function(d,c,v,p,x,y){var S,E,A=d.cacheManager.obj;if(a(c)){var M=c;c=r(M,"key"),S=new f(d,{key:c,type:"obj",cache:A,url:r(M,"url"),extension:r(M,"extension","obj"),xhrSettings:r(M,"xhrSettings"),config:{flipUV:r(M,"flipUV",x)}}),p=r(M,"matURL"),p&&(E=new f(d,{key:c,type:"mat",cache:A,url:p,extension:r(M,"matExtension","mat"),xhrSettings:r(M,"xhrSettings")}))}else S=new f(d,{key:c,url:v,type:"obj",cache:A,extension:"obj",xhrSettings:y,config:{flipUV:x}}),p&&(E=new f(d,{key:c,url:p,type:"mat",cache:A,extension:"mat",xhrSettings:y}));s.call(this,d,"obj",c,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],c=i(u.data,u.config.flipUV);d&&(c.materials=n(d.data)),u.cache.add(u.key,c),this.complete=!0}}});h.register("obj",function(u,d,c,v,p){var x;if(Array.isArray(u))for(var y=0;y<u.length;y++)x=new o(this,u[y]),this.addFile(x.files);else x=new o(this,u,d,c,v,p),this.addFile(x.files);return this}),l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(8),a=t(61),s=new e({Extends:a,initialize:function(n,f,o,u,d){a.call(this,n,f,o,u,d),this.type="packfile"},onProcess:function(){this.state!==h.FILE_POPULATED&&(this.state=h.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});r.register("pack",function(i,n,f,o){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new s(this,i[u]));else this.addFile(new s(this,i,n,o,f));return this}),l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c,v,p){var x="js";if(i(u)){var y=u;u=s(y,"key"),d=s(y,"url"),p=s(y,"xhrSettings"),x=s(y,"extension",x),c=s(y,"start"),v=s(y,"mapping")}var S={type:"plugin",cache:!1,extension:x,responseType:"text",key:u,url:d,xhrSettings:p,config:{start:c,mapping:v}};r.call(this,o,S),typeof d=="function"&&(this.data=d,this.state=h.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,o=this.config,u=s(o,"start",!1),d=s(o,"mapping",null);if(this.state===h.FILE_POPULATED)f.install(this.key,this.data,u,d);else{this.state=h.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=f.install(this.key,window[this.key],u,d);(u||d)&&(this.loader.systems[d]=c,this.loader.scene[d]=c)}this.onProcessComplete()}});a.register("plugin",function(f,o,u,d,c){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new n(this,f[v]));else this.addFile(new n(this,f,o,u,d,c));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c){var v="js";if(i(u)){var p=u;u=s(p,"key"),d=s(p,"url"),c=s(p,"xhrSettings"),v=s(p,"extension",v)}var x={type:"text",extension:v,responseType:"text",key:u,url:d,xhrSettings:c};r.call(this,o,x)},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),o=eval;this.loader.sceneManager.add(this.key,o(f)),this.complete=!0}});a.register("sceneFile",function(f,o,u){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new n(this,f[d]));else this.addFile(new n(this,f,o,u));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c,v,p){var x="js";if(i(u)){var y=u;u=s(y,"key"),d=s(y,"url"),p=s(y,"xhrSettings"),x=s(y,"extension",x),c=s(y,"systemKey"),v=s(y,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:x,responseType:"text",key:u,url:d,xhrSettings:p,config:{systemKey:c,sceneKey:v}};r.call(this,o,S),typeof d=="function"&&(this.data=d,this.state=h.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,o=this.config,u=this.key,d=s(o,"systemKey",u),c=s(o,"sceneKey",u);this.state===h.FILE_POPULATED?f.installScenePlugin(d,this.data,c,this.loader.scene,!0):(this.state=h.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(d,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(f,o,u,d,c){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new n(this,f[v]));else this.addFile(new n(this,f,o,u,d,c));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(71),a=new e({Extends:r,initialize:function(i,n,f,o,u){r.call(this,i,n,f,u,o),this.type="spritesheet"},addToCache:function(){var s=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(s)}});h.register("spritesheet",function(s,i,n,f){if(Array.isArray(s))for(var o=0;o<s.length;o++)this.addFile(new a(this,s[o]));else this.addFile(new a(this,s,i,n,f));return this}),l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=new e({Extends:r,initialize:function(o,u,d,c,v){var p="svg";if(i(u)){var x=u;u=s(x,"key"),d=s(x,"url"),c=s(x,"svgConfig",{}),v=s(x,"xhrSettings"),p=s(x,"extension",p)}var y={type:"svg",cache:o.textureManager,extension:p,responseType:"text",key:u,url:d,xhrSettings:v,config:{width:s(c,"width"),height:s(c,"height"),scale:s(c,"scale")}};r.call(this,o,y)},onProcess:function(){this.state=h.FILE_PROCESSING;var f=this.xhrLoader.responseText,o=[f],u=this.config.width,d=this.config.height,c=this.config.scale;t:if(u&&d||c){var v=null,p=new DOMParser;v=p.parseFromString(f,"text/xml");var x=v.getElementsByTagName("svg")[0],y=x.hasAttribute("viewBox"),S=parseFloat(x.getAttribute("width")),E=parseFloat(x.getAttribute("height"));if(!y&&S&&E)x.setAttribute("viewBox","0  0 "+S+" "+E);else if(y&&!S&&!E){var A=x.getAttribute("viewBox").split(/\s+|,/);S=A[2],E=A[3]}if(c)if(S&&E)u=S*c,d=E*c;else break t;x.setAttribute("width",u.toString()+"px"),x.setAttribute("height",d.toString()+"px"),o=[new XMLSerializer().serializeToString(x)]}try{var M=new window.Blob(o,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,F=!1;this.data.onload=function(){F||r.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){F?L.onProcessError():(F=!0,r.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(o.join("")))},r.createObjectURL(this.data,M,"image/svg+xml")},addToCache:function(){var f=this.cache.addImage(this.key,this.data);this.pendingDestroy(f)}});a.register("svg",function(f,o,u,d){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new n(this,f[c]));else this.addFile(new n(this,f,o,u,d));return this}),l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(2),i=t(7),n=t(40),f=new e({Extends:r,initialize:function(u,d,c,v){var p="csv";if(i(d)){var x=d;d=s(x,"key"),c=s(x,"url"),v=s(x,"xhrSettings"),p=s(x,"extension",p)}var y={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:p,responseType:"text",key:d,url:c,xhrSettings:v};r.call(this,u,y),this.tilemapFormat=n.CSV},onProcess:function(){this.state=h.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,o),this.pendingDestroy(o)}});a.register("tilemapCSV",function(o,u,d){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new f(this,o[c]));else this.addFile(new f(this,o,u,d));return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(61),a=t(40),s=new e({Extends:r,initialize:function(n,f,o,u){r.call(this,n,f,o,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i),this.pendingDestroy(i)}});h.register("tilemapImpact",function(i,n,f){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new s(this,i[o]));else this.addFile(new s(this,i,n,f));return this}),l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(61),a=t(40),s=new e({Extends:r,initialize:function(n,f,o,u){r.call(this,n,f,o,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i),this.pendingDestroy(i)}});h.register("tilemapTiledJSON",function(i,n,f){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new s(this,i[o]));else this.addFile(new s(this,i,n,f));return this}),l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(8),r=t(2),a=t(71),s=t(7),i=t(49),n=t(242),f=new e({Extends:i,initialize:function(u,d,c,v,p,x){var y,S;if(s(d)){var E=d;d=r(E,"key"),y=new a(u,{key:d,url:r(E,"textureURL"),extension:r(E,"textureExtension","png"),normalMap:r(E,"normalMap"),xhrSettings:r(E,"textureXhrSettings")}),S=new n(u,{key:d,url:r(E,"atlasURL"),extension:r(E,"atlasExtension","txt"),xhrSettings:r(E,"atlasXhrSettings")})}else y=new a(u,d,c,p),S=new n(u,d,v,x);y.linkFile?i.call(this,u,"unityatlas",d,[y,S,y.linkFile]):i.call(this,u,"unityatlas",d,[y,S])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(o.key,o.data,u.data,d),u.pendingDestroy(),this.complete=!0}}});h.register("unityAtlas",function(o,u,d,c,v){var p;if(Array.isArray(o))for(var x=0;x<o.length;x++)p=new f(this,o[x]),this.addFile(p.files);else p=new f(this,o,u,d,c,v),this.addFile(p.files);return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(23),a=t(8),s=t(155),i=t(2),n=t(7),f=new e({Extends:r,initialize:function(u,d,c,v,p,x,y){v===void 0&&(v="loadeddata"),p===void 0&&(p=!1),x===void 0&&(x=!1),v!=="loadeddata"&&v!=="canplay"&&v!=="canplaythrough"&&(v="loadeddata");var S={type:"video",cache:u.cacheManager.video,extension:c.type,responseType:"blob",key:d,url:c.url,xhrSettings:y,config:{loadEvent:v,asBlob:p,noAudio:x}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),r.call(this,u,S)},onProcess:function(){if(this.state=h.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var o=this.createVideoElement();this.data=o;var u=this;this.data.onloadeddata=function(){u.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(u.data),u.onProcessError()},r.createObjectURL(o,this.xhrLoader.response,""),o.load()},createVideoElement:function(){var o=document.createElement("video");return o.controls=!1,o.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(o.muted=!0,o.defaultMuted=!0,o.setAttribute("autoplay","autoplay")),o.setAttribute("playsinline","playsinline"),o.setAttribute("preload","auto"),o},onVideoLoadHandler:function(o){var u=o.target;u.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),u.removeEventListener("error",this.onErrorCallback,!0),this.data=u,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(o){var u=o.target;u&&(u.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),u.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var o=this.config.loadEvent;if(this.config.asBlob)r.prototype.load.call(this);else{this.percentComplete=0;var u=this.createVideoElement();u.addEventListener(o,this.onLoadCallback,!0),u.addEventListener("error",this.onErrorCallback,!0),u.src=s(this,this.loader.baseURL),u.load()}}});f.create=function(o,u,d,c,v,p,x){var y=o.systems.game;n(u)&&(d=i(u,"url",[]),c=i(u,"loadEvent","loadeddata"),v=i(u,"asBlob",!1),p=i(u,"noAudio",!1),x=i(u,"xhrSettings"),u=i(u,"key"));var S=f.getVideoURL(y,d);if(S)return new f(o,u,S,c,v,p,x)},f.getVideoURL=function(o,u){Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=i(u[d],"url",u[d]);if(c.indexOf("blob:")===0)return{url:c,type:""};var v;if(c.indexOf("data:")===0?v=c.split(",")[0].match(/\/(.*?);/):v=c.match(/\.([a-zA-Z0-9]+)($|\?)/),v=i(u[d],"type",v?v[1]:"").toLowerCase(),o.device.video[v])return{url:c,type:v}}return null},a.register("video",function(o,u,d,c,v,p){var x;if(Array.isArray(o))for(var y=0;y<o.length;y++)x=f.create(this,o[y]),x&&this.addFile(x);else x=f.create(this,o,u,d,c,v,p),x&&this.addFile(x);return this}),l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(21),r=t(149),a=t(9),s=t(95),i=t(8),n=t(2),f=t(24),o=t(20),u=t(156),d=new e({Extends:a,initialize:function(v){a.call(this);var p=v.sys.game.config,x=v.sys.settings.loader;this.scene=v,this.systems=v.sys,this.cacheManager=v.sys.cache,this.textureManager=v.sys.textures,this.sceneManager=v.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(x,"baseURL",p.loaderBaseURL)),this.setPath(n(x,"path",p.loaderPath)),this.setPrefix(n(x,"prefix",p.loaderPrefix)),this.maxParallelDownloads=n(x,"maxParallelDownloads",p.loaderMaxParallelDownloads),this.xhr=u(n(x,"responseType",p.loaderResponseType),n(x,"async",p.loaderAsync),n(x,"user",p.loaderUser),n(x,"password",p.loaderPassword),n(x,"timeout",p.loaderTimeout),n(x,"withCredentials",p.loaderWithCredentials)),this.crossOrigin=n(x,"crossOrigin",p.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new r,this.inflight=new r,this.queue=new r,this._deleteQueue=new r,this.totalFailed=0,this.totalComplete=0,this.state=h.LOADER_IDLE,this.multiKeyIndex=0,v.sys.events.once(o.BOOT,this.boot,this),v.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.baseURL=c,this},setPath:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.path=c,this},setPrefix:function(c){return c===void 0&&(c=""),this.prefix=c,this},setCORS:function(c){return this.crossOrigin=c,this},addFile:function(c){Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var p=c[v];this.keyExists(p)||(this.list.set(p),this.emit(s.ADD,p.key,p.type,this,p),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(c){var v=c.hasCacheConflict();return v||this.list.iterate(function(p){if(p.type===c.type&&p.key===c.key)return v=!0,!1}),!v&&this.isLoading()&&(this.inflight.iterate(function(p){if(p.type===c.type&&p.key===c.key)return v=!0,!1}),this.queue.iterate(function(p){if(p.type===c.type&&p.key===c.key)return v=!0,!1})),v},addPack:function(c,v){v&&c.hasOwnProperty(v)&&(c={packKey:c[v]});var p=0,x=this.baseURL,y=this.path,S=this.prefix;for(var E in c)if(Object.prototype.hasOwnProperty.call(c,E)){var A=c[E],M=n(A,"baseURL",x),L=n(A,"path",y),F=n(A,"prefix",S),O=n(A,"files",null),B=n(A,"defaultType","void");if(Array.isArray(O)){this.setBaseURL(M),this.setPath(L),this.setPrefix(F);for(var N=0;N<O.length;N++){var G=O[N],Y=G.hasOwnProperty("type")?G.type:B;this[Y]&&(this[Y](G),p++)}}}return this.setBaseURL(x),this.setPath(y),this.setPrefix(S),p>0},isLoading:function(){return this.state===h.LOADER_LOADING||this.state===h.LOADER_PROCESSING},isReady:function(){return this.state===h.LOADER_IDLE||this.state===h.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=h.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===h.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(c){if((c.state===h.FILE_POPULATED||c.state===h.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(c),this.list.delete(c),c.crossOrigin||(c.crossOrigin=this.crossOrigin),c.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(c,v){this.inflight&&(this.inflight.delete(c),this.updateProgress(),v?(this.totalComplete++,this.queue.set(c),this.emit(s.FILE_LOAD,c),c.onProcess()):(this.totalFailed++,this._deleteQueue.set(c),this.emit(s.FILE_LOAD_ERROR,c),this.fileProcessComplete(c)))},fileProcessComplete:function(c){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(c.state===h.FILE_ERRORED?c.multiFile&&c.multiFile.onFileFailed(c):c.state===h.FILE_COMPLETE&&(c.multiFile?c.multiFile.isReadyToProcess()&&c.multiFile.addToCache():c.addToCache()),this.queue.delete(c),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=h.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(c){this._deleteQueue.set(c)},saveJSON:function(c,v){return this.save(JSON.stringify(c),v)},save:function(c,v,p){v===void 0&&(v="file.json"),p===void 0&&(p="application/json");var x=new Blob([c],{type:p}),y=URL.createObjectURL(x),S=document.createElement("a");return S.download=v,S.textContent="Download "+v,S.href=y,S.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var c=this.systems.game.config,v=this.systems.settings.loader;this.setBaseURL(n(v,"baseURL",c.loaderBaseURL)),this.setPath(n(v,"path",c.loaderPath)),this.setPrefix(n(v,"prefix",c.loaderPrefix)),this.state=h.LOADER_IDLE},shutdown:function(){this.reset(),this.state=h.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=h.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});f.register("Loader",d,"load"),l.exports=d},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),h=t(17),r={ArcadePhysics:t(1367),Body:t(527),Collider:t(528),Components:t(243),Events:t(245),Factory:t(521),GetOverlapX:t(246),GetOverlapY:t(247),SeparateX:t(537),SeparateY:t(538),Group:t(524),Image:t(522),Sprite:t(157),StaticBody:t(539),StaticGroup:t(525),Tilemap:t(1391),World:t(526)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(36),r=t(50),a=t(353),s=t(521),i=t(2),n=t(127),f=t(523),o=t(244),u=t(24),d=t(20),c=t(3),v=t(526),p=new e({initialize:function(y){this.scene=y,this.systems=y.sys,this.config=this.getConfig(),this.world,this.add,y.sys.events.once(d.BOOT,this.boot,this),y.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new s(this.world));var x=this.systems.events;i(this.config,"customUpdate",!1)||x.on(d.UPDATE,this.world.update,this.world),x.on(d.POST_UPDATE,this.world.postUpdate,this.world),x.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var x=this.systems.game.config.physics,y=this.systems.settings.physics,S=n(i(y,"arcade",{}),i(x,"arcade",{}));return S},overlap:function(x,y,S,E,A){return S===void 0&&(S=null),E===void 0&&(E=null),A===void 0&&(A=S),this.world.collideObjects(x,y,S,E,A,!0)},collide:function(x,y,S,E,A){return S===void 0&&(S=null),E===void 0&&(E=null),A===void 0&&(A=S),this.world.collideObjects(x,y,S,E,A,!1)},collideTiles:function(x,y,S,E,A){return this.world.collideTiles(x,y,S,E,A)},overlapTiles:function(x,y,S,E,A){return this.world.overlapTiles(x,y,S,E,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(x,y,S,E,A,M){E===void 0&&(E=60);var L=Math.atan2(S-x.y,y-x.x);return x.body.acceleration.setToPolar(L,E),A!==void 0&&M!==void 0&&x.body.maxVelocity.set(A,M),L},accelerateToObject:function(x,y,S,E,A){return this.accelerateTo(x,y.x,y.y,S,E,A)},closest:function(x,y){y||(y=this.world.bodies.entries);for(var S=Number.MAX_VALUE,E=null,A=x.x,M=x.y,L=y.length,F=0;F<L;F++){var O=y[F],B=O.body||O;if(!(x===O||x===B||x===B.gameObject||x===B.center)){var N=a(A,M,B.center.x,B.center.y);N<S&&(E=O,S=N)}}return E},furthest:function(x,y){y||(y=this.world.bodies.entries);for(var S=-1,E=null,A=x.x,M=x.y,L=y.length,F=0;F<L;F++){var O=y[F],B=O.body||O;if(!(x===O||x===B||x===B.gameObject||x===B.center)){var N=a(A,M,B.center.x,B.center.y);N>S&&(E=O,S=N)}}return E},moveTo:function(x,y,S,E,A){E===void 0&&(E=60),A===void 0&&(A=0);var M=Math.atan2(S-x.y,y-x.x);return A>0&&(E=r(x.x,x.y,y,S)/(A/1e3)),x.body.velocity.setToPolar(M,E),M},moveToObject:function(x,y,S,E){return this.moveTo(x,y.x,y.y,S,E)},velocityFromAngle:function(x,y,S){return y===void 0&&(y=60),S===void 0&&(S=new c),S.setToPolar(h(x),y)},velocityFromRotation:function(x,y,S){return y===void 0&&(y=60),S===void 0&&(S=new c),S.setToPolar(x,y)},overlapRect:function(x,y,S,E,A,M){return o(this.world,x,y,S,E,A,M)},overlapCirc:function(x,y,S,E,A){return f(this.world,x,y,S,E,A)},shutdown:function(){if(this.world){var x=this.systems.events;x.off(d.UPDATE,this.world.update,this.world),x.off(d.POST_UPDATE,this.world.postUpdate,this.world),x.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",p,"arcadePhysics"),l.exports=p},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAcceleration:function(e,h){return this.body.acceleration.set(e,h),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e,h){return this.body.bounce.set(e,h),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,h,r){return this.body.setCollideWorldBounds(e,h,r),this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDebug:function(e,h,r){return this.debugShowBody=e,this.debugShowVelocity=h,this.debugBodyColor=r,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDrag:function(e,h){return this.body.drag.set(e,h),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={enableBody:function(e,h,r,a,s){return e&&this.body.reset(h,r),a&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,h){return e===void 0&&(e=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,h){return this.body.friction.set(e,h),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setGravity:function(e,h){return this.body.gravity.set(e,h),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setMass:function(e){return this.body.mass=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setOffset:function(e,h){return this.body.setOffset(e,h),this},setSize:function(e,h,r){return this.body.setSize(e,h,r),this},setBodySize:function(e,h,r){return this.body.setSize(e,h,r),this},setCircle:function(e,h,r){return this.body.setCircle(e,h,r),this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setVelocity:function(e,h){return this.body.setVelocity(e,h),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,h){return this.body.maxVelocity.set(e,h),this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collide"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="overlap"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tilecollide"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tileoverlap"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldbounds"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldstep"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,h,r,a,s,i,n,f,o,u,d,c,v,p,x,y,S=function(O,B,N){t=O,e=B;var G=t.velocity.x,Y=e.velocity.x;return h=t.pushable,f=t._dx<0,o=t._dx>0,u=t._dx===0,p=Math.abs(t.right-e.x)<=Math.abs(e.right-t.x),i=Y-G*t.bounce.x,r=e.pushable,d=e._dx<0,c=e._dx>0,v=e._dx===0,x=!p,n=G-Y*e.bounce.x,y=Math.abs(N),E()},E=function(){return o&&p&&e.blocked.right?(t.processX(-y,i,!1,!0),1):f&&x&&e.blocked.left?(t.processX(y,i,!0),1):c&&x&&t.blocked.right?(e.processX(-y,n,!1,!0),2):d&&p&&t.blocked.left?(e.processX(y,n,!0),2):0},A=function(){var O=t.velocity.x,B=e.velocity.x,N=Math.sqrt(B*B*e.mass/t.mass)*(B>0?1:-1),G=Math.sqrt(O*O*t.mass/e.mass)*(O>0?1:-1),Y=(N+G)*.5;return N-=Y,G-=Y,a=Y+N*t.bounce.x,s=Y+G*e.bounce.x,f&&x?M(0):d&&p?M(1):o&&p?M(2):c&&x?M(3):!1},M=function(O){if(h&&r)y*=.5,O===0||O===3?(t.processX(y,a),e.processX(-y,s)):(t.processX(-y,a),e.processX(y,s));else if(h&&!r)O===0||O===3?t.processX(y,i,!0):t.processX(-y,i,!1,!0);else if(!h&&r)O===0||O===3?e.processX(-y,n,!1,!0):e.processX(y,n,!0);else{var B=y*.5;O===0?v?(t.processX(y,0,!0),e.processX(0,null,!1,!0)):c?(t.processX(B,0,!0),e.processX(-B,0,!1,!0)):(t.processX(B,e.velocity.x,!0),e.processX(-B,null,!1,!0)):O===1?u?(t.processX(0,null,!1,!0),e.processX(y,0,!0)):o?(t.processX(-B,0,!1,!0),e.processX(B,0,!0)):(t.processX(-B,null,!1,!0),e.processX(B,t.velocity.x,!0)):O===2?v?(t.processX(-y,0,!1,!0),e.processX(0,null,!0)):d?(t.processX(-B,0,!1,!0),e.processX(B,0,!0)):(t.processX(-B,e.velocity.x,!1,!0),e.processX(B,null,!0)):O===3&&(u?(t.processX(0,null,!0),e.processX(-y,0,!1,!0)):f?(t.processX(B,0,!0),e.processX(-B,0,!1,!0)):(t.processX(B,e.velocity.y,!0),e.processX(-B,null,!1,!0)))}return!0},L=function(O){O===1?e.velocity.x=0:p?e.processX(y,n,!0):e.processX(-y,n,!1,!0),t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y,e._dy=e.y-e.prev.y)},F=function(O){O===2?t.velocity.x=0:x?t.processX(y,i,!0):t.processX(-y,i,!1,!0),e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y,t._dy=t.y-t.prev.y)};l.exports={BlockCheck:E,Check:A,Set:S,Run:M,RunImmovableBody1:L,RunImmovableBody2:F}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,h,r,a,s,i,n,f,o,u,d,c,v,p,x,y,S=function(O,B,N){t=O,e=B;var G=t.velocity.y,Y=e.velocity.y;return h=t.pushable,f=t._dy<0,o=t._dy>0,u=t._dy===0,p=Math.abs(t.bottom-e.y)<=Math.abs(e.bottom-t.y),i=Y-G*t.bounce.y,r=e.pushable,d=e._dy<0,c=e._dy>0,v=e._dy===0,x=!p,n=G-Y*e.bounce.y,y=Math.abs(N),E()},E=function(){return o&&p&&e.blocked.down?(t.processY(-y,i,!1,!0),1):f&&x&&e.blocked.up?(t.processY(y,i,!0),1):c&&x&&t.blocked.down?(e.processY(-y,n,!1,!0),2):d&&p&&t.blocked.up?(e.processY(y,n,!0),2):0},A=function(){var O=t.velocity.y,B=e.velocity.y,N=Math.sqrt(B*B*e.mass/t.mass)*(B>0?1:-1),G=Math.sqrt(O*O*t.mass/e.mass)*(O>0?1:-1),Y=(N+G)*.5;return N-=Y,G-=Y,a=Y+N*t.bounce.y,s=Y+G*e.bounce.y,f&&x?M(0):d&&p?M(1):o&&p?M(2):c&&x?M(3):!1},M=function(O){if(h&&r)y*=.5,O===0||O===3?(t.processY(y,a),e.processY(-y,s)):(t.processY(-y,a),e.processY(y,s));else if(h&&!r)O===0||O===3?t.processY(y,i,!0):t.processY(-y,i,!1,!0);else if(!h&&r)O===0||O===3?e.processY(-y,n,!1,!0):e.processY(y,n,!0);else{var B=y*.5;O===0?v?(t.processY(y,0,!0),e.processY(0,null,!1,!0)):c?(t.processY(B,0,!0),e.processY(-B,0,!1,!0)):(t.processY(B,e.velocity.y,!0),e.processY(-B,null,!1,!0)):O===1?u?(t.processY(0,null,!1,!0),e.processY(y,0,!0)):o?(t.processY(-B,0,!1,!0),e.processY(B,0,!0)):(t.processY(-B,null,!1,!0),e.processY(B,t.velocity.y,!0)):O===2?v?(t.processY(-y,0,!1,!0),e.processY(0,null,!0)):d?(t.processY(-B,0,!1,!0),e.processY(B,0,!0)):(t.processY(-B,e.velocity.y,!1,!0),e.processY(B,null,!0)):O===3&&(u?(t.processY(0,null,!0),e.processY(-y,0,!1,!0)):f?(t.processY(B,0,!0),e.processY(-B,0,!1,!0)):(t.processY(B,e.velocity.y,!0),e.processY(-B,null,!1,!0)))}return!0},L=function(O){O===1?e.velocity.y=0:p?e.processY(y,n,!0):e.processY(-y,n,!1,!0),t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x,e._dx=e.x-e.prev.x)},F=function(O){O===2?t.velocity.y=0:x?t.processY(y,i,!0):t.processY(-y,i,!1,!0),e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x,t._dx=t.x-t.prev.x)};l.exports={BlockCheck:E,Check:A,Set:S,Run:M,RunImmovableBody1:L,RunImmovableBody2:F}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ProcessTileCallbacks:t(530),ProcessTileSeparationX:t(534),ProcessTileSeparationY:t(536),SeparateTile:t(532),TileCheckX:t(533),TileCheckY:t(535),TileIntersectsBody:t(248)};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(3),r=new e({initialize:function(){this.boundsCenter=new h,this.centerDiff=new h},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,i=this.centerDiff,n=a.bounds.max.x-a.bounds.min.x,f=a.bounds.max.y-a.bounds.min.y,o=n*a.centerOfMass.x,u=f*a.centerOfMass.y;return s.set(n/2,f/2),i.set(o-s.x,u-s.y),!0},getTopLeft:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s+n.x+f.x,i+n.y+f.y)}return!1},getTopCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s+f.x,i+n.y+f.y)}return!1},getTopRight:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s-(n.x-f.x),i+n.y+f.y)}return!1},getLeftCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s+n.x+f.x,i+f.y)}return!1},getCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.centerDiff;return new h(s+n.x,i+n.y)}return!1},getRightCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s-(n.x-f.x),i+f.y)}return!1},getBottomLeft:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s+n.x+f.x,i-(n.y-f.y))}return!1},getBottomCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s+f.x,i-(n.y-f.y))}return!1},getBottomRight:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,f=this.centerDiff;return new h(s-(n.x-f.x),i-(n.y-f.y))}return!1}});l.exports=r},function(l,g){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={decomp:O,quickDecomp:Y,isSimple:N,removeCollinearPoints:H,removeDuplicatePoints:b,makeCCW:p};function t(w,D,V){V=V||0;var z=[0,0],X,j,K,Q,k,_,it;return X=w[1][1]-w[0][1],j=w[0][0]-w[1][0],K=X*w[0][0]+j*w[0][1],Q=D[1][1]-D[0][1],k=D[0][0]-D[1][0],_=Q*D[0][0]+k*D[0][1],it=X*k-Q*j,Z(it,0,V)||(z[0]=(k*K-j*_)/it,z[1]=(X*_-Q*K)/it),z}function e(w,D,V,z){var X=D[0]-w[0],j=D[1]-w[1],K=z[0]-V[0],Q=z[1]-V[1];if(K*j-Q*X===0)return!1;var k=(X*(V[1]-w[1])+j*(w[0]-V[0]))/(K*j-Q*X),_=(K*(w[1]-V[1])+Q*(V[0]-w[0]))/(Q*X-K*j);return k>=0&&k<=1&&_>=0&&_<=1}function h(w,D,V){return(D[0]-w[0])*(V[1]-w[1])-(V[0]-w[0])*(D[1]-w[1])}function r(w,D,V){return h(w,D,V)>0}function a(w,D,V){return h(w,D,V)>=0}function s(w,D,V){return h(w,D,V)<0}function i(w,D,V){return h(w,D,V)<=0}var n=[],f=[];function o(w,D,V,z){if(z){var X=n,j=f;X[0]=D[0]-w[0],X[1]=D[1]-w[1],j[0]=V[0]-D[0],j[1]=V[1]-D[1];var K=X[0]*j[0]+X[1]*j[1],Q=Math.sqrt(X[0]*X[0]+X[1]*X[1]),k=Math.sqrt(j[0]*j[0]+j[1]*j[1]),_=Math.acos(K/(Q*k));return _<z}else return h(w,D,V)===0}function u(w,D){var V=D[0]-w[0],z=D[1]-w[1];return V*V+z*z}function d(w,D){var V=w.length;return w[D<0?D%V+V:D%V]}function c(w){w.length=0}function v(w,D,V,z){for(var X=V;X<z;X++)w.push(D[X])}function p(w){for(var D=0,V=w,z=1;z<w.length;++z)(V[z][1]<V[D][1]||V[z][1]===V[D][1]&&V[z][0]>V[D][0])&&(D=z);return r(d(w,D-1),d(w,D),d(w,D+1))?!1:(x(w),!0)}function x(w){for(var D=[],V=w.length,z=0;z!==V;z++)D.push(w.pop());for(var z=0;z!==V;z++)w[z]=D[z]}function y(w,D){return s(d(w,D-1),d(w,D),d(w,D+1))}var S=[],E=[];function A(w,D,V){var z,X,j=S,K=E;if(a(d(w,D+1),d(w,D),d(w,V))&&i(d(w,D-1),d(w,D),d(w,V)))return!1;X=u(d(w,D),d(w,V));for(var Q=0;Q!==w.length;++Q)if(!((Q+1)%w.length===D||Q===D)&&a(d(w,D),d(w,V),d(w,Q+1))&&i(d(w,D),d(w,V),d(w,Q))&&(j[0]=d(w,D),j[1]=d(w,V),K[0]=d(w,Q),K[1]=d(w,Q+1),z=t(j,K),u(d(w,D),z)<X))return!1;return!0}function M(w,D,V){for(var z=0;z!==w.length;++z)if(!(z===D||z===V||(z+1)%w.length===D||(z+1)%w.length===V)&&e(d(w,D),d(w,V),d(w,z),d(w,z+1)))return!1;return!0}function L(w,D,V,z){var X=z||[];if(c(X),D<V)for(var j=D;j<=V;j++)X.push(w[j]);else{for(var j=0;j<=V;j++)X.push(w[j]);for(var j=D;j<w.length;j++)X.push(w[j])}return X}function F(w){for(var D=[],V=[],z=[],X=[],j=Number.MAX_VALUE,K=0;K<w.length;++K)if(y(w,K)){for(var Q=0;Q<w.length;++Q)if(A(w,K,Q)){V=F(L(w,K,Q,X)),z=F(L(w,Q,K,X));for(var k=0;k<z.length;k++)V.push(z[k]);V.length<j&&(D=V,j=V.length,D.push([d(w,K),d(w,Q)]))}}return D}function O(w){var D=F(w);return D.length>0?B(w,D):[w]}function B(w,D){if(D.length===0)return[w];if(D instanceof Array&&D.length&&D[0]instanceof Array&&D[0].length===2&&D[0][0]instanceof Array){for(var V=[w],z=0;z<D.length;z++)for(var X=D[z],j=0;j<V.length;j++){var K=V[j],Q=B(K,X);if(Q){V.splice(j,1),V.push(Q[0],Q[1]);break}}return V}else{var X=D,z=w.indexOf(X[0]),j=w.indexOf(X[1]);return z!==-1&&j!==-1?[L(w,z,j),L(w,j,z)]:!1}}function N(w){var D=w,V;for(V=0;V<D.length-1;V++)for(var z=0;z<V-1;z++)if(e(D[V],D[V+1],D[z],D[z+1]))return!1;for(V=1;V<D.length-2;V++)if(e(D[0],D[D.length-1],D[V],D[V+1]))return!1;return!0}function G(w,D,V,z,X){X=X||0;var j=D[1]-w[1],K=w[0]-D[0],Q=j*w[0]+K*w[1],k=z[1]-V[1],_=V[0]-z[0],it=k*V[0]+_*V[1],at=j*_-k*K;return Z(at,0,X)?[0,0]:[(_*Q-K*it)/at,(j*it-k*Q)/at]}function Y(w,D,V,z,X,j,K){j=j||100,K=K||0,X=X||25,D=typeof D<"u"?D:[],V=V||[],z=z||[];var Q=[0,0],k=[0,0],_=[0,0],it=0,at=0,ot=0,ct=0,ut=0,mt=0,Nt=0,Mt=[],Ct=[],ft=w,wt=w;if(wt.length<3)return D;if(K++,K>j)return console.warn("quickDecomp: max level ("+j+") reached."),D;for(var Tt=0;Tt<w.length;++Tt)if(y(ft,Tt)){V.push(ft[Tt]),it=at=Number.MAX_VALUE;for(var Lt=0;Lt<w.length;++Lt)r(d(ft,Tt-1),d(ft,Tt),d(ft,Lt))&&i(d(ft,Tt-1),d(ft,Tt),d(ft,Lt-1))&&(_=G(d(ft,Tt-1),d(ft,Tt),d(ft,Lt),d(ft,Lt-1)),s(d(ft,Tt+1),d(ft,Tt),_)&&(ot=u(ft[Tt],_),ot<at&&(at=ot,k=_,mt=Lt))),r(d(ft,Tt+1),d(ft,Tt),d(ft,Lt+1))&&i(d(ft,Tt+1),d(ft,Tt),d(ft,Lt))&&(_=G(d(ft,Tt+1),d(ft,Tt),d(ft,Lt),d(ft,Lt+1)),r(d(ft,Tt-1),d(ft,Tt),_)&&(ot=u(ft[Tt],_),ot<it&&(it=ot,Q=_,ut=Lt)));if(mt===(ut+1)%w.length)_[0]=(k[0]+Q[0])/2,_[1]=(k[1]+Q[1])/2,z.push(_),Tt<ut?(v(Mt,ft,Tt,ut+1),Mt.push(_),Ct.push(_),mt!==0&&v(Ct,ft,mt,ft.length),v(Ct,ft,0,Tt+1)):(Tt!==0&&v(Mt,ft,Tt,ft.length),v(Mt,ft,0,ut+1),Mt.push(_),Ct.push(_),v(Ct,ft,mt,Tt+1));else{if(mt>ut&&(ut+=w.length),ct=Number.MAX_VALUE,ut<mt)return D;for(var Lt=mt;Lt<=ut;++Lt)a(d(ft,Tt-1),d(ft,Tt),d(ft,Lt))&&i(d(ft,Tt+1),d(ft,Tt),d(ft,Lt))&&(ot=u(d(ft,Tt),d(ft,Lt)),ot<ct&&M(ft,Tt,Lt)&&(ct=ot,Nt=Lt%w.length));Tt<Nt?(v(Mt,ft,Tt,Nt+1),Nt!==0&&v(Ct,ft,Nt,wt.length),v(Ct,ft,0,Tt+1)):(Tt!==0&&v(Mt,ft,Tt,wt.length),v(Mt,ft,0,Nt+1),v(Ct,ft,Nt,Tt+1))}return Mt.length<Ct.length?(Y(Mt,D,V,z,X,j,K),Y(Ct,D,V,z,X,j,K)):(Y(Ct,D,V,z,X,j,K),Y(Mt,D,V,z,X,j,K)),D}return D.push(w),D}function H(w,D){for(var V=0,z=w.length-1;w.length>3&&z>=0;--z)o(d(w,z-1),d(w,z),d(w,z+1),D)&&(w.splice(z%w.length,1),V++);return V}function b(w,D){for(var V=w.length-1;V>=1;--V)for(var z=w[V],X=V-1;X>=0;--X)if($(z,w[X],D)){w.splice(V,1);continue}}function Z(w,D,V){return V=V||0,Math.abs(w-D)<=V}function $(w,D,V){return Z(w[0],D[0],V)&&Z(w[1],D[1],V)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),h=t(0),r=t(591),a=t(128),s=t(592),i=t(1395),n=t(1396),f=t(1397),o=t(593),u=t(589),d=t(590),c=t(1398),v=t(64),p=new h({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},rectangle:function(x,y,S,E,A){var M=e.rectangle(x,y,S,E,A);return this.world.add(M),M},trapezoid:function(x,y,S,E,A,M){var L=e.trapezoid(x,y,S,E,A,M);return this.world.add(L),L},circle:function(x,y,S,E,A){var M=e.circle(x,y,S,E,A);return this.world.add(M),M},polygon:function(x,y,S,E,A){var M=e.polygon(x,y,S,E,A);return this.world.add(M),M},fromVertices:function(x,y,S,E,A,M,L){typeof S=="string"&&(S=v.fromPath(S));var F=e.fromVertices(x,y,S,E,A,M,L);return this.world.add(F),F},fromPhysicsEditor:function(x,y,S,E,A){A===void 0&&(A=!0);var M=u.parseBody(x,y,S,E);return A&&!this.world.has(M)&&this.world.add(M),M},fromSVG:function(x,y,S,E,A,M){E===void 0&&(E=1),A===void 0&&(A={}),M===void 0&&(M=!0);for(var L=S.getElementsByTagName("path"),F=[],O=0;O<L.length;O++){var B=s.pathToVertices(L[O],30);E!==1&&v.scale(B,E,E),F.push(B)}var N=e.fromVertices(x,y,F,A);return M&&this.world.add(N),N},fromJSON:function(x,y,S,E,A){E===void 0&&(E={}),A===void 0&&(A=!0);var M=d.parseBody(x,y,S,E);return M&&A&&this.world.add(M),M},imageStack:function(x,y,S,E,A,M,L,F,O){L===void 0&&(L=0),F===void 0&&(F=0),O===void 0&&(O={});var B=this.world,N=this.sys.displayList;O.addToWorld=!1;var G=r.stack(S,E,A,M,L,F,function(Y,H){var b=new n(B,Y,H,x,y,O);return N.add(b),b.body});return B.add(G),G},stack:function(x,y,S,E,A,M,L){var F=r.stack(x,y,S,E,A,M,L);return this.world.add(F),F},pyramid:function(x,y,S,E,A,M,L){var F=r.pyramid(x,y,S,E,A,M,L);return this.world.add(F),F},chain:function(x,y,S,E,A,M){return r.chain(x,y,S,E,A,M)},mesh:function(x,y,S,E,A){return r.mesh(x,y,S,E,A)},newtonsCradle:function(x,y,S,E,A){var M=r.newtonsCradle(x,y,S,E,A);return this.world.add(M),M},car:function(x,y,S,E,A){var M=r.car(x,y,S,E,A);return this.world.add(M),M},softBody:function(x,y,S,E,A,M,L,F,O,B){var N=r.softBody(x,y,S,E,A,M,L,F,O,B);return this.world.add(N),N},joint:function(x,y,S,E,A){return this.constraint(x,y,S,E,A)},spring:function(x,y,S,E,A){return this.constraint(x,y,S,E,A)},constraint:function(x,y,S,E,A){E===void 0&&(E=1),A===void 0&&(A={}),A.bodyA=x.type==="body"?x:x.body,A.bodyB=y.type==="body"?y:y.body,isNaN(S)||(A.length=S),A.stiffness=E;var M=a.create(A);return this.world.add(M),M},worldConstraint:function(x,y,S,E){S===void 0&&(S=1),E===void 0&&(E={}),E.bodyB=x.type==="body"?x:x.body,isNaN(y)||(E.length=y),E.stiffness=S;var A=a.create(E);return this.world.add(A),A},mouseSpring:function(x){return this.pointerConstraint(x)},pointerConstraint:function(x){x===void 0&&(x={}),x.hasOwnProperty("render")||(x.render={visible:!1});var y=new c(this.scene,this.world,x);return this.world.add(y.constraint),y},image:function(x,y,S,E,A){var M=new n(this.world,x,y,S,E,A);return this.sys.displayList.add(M),M},tileBody:function(x,y){return new o(this.world,x,y)},sprite:function(x,y,S,E,A){var M=new f(this.world,x,y,S,E,A);return this.sys.displayList.add(M),this.sys.updateList.add(M),M},gameObject:function(x,y,S){return i(this.world,x,y,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=p},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(249),h=t(2),r=t(3);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var s=function(i,n,f,o){f===void 0&&(f={}),o===void 0&&(o=!0);var u=n.x,d=n.y;n.body={temp:!0,position:{x:u,y:d}};var c=[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity];if(c.forEach(function(p){for(var x in p)a(p[x])?Object.defineProperty(n,x,{get:p[x].get,set:p[x].set}):Object.defineProperty(n,x,{value:p[x]})}),n.world=i,n._tempVec2=new r(u,d),f.hasOwnProperty("type")&&f.type==="body")n.setExistingBody(f,o);else{var v=h(f,"shape",null);v||(v="rectangle"),f.addToWorld=o,n.setBody(v,f)}return n};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(249),r=t(15),a=t(2),s=t(125),i=t(167),n=t(3),f=new e({Extends:s,Mixins:[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity,i],initialize:function(u,d,c,v,p,x){r.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,p),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new n(d,c);var y=a(x,"shape",null);y?this.setBody(y,x):this.setRectangle(this.width,this.height,x),this.setPosition(d,c),this.initPipeline()}});l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),h=t(0),r=t(249),a=t(15),s=t(2),i=t(167),n=t(73),f=t(3),o=new h({Extends:n,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,i],initialize:function(d,c,v,p,x,y){a.call(this,d.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(p,x),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new f(c,v);var S=s(y,"shape",null);S?this.setBody(S,y):this.setRectangle(this.width,this.height,y),this.setPosition(c,v),this.initPipeline()}});l.exports=o},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(84),h=t(0),r=t(118),a=t(128),s=t(273),i=t(272),n=t(51),f=t(127),o=t(165),u=t(3),d=t(64),c=new h({initialize:function(p,x,y){y===void 0&&(y={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=x,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=a.create(f(y,S)),this.world.on(i.BEFORE_UPDATE,this.update,this),p.sys.input.on(n.POINTER_DOWN,this.onDown,this),p.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var p=this.position,x=this.constraint;this.camera.getWorldPoint(v.x,v.y,p);for(var y=r.allBodies(this.world.localWorld),S=0;S<y.length;S++){var E=y[S];if(!E.ignorePointer&&e.contains(E.bounds,p)&&s.canCollide(E.collisionFilter,x.collisionFilter)&&this.hitTestBody(E,p))return this.world.emit(i.DRAG_START,E,this.part,this),!0}return!1},hitTestBody:function(v,p){for(var x=this.constraint,y=v.parts.length,S=y>1?1:0,E=S;E<y;E++){var A=v.parts[E];if(d.contains(A.vertices,p))return x.pointA=p,x.pointB={x:p.x-v.position.x,y:p.y-v.position.y},x.bodyB=v,x.angleB=v.angle,o.set(v,!1),this.part=A,this.body=v,!0}return!1},update:function(){var v=this.pointer,p=this.body;if(!this.active||!v){p&&this.stopDrag();return}if(!v.isDown&&p){this.stopDrag();return}else if(v.isDown){if(!p&&!this.getBody(v))return;p=this.body;var x=this.position,y=this.constraint;this.camera.getWorldPoint(v.x,v.y,x),y.pointA.x=x.x,y.pointA.y=x.y,o.set(p,!1),this.world.emit(i.DRAG,p,this)}},stopDrag:function(){var v=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(i.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});l.exports=c},function(l,g,t){var e={};l.exports=e;var h=t(595),r=t(32);(function(){e.name="matter-js",e.version="0.14.2",e.uses=[],e.used=[],e.use=function(){h.use(e,Array.prototype.slice.call(arguments))},e.before=function(a,s){return a=a.replace(/^Matter./,""),r.chainPathBefore(e,a,s)},e.after=function(a,s){return a=a.replace(/^Matter./,""),r.chainPathAfter(e,a,s)}})()},function(l,g,t){var e={};l.exports=e;var h=t(83),r=t(274),a=t(84),s=t(86),i=t(64);(function(){e.collides=function(n,f){for(var o=[],u=0;u<f.length;u++){var d=f[u];if(n!==d&&a.overlaps(d.bounds,n.bounds))for(var c=d.parts.length===1?0:1;c<d.parts.length;c++){var v=d.parts[c];if(a.overlaps(v.bounds,n.bounds)){var p=r.collides(v,n);if(p.collided){o.push(p);break}}}}return o},e.ray=function(n,f,o,u){u=u||1e-100;for(var d=h.angle(f,o),c=h.magnitude(h.sub(f,o)),v=(o.x+f.x)*.5,p=(o.y+f.y)*.5,x=s.rectangle(v,p,c,u,{angle:d}),y=e.collides(x,n),S=0;S<y.length;S+=1){var E=y[S];E.body=E.bodyB=E.bodyA}return y},e.region=function(n,f,o){for(var u=[],d=0;d<n.length;d++){var c=n[d],v=a.overlaps(c.bounds,f);(v&&!o||!v&&o)&&u.push(c)}return u},e.point=function(n,f){for(var o=[],u=0;u<n.length;u++){var d=n[u];if(a.contains(d.bounds,f))for(var c=d.parts.length===1?0:1;c<d.parts.length;c++){var v=d.parts[c];if(a.contains(v.bounds,f)&&i.contains(v.vertices,f)){o.push(d);break}}}return o}})()},function(l,g,t){var e={};l.exports=e;var h=t(596),r=t(165),a=t(599),s=t(598),i=t(1523),n=t(597),f=t(166),o=t(118),u=t(128),d=t(32),c=t(41);(function(){e.create=function(v,p){p=d.isElement(v)?p:v,v=d.isElement(v)?v:null,p=p||{},(v||p.render)&&d.warn("Engine.create: engine.render is deprecated (see docs)");var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:n}},y=d.extend(x,p);return y.world=p.world||h.create(y.world),y.pairs=s.create(),y.broadphase=y.broadphase.controller.create(y.broadphase),y.metrics=y.metrics||{extended:!1},y.metrics=i.create(y.metrics),y},e.update=function(v,p,x){p=p||1e3/60,x=x||1;var y=v.world,S=v.timing,E=v.broadphase,A=[],M;S.timestamp+=p*S.timeScale;var L={timestamp:S.timestamp};f.trigger(v,"beforeUpdate",L);var F=o.allBodies(y),O=o.allConstraints(y);for(i.reset(v.metrics),v.enableSleeping&&r.update(F,S.timeScale),e._bodiesApplyGravity(F,y.gravity),e._bodiesUpdate(F,p,S.timeScale,x,y.bounds),u.preSolveAll(F),M=0;M<v.constraintIterations;M++)u.solveAll(O,S.timeScale);u.postSolveAll(F),E.controller?(y.isModified&&E.controller.clear(E),E.controller.update(E,F,v,y.isModified),A=E.pairsList):A=F,y.isModified&&o.setModified(y,!1,!1,!0);var B=E.detector(A,v),N=v.pairs,G=S.timestamp;for(s.update(N,B,G),s.removeOld(N,G),v.enableSleeping&&r.afterCollisions(N.list,S.timeScale),N.collisionStart.length>0&&f.trigger(v,"collisionStart",{pairs:N.collisionStart}),a.preSolvePosition(N.list),M=0;M<v.positionIterations;M++)a.solvePosition(N.list,F,S.timeScale);for(a.postSolvePosition(F),u.preSolveAll(F),M=0;M<v.constraintIterations;M++)u.solveAll(O,S.timeScale);for(u.postSolveAll(F),a.preSolveVelocity(N.list),M=0;M<v.velocityIterations;M++)a.solveVelocity(N.list,S.timeScale);return N.collisionActive.length>0&&f.trigger(v,"collisionActive",{pairs:N.collisionActive}),N.collisionEnd.length>0&&f.trigger(v,"collisionEnd",{pairs:N.collisionEnd}),i.update(v.metrics,v),e._bodiesClearForces(F),f.trigger(v,"afterUpdate",L),v},e.merge=function(v,p){if(d.extend(v,p),p.world){v.world=p.world,e.clear(v);for(var x=o.allBodies(v.world),y=0;y<x.length;y++){var S=x[y];r.set(S,!1),S.id=d.nextId()}}},e.clear=function(v){var p=v.world;s.clear(v.pairs);var x=v.broadphase;if(x.controller){var y=o.allBodies(p);x.controller.clear(x),x.controller.update(x,y,v,!0)}},e._bodiesClearForces=function(v){for(var p=0;p<v.length;p++){var x=v[p];x.force.x=0,x.force.y=0,x.torque=0}},e._bodiesApplyGravity=function(v,p){var x=typeof p.scale<"u"?p.scale:.001;if(!(p.x===0&&p.y===0||x===0))for(var y=0;y<v.length;y++){var S=v[y];S.ignoreGravity||S.isStatic||S.isSleeping||(S.force.x+=S.mass*p.x*x*S.gravityScale.x,S.force.y+=S.mass*p.y*x*S.gravityScale.y)}},e._bodiesUpdate=function(v,p,x,y,S){for(var E=0;E<v.length;E++){var A=v[E];A.isStatic||A.isSleeping||c.update(A,p,x,y)}}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),h=t(41),r=t(0),a=t(32),s=t(118),i=t(1401),n=t(9),f=t(272),o=t(2),u=t(6),d=t(41),c=t(166),v=t(593),p=t(596),x=t(83),y=new r({Extends:n,initialize:function(E,A){n.call(this),this.scene=E,this.engine=i.create(A),this.localWorld=this.engine.world;var M=u(A,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(A,"enabled",!0),this.correction=u(A,"correction",1),this.getDelta=u(A,"getDelta",this.update60Hz);var L=o(A,"runner",{}),F=o(L,"fps",!1),O=o(L,"fps",60),B=o(L,"delta",1e3/O),N=o(L,"deltaMin",1e3/O),G=o(L,"deltaMax",1e3/(O*.5));F||(O=1e3/B),this.runner={fps:O,correction:o(L,"correction",1),deltaSampleSize:o(L,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:o(L,"isFixed",!1),delta:B,deltaMin:N,deltaMax:G},this.autoUpdate=u(A,"autoUpdate",!0);var Y=u(A,"debug",!1);if(this.drawDebug=typeof Y=="object"?!0:Y,this.debugGraphic,this.debugConfig={showAxes:o(Y,"showAxes",!1),showAngleIndicator:o(Y,"showAngleIndicator",!1),angleColor:o(Y,"angleColor",15208787),showBroadphase:o(Y,"showBroadphase",!1),broadphaseColor:o(Y,"broadphaseColor",16757760),showBounds:o(Y,"showBounds",!1),boundsColor:o(Y,"boundsColor",16777215),showVelocity:o(Y,"showVelocity",!1),velocityColor:o(Y,"velocityColor",44783),showCollisions:o(Y,"showCollisions",!1),collisionColor:o(Y,"collisionColor",16094476),showSeparations:o(Y,"showSeparations",!1),separationColor:o(Y,"separationColor",16753920),showBody:o(Y,"showBody",!0),showStaticBody:o(Y,"showStaticBody",!0),showInternalEdges:o(Y,"showInternalEdges",!1),renderFill:o(Y,"renderFill",!1),renderLine:o(Y,"renderLine",!0),fillColor:o(Y,"fillColor",1075465),fillOpacity:o(Y,"fillOpacity",1),lineColor:o(Y,"lineColor",2678297),lineOpacity:o(Y,"lineOpacity",1),lineThickness:o(Y,"lineThickness",1),staticFillColor:o(Y,"staticFillColor",857979),staticLineColor:o(Y,"staticLineColor",1255396),showSleeping:o(Y,"showSleeping",!1),staticBodySleepOpacity:o(Y,"staticBodySleepOpacity",.7),sleepFillColor:o(Y,"sleepFillColor",4605510),sleepLineColor:o(Y,"sleepLineColor",10066585),showSensors:o(Y,"showSensors",!0),sensorFillColor:o(Y,"sensorFillColor",857979),sensorLineColor:o(Y,"sensorLineColor",1255396),showPositions:o(Y,"showPositions",!0),positionSize:o(Y,"positionSize",4),positionColor:o(Y,"positionColor",14697178),showJoint:o(Y,"showJoint",!0),jointColor:o(Y,"jointColor",14737474),jointLineOpacity:o(Y,"jointLineOpacity",1),jointLineThickness:o(Y,"jointLineThickness",2),pinSize:o(Y,"pinSize",4),pinColor:o(Y,"pinColor",4382944),springColor:o(Y,"springColor",14697184),anchorColor:o(Y,"anchorColor",15724527),anchorSize:o(Y,"anchorSize",4),showConvexHulls:o(Y,"showConvexHulls",!1),hullColor:o(Y,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),o(A,"setBounds",!1)){var H=A.setBounds;if(typeof H=="boolean")this.setBounds();else{var b=o(H,"x",0),Z=o(H,"y",0),$=o(H,"width",E.sys.scale.width),w=o(H,"height",E.sys.scale.height),D=o(H,"thickness",64),V=o(H,"left",!0),z=o(H,"right",!0),X=o(H,"top",!0),j=o(H,"bottom",!0);this.setBounds(b,Z,$,w,D,V,z,X,j)}}},setCompositeRenderStyle:function(S){var E=S.bodies,A=S.constraints,M=S.composites,L,F,O;for(L=0;L<E.length;L++)F=E[L],O=F.render,this.setBodyRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity);for(L=0;L<A.length;L++)F=A[L],O=F.render,this.setConstraintRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize);for(L=0;L<M.length;L++)F=M[L],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(S,E,A,M,L,F){var O=S.render,B=this.debugConfig;return O?(E==null&&(E=S.isStatic?B.staticLineColor:B.lineColor),A==null&&(A=B.lineOpacity),M==null&&(M=B.lineThickness),L==null&&(L=S.isStatic?B.staticFillColor:B.fillColor),F==null&&(F=B.fillOpacity),E!==!1&&(O.lineColor=E),A!==!1&&(O.lineOpacity=A),M!==!1&&(O.lineThickness=M),L!==!1&&(O.fillColor=L),F!==!1&&(O.fillOpacity=F),this):this},setConstraintRenderStyle:function(S,E,A,M,L,F,O){var B=S.render,N=this.debugConfig;if(!B)return this;if(E==null){var G=B.type;G==="line"?E=N.jointColor:G==="pin"?E=N.pinColor:G==="spring"&&(E=N.springColor)}return A==null&&(A=N.jointLineOpacity),M==null&&(M=N.jointLineThickness),L==null&&(L=N.pinSize),F==null&&(F=N.anchorColor),O==null&&(O=N.anchorSize),E!==!1&&(B.lineColor=E),A!==!1&&(B.lineOpacity=A),M!==!1&&(B.lineThickness=M),L!==!1&&(B.pinSize=L),F!==!1&&(B.anchorColor=F),O!==!1&&(B.anchorSize=O),this},setEventsProxy:function(){var S=this,E=this.engine,A=this.localWorld;this.drawDebug&&(c.on(A,"compositeModified",function(M){S.setCompositeRenderStyle(M)}),c.on(A,"beforeAdd",function(M){for(var L=[].concat(M.object),F=0;F<L.length;F++){var O=L[F],B=O.render;O.type==="body"?S.setBodyRenderStyle(O,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity):O.type==="composite"?S.setCompositeRenderStyle(O):O.type==="constraint"&&S.setConstraintRenderStyle(O,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize)}})),c.on(A,"beforeAdd",function(M){S.emit(f.BEFORE_ADD,M)}),c.on(A,"afterAdd",function(M){S.emit(f.AFTER_ADD,M)}),c.on(A,"beforeRemove",function(M){S.emit(f.BEFORE_REMOVE,M)}),c.on(A,"afterRemove",function(M){S.emit(f.AFTER_REMOVE,M)}),c.on(E,"beforeUpdate",function(M){S.emit(f.BEFORE_UPDATE,M)}),c.on(E,"afterUpdate",function(M){S.emit(f.AFTER_UPDATE,M)}),c.on(E,"collisionStart",function(M){var L=M.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),S.emit(f.COLLISION_START,M,F,O)}),c.on(E,"collisionActive",function(M){var L=M.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),S.emit(f.COLLISION_ACTIVE,M,F,O)}),c.on(E,"collisionEnd",function(M){var L=M.pairs,F,O;L.length>0&&(F=L[0].bodyA,O=L[0].bodyB),S.emit(f.COLLISION_END,M,F,O)})},setBounds:function(S,E,A,M,L,F,O,B,N){return S===void 0&&(S=0),E===void 0&&(E=0),A===void 0&&(A=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),L===void 0&&(L=64),F===void 0&&(F=!0),O===void 0&&(O=!0),B===void 0&&(B=!0),N===void 0&&(N=!0),this.updateWall(F,"left",S-L,E-L,L,M+L*2),this.updateWall(O,"right",S+A,E-L,L,M+L*2),this.updateWall(B,"top",S,E-L,A,L),this.updateWall(N,"bottom",S,E+M,A,L),this},updateWall:function(S,E,A,M,L,F){var O=this.walls[E];S?(O&&p.remove(this.localWorld,O),A+=L/2,M+=F/2,this.walls[E]=this.create(A,M,L,F,{isStatic:!0,friction:0,frictionStatic:0})):(O&&p.remove(this.localWorld,O),this.walls[E]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,E,A){return S===void 0&&(S=0),E===void 0&&(E=1),this.localWorld.gravity.x=S,this.localWorld.gravity.y=E,A!==void 0&&(this.localWorld.gravity.scale=A),this},create:function(S,E,A,M,L){var F=e.rectangle(S,E,A,M,L);return p.add(this.localWorld,F),F},add:function(S){return p.add(this.localWorld,S),this},remove:function(S,E){Array.isArray(S)||(S=[S]);for(var A=0;A<S.length;A++){var M=S[A],L=M.body?M.body:M;s.remove(this.localWorld,L,E)}return this},removeConstraint:function(S,E){return s.remove(this.localWorld,S,E),this},convertTilemapLayer:function(S,E){var A=S.layer,M=S.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(M,E),this},convertTiles:function(S,E){if(S.length===0)return this;for(var A=0;A<S.length;A++)new v(this,S[A],E);return this},nextGroup:function(S){return d.nextGroup(S)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(S,E){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,M=this.runner,L=A.timing,F=this.correction;M.isFixed?E=this.getDelta(S,E):(E=S-M.timePrev||M.delta,M.timePrev=S,M.deltaHistory.push(E),M.deltaHistory=M.deltaHistory.slice(-M.deltaSampleSize),E=Math.min.apply(null,M.deltaHistory),E=E<M.deltaMin?M.deltaMin:E,E=E>M.deltaMax?M.deltaMax:E,F=E/M.delta,M.delta=E),M.timeScalePrev!==0&&(F*=L.timeScale/M.timeScalePrev),L.timeScale===0&&(F=0),M.timeScalePrev=L.timeScale,M.correction=F,M.frameCounter+=1,S-M.counterTimestamp>=1e3&&(M.fps=M.frameCounter*((S-M.counterTimestamp)/1e3),M.counterTimestamp=S,M.frameCounter=0),i.update(A,E,F)}},step:function(S,E){i.update(this.engine,S,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var E=S.hasOwnProperty("body")?S.body:S;return s.get(this.localWorld,E.id,E.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var S=this.debugConfig,E=this.engine,A=this.debugGraphic,M=s.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&E.broadphase.controller&&this.renderGrid(E.broadphase,A,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(M,A,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(M),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(M,A,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(M,A,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(E.pairs.list,A,S.separationColor),S.showCollisions&&this.renderCollisions(E.pairs.list,A,S.collisionColor)}},renderGrid:function(S,E,A,M){E.lineStyle(1,A,M);for(var L=a.keys(S.buckets),F=0;F<L.length;F++){var O=L[F];if(!(S.buckets[O].length<2)){var B=O.split(/C|R/);E.strokeRect(parseInt(B[1],10)*S.bucketWidth,parseInt(B[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,E,A){E.lineStyle(1,A,1);for(var M=0;M<S.length;M++){var L=S[M];if(L.isActive){var F=L.collision,O=F.bodyA,B=F.bodyB,N=O.position,G=B.position,Y=F.penetration,H=!O.isStatic&&!B.isStatic?4:1;B.isStatic&&(H=0),E.lineBetween(G.x,G.y,G.x-Y.x*H,G.y-Y.y*H),H=!O.isStatic&&!B.isStatic?4:1,O.isStatic&&(H=0),E.lineBetween(N.x,N.y,N.x-Y.x*H,N.y-Y.y*H)}}return this},renderCollisions:function(S,E,A){E.lineStyle(1,A,.5),E.fillStyle(A,1);var M,L;for(M=0;M<S.length;M++)if(L=S[M],!!L.isActive)for(var F=0;F<L.activeContacts.length;F++){var O=L.activeContacts[F],B=O.vertex;E.fillRect(B.x-2,B.y-2,5,5)}for(M=0;M<S.length;M++)if(L=S[M],!!L.isActive){var N=L.collision,G=L.activeContacts;if(G.length>0){var Y=G[0].vertex.x,H=G[0].vertex.y;G.length===2&&(Y=(G[0].vertex.x+G[1].vertex.x)/2,H=(G[0].vertex.y+G[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic?E.lineBetween(Y-N.normal.x*8,H-N.normal.y*8,Y,H):E.lineBetween(Y+N.normal.x*8,H+N.normal.y*8,Y,H)}}return this},renderBodyBounds:function(S,E,A,M){E.lineStyle(1,A,M);for(var L=0;L<S.length;L++){var F=S[L];if(F.render.visible){var O=F.bounds;if(O)E.strokeRect(O.min.x,O.min.y,O.max.x-O.min.x,O.max.y-O.min.y);else for(var B=F.parts,N=B.length>1?1:0;N<B.length;N++){var G=B[N];E.strokeRect(G.bounds.min.x,G.bounds.min.y,G.bounds.max.x-G.bounds.min.x,G.bounds.max.y-G.bounds.min.y)}}}return this},renderBodyAxes:function(S,E,A,M,L){E.lineStyle(1,M,L);for(var F=0;F<S.length;F++){var O=S[F],B=O.parts;if(O.render.visible){var N,G,Y;if(A)for(G=B.length>1?1:0;G<B.length;G++)for(N=B[G],Y=0;Y<N.axes.length;Y++){var H=N.axes[Y];E.lineBetween(N.position.x,N.position.y,N.position.x+H.x*20,N.position.y+H.y*20)}else for(G=B.length>1?1:0;G<B.length;G++)for(N=B[G],Y=0;Y<N.axes.length;Y++)E.lineBetween(N.position.x,N.position.y,(N.vertices[0].x+N.vertices[N.vertices.length-1].x)/2,(N.vertices[0].y+N.vertices[N.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,E,A,M,L){E.lineStyle(L,A,M);for(var F=0;F<S.length;F++){var O=S[F];O.render.visible&&E.lineBetween(O.position.x,O.position.y,O.position.x+(O.position.x-O.positionPrev.x)*2,O.position.y+(O.position.y-O.positionPrev.y)*2)}return this},renderBodies:function(S){for(var E=this.debugGraphic,A=this.debugConfig,M=A.showBody,L=A.showStaticBody,F=A.showSleeping,O=A.showInternalEdges,B=A.showConvexHulls,N=A.renderFill,G=A.renderLine,Y=A.staticBodySleepOpacity,H=A.sleepFillColor,b=A.sleepLineColor,Z=A.hullColor,$=0;$<S.length;$++){var w=S[$];if(w.render.visible&&!(!L&&w.isStatic||!M&&!w.isStatic)){var D=w.render.lineColor,V=w.render.lineOpacity,z=w.render.lineThickness,X=w.render.fillColor,j=w.render.fillOpacity;F&&w.isSleeping&&(w.isStatic?(V*=Y,j*=Y):(D=b,X=H)),N||(X=null),G||(D=null),this.renderBody(w,E,O,D,V,z,X,j);var K=w.parts.length;B&&K>1&&this.renderConvexHull(w,E,Z,z)}}},renderBody:function(S,E,A,M,L,F,O,B){M===void 0&&(M=null),L===void 0&&(L=null),F===void 0&&(F=1),O===void 0&&(O=null),B===void 0&&(B=null);for(var N=this.debugConfig,G=N.sensorFillColor,Y=N.sensorLineColor,H=S.parts,b=H.length,Z=b>1?1:0;Z<b;Z++){var $=H[Z],w=$.render,D=w.opacity;if(!(!w.visible||D===0||$.isSensor&&!N.showSensors)){var V=$.circleRadius;if(E.beginPath(),$.isSensor?(O!==null&&E.fillStyle(G,B*D),M!==null&&E.lineStyle(F,Y,L*D)):(O!==null&&E.fillStyle(O,B*D),M!==null&&E.lineStyle(F,M,L*D)),V)E.arc($.position.x,$.position.y,V,0,2*Math.PI);else{var z=$.vertices,X=z.length;E.moveTo(z[0].x,z[0].y);for(var j=1;j<X;j++){var K=z[j];if(!z[j-1].isInternal||A?E.lineTo(K.x,K.y):E.moveTo(K.x,K.y),j<X&&K.isInternal&&!A){var Q=(j+1)%X;E.moveTo(z[Q].x,z[Q].y)}}E.closePath()}O!==null&&E.fillPath(),M!==null&&E.strokePath()}}if(N.showPositions&&!S.isStatic){var k=S.position.x,_=S.position.y,it=Math.ceil(N.positionSize/2);E.fillStyle(N.positionColor,1),E.fillRect(k-it,_-it,N.positionSize,N.positionSize)}return this},renderConvexHull:function(S,E,A,M){M===void 0&&(M=1);var L=S.parts,F=L.length;if(F>1){var O=S.vertices;E.lineStyle(M,A),E.beginPath(),E.moveTo(O[0].x,O[0].y);for(var B=1;B<O.length;B++)E.lineTo(O[B].x,O[B].y);E.lineTo(O[0].x,O[0].y),E.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,E=s.allConstraints(this.localWorld),A=0;A<E.length;A++){var M=E[A].render,L=M.lineColor,F=M.lineOpacity,O=M.lineThickness,B=M.pinSize,N=M.anchorColor,G=M.anchorSize;this.renderConstraint(E[A],S,L,F,O,B,N,G)}},renderConstraint:function(S,E,A,M,L,F,O,B){var N=S.render;if(!N.visible||!S.pointA||!S.pointB)return this;E.lineStyle(L,A,M);var G=S.bodyA,Y=S.bodyB,H,b;if(G?H=x.add(G.position,S.pointA):H=S.pointA,N.type==="pin")E.strokeCircle(H.x,H.y,F);else{if(Y?b=x.add(Y.position,S.pointB):b=S.pointB,E.beginPath(),E.moveTo(H.x,H.y),N.type==="spring")for(var Z=x.sub(b,H),$=x.perp(x.normalise(Z)),w=Math.ceil(a.clamp(S.length/5,12,20)),D,V=1;V<w;V+=1)D=V%2===0?1:-1,E.lineTo(H.x+Z.x*(V/w)+$.x*D*4,H.y+Z.y*(V/w)+$.y*D*4);E.lineTo(b.x,b.y)}return E.strokePath(),N.anchors&&B>0&&(E.fillStyle(O),E.fillCircle(H.x,H.y,B),E.fillCircle(b.x,b.y,B)),this},resetCollisionIDs:function(){return h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});l.exports=y},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BasePlugin:t(540),DefaultPlugins:t(197),PluginCache:t(24),PluginManager:t(414),ScenePlugin:t(1404)}},function(l,g,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(540),h=t(0),r=t(20),a=new h({Extends:e,initialize:function(i,n,f){e.call(this,n),this.scene=i,this.systems=i.sys,this.pluginKey=f,i.sys.events.once(r.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:t(1406),Events:t(91),Snapshot:t(1407),WebGL:t(1408)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasRenderer:t(368),GetBlendModes:t(370),SetTransform:t(30)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:t(369),WebGL:t(383)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(107),h=t(17),r={PipelineManager:t(372),Pipelines:t(1409),RenderTarget:t(141),Utils:t(12),WebGLPipeline:t(58),WebGLRenderer:t(371),WebGLShader:t(375)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(92),h=t(17),r={BitmapMaskPipeline:t(373),Events:t(374),GraphicsPipeline:t(376),LightPipeline:t(377),MultiPipeline:t(108),PointLightPipeline:t(378),PostFXPipeline:t(1410),RopePipeline:t(379),SinglePipeline:t(380),UtilityPipeline:t(381)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(198),r=t(2),a=t(1411),s=t(382),i=t(58),n=new e({Extends:i,initialize:function(o){o.renderTarget=r(o,"renderTarget",1),o.fragShader=r(o,"fragShader",a),o.vertShader=r(o,"vertShader",s),o.attributes=r(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),o.batchSize=1,o.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,o),this.isPostFX=!0,this.gameObject,this.colorMatrix=new h,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){i.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(f){this.bindAndDraw(f)},copyFrame:function(f,o,u,d,c){this.manager.copyFrame(f,o,u,d,c)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,o,u){this.manager.drawFrame(f,o,u,this.colorMatrix)},blendFrames:function(f,o,u,d,c){this.manager.blendFrames(f,o,u,d,c)},blendFramesAdditive:function(f,o,u,d,c){this.manager.blendFramesAdditive(f,o,u,d,c)},clearFrame:function(f,o){this.manager.clearFrame(f,o)},blitFrame:function(f,o,u,d,c,v){this.manager.blitFrame(f,o,u,d,c,v)},copyFrameRect:function(f,o,u,d,c,v,p,x){this.manager.copyFrameRect(f,o,u,d,c,v,p,x)},bindAndDraw:function(f,o,u,d,c){u===void 0&&(u=!0),d===void 0&&(d=!0);var v=this.gl,p=this.renderer;this.bind(c),this.set1i("uMainSampler",0),o?(v.viewport(0,0,o.width,o.height),v.bindFramebuffer(v.FRAMEBUFFER,o.framebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,o.texture,0),u&&(d?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1,!1),p.currentFramebuffer||v.viewport(0,0,p.width,p.height)),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,f.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),o?(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,null)):p.resetTextures()}});l.exports=n},function(l,g){l.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),h=t(201),r={Center:t(403),Events:t(104),Orientation:t(404),ScaleManager:t(415),ScaleModes:t(405),Zoom:t(406)};r=e(!1,r,h.CENTER),r=e(!1,r,h.ORIENTATION),r=e(!1,r,h.SCALE_MODE),r=e(!1,r,h.ZOOM),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),h=t(17),r={Events:t(20),GetPhysicsPlugins:t(419),GetScenePlugins:t(420),SceneManager:t(417),ScenePlugin:t(1414),Settings:t(421),Systems:t(204)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),h=t(0),r=t(20),a=t(2),s=t(24),i=new h({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(r.BOOT,this.boot,this),f.sys.events.on(r.START,this.pluginStart,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},start:function(n,f){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,f),this},restart:function(n){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,n),this},transition:function(n){n===void 0&&(n={});var f=a(n,"target",!1),o=this.manager.getScene(f);if(!f||!this.checkValidTransition(o))return!1;var u=a(n,"duration",1e3);this._elapsed=0,this._target=o,this._duration=u,this._willSleep=a(n,"sleep",!1),this._willRemove=a(n,"remove",!1);var d=a(n,"onUpdate",null);d&&(this._onUpdate=d,this._onUpdateScope=a(n,"onUpdateScope",this.scene));var c=a(n,"allowInput",!1);this.settings.transitionAllowInput=c;var v=o.sys.settings;return v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=u,v.transitionAllowInput=c,a(n,"moveAbove",!1)?this.manager.moveAbove(this.key,f):a(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),o.sys.isSleeping()?o.sys.wake(a(n,"data")):this.manager.start(f,a(n,"data")),this.systems.events.emit(r.TRANSITION_OUT,o,u),this.systems.events.on(r.UPDATE,this.step,this),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,f){this._elapsed+=f,this.transitionProgress=e(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,f=this._target.sys.settings;this.systems.events.off(r.UPDATE,this.step,this),n.events.emit(r.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,f,o,u){return this.manager.add(n,f,o,u)},launch:function(n,f){return n&&n!==this.key&&this.manager.queueOp("start",n,f),this},run:function(n,f){return n&&n!==this.key&&this.manager.queueOp("run",n,f),this},pause:function(n,f){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,f),this},resume:function(n,f){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,f),this},sleep:function(n,f){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,f),this},wake:function(n,f){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,f),this},switch:function(n){return n!==this.key&&this.manager.queueOp("switch",this.key,n),this},stop:function(n,f){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,f),this},setActive:function(n,f,o){f===void 0&&(f=this.key);var u=this.manager.getScene(f);return u&&u.sys.setActive(n,o),this},setVisible:function(n,f){f===void 0&&(f=this.key);var o=this.manager.getScene(f);return o&&o.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,f){return f===void 0&&(f=this.key),n!==f&&this.manager.swapPosition(n,f),this},moveAbove:function(n,f){return f===void 0&&(f=this.key),n!==f&&this.manager.moveAbove(n,f),this},moveBelow:function(n,f){return f===void 0&&(f=this.key),n!==f&&this.manager.moveBelow(n,f),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(r.SHUTDOWN,this.shutdown,this),n.off(r.POST_UPDATE,this.step,this),n.off(r.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",i,"scenePlugin"),l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:t(438),List:t(110),Map:t(102),ProcessQueue:t(211),RTree:t(531),Set:t(149),Size:t(416)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),h=t(1417),r={CanvasTexture:t(423),Events:t(106),FilterMode:h,Frame:t(109),Parsers:t(425),Texture:t(206),TextureManager:t(422),TextureSource:t(424)};r=e(!1,r,h),l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LINEAR:0,NEAREST:1};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),h=t(1419),r={Components:t(251),Parsers:t(1452),Formats:t(40),ImageCollection:t(576),ParseToTilemap:t(262),Tile:t(85),Tilemap:t(580),TilemapCreator:t(1459),TilemapFactory:t(1460),Tileset:t(122),TilemapLayer:t(581),Orientation:t(29),LayerData:t(120),MapData:t(121),ObjectLayer:t(572)};r=e(!1,r,h.ORIENTATION),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ORIENTATION:t(29)};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=t(63),r=function(a,s,i,n,f,o,u,d){u===void 0&&(u=!0),a<0&&(a=0),s<0&&(s=0);for(var c=e(a,s,i,n,null,d),v=f-a,p=o-s,x=0;x<c.length;x++){var y=c[x].x+v,S=c[x].y+p;y>=0&&y<d.width&&S>=0&&S<d.height&&d.data[S][y]&&d.data[S][y].copy(c[x])}u&&h(f-1,o-1,i+2,n+2,d)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=t(542),r=function(a,s,i,n,f,o){i||(i={}),Array.isArray(a)||(a=[a]);var u=o.tilemapLayer;n||(n=u.scene),f||(f=n.cameras.main);var d=e(0,0,o.width,o.height,null,o),c=[],v;for(v=0;v<d.length;v++){var p=d[v];if(a.indexOf(p.index)!==-1){var x=u.tileToWorldXY(p.x,p.y,void 0,f,o);i.x=x.x,i.y=x.y,c.push(n.make.sprite(i))}}if(typeof s=="number")for(v=0;v<a.length;v++)h(a[v],s,0,0,o.width,o.height,o);else if(Array.isArray(s))for(v=0;v<a.length;v++)h(a[v],s[v],0,0,o.width,o.height,o);return c};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=t(63),r=t(72),a=function(s,i,n,f,o,u,d){for(var c=d.collideIndexes.indexOf(s)!==-1,v=e(i,n,f,o,null,d),p=0;p<v.length;p++)v[p].index=s,r(v[p],c);u&&h(i-1,n-1,f+2,o+2,d)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=function(r,a,s,i,n,f,o,u){var d=e(s,i,n,f,o,u);return d.filter(r,a)};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){h===void 0&&(h=0),r===void 0&&(r=!1);var s=0,i,n,f;if(r){for(n=a.height-1;n>=0;n--)for(i=a.width-1;i>=0;i--)if(f=a.data[n][i],f&&f.index===e){if(s===h)return f;s+=1}}else for(n=0;n<a.height;n++)for(i=0;i<a.width;i++)if(f=a.data[n][i],f&&f.index===e){if(s===h)return f;s+=1}return null};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=function(r,a,s,i,n,f,o,u){var d=e(s,i,n,f,o,u);return d.find(r,a)||null};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=function(r,a,s,i,n,f,o,u){var d=e(s,i,n,f,o,u);d.forEach(r,a)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(544),r=t(545),a=t(547),s=t(1),i=t(548),n=function(f){return f===e.ORTHOGONAL?h:f===e.HEXAGONAL?r:f===e.STAGGERED?i:f===e.ISOMETRIC?a:s};l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),h=t(3),r=new h,a=function(s,i,n,f,o){return o.tilemapLayer.worldToTileXY(s,i,!0,r,f),e(r.x,r.y,n,o)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(483),h=t(26),r=t(484),a=t(1),s=t(3),i=function(d,c){return r.RectangleToTriangle(c,d)},n=new s,f=new s,o=new s,u=function(d,c,v,p){if(d===void 0)return[];var x=a;d instanceof e.Circle?x=r.CircleToRectangle:d instanceof e.Rectangle?x=r.RectangleToRectangle:d instanceof e.Triangle?x=i:d instanceof e.Line&&(x=r.LineToRectangle),p.tilemapLayer.worldToTileXY(d.left,d.top,!0,f,v);var y=f.x,S=f.y;p.tilemapLayer.worldToTileXY(d.right,d.bottom,!0,o,v);var E=Math.ceil(o.x),A=Math.ceil(o.y),M=Math.max(E-y,1),L=Math.max(A-S,1),F=h(y,S,M,L,c,p),O=p.tileWidth,B=p.tileHeight;p.tilemapLayer&&(O*=p.tilemapLayer.scaleX,B*=p.tilemapLayer.scaleY);for(var N=[],G=new e.Rectangle(0,0,O,B),Y=0;Y<F.length;Y++){var H=F[Y];p.tilemapLayer.tileToWorldXY(H.x,H.y,n,v),G.x=n.x,G.y=n.y,x(d,G)&&N.push(H)}return N};l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(1),r=t(253),a=function(s){return s===e.ORTHOGONAL?r:h};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(550),r=t(551),a=t(1),s=t(552),i=t(553),n=function(f){return f===e.ORTHOGONAL?i:f===e.ISOMETRIC?r:f===e.HEXAGONAL?h:f===e.STAGGERED?s:a};l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(554),r=t(1),a=t(555),s=t(254),i=function(n){return n===e.ORTHOGONAL?s:n===e.HEXAGONAL?h:n===e.STAGGERED?a:r};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(1),r=t(255),a=function(s){return s===e.ORTHOGONAL?r:h};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(556),r=t(557),a=t(1),s=t(558),i=t(559),n=function(f){return f===e.ORTHOGONAL?i:f===e.ISOMETRIC?r:f===e.HEXAGONAL?h:f===e.STAGGERED?s:a};l.exports=n},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),h=t(560),r=t(1),a=t(561),s=t(256),i=function(n){return n===e.ORTHOGONAL?s:n===e.HEXAGONAL?h:n===e.STAGGERED?a:r};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(562),h=t(3),r=new h,a=function(s,i,n,f){f.tilemapLayer.worldToTileXY(s,i,!0,r,n);var o=r.x,u=r.y;return e(o,u,f)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(257),h=t(3),r=new h,a=function(s,i,n,f,o,u){return u.tilemapLayer.worldToTileXY(i,n,!0,r,o,u),e(s,r.x,r.y,f,u)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(63),h=t(257),r=function(a,s,i,n,f){if(n===void 0&&(n=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var o=a.length,u=a[0].length,d=0;d<o;d++)for(var c=0;c<u;c++){var v=a[d][c];h(v,s+c,i+d,!1,f)}n&&e(s-1,i-1,u+2,o+2,f)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=t(210),r=function(a,s,i,n,f,o){var u,d=e(a,s,i,n,{},o);if(!f)for(f=[],u=0;u<d.length;u++)f.indexOf(d[u].index)===-1&&f.push(d[u].index);for(u=0;u<d.length;u++)d[u].index=h(f)};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(563),h=t(3),r=new h,a=function(s,i,n,f,o,u){return u.tilemapLayer.worldToTileXY(s,i,!0,r,o,u),e(r.x,r.y,n,f,u)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=t(397),r=new h(105,210,231,150),a=new h(243,134,48,200),s=new h(40,39,37,150),i=function(n,f,o){f===void 0&&(f={});var u=f.tileColor!==void 0?f.tileColor:r,d=f.collidingTileColor!==void 0?f.collidingTileColor:a,c=f.faceColor!==void 0?f.faceColor:s,v=e(0,0,o.width,o.height,null,o);n.translateCanvas(o.tilemapLayer.x,o.tilemapLayer.y),n.scaleCanvas(o.tilemapLayer.scaleX,o.tilemapLayer.scaleY);for(var p=0;p<v.length;p++){var x=v[p],y=x.width,S=x.height,E=x.pixelX,A=x.pixelY,M=x.collides?d:u;M!==null&&(n.fillStyle(M.color,M.alpha/255),n.fillRect(E,A,y,S)),E+=1,A+=1,y-=2,S-=2,c!==null&&(n.lineStyle(1,c.color,c.alpha/255),x.faceTop&&n.lineBetween(E,A,E+y,A),x.faceRight&&n.lineBetween(E+y,A,E+y,A+S),x.faceBottom&&n.lineBetween(E,A+S,E+y,A+S),x.faceLeft&&n.lineBetween(E,A,E,A+S))}};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),h=t(63),r=t(160),a=function(s,i,n,f,o){i===void 0&&(i=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++)r(s[u],i,f);if(o)for(var d=0;d<f.height;d++)for(var c=0;c<f.width;c++){var v=f.data[d][c];v&&s.indexOf(v.index)!==-1&&e(v,i)}n&&h(0,0,f.width,f.height,f)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),h=t(63),r=t(160),a=function(s,i,n,f,o,u){if(n===void 0&&(n=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),!(s>i)){for(var d=s;d<=i;d++)r(d,n,o);if(u)for(var c=0;c<o.height;c++)for(var v=0;v<o.width;v++){var p=o.data[c][v];p&&p.index>=s&&p.index<=i&&e(p,n)}f&&h(0,0,o.width,o.height,o)}};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),h=t(63),r=t(160),a=function(s,i,n,f){i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var o=0;o<f.height;o++)for(var u=0;u<f.width;u++){var d=f.data[o][u];d&&s.indexOf(d.index)===-1&&(e(d,i),r(d.index,i,f))}n&&h(0,0,f.width,f.height,f)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),h=t(63),r=t(126),a=function(s,i,n,f){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var o=0;o<f.height;o++)for(var u=0;u<f.width;u++){var d=f.data[o][u];if(d){for(var c in s)if(r(d.properties,c)){var v=s[c];Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++)d.properties[c]===v[p]&&e(d,i)}}}n&&h(0,0,f.width,f.height,f)};l.exports=a},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),h=t(63),r=function(a,s,i){a===void 0&&(a=!0),s===void 0&&(s=!0);for(var n=0;n<i.height;n++)for(var f=0;f<i.width;f++){var o=i.data[n][f];if(o){var u=o.getCollisionGroup();u&&u.objects&&u.objects.length>0&&e(o,a)}}s&&h(0,0,i.width,i.height,i)};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h,r,a){if(typeof e=="number")a.callbacks[e]=h!==null?{callback:h,callbackContext:r}:void 0;else for(var s=0,i=e.length;s<i;s++)a.callbacks[e[s]]=h!==null?{callback:h,callbackContext:r}:void 0};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=function(r,a,s,i,n,f,o){for(var u=e(r,a,s,i,null,o),d=0;d<u.length;d++)u[d].setCollisionCallback(n,f)};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=t(131),r=function(a,s,i,n,f){var o=e(a,s,i,n,null,f),u=o.map(function(c){return c.index});h(u);for(var d=0;d<o.length;d++)o[d].index=u[d]};l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=function(r,a,s,i,n,f,o){for(var u=e(s,i,n,f,null,o),d=0;d<u.length;d++)u[d]&&(u[d].index===r?u[d].index=a:u[d].index===a&&(u[d].index=r))};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),h=function(r,a,s,i,n,f){if(n){var o,u=e(r,a,s,i,null,f),d=0;for(o=0;o<n.length;o++)d+=n[o].weight;if(!(d<=0))for(o=0;o<u.length;o++){for(var c=Math.random()*d,v=0,p=-1,x=0;x<n.length;x++)if(v+=n[x].weight,c<=v){var y=n[x].index;p=Array.isArray(y)?y[Math.floor(Math.random()*y.length)]:y;break}u[o].index=p}}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FromOrientationString:t(258),Parse:t(564),Parse2DArray:t(259),ParseCSV:t(565),Impact:t(1454),Tiled:t(1455)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){for(var r=0;r<e.length;r++){var a=e[r],s=r;if(a.name&&a.name!==""&&(s=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var i={},n={},f,o,u;if(Array.isArray(a.edgecolors))for(f=0;f<a.edgecolors.length;f++)u=1+f,o=a.edgecolors[f],o.name!==""&&(i[u]=o.name);if(Array.isArray(a.cornercolors))for(f=0;f<a.cornercolors.length;f++)u=1+f,o=a.cornercolors[f],o.name!==""&&(n[u]=o.name);if(Array.isArray(a.colors))for(f=0;f<a.colors.length;f++)o=a.colors[f],u=1+f,o.name!==""&&(i[u]=n[u]=o.name);for(var d=[i,n,i,n,i,n,i,n],c=0;c<a.wangtiles.length;c++){var v=a.wangtiles[c],p=h[v.tileid]||(h[v.tileid]={});p=p.wangid||(p.wangid={});for(var x=[],y=0;y<Math.min(d.length,v.wangid.length);y++){if(o=v.wangid[y],o===0){x.push(void 0);continue}var S=d[y][o];if(S!==void 0){x.push(S);continue}x.push(o)}p[s]=x}}}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ParseTileLayers:t(578),ParseTilesets:t(579),ParseWeltmeister:t(577)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AssignTileProperties:t(567),Base64Decode:t(574),BuildTilesetIndex:t(568),CreateGroupLayer:t(161),ParseGID:t(261),ParseImageLayers:t(569),ParseJSONTiled:t(566),ParseObject:t(260),ParseObjectLayers:t(570),ParseTileLayers:t(573),ParseTilesets:t(575)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),h=t(1);e=t(1457),h=t(1458),l.exports={renderWebGL:e,renderCanvas:h}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),h=function(r,a,s){var i=a.cull(s),n=i.length,f=s.alpha*a.alpha;if(!(n===0||f<=0)){var o=a.gidMap,u=r.pipelines.set(a.pipeline,a),d=e.getTintAppendFloatAlpha,c=a.scrollFactorX,v=a.scrollFactorY,p=a.x,x=a.y,y=a.scaleX,S=a.scaleY;r.pipelines.preBatch(a);for(var E=0;E<n;E++){var A=i[E],M=o[A.index];if(M){var L=M.getTileTextureCoordinates(A.index);if(L!==null){var F=M.glTexture,O=u.setTexture2D(F,a),B=M.tileWidth,N=M.tileHeight,G=L.x,Y=L.y,H=M.tileWidth*.5,b=M.tileHeight*.5,Z=d(A.tint,f*A.alpha);u.batchTexture(a,F,F.width,F.height,p+(H+A.pixelX)*y,x+(b+A.pixelY)*S,A.width,A.height,y,S,A.rotation,A.flipX,A.flipY,c,v,H,b,G,Y,B,N,Z,Z,Z,Z,!1,0,0,s,null,!0,O)}}}r.pipelines.postBatch(a)}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),h=new e,r=new e,a=new e,s=function(i,n,f,o){var u=n.cull(f),d=u.length,c=f.alpha*n.alpha;if(!(d===0||c<=0)){var v=h,p=r,x=a;p.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(f.matrix);var y=i.currentContext,S=n.gidMap;y.save(),o?(v.multiplyWithOffset(o,-f.scrollX*n.scrollFactorX,-f.scrollY*n.scrollFactorY),p.e=n.x,p.f=n.y,v.multiply(p,x),x.copyToContext(y)):(p.e-=f.scrollX*n.scrollFactorX,p.f-=f.scrollY*n.scrollFactorY,p.copyToContext(y)),(!i.antialias||n.scaleX>1||n.scaleY>1)&&(y.imageSmoothingEnabled=!1);for(var E=0;E<d;E++){var A=u[E],M=S[A.index];if(M){var L=M.image.getSourceImage(),F=M.getTileTextureCoordinates(A.index);if(F!==null){var O=M.tileWidth,B=M.tileHeight,N=O*.5,G=B*.5;y.save(),y.translate(A.pixelX+N,A.pixelY+G),A.rotation!==0&&y.rotate(A.rotation),(A.flipX||A.flipY)&&y.scale(A.flipX?-1:1,A.flipY?-1:1),y.globalAlpha=c*A.alpha,y.drawImage(L,F.x,F.y,O,B,-N,-G,O,B),y.restore()}}}y.restore()}};l.exports=s},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),h=t(262);e.register("tilemap",function(r){var a=r!==void 0?r:{};return h(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),h=t(262);e.register("tilemap",function(r,a,s,i,n,f,o){return r===null&&(r=void 0),a===null&&(a=void 0),s===null&&(s=void 0),i===null&&(i=void 0),n===null&&(n=void 0),h(this.scene,r,a,s,i,n,f,o)})},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clock:t(1462),TimerEvent:t(582)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),h=t(24),r=t(20),a=t(582),s=t(93),i=new e({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(r.BOOT,this.boot,this),f.sys.events.on(r.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(r.PRE_UPDATE,this.preUpdate,this),n.on(r.UPDATE,this.update,this),n.once(r.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var f;return n instanceof a?(f=n,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat):f=new a(n),this._pendingInsertion.push(f),f},delayedCall:function(n,f,o,u){return this.addEvent({delay:n,callback:f,args:o,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var f=0;f<n.length;f++){var o=n[f];s(this._pendingRemoval,o),s(this._pendingInsertion,o),s(this._active,o)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(n===0&&f===0)){var o,u;for(o=0;o<n;o++){u=this._pendingRemoval[o];var d=this._active.indexOf(u);d>-1&&this._active.splice(d,1),u.destroy()}for(o=0;o<f;o++)u=this._pendingInsertion[o],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,f){if(this.now=n,!this.paused){f*=this.timeScale;for(var o=0;o<this._active.length;o++){var u=this._active[o];if(!u.paused&&(u.elapsed+=f*u.timeScale,u.elapsed>=u.delay)){var d=u.elapsed-u.delay;u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0?(u.repeatCount--,u.elapsed=d,u.hasDispatched=!1):this._pendingRemoval.push(u)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(r.PRE_UPDATE,this.preUpdate,this),f.off(r.UPDATE,this.update,this),f.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});h.register("Clock",i,"time"),l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(100),h=t(17),r={Builders:t(1464),Events:t(267),TweenManager:t(1480),Tween:t(266),TweenData:t(268),Timeline:t(588)};r=h(!1,r,e),l.exports=r},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetBoolean:t(99),GetEaseFunction:t(80),GetNewValue:t(162),GetProps:t(583),GetTargets:t(263),GetTweens:t(584),GetValueOp:t(264),NumberTweenBuilder:t(585),StaggerBuilder:t(586),TimelineBuilder:t(587),TweenBuilder:t(163)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="active"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="repeat"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,g){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="yoyo"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),h=t(0),r=t(585),a=t(24),s=t(20),i=t(586),n=t(587),f=t(100),o=t(163),u=new h({initialize:function(c){this.scene=c,this.systems=c.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,c.sys.events.once(s.BOOT,this.boot,this),c.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var d=this.systems.events;d.on(s.PRE_UPDATE,this.preUpdate,this),d.on(s.UPDATE,this.update,this),d.once(s.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(d){return n(this,d)},timeline:function(d){var c=n(this,d);return c.paused||(this._add.push(c),this._toProcess++),c},create:function(d){return o(this,d)},add:function(d){var c=o(this,d);return this._add.push(c),this._toProcess++,c},existing:function(d){return this._add.push(d),this._toProcess++,this},addCounter:function(d){var c=r(this,d);return this._add.push(c),this._toProcess++,c},stagger:function(d,c){return i(d,c)},preUpdate:function(){if(this._toProcess!==0){var d=this._destroy,c=this._active,v=this._pending,p,x;for(p=0;p<d.length;p++){x=d[p];var y=c.indexOf(x);y===-1?(y=v.indexOf(x),y>-1&&(x.state=f.REMOVED,v.splice(y,1))):(x.state=f.REMOVED,c.splice(y,1))}for(d.length=0,d=this._add,p=0;p<d.length;p++)x=d[p],x.state===f.PENDING_ADD&&(x.init()?(x.play(),this._active.push(x)):this._pending.push(x));d.length=0,this._toProcess=0}},update:function(d,c){var v=this._active,p;c*=this.timeScale;for(var x=0;x<v.length;x++)p=v[x],p.update(d,c)&&(this._destroy.push(p),this._toProcess++)},remove:function(d){return e(this._add,d),e(this._pending,d),e(this._active,d),e(this._destroy,d),d.state=f.REMOVED,this},makeActive:function(d){if(this._add.indexOf(d)!==-1||this._active.indexOf(d)!==-1)return this;var c=this._pending.indexOf(d);return c!==-1&&this._pending.splice(c,1),this._add.push(d),d.state=f.PENDING_ADD,this._toProcess++,this},each:function(d,c){for(var v=[null],p=1;p<arguments.length;p++)v.push(arguments[p]);for(var x in this.list)v[0]=this.list[x],d.apply(c,v)},getAllTweens:function(){for(var d=this._active,c=[],v=0;v<d.length;v++)c.push(d[v]);return c},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(d,c){c===void 0&&(c=!1);var v=this._active,p,x=[],y,S;for(Array.isArray(d)||(d=[d]),y=0;y<v.length;y++)for(p=v[y],S=0;S<d.length;S++)p.hasTarget(d[S])&&x.push(p);if(c)for(v=this._pending,y=0;y<v.length;y++)for(p=v[y],S=0;S<d.length;S++)p.hasTarget(d[S])&&x.push(p);return x},isTweening:function(d){for(var c=this._active,v,p=0;p<c.length;p++)if(v=c[p],v.hasTarget(d)&&v.isPlaying())return!0;return!1},killAll:function(){for(var d=this.getAllTweens(),c=0;c<d.length;c++)d[c].stop();return this},killTweensOf:function(d){for(var c=this.getTweensOf(d),v=0;v<c.length;v++)c[v].stop();return this},pauseAll:function(){for(var d=this._active,c=0;c<d.length;c++)d[c].pause();return this},resumeAll:function(){for(var d=this._active,c=0;c<d.length;c++)d[c].resume();return this},setGlobalTimeScale:function(d){return this.timeScale=d,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var d=this.systems.events;d.off(s.PRE_UPDATE,this.preUpdate,this),d.off(s.UPDATE,this.update,this),d.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("TweenManager",u,"tweens"),l.exports=u},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Array:t(208),Base64:t(1482),Objects:t(1484),String:t(1488),NOOP:t(1)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ArrayBufferToBase64:t(1483),Base64ToArrayBuffer:t(433)}},function(l,g){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(h,r){for(var a=new Uint8Array(h),s=a.length,i=r?"data:"+r+";base64,":"",n=0;n<s;n+=3)i+=t[a[n]>>2],i+=t[(a[n]&3)<<4|a[n+1]>>4],i+=t[(a[n+1]&15)<<2|a[n+2]>>6],i+=t[a[n+2]&63];return s%3===2?i=i.substring(0,i.length-1)+"=":s%3===1&&(i=i.substring(0,i.length-2)+"=="),i};l.exports=e},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clone:t(77),DeepCopy:t(175),Extend:t(17),GetAdvancedValue:t(13),GetFastValue:t(2),GetMinMaxValue:t(1485),GetValue:t(6),HasAll:t(1486),HasAny:t(455),HasValue:t(126),IsPlainObject:t(7),Merge:t(127),MergeRight:t(1487),Pick:t(571),SetValue:t(478)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),h=t(18),r=function(a,s,i,n,f){f===void 0&&(f=i);var o=e(a,s,f);return h(o,i,n)};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){for(var r=0;r<h.length;r++)if(!e.hasOwnProperty(h[r]))return!1;return!0};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),h=function(r,a){var s=e(r);for(var i in a)s.hasOwnProperty(i)&&(s[i]=a[i]);return s};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Format:t(1489),Pad:t(186),RemoveAt:t(1490),Reverse:t(1491),UppercaseFirst:t(205),UUID:t(222)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return e.replace(/%([0-9]+)/g,function(r,a){return h[Number(a)-1]})};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,h){return h===0?e.slice(1):e.slice(0,h-1)+e.slice(h)};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.split("").reverse().join("")};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SoundManagerCreator:t(426),Events:t(70),BaseSound:t(146),BaseSoundManager:t(145),WebAudioSound:t(434),WebAudioSoundManager:t(432),HTML5AudioSound:t(429),HTML5AudioSoundManager:t(427),NoAudioSound:t(431),NoAudioSoundManager:t(430)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Arcade:t(1366),Matter:t(1494)}},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BodyBounds:t(1392),Components:t(249),Events:t(272),Factory:t(1394),MatterGameObject:t(1395),Image:t(1396),Matter:t(594),MatterPhysics:t(1524),PolyDecomp:t(1393),Sprite:t(1397),TileBody:t(593),PhysicsEditorParser:t(589),PhysicsJSONParser:t(590),PointerConstraint:t(1398),World:t(1402)}},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e){return this.body.restitution=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var h=0;if(!Array.isArray(e))h=e;else for(var r=0;r<e.length;r++)h|=e[r];return this.body.collisionFilter.mask=h,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,h){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var a=e[r].hasOwnProperty("body")?e[r].body:e[r];this.body.setOnCollideWith(a,h)}return this}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),h={applyForce:function(r){return this._tempVec2.set(this.body.position.x,this.body.position.y),e.applyForce(this.body,this._tempVec2,r),this},applyForceFrom:function(r,a){return e.applyForce(this.body,r,a),this},thrust:function(r){var a=this.body.angle;return this._tempVec2.set(r*Math.cos(a),r*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(r){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(r*Math.cos(a),r*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(r){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(r*Math.cos(a),r*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(r){var a=this.body.angle-Math.PI;return this._tempVec2.set(r*Math.cos(a),r*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};l.exports=h},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,h,r){return this.body.friction=e,h!==void 0&&(this.body.frictionAir=h),r!==void 0&&(this.body.frictionStatic=r),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};l.exports=t},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),h=t(3),r={setMass:function(a){return e.setMass(this.body,a),this},setDensity:function(a){return e.setDensity(this.body,a),this},centerOfMass:{get:function(){return new h(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};l.exports=r},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};l.exports=t},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),h=t(41),r=t(124),a=t(2),s=t(589),i=t(590),n=t(64),f={setRectangle:function(o,u,d){return this.setBody({type:"rectangle",width:o,height:u},d)},setCircle:function(o,u){return this.setBody({type:"circle",radius:o},u)},setPolygon:function(o,u,d){return this.setBody({type:"polygon",sides:u,radius:o},d)},setTrapezoid:function(o,u,d,c){return this.setBody({type:"trapezoid",width:o,height:u,slope:d},c)},setExistingBody:function(o,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=o;for(var d=0;d<o.parts.length;d++)o.parts[d].gameObject=this;var c=this;if(o.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},u&&(this.world.has(o)&&this.world.remove(o,!0),this.world.add(o)),this._originComponent){var v=o.render.sprite.xOffset,p=o.render.sprite.yOffset,x=o.centerOfMass.x,y=o.centerOfMass.y;if(r(x,.5)&&r(y,.5))this.setOrigin(v+.5,p+.5);else{var S=o.centerOffset.x,E=o.centerOffset.y;this.setOrigin(v+S/this.displayWidth,p+E/this.displayHeight)}}return this},setBody:function(o,u){if(!o)return this;var d;typeof o=="string"&&(o={type:o});var c=a(o,"type","rectangle"),v=a(o,"x",this._tempVec2.x),p=a(o,"y",this._tempVec2.y),x=a(o,"width",this.width),y=a(o,"height",this.height);switch(c){case"rectangle":d=e.rectangle(v,p,x,y,u);break;case"circle":var S=a(o,"radius",Math.max(x,y)/2),E=a(o,"maxSides",25);d=e.circle(v,p,S,u,E);break;case"trapezoid":var A=a(o,"slope",.5);d=e.trapezoid(v,p,x,y,A,u);break;case"polygon":var M=a(o,"sides",5),L=a(o,"radius",Math.max(x,y)/2);d=e.polygon(v,p,M,L,u);break;case"fromVertices":case"fromVerts":var F=a(o,"verts",null);if(F)if(typeof F=="string"&&(F=n.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))h.setVertices(this.body,F),d=this.body;else{var O=a(o,"flagInternal",!1),B=a(o,"removeCollinear",.01),N=a(o,"minimumArea",10);d=e.fromVertices(v,p,F,u,O,B,N)}break;case"fromPhysicsEditor":d=s.parseBody(v,p,o,u);break;case"fromPhysicsTracer":d=i.parseBody(v,p,o,u);break}return d&&this.setExistingBody(d,o.addToWorld),this}};l.exports=f},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(272),h=t(165),r=t(166),a={setToSleep:function(){return h.set(this.body,!0),this},setAwake:function(){return h.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,i){return this.setSleepStartEvent(s),this.setSleepEndEvent(i),this},setSleepStartEvent:function(s){if(s){var i=this.world;r.on(this.body,"sleepStart",function(n){i.emit(e.SLEEP_START,n,this)})}else r.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var i=this.world;r.on(this.body,"sleepEnd",function(n){i.emit(e.SLEEP_END,n,this)})}else r.off(this.body,"sleepEnd");return this}};l.exports=a},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afteradd"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterremove"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterupdate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeadd"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeremove"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeupdate"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionactive"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionend"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepend"},function(l,g){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepstart"},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),h={setStatic:function(r){return e.setStatic(this.body,r),this},isStatic:function(){return this.body.isStatic}};l.exports=h},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),h=t(14),r=t(269),a=t(270),s=4,i={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),e.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),e.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var f=1/this._scaleX,o=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=s,e.scale(this.body,f,o),e.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var f=1/this._scaleX,o=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=s,e.scale(this.body,f,o),e.scale(this.body,this._scaleX,n)}},angle:{get:function(){return a(this.body.angle*h.RAD_TO_DEG)},set:function(n){this.rotation=a(n)*h.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=r(n),e.setAngle(this.body,this._rotation)}},setPosition:function(n,f){return n===void 0&&(n=0),f===void 0&&(f=n),this._tempVec2.set(n,f),e.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=r(n),e.setAngle(this.body,n),this},setFixedRotation:function(){return e.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,e.setAngle(this.body,this.rotation),this},setScale:function(n,f,o){n===void 0&&(n=1),f===void 0&&(f=n);var u=1/this._scaleX,d=1/this._scaleY;return this._scaleX=n,this._scaleY=f,e.scale(this.body,u,d,o),e.scale(this.body,n,f,o),this}};l.exports=i},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),h={setAngularVelocity:function(r){return e.setAngularVelocity(this.body,r),this},setVelocityX:function(r){return this._tempVec2.set(r,this.body.velocity.y),e.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(r){return this._tempVec2.set(this.body.velocity.x,r),e.setVelocity(this.body,this._tempVec2),this},setVelocity:function(r,a){return this._tempVec2.set(r,a),e.setVelocity(this.body,this._tempVec2),this}};l.exports=h},function(l,g,t){var e={};l.exports=e;var h=t(118),r=t(32);(function(){e.create=function(a){var s={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return r.extend(s,!1,a)},e.reset=function(a){a.extended&&(a.narrowDetections=0,a.narrowphaseTests=0,a.narrowReuse=0,a.narrowReuseCount=0,a.midphaseTests=0,a.broadphaseTests=0,a.narrowEff=0,a.midEff=0,a.broadEff=0,a.collisions=0,a.buckets=0,a.pairs=0,a.bodies=0)},e.update=function(a,s){if(a.extended){var i=s.world,n=h.allBodies(i);a.collisions=a.narrowDetections,a.pairs=s.pairs.list.length,a.bodies=n.length,a.midEff=(a.narrowDetections/(a.midphaseTests||1)).toFixed(2),a.narrowEff=(a.narrowDetections/(a.narrowphaseTests||1)).toFixed(2),a.broadEff=(1-a.broadphaseTests/(n.length||1)).toFixed(2),a.narrowReuse=(a.narrowReuseCount/(a.narrowphaseTests||1)).toFixed(2)}}})()},function(l,g,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),h=t(271),r=t(86),a=t(41),s=t(1392),i=t(84),n=t(0),f=t(118),o=t(591),u=t(128),d=t(273),c=t(50),v=t(1394),p=t(2),x=t(6),y=t(597),S=t(1525),E=t(1526),A=t(1399),M=t(1527),L=t(127),F=t(250),O=t(598),B=t(595),N=t(24),G=t(1400),Y=t(599),H=t(274),b=t(20),Z=t(592),$=t(83),w=t(64),D=t(1402),V=new n({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=f,this.detector=d,this.grid=y,this.pair=F,this.pairs=O,this.query=G,this.resolver=Y,this.sat=H,this.constraint=u,this.bodies=r,this.composites=o,this.axes=h,this.bounds=i,this.svg=Z,this.vector=$,this.vertices=w,this.verts=w,this._tempVec2=$.create(),x(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),x(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),x(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),Y._restingThresh=x(this.config,"restingThresh",4),Y._restingThreshTangent=x(this.config,"restingThreshTangent",6),Y._positionDampen=x(this.config,"positionDampen",.9),Y._positionWarming=x(this.config,"positionWarming",.8),Y._frictionNormalMultiplier=x(this.config,"frictionNormalMultiplier",5),X.sys.events.once(b.BOOT,this.boot,this),X.sys.events.on(b.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new v(this.world),this.bodyBounds=new s,this.systems.events.once(b.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new v(this.world));var z=this.systems.events;z.on(b.UPDATE,this.world.update,this.world),z.on(b.POST_UPDATE,this.world.postUpdate,this.world),z.once(b.SHUTDOWN,this.shutdown,this)},getConfig:function(){var z=this.systems.game.config.physics,X=this.systems.settings.physics,j=L(p(X,"matter",{}),p(z,"matter",{}));return j},enableAttractorPlugin:function(){return B.register(S),B.use(A,S),this},enableWrapPlugin:function(){return B.register(M),B.use(A,M),this},enableCollisionEventsPlugin:function(){return B.register(E),B.use(A,E),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(z,X){this.world.step(z,X)},containsPoint:function(z,X,j){z=this.getMatterBodies(z);var K=$.create(X,j),Q=G.point(z,K);return Q.length>0},intersectPoint:function(z,X,j){j=this.getMatterBodies(j);var K=$.create(z,X),Q=[],k=G.point(j,K);return k.forEach(function(_){Q.indexOf(_)===-1&&Q.push(_)}),Q},intersectRect:function(z,X,j,K,Q,k){Q===void 0&&(Q=!1),k=this.getMatterBodies(k);var _={min:{x:z,y:X},max:{x:z+j,y:X+K}},it=[],at=G.region(k,_,Q);return at.forEach(function(ot){it.indexOf(ot)===-1&&it.push(ot)}),it},intersectRay:function(z,X,j,K,Q,k){Q===void 0&&(Q=1),k=this.getMatterBodies(k);for(var _=[],it=G.ray(k,$.create(z,X),$.create(j,K),Q),at=0;at<it.length;at++)_.push(it[at].body);return _},intersectBody:function(z,X){X=this.getMatterBodies(X);for(var j=[],K=G.collides(z,X),Q=0;Q<K.length;Q++){var k=K[Q];k.bodyA===z?j.push(k.bodyB):j.push(k.bodyA)}return j},overlap:function(z,X,j,K,Q){j===void 0&&(j=null),K===void 0&&(K=null),Q===void 0&&(Q=j),Array.isArray(z)||(z=[z]),z=this.getMatterBodies(z),X=this.getMatterBodies(X);for(var k=!1,_=0;_<z.length;_++)for(var it=z[_],at=G.collides(it,X),ot=0;ot<at.length;ot++){var ct=at[ot],ut=ct.bodyA.id===it.id?ct.bodyB:ct.bodyA;if(!K||K.call(Q,it,ut,ct)){if(k=!0,j)j.call(Q,it,ut,ct);else if(!K)return!0}}return k},setCollisionCategory:function(z,X){return z=this.getMatterBodies(z),z.forEach(function(j){j.collisionFilter.category=X}),this},setCollisionGroup:function(z,X){return z=this.getMatterBodies(z),z.forEach(function(j){j.collisionFilter.group=X}),this},setCollidesWith:function(z,X){z=this.getMatterBodies(z);var j=0;if(!Array.isArray(X))j=X;else for(var K=0;K<X.length;K++)j|=X[K];return z.forEach(function(Q){Q.collisionFilter.mask=j}),this},getMatterBodies:function(z){if(!z)return this.world.getAllBodies();Array.isArray(z)||(z=[z]);for(var X=[],j=0;j<z.length;j++){var K=z[j].hasOwnProperty("body")?z[j].body:z[j];X.push(K)}return X},setVelocity:function(z,X,j){z=this.getMatterBodies(z);var K=this._tempVec2;return K.x=X,K.y=j,z.forEach(function(Q){a.setVelocity(Q,K)}),this},setVelocityX:function(z,X){z=this.getMatterBodies(z);var j=this._tempVec2;return j.x=X,z.forEach(function(K){j.y=K.velocity.y,a.setVelocity(K,j)}),this},setVelocityY:function(z,X){z=this.getMatterBodies(z);var j=this._tempVec2;return j.y=X,z.forEach(function(K){j.x=K.velocity.x,a.setVelocity(K,j)}),this},setAngularVelocity:function(z,X){return z=this.getMatterBodies(z),z.forEach(function(j){a.setAngularVelocity(j,X)}),this},applyForce:function(z,X){z=this.getMatterBodies(z);var j=this._tempVec2;return z.forEach(function(K){j.x=K.position.x,j.y=K.position.y,a.applyForce(K,j,X)}),this},applyForceFromPosition:function(z,X,j,K){z=this.getMatterBodies(z);var Q=this._tempVec2;return z.forEach(function(k){K===void 0&&(K=k.angle),Q.x=j*Math.cos(K),Q.y=j*Math.sin(K),a.applyForce(k,X,Q)}),this},applyForceFromAngle:function(z,X,j){z=this.getMatterBodies(z);var K=this._tempVec2;return z.forEach(function(Q){j===void 0&&(j=Q.angle),K.x=X*Math.cos(j),K.y=X*Math.sin(j),a.applyForce(Q,{x:Q.position.x,y:Q.position.y},K)}),this},getConstraintLength:function(z){var X=z.pointA.x,j=z.pointA.y,K=z.pointB.x,Q=z.pointB.y;return z.bodyA&&(X+=z.bodyA.position.x,j+=z.bodyA.position.y),z.bodyB&&(K+=z.bodyB.position.x,Q+=z.bodyB.position.y),c(X,j,K,Q)},alignBody:function(z,X,j,K){z=z.hasOwnProperty("body")?z.body:z;var Q;switch(K){case e.TOP_LEFT:case e.LEFT_TOP:Q=this.bodyBounds.getTopLeft(z,X,j);break;case e.TOP_CENTER:Q=this.bodyBounds.getTopCenter(z,X,j);break;case e.TOP_RIGHT:case e.RIGHT_TOP:Q=this.bodyBounds.getTopRight(z,X,j);break;case e.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(z,X,j);break;case e.CENTER:Q=this.bodyBounds.getCenter(z,X,j);break;case e.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(z,X,j);break;case e.LEFT_BOTTOM:case e.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(z,X,j);break;case e.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(z,X,j);break;case e.BOTTOM_RIGHT:case e.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(z,X,j);break}return Q&&a.setPosition(z,Q),this},shutdown:function(){var z=this.systems.events;this.world&&(z.off(b.UPDATE,this.world.update,this.world),z.off(b.POST_UPDATE,this.world.postUpdate,this.world)),z.off(b.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(b.START,this.start,this),this.scene=null,this.systems=null}});N.register("MatterPhysics",V,"matterPhysics"),l.exports=V},function(l,g,t){var e=t(594),h={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(r){r.after("Body.create",function(){h.Body.init(this)}),r.before("Engine.update",function(a){h.Engine.update(a)})},Body:{init:function(r){r.plugin.attractors=r.plugin.attractors||[]}},Engine:{update:function(r){for(var a=e.Composite.allBodies(r.world),s=0;s<a.length;s++){var i=a[s],n=i.plugin.attractors;if(n&&n.length>0)for(var f=0;f<a.length;f++){var o=a[f];if(s!==f)for(var u=0;u<n.length;u++){var d=n[u],c=d;e.Common.isFunction(d)&&(c=d(i,o)),c&&e.Body.applyForce(o,o.position,c)}}}}},Attractors:{gravityConstant:.001,gravity:function(r,a){var s=e.Vector.sub(a.position,r.position),i=e.Vector.magnitudeSquared(s)||1e-4,n=e.Vector.normalise(s),f=-h.Attractors.gravityConstant*(r.mass*a.mass/i),o=e.Vector.mult(n,f);e.Body.applyForce(r,r.position,e.Vector.neg(o)),e.Body.applyForce(a,a.position,o)}}};l.exports=h},function(l,g){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(h){h.pairs.map(function(r){var a=r.bodyA,s=r.bodyB;a.gameObject&&a.gameObject.emit("collide",a,s,r),s.gameObject&&s.gameObject.emit("collide",s,a,r),e.Events.trigger(a,"onCollide",{pair:r}),e.Events.trigger(s,"onCollide",{pair:r}),a.onCollideCallback&&a.onCollideCallback(r),s.onCollideCallback&&s.onCollideCallback(r),a.onCollideWith[s.id]&&a.onCollideWith[s.id](s,r),s.onCollideWith[a.id]&&s.onCollideWith[a.id](a,r)})}),e.Events.on(this,"collisionActive",function(h){h.pairs.map(function(r){var a=r.bodyA,s=r.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,s,r),s.gameObject&&s.gameObject.emit("collideActive",s,a,r),e.Events.trigger(a,"onCollideActive",{pair:r}),e.Events.trigger(s,"onCollideActive",{pair:r}),a.onCollideActiveCallback&&a.onCollideActiveCallback(r),s.onCollideActiveCallback&&s.onCollideActiveCallback(r)})}),e.Events.on(this,"collisionEnd",function(h){h.pairs.map(function(r){var a=r.bodyA,s=r.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,s,r),s.gameObject&&s.gameObject.emit("collideEnd",s,a,r),e.Events.trigger(a,"onCollideEnd",{pair:r}),e.Events.trigger(s,"onCollideEnd",{pair:r}),a.onCollideEndCallback&&a.onCollideEndCallback(r),s.onCollideEndCallback&&s.onCollideEndCallback(r)})})})}};l.exports=t},function(l,g,t){var e=t(594),h={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(r){r.after("Engine.update",function(){h.Engine.update(this)})},Engine:{update:function(r){for(var a=r.world,s=e.Composite.allBodies(a),i=e.Composite.allComposites(a),n=0;n<s.length;n+=1){var f=s[n];f.plugin.wrap&&h.Body.wrap(f,f.plugin.wrap)}for(n=0;n<i.length;n+=1){var o=i[n];o.plugin.wrap&&h.Composite.wrap(o,o.plugin.wrap)}}},Bounds:{wrap:function(r,a){var s=null,i=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(r.min.x>a.max.x?s=a.min.x-r.max.x:r.max.x<a.min.x&&(s=a.max.x-r.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(r.min.y>a.max.y?i=a.min.y-r.max.y:r.max.y<a.min.y&&(i=a.max.y-r.min.y)),s!==null||i!==null)return{x:s||0,y:i||0}}},Body:{wrap:function(r,a){var s=h.Bounds.wrap(r.bounds,a);return s&&e.Body.translate(r,s),s}},Composite:{bounds:function(r){for(var a=e.Composite.allBodies(r),s=[],i=0;i<a.length;i+=1){var n=a[i];s.push(n.bounds.min,n.bounds.max)}return e.Bounds.create(s)},wrap:function(r,a){var s=h.Bounds.wrap(h.Composite.bounds(r),a);return s&&e.Composite.translate(r,s),s}}};l.exports=h},function(l,g,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var h=t(33),r=t(17),a={Actions:t(275),Animations:t(723),BlendModes:t(35),Cache:t(735),Cameras:t(738),Core:t(806),Class:t(0),Create:t(888),Curves:t(894),Data:t(896),Display:t(898),DOM:t(917),Events:t(918),Game:t(920),GameObjects:t(1011),Geom:t(483),Input:t(1308),Loader:t(1338),Math:t(193),Physics:t(1493),Plugins:t(1403),Renderer:t(1405),Scale:t(1412),ScaleModes:t(168),Scene:t(418),Scenes:t(1413),Structs:t(1415),Textures:t(1416),Tilemaps:t(1418),Time:t(1461),Tweens:t(1463),Utils:t(1481)};a.Sound=t(1492),a=r(!1,a,h),l.exports=a,e.Phaser=a}).call(this,t(600))}])})}(Vo)),Vo.exports}var $s=O1(),ph={exports:{}},js={},mh={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function F1(){if($v)return Vt;$v=1;var m=Symbol.for("react.element"),C=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),t=Symbol.for("react.profiler"),e=Symbol.for("react.provider"),h=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),s=Symbol.for("react.memo"),i=Symbol.for("react.lazy"),n=Symbol.iterator;function f(D){return D===null||typeof D!="object"?null:(D=n&&D[n]||D["@@iterator"],typeof D=="function"?D:null)}var o={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,d={};function c(D,V,z){this.props=D,this.context=V,this.refs=d,this.updater=z||o}c.prototype.isReactComponent={},c.prototype.setState=function(D,V){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,V,"setState")},c.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function v(){}v.prototype=c.prototype;function p(D,V,z){this.props=D,this.context=V,this.refs=d,this.updater=z||o}var x=p.prototype=new v;x.constructor=p,u(x,c.prototype),x.isPureReactComponent=!0;var y=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function M(D,V,z){var X,j={},K=null,Q=null;if(V!=null)for(X in V.ref!==void 0&&(Q=V.ref),V.key!==void 0&&(K=""+V.key),V)S.call(V,X)&&!A.hasOwnProperty(X)&&(j[X]=V[X]);var k=arguments.length-2;if(k===1)j.children=z;else if(1<k){for(var _=Array(k),it=0;it<k;it++)_[it]=arguments[it+2];j.children=_}if(D&&D.defaultProps)for(X in k=D.defaultProps,k)j[X]===void 0&&(j[X]=k[X]);return{$$typeof:m,type:D,key:K,ref:Q,props:j,_owner:E.current}}function L(D,V){return{$$typeof:m,type:D.type,key:V,ref:D.ref,props:D.props,_owner:D._owner}}function F(D){return typeof D=="object"&&D!==null&&D.$$typeof===m}function O(D){var V={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(z){return V[z]})}var B=/\/+/g;function N(D,V){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):V.toString(36)}function G(D,V,z,X,j){var K=typeof D;(K==="undefined"||K==="boolean")&&(D=null);var Q=!1;if(D===null)Q=!0;else switch(K){case"string":case"number":Q=!0;break;case"object":switch(D.$$typeof){case m:case C:Q=!0}}if(Q)return Q=D,j=j(Q),D=X===""?"."+N(Q,0):X,y(j)?(z="",D!=null&&(z=D.replace(B,"$&/")+"/"),G(j,V,z,"",function(it){return it})):j!=null&&(F(j)&&(j=L(j,z+(!j.key||Q&&Q.key===j.key?"":(""+j.key).replace(B,"$&/")+"/")+D)),V.push(j)),1;if(Q=0,X=X===""?".":X+":",y(D))for(var k=0;k<D.length;k++){K=D[k];var _=X+N(K,k);Q+=G(K,V,z,_,j)}else if(_=f(D),typeof _=="function")for(D=_.call(D),k=0;!(K=D.next()).done;)K=K.value,_=X+N(K,k++),Q+=G(K,V,z,_,j);else if(K==="object")throw V=String(D),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Q}function Y(D,V,z){if(D==null)return D;var X=[],j=0;return G(D,X,"","",function(K){return V.call(z,K,j++)}),X}function H(D){if(D._status===-1){var V=D._result;V=V(),V.then(function(z){(D._status===0||D._status===-1)&&(D._status=1,D._result=z)},function(z){(D._status===0||D._status===-1)&&(D._status=2,D._result=z)}),D._status===-1&&(D._status=0,D._result=V)}if(D._status===1)return D._result.default;throw D._result}var b={current:null},Z={transition:null},$={ReactCurrentDispatcher:b,ReactCurrentBatchConfig:Z,ReactCurrentOwner:E};function w(){throw Error("act(...) is not supported in production builds of React.")}return Vt.Children={map:Y,forEach:function(D,V,z){Y(D,function(){V.apply(this,arguments)},z)},count:function(D){var V=0;return Y(D,function(){V++}),V},toArray:function(D){return Y(D,function(V){return V})||[]},only:function(D){if(!F(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Vt.Component=c,Vt.Fragment=l,Vt.Profiler=t,Vt.PureComponent=p,Vt.StrictMode=g,Vt.Suspense=a,Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Vt.act=w,Vt.cloneElement=function(D,V,z){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var X=u({},D.props),j=D.key,K=D.ref,Q=D._owner;if(V!=null){if(V.ref!==void 0&&(K=V.ref,Q=E.current),V.key!==void 0&&(j=""+V.key),D.type&&D.type.defaultProps)var k=D.type.defaultProps;for(_ in V)S.call(V,_)&&!A.hasOwnProperty(_)&&(X[_]=V[_]===void 0&&k!==void 0?k[_]:V[_])}var _=arguments.length-2;if(_===1)X.children=z;else if(1<_){k=Array(_);for(var it=0;it<_;it++)k[it]=arguments[it+2];X.children=k}return{$$typeof:m,type:D.type,key:j,ref:K,props:X,_owner:Q}},Vt.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:e,_context:D},D.Consumer=D},Vt.createElement=M,Vt.createFactory=function(D){var V=M.bind(null,D);return V.type=D,V},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(D){return{$$typeof:r,render:D}},Vt.isValidElement=F,Vt.lazy=function(D){return{$$typeof:i,_payload:{_status:-1,_result:D},_init:H}},Vt.memo=function(D,V){return{$$typeof:s,type:D,compare:V===void 0?null:V}},Vt.startTransition=function(D){var V=Z.transition;Z.transition={};try{D()}finally{Z.transition=V}},Vt.unstable_act=w,Vt.useCallback=function(D,V){return b.current.useCallback(D,V)},Vt.useContext=function(D){return b.current.useContext(D)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(D){return b.current.useDeferredValue(D)},Vt.useEffect=function(D,V){return b.current.useEffect(D,V)},Vt.useId=function(){return b.current.useId()},Vt.useImperativeHandle=function(D,V,z){return b.current.useImperativeHandle(D,V,z)},Vt.useInsertionEffect=function(D,V){return b.current.useInsertionEffect(D,V)},Vt.useLayoutEffect=function(D,V){return b.current.useLayoutEffect(D,V)},Vt.useMemo=function(D,V){return b.current.useMemo(D,V)},Vt.useReducer=function(D,V,z){return b.current.useReducer(D,V,z)},Vt.useRef=function(D){return b.current.useRef(D)},Vt.useState=function(D){return b.current.useState(D)},Vt.useSyncExternalStore=function(D,V,z){return b.current.useSyncExternalStore(D,V,z)},Vt.useTransition=function(){return b.current.useTransition()},Vt.version="18.3.1",Vt}var Qv;function ul(){return Qv||(Qv=1,mh.exports=F1()),mh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function D1(){if(Jv)return js;Jv=1;var m=ul(),C=Symbol.for("react.element"),l=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,t=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e={key:!0,ref:!0,__self:!0,__source:!0};function h(r,a,s){var i,n={},f=null,o=null;s!==void 0&&(f=""+s),a.key!==void 0&&(f=""+a.key),a.ref!==void 0&&(o=a.ref);for(i in a)g.call(a,i)&&!e.hasOwnProperty(i)&&(n[i]=a[i]);if(r&&r.defaultProps)for(i in a=r.defaultProps,a)n[i]===void 0&&(n[i]=a[i]);return{$$typeof:C,type:r,key:f,ref:o,props:n,_owner:t.current}}return js.Fragment=l,js.jsx=h,js.jsxs=h,js}var kv;function I1(){return kv||(kv=1,ph.exports=D1()),ph.exports}var lt=I1(),gt=ul();const qv=R1(gt);function B1(m){if(typeof Proxy>"u")return m;const C=new Map,l=(...g)=>m(...g);return new Proxy(l,{get:(g,t)=>t==="create"?m:(C.has(t)||C.set(t,m(t)),C.get(t))})}function ea(m){return m!==null&&typeof m=="object"&&typeof m.start=="function"}const Kh=m=>Array.isArray(m);function $m(m,C){if(!Array.isArray(C))return!1;const l=C.length;if(l!==m.length)return!1;for(let g=0;g<l;g++)if(C[g]!==m[g])return!1;return!0}function ia(m){return typeof m=="string"||Array.isArray(m)}function _v(m){const C=[{},{}];return m==null||m.values.forEach((l,g)=>{C[0][g]=l.get(),C[1][g]=l.getVelocity()}),C}function Cf(m,C,l,g){if(typeof C=="function"){const[t,e]=_v(g);C=C(l!==void 0?l:m.custom,t,e)}if(typeof C=="string"&&(C=m.variants&&m.variants[C]),typeof C=="function"){const[t,e]=_v(g);C=C(l!==void 0?l:m.custom,t,e)}return C}function hl(m,C,l){const g=m.getProps();return Cf(g,C,l!==void 0?l:g.custom,m)}const Af=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pf=["initial",...Af],ha=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wn=new Set(ha),_i=m=>m*1e3,tn=m=>m/1e3,N1={type:"spring",stiffness:500,damping:25,restSpeed:10},w1=m=>({type:"spring",stiffness:550,damping:m===0?2*Math.sqrt(550):30,restSpeed:10}),G1={type:"keyframes",duration:.8},V1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U1=(m,{keyframes:C})=>C.length>2?G1:wn.has(m)?m.startsWith("scale")?w1(C[1]):N1:V1;function z1({when:m,delay:C,delayChildren:l,staggerChildren:g,staggerDirection:t,repeat:e,repeatType:h,repeatDelay:r,from:a,elapsed:s,...i}){return!!Object.keys(i).length}function Mf(m,C){return m[C]||m.default||m}const Y1={skipAnimations:!1,useManualTiming:!1},X1=m=>m!==null;function fl(m,{repeat:C,repeatType:l="loop"},g){const t=m.filter(X1),e=C&&l!=="loop"&&C%2===1?0:t.length-1;return!e||g===void 0?t[e]:g}const De=m=>m;function W1(m){let C=new Set,l=new Set,g=!1,t=!1;const e=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function r(s){e.has(s)&&(a.schedule(s),m()),s(h)}const a={schedule:(s,i=!1,n=!1)=>{const o=n&&g?C:l;return i&&e.add(s),o.has(s)||o.add(s),s},cancel:s=>{l.delete(s),e.delete(s)},process:s=>{if(h=s,g){t=!0;return}g=!0,[C,l]=[l,C],l.clear(),C.forEach(r),g=!1,t&&(t=!1,a.process(s))}};return a}const Lo=["read","resolveKeyframes","update","preRender","render","postRender"],H1=40;function Qm(m,C){let l=!1,g=!0;const t={delta:0,timestamp:0,isProcessing:!1},e=()=>l=!0,h=Lo.reduce((v,p)=>(v[p]=W1(e),v),{}),{read:r,resolveKeyframes:a,update:s,preRender:i,render:n,postRender:f}=h,o=()=>{const v=performance.now();l=!1,t.delta=g?1e3/60:Math.max(Math.min(v-t.timestamp,H1),1),t.timestamp=v,t.isProcessing=!0,r.process(t),a.process(t),s.process(t),i.process(t),n.process(t),f.process(t),t.isProcessing=!1,l&&C&&(g=!1,m(o))},u=()=>{l=!0,g=!0,t.isProcessing||m(o)};return{schedule:Lo.reduce((v,p)=>{const x=h[p];return v[p]=(y,S=!1,E=!1)=>(l||u(),x.schedule(y,S,E)),v},{}),cancel:v=>{for(let p=0;p<Lo.length;p++)h[Lo[p]].cancel(v)},state:t,steps:h}}const{schedule:Kt,cancel:an,state:Ee,steps:gh}=Qm(typeof requestAnimationFrame<"u"?requestAnimationFrame:De,!0),Jm=m=>/^0[^.\s]+$/u.test(m);function j1(m){return typeof m=="number"?m===0:m!==null?m==="none"||m==="0"||Jm(m):!0}let bh=De;const km=m=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(m),qm=m=>C=>typeof C=="string"&&C.startsWith(m),_m=qm("--"),K1=qm("var(--"),Rf=m=>K1(m)?b1.test(m.split("/*")[0].trim()):!1,b1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Z1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $1(m){const C=Z1.exec(m);if(!C)return[,];const[,l,g,t]=C;return[`--${l??g}`,t]}function tg(m,C,l=1){const[g,t]=$1(m);if(!g)return;const e=window.getComputedStyle(C).getPropertyValue(g);if(e){const h=e.trim();return km(h)?parseFloat(h):h}return Rf(t)?tg(t,C,l+1):t}const In=(m,C,l)=>l>C?C:l<m?m:l,ns={test:m=>typeof m=="number",parse:parseFloat,transform:m=>m},Qs={...ns,transform:m=>In(0,1,m)},Oo={...ns,default:1},Js=m=>Math.round(m*1e5)/1e5,Lf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Q1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,J1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function fa(m){return typeof m=="string"}function k1(m){return m==null}const da=m=>({test:C=>fa(C)&&C.endsWith(m)&&C.split(" ").length===1,parse:parseFloat,transform:C=>`${C}${m}`}),On=da("deg"),wi=da("%"),Dt=da("px"),q1=da("vh"),_1=da("vw"),tp={...wi,parse:m=>wi.parse(m)/100,transform:m=>wi.transform(m*100)},tT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ep=m=>m===ns||m===Dt,ip=(m,C)=>parseFloat(m.split(", ")[C]),np=(m,C)=>(l,{transform:g})=>{if(g==="none"||!g)return 0;const t=g.match(/^matrix3d\((.+)\)$/u);if(t)return ip(t[1],C);{const e=g.match(/^matrix\((.+)\)$/u);return e?ip(e[1],m):0}},eT=new Set(["x","y","z"]),iT=ha.filter(m=>!eT.has(m));function nT(m){const C=[];return iT.forEach(l=>{const g=m.getValue(l);g!==void 0&&(C.push([l,g.get()]),g.set(l.startsWith("scale")?1:0))}),C}const qr={width:({x:m},{paddingLeft:C="0",paddingRight:l="0"})=>m.max-m.min-parseFloat(C)-parseFloat(l),height:({y:m},{paddingTop:C="0",paddingBottom:l="0"})=>m.max-m.min-parseFloat(C)-parseFloat(l),top:(m,{top:C})=>parseFloat(C),left:(m,{left:C})=>parseFloat(C),bottom:({y:m},{top:C})=>parseFloat(C)+(m.max-m.min),right:({x:m},{left:C})=>parseFloat(C)+(m.max-m.min),x:np(4,13),y:np(5,14)};qr.translateX=qr.x;qr.translateY=qr.y;const eg=m=>C=>C.test(m),rT={test:m=>m==="auto",parse:m=>m},ig=[ns,Dt,wi,On,_1,q1,rT],rp=m=>ig.find(eg(m)),nr=new Set;let Zh=!1,$h=!1;function ng(){if($h){const m=Array.from(nr).filter(g=>g.needsMeasurement),C=new Set(m.map(g=>g.element)),l=new Map;C.forEach(g=>{const t=nT(g);t.length&&(l.set(g,t),g.render())}),m.forEach(g=>g.measureInitialState()),C.forEach(g=>{g.render();const t=l.get(g);t&&t.forEach(([e,h])=>{var r;(r=g.getValue(e))===null||r===void 0||r.set(h)})}),m.forEach(g=>g.measureEndState()),m.forEach(g=>{g.suspendedScrollY!==void 0&&window.scrollTo(0,g.suspendedScrollY)})}$h=!1,Zh=!1,nr.forEach(m=>m.complete()),nr.clear()}function rg(){nr.forEach(m=>{m.readKeyframes(),m.needsMeasurement&&($h=!0)})}function sT(){rg(),ng()}class Of{constructor(C,l,g,t,e,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...C],this.onComplete=l,this.name=g,this.motionValue=t,this.element=e,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(nr.add(this),Zh||(Zh=!0,Kt.read(rg),Kt.resolveKeyframes(ng))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:C,name:l,element:g,motionValue:t}=this;for(let e=0;e<C.length;e++)if(C[e]===null)if(e===0){const h=t==null?void 0:t.get(),r=C[C.length-1];if(h!==void 0)C[0]=h;else if(g&&l){const a=g.readValue(l,r);a!=null&&(C[0]=a)}C[0]===void 0&&(C[0]=r),t&&h===void 0&&t.set(C[0])}else C[e]=C[e-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),nr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,nr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ff=(m,C)=>l=>!!(fa(l)&&J1.test(l)&&l.startsWith(m)||C&&!k1(l)&&Object.prototype.hasOwnProperty.call(l,C)),sg=(m,C,l)=>g=>{if(!fa(g))return g;const[t,e,h,r]=g.match(Lf);return{[m]:parseFloat(t),[C]:parseFloat(e),[l]:parseFloat(h),alpha:r!==void 0?parseFloat(r):1}},aT=m=>In(0,255,m),xh={...ns,transform:m=>Math.round(aT(m))},er={test:Ff("rgb","red"),parse:sg("red","green","blue"),transform:({red:m,green:C,blue:l,alpha:g=1})=>"rgba("+xh.transform(m)+", "+xh.transform(C)+", "+xh.transform(l)+", "+Js(Qs.transform(g))+")"};function oT(m){let C="",l="",g="",t="";return m.length>5?(C=m.substring(1,3),l=m.substring(3,5),g=m.substring(5,7),t=m.substring(7,9)):(C=m.substring(1,2),l=m.substring(2,3),g=m.substring(3,4),t=m.substring(4,5),C+=C,l+=l,g+=g,t+=t),{red:parseInt(C,16),green:parseInt(l,16),blue:parseInt(g,16),alpha:t?parseInt(t,16)/255:1}}const Qh={test:Ff("#"),parse:oT,transform:er.transform},Wr={test:Ff("hsl","hue"),parse:sg("hue","saturation","lightness"),transform:({hue:m,saturation:C,lightness:l,alpha:g=1})=>"hsla("+Math.round(m)+", "+wi.transform(Js(C))+", "+wi.transform(Js(l))+", "+Js(Qs.transform(g))+")"},Oe={test:m=>er.test(m)||Qh.test(m)||Wr.test(m),parse:m=>er.test(m)?er.parse(m):Wr.test(m)?Wr.parse(m):Qh.parse(m),transform:m=>fa(m)?m:m.hasOwnProperty("red")?er.transform(m):Wr.transform(m)};function lT(m){var C,l;return isNaN(m)&&fa(m)&&(((C=m.match(Lf))===null||C===void 0?void 0:C.length)||0)+(((l=m.match(Q1))===null||l===void 0?void 0:l.length)||0)>0}const ag="number",og="color",uT="var",hT="var(",sp="${}",fT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function na(m){const C=m.toString(),l=[],g={color:[],number:[],var:[]},t=[];let e=0;const r=C.replace(fT,a=>(Oe.test(a)?(g.color.push(e),t.push(og),l.push(Oe.parse(a))):a.startsWith(hT)?(g.var.push(e),t.push(uT),l.push(a)):(g.number.push(e),t.push(ag),l.push(parseFloat(a))),++e,sp)).split(sp);return{values:l,split:r,indexes:g,types:t}}function lg(m){return na(m).values}function ug(m){const{split:C,types:l}=na(m),g=C.length;return t=>{let e="";for(let h=0;h<g;h++)if(e+=C[h],t[h]!==void 0){const r=l[h];r===ag?e+=Js(t[h]):r===og?e+=Oe.transform(t[h]):e+=t[h]}return e}}const dT=m=>typeof m=="number"?0:m;function cT(m){const C=lg(m);return ug(m)(C.map(dT))}const Bn={test:lT,parse:lg,createTransformer:ug,getAnimatableNone:cT},vT=new Set(["brightness","contrast","saturate","opacity"]);function pT(m){const[C,l]=m.slice(0,-1).split("(");if(C==="drop-shadow")return m;const[g]=l.match(Lf)||[];if(!g)return m;const t=l.replace(g,"");let e=vT.has(C)?1:0;return g!==l&&(e*=100),C+"("+e+t+")"}const mT=/\b([a-z-]*)\(.*?\)/gu,Jh={...Bn,getAnimatableNone:m=>{const C=m.match(mT);return C?C.map(pT).join(" "):m}},ap={...ns,transform:Math.round},Df={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,size:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,rotate:On,rotateX:On,rotateY:On,rotateZ:On,scale:Oo,scaleX:Oo,scaleY:Oo,scaleZ:Oo,skew:On,skewX:On,skewY:On,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:Qs,originX:tp,originY:tp,originZ:Dt,zIndex:ap,backgroundPositionX:Dt,backgroundPositionY:Dt,fillOpacity:Qs,strokeOpacity:Qs,numOctaves:ap},gT={...Df,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Jh,WebkitFilter:Jh},If=m=>gT[m];function hg(m,C){let l=If(m);return l!==Jh&&(l=Bn),l.getAnimatableNone?l.getAnimatableNone(C):void 0}const xT=new Set(["auto","none","0"]);function yT(m,C,l){let g=0,t;for(;g<m.length&&!t;){const e=m[g];typeof e=="string"&&!xT.has(e)&&na(e).values.length&&(t=m[g]),g++}if(t&&l)for(const e of C)m[e]=hg(l,t)}class fg extends Of{constructor(C,l,g,t,e){super(C,l,g,t,e,!0)}readKeyframes(){const{unresolvedKeyframes:C,element:l,name:g}=this;if(!l||!l.current)return;super.readKeyframes();for(let a=0;a<C.length;a++){let s=C[a];if(typeof s=="string"&&(s=s.trim(),Rf(s))){const i=tg(s,l.current);i!==void 0&&(C[a]=i),a===C.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!tT.has(g)||C.length!==2)return;const[t,e]=C,h=rp(t),r=rp(e);if(h!==r)if(ep(h)&&ep(r))for(let a=0;a<C.length;a++){const s=C[a];typeof s=="string"&&(C[a]=parseFloat(s))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:C,name:l}=this,g=[];for(let t=0;t<C.length;t++)j1(C[t])&&g.push(t);g.length&&yT(C,g,l)}measureInitialState(){const{element:C,unresolvedKeyframes:l,name:g}=this;if(!C||!C.current)return;g==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[g](C.measureViewportBox(),window.getComputedStyle(C.current)),l[0]=this.measuredOrigin;const t=l[l.length-1];t!==void 0&&C.getValue(g,t).jump(t,!1)}measureEndState(){var C;const{element:l,name:g,unresolvedKeyframes:t}=this;if(!l||!l.current)return;const e=l.getValue(g);e&&e.jump(this.measuredOrigin,!1);const h=t.length-1,r=t[h];t[h]=qr[g](l.measureViewportBox(),window.getComputedStyle(l.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),!((C=this.removedTransforms)===null||C===void 0)&&C.length&&this.removedTransforms.forEach(([a,s])=>{l.getValue(a).set(s)}),this.resolveNoneKeyframes()}}function dg(m){let C;return()=>(C===void 0&&(C=m()),C)}let Uo;function TT(){Uo=void 0}const Gi={now:()=>(Uo===void 0&&Gi.set(Ee.isProcessing||Y1.useManualTiming?Ee.timestamp:performance.now()),Uo),set:m=>{Uo=m,queueMicrotask(TT)}},op=(m,C)=>C==="zIndex"?!1:!!(typeof m=="number"||Array.isArray(m)||typeof m=="string"&&(Bn.test(m)||m==="0")&&!m.startsWith("url("));function ST(m){const C=m[0];if(m.length===1)return!0;for(let l=0;l<m.length;l++)if(m[l]!==C)return!0}function ET(m,C,l,g){const t=m[0];if(t===null)return!1;if(C==="display"||C==="visibility")return!0;const e=m[m.length-1],h=op(t,C),r=op(e,C);return!h||!r?!1:ST(m)||l==="spring"&&g}const CT=40;class cg{constructor({autoplay:C=!0,delay:l=0,type:g="keyframes",repeat:t=0,repeatDelay:e=0,repeatType:h="loop",...r}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gi.now(),this.options={autoplay:C,delay:l,type:g,repeat:t,repeatDelay:e,repeatType:h,...r},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CT?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sT(),this._resolved}onKeyframesResolved(C,l){this.resolvedAt=Gi.now(),this.hasAttemptedResolve=!0;const{name:g,type:t,velocity:e,delay:h,onComplete:r,onUpdate:a,isGenerator:s}=this.options;if(!s&&!ET(C,g,t,e))if(h)this.options.duration=0;else{a==null||a(fl(C,this.options,l)),r==null||r(),this.resolveFinishedPromise();return}const i=this.initPlayback(C,l);i!==!1&&(this._resolved={keyframes:C,finalKeyframe:l,...i},this.onPostResolved())}onPostResolved(){}then(C,l){return this.currentFinishedPromise.then(C,l)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(C=>{this.resolveFinishedPromise=C})}}function vg(m,C){return C?m*(1e3/C):0}const AT=5;function pg(m,C,l){const g=Math.max(C-AT,0);return vg(l-m(g),C-g)}const lp=.001,PT=.01,MT=10,RT=.05,LT=1;function OT({duration:m=800,bounce:C=.25,velocity:l=0,mass:g=1}){let t,e,h=1-C;h=In(RT,LT,h),m=In(PT,MT,tn(m)),h<1?(t=s=>{const i=s*h,n=i*m,f=i-l,o=kh(s,h),u=Math.exp(-n);return lp-f/o*u},e=s=>{const n=s*h*m,f=n*l+l,o=Math.pow(h,2)*Math.pow(s,2)*m,u=Math.exp(-n),d=kh(Math.pow(s,2),h);return(-t(s)+lp>0?-1:1)*((f-o)*u)/d}):(t=s=>{const i=Math.exp(-s*m),n=(s-l)*m+1;return-.001+i*n},e=s=>{const i=Math.exp(-s*m),n=(l-s)*(m*m);return i*n});const r=5/m,a=DT(t,e,r);if(m=_i(m),isNaN(a))return{stiffness:100,damping:10,duration:m};{const s=Math.pow(a,2)*g;return{stiffness:s,damping:h*2*Math.sqrt(g*s),duration:m}}}const FT=12;function DT(m,C,l){let g=l;for(let t=1;t<FT;t++)g=g-m(g)/C(g);return g}function kh(m,C){return m*Math.sqrt(1-C*C)}const IT=["duration","bounce"],BT=["stiffness","damping","mass"];function up(m,C){return C.some(l=>m[l]!==void 0)}function NT(m){let C={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...m};if(!up(m,BT)&&up(m,IT)){const l=OT(m);C={...C,...l,mass:1},C.isResolvedFromDuration=!0}return C}function mg({keyframes:m,restDelta:C,restSpeed:l,...g}){const t=m[0],e=m[m.length-1],h={done:!1,value:t},{stiffness:r,damping:a,mass:s,duration:i,velocity:n,isResolvedFromDuration:f}=NT({...g,velocity:-tn(g.velocity||0)}),o=n||0,u=a/(2*Math.sqrt(r*s)),d=e-t,c=tn(Math.sqrt(r/s)),v=Math.abs(d)<5;l||(l=v?.01:2),C||(C=v?.005:.5);let p;if(u<1){const x=kh(c,u);p=y=>{const S=Math.exp(-u*c*y);return e-S*((o+u*c*d)/x*Math.sin(x*y)+d*Math.cos(x*y))}}else if(u===1)p=x=>e-Math.exp(-c*x)*(d+(o+c*d)*x);else{const x=c*Math.sqrt(u*u-1);p=y=>{const S=Math.exp(-u*c*y),E=Math.min(x*y,300);return e-S*((o+u*c*d)*Math.sinh(E)+x*d*Math.cosh(E))/x}}return{calculatedDuration:f&&i||null,next:x=>{const y=p(x);if(f)h.done=x>=i;else{let S=0;u<1&&(S=x===0?_i(o):pg(p,x,y));const E=Math.abs(S)<=l,A=Math.abs(e-y)<=C;h.done=E&&A}return h.value=h.done?e:y,h}}}function hp({keyframes:m,velocity:C=0,power:l=.8,timeConstant:g=325,bounceDamping:t=10,bounceStiffness:e=500,modifyTarget:h,min:r,max:a,restDelta:s=.5,restSpeed:i}){const n=m[0],f={done:!1,value:n},o=M=>r!==void 0&&M<r||a!==void 0&&M>a,u=M=>r===void 0?a:a===void 0||Math.abs(r-M)<Math.abs(a-M)?r:a;let d=l*C;const c=n+d,v=h===void 0?c:h(c);v!==c&&(d=v-n);const p=M=>-d*Math.exp(-M/g),x=M=>v+p(M),y=M=>{const L=p(M),F=x(M);f.done=Math.abs(L)<=s,f.value=f.done?v:F};let S,E;const A=M=>{o(f.value)&&(S=M,E=mg({keyframes:[f.value,u(f.value)],velocity:pg(x,M,f.value),damping:t,stiffness:e,restDelta:s,restSpeed:i}))};return A(0),{calculatedDuration:null,next:M=>{let L=!1;return!E&&S===void 0&&(L=!0,y(M),A(M)),S!==void 0&&M>=S?E.next(M-S):(!L&&y(M),f)}}}const gg=(m,C,l)=>(((1-3*l+3*C)*m+(3*l-6*C))*m+3*C)*m,wT=1e-7,GT=12;function VT(m,C,l,g,t){let e,h,r=0;do h=C+(l-C)/2,e=gg(h,g,t)-m,e>0?l=h:C=h;while(Math.abs(e)>wT&&++r<GT);return h}function ca(m,C,l,g){if(m===C&&l===g)return De;const t=e=>VT(e,0,1,m,l);return e=>e===0||e===1?e:gg(t(e),C,g)}const UT=ca(.42,0,1,1),zT=ca(0,0,.58,1),xg=ca(.42,0,.58,1),YT=m=>Array.isArray(m)&&typeof m[0]!="number",yg=m=>C=>C<=.5?m(2*C)/2:(2-m(2*(1-C)))/2,Tg=m=>C=>1-m(1-C),Bf=m=>1-Math.sin(Math.acos(m)),Sg=Tg(Bf),XT=yg(Bf),Eg=ca(.33,1.53,.69,.99),Nf=Tg(Eg),WT=yg(Nf),HT=m=>(m*=2)<1?.5*Nf(m):.5*(2-Math.pow(2,-10*(m-1))),fp={linear:De,easeIn:UT,easeInOut:xg,easeOut:zT,circIn:Bf,circInOut:XT,circOut:Sg,backIn:Nf,backInOut:WT,backOut:Eg,anticipate:HT},dp=m=>{if(Array.isArray(m)){bh(m.length===4);const[C,l,g,t]=m;return ca(C,l,g,t)}else if(typeof m=="string")return bh(fp[m]!==void 0),fp[m];return m},jT=(m,C)=>l=>C(m(l)),en=(...m)=>m.reduce(jT),ra=(m,C,l)=>{const g=C-m;return g===0?1:(l-m)/g},re=(m,C,l)=>m+(C-m)*l;function yh(m,C,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?m+(C-m)*6*l:l<1/2?C:l<2/3?m+(C-m)*(2/3-l)*6:m}function KT({hue:m,saturation:C,lightness:l,alpha:g}){m/=360,C/=100,l/=100;let t=0,e=0,h=0;if(!C)t=e=h=l;else{const r=l<.5?l*(1+C):l+C-l*C,a=2*l-r;t=yh(a,r,m+1/3),e=yh(a,r,m),h=yh(a,r,m-1/3)}return{red:Math.round(t*255),green:Math.round(e*255),blue:Math.round(h*255),alpha:g}}function jo(m,C){return l=>l>0?C:m}const Th=(m,C,l)=>{const g=m*m,t=l*(C*C-g)+g;return t<0?0:Math.sqrt(t)},bT=[Qh,er,Wr],ZT=m=>bT.find(C=>C.test(m));function cp(m){const C=ZT(m);if(!C)return!1;let l=C.parse(m);return C===Wr&&(l=KT(l)),l}const vp=(m,C)=>{const l=cp(m),g=cp(C);if(!l||!g)return jo(m,C);const t={...l};return e=>(t.red=Th(l.red,g.red,e),t.green=Th(l.green,g.green,e),t.blue=Th(l.blue,g.blue,e),t.alpha=re(l.alpha,g.alpha,e),er.transform(t))},qh=new Set(["none","hidden"]);function $T(m,C){return qh.has(m)?l=>l<=0?m:C:l=>l>=1?C:m}function QT(m,C){return l=>re(m,C,l)}function wf(m){return typeof m=="number"?QT:typeof m=="string"?Rf(m)?jo:Oe.test(m)?vp:qT:Array.isArray(m)?Cg:typeof m=="object"?Oe.test(m)?vp:JT:jo}function Cg(m,C){const l=[...m],g=l.length,t=m.map((e,h)=>wf(e)(e,C[h]));return e=>{for(let h=0;h<g;h++)l[h]=t[h](e);return l}}function JT(m,C){const l={...m,...C},g={};for(const t in l)m[t]!==void 0&&C[t]!==void 0&&(g[t]=wf(m[t])(m[t],C[t]));return t=>{for(const e in g)l[e]=g[e](t);return l}}function kT(m,C){var l;const g=[],t={color:0,var:0,number:0};for(let e=0;e<C.values.length;e++){const h=C.types[e],r=m.indexes[h][t[h]],a=(l=m.values[r])!==null&&l!==void 0?l:0;g[e]=a,t[h]++}return g}const qT=(m,C)=>{const l=Bn.createTransformer(C),g=na(m),t=na(C);return g.indexes.var.length===t.indexes.var.length&&g.indexes.color.length===t.indexes.color.length&&g.indexes.number.length>=t.indexes.number.length?qh.has(m)&&!t.values.length||qh.has(C)&&!g.values.length?$T(m,C):en(Cg(kT(g,t),t.values),l):jo(m,C)};function Ag(m,C,l){return typeof m=="number"&&typeof C=="number"&&typeof l=="number"?re(m,C,l):wf(m)(m,C)}function _T(m,C,l){const g=[],t=l||Ag,e=m.length-1;for(let h=0;h<e;h++){let r=t(m[h],m[h+1]);if(C){const a=Array.isArray(C)?C[h]||De:C;r=en(a,r)}g.push(r)}return g}function t2(m,C,{clamp:l=!0,ease:g,mixer:t}={}){const e=m.length;if(bh(e===C.length),e===1)return()=>C[0];if(e===2&&m[0]===m[1])return()=>C[1];m[0]>m[e-1]&&(m=[...m].reverse(),C=[...C].reverse());const h=_T(C,g,t),r=h.length,a=s=>{let i=0;if(r>1)for(;i<m.length-2&&!(s<m[i+1]);i++);const n=ra(m[i],m[i+1],s);return h[i](n)};return l?s=>a(In(m[0],m[e-1],s)):a}function e2(m,C){const l=m[m.length-1];for(let g=1;g<=C;g++){const t=ra(0,C,g);m.push(re(l,1,t))}}function i2(m){const C=[0];return e2(C,m.length-1),C}function n2(m,C){return m.map(l=>l*C)}function r2(m,C){return m.map(()=>C||xg).splice(0,m.length-1)}function Ko({duration:m=300,keyframes:C,times:l,ease:g="easeInOut"}){const t=YT(g)?g.map(dp):dp(g),e={done:!1,value:C[0]},h=n2(l&&l.length===C.length?l:i2(C),m),r=t2(h,C,{ease:Array.isArray(t)?t:r2(C,t)});return{calculatedDuration:m,next:a=>(e.value=r(a),e.done=a>=m,e)}}const pp=2e4;function s2(m){let C=0;const l=50;let g=m.next(C);for(;!g.done&&C<pp;)C+=l,g=m.next(C);return C>=pp?1/0:C}const a2=m=>{const C=({timestamp:l})=>m(l);return{start:()=>Kt.update(C,!0),stop:()=>an(C),now:()=>Ee.isProcessing?Ee.timestamp:Gi.now()}},o2={decay:hp,inertia:hp,tween:Ko,keyframes:Ko,spring:mg},l2=m=>m/100;class Gf extends cg{constructor(C){super(C),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:l,motionValue:g,element:t,keyframes:e}=this.options,h=(t==null?void 0:t.KeyframeResolver)||Of,r=(a,s)=>this.onKeyframesResolved(a,s);this.resolver=new h(e,r,l,g,t),this.resolver.scheduleResolve()}initPlayback(C){const{type:l="keyframes",repeat:g=0,repeatDelay:t=0,repeatType:e,velocity:h=0}=this.options,r=o2[l]||Ko;let a,s;r!==Ko&&typeof C[0]!="number"&&(a=en(l2,Ag(C[0],C[1])),C=[0,100]);const i=r({...this.options,keyframes:C});e==="mirror"&&(s=r({...this.options,keyframes:[...C].reverse(),velocity:-h})),i.calculatedDuration===null&&(i.calculatedDuration=s2(i));const{calculatedDuration:n}=i,f=n+t,o=f*(g+1)-t;return{generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,calculatedDuration:n,resolvedDuration:f,totalDuration:o}}onPostResolved(){const{autoplay:C=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!C?this.pause():this.state=this.pendingPlayState}tick(C,l=!1){const{resolved:g}=this;if(!g){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:t,generator:e,mirroredGenerator:h,mapPercentToKeyframes:r,keyframes:a,calculatedDuration:s,totalDuration:i,resolvedDuration:n}=g;if(this.startTime===null)return e.next(0);const{delay:f,repeat:o,repeatType:u,repeatDelay:d,onUpdate:c}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,C):this.speed<0&&(this.startTime=Math.min(C-i/this.speed,this.startTime)),l?this.currentTime=C:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(C-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,y=e;if(o){const M=Math.min(this.currentTime,i)/n;let L=Math.floor(M),F=M%1;!F&&M>=1&&(F=1),F===1&&L--,L=Math.min(L,o+1),!!(L%2)&&(u==="reverse"?(F=1-F,d&&(F-=d/n)):u==="mirror"&&(y=h)),x=In(0,1,F)*n}const S=p?{done:!1,value:a[0]}:y.next(x);r&&(S.value=r(S.value));let{done:E}=S;!p&&s!==null&&(E=this.speed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return A&&t!==void 0&&(S.value=fl(a,this.options,t)),c&&c(S.value),A&&this.finish(),S}get duration(){const{resolved:C}=this;return C?tn(C.calculatedDuration):0}get time(){return tn(this.currentTime)}set time(C){C=_i(C),this.currentTime=C,this.holdTime!==null||this.speed===0?this.holdTime=C:this.driver&&(this.startTime=this.driver.now()-C/this.speed)}get speed(){return this.playbackSpeed}set speed(C){const l=this.playbackSpeed!==C;this.playbackSpeed=C,l&&(this.time=tn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:C=a2,onPlay:l,startTime:g}=this.options;this.driver||(this.driver=C(e=>this.tick(e))),l&&l();const t=this.driver.now();this.holdTime!==null?this.startTime=t-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=t):this.startTime=g??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var C;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(C=this.currentTime)!==null&&C!==void 0?C:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:C}=this.options;C&&C()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(C){return this.startTime=0,this.tick(C,!0)}}const Pg=new Set(["opacity","clipPath","filter","transform"]),Mg=m=>Array.isArray(m)&&typeof m[0]=="number";function Rg(m){return!!(!m||typeof m=="string"&&m in Vf||Mg(m)||Array.isArray(m)&&m.every(Rg))}const bs=([m,C,l,g])=>`cubic-bezier(${m}, ${C}, ${l}, ${g})`,Vf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bs([0,.65,.55,1]),circOut:bs([.55,0,1,.45]),backIn:bs([.31,.01,.66,-.59]),backOut:bs([.33,1.53,.69,.99])};function u2(m){return Lg(m)||Vf.easeOut}function Lg(m){if(m)return Mg(m)?bs(m):Array.isArray(m)?m.map(u2):Vf[m]}function h2(m,C,l,{delay:g=0,duration:t=300,repeat:e=0,repeatType:h="loop",ease:r,times:a}={}){const s={[C]:l};a&&(s.offset=a);const i=Lg(r);return Array.isArray(i)&&(s.easing=i),m.animate(s,{delay:g,duration:t,easing:Array.isArray(i)?"linear":i,fill:"both",iterations:e+1,direction:h==="reverse"?"alternate":"normal"})}const f2=dg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bo=10,d2=2e4;function c2(m){return m.type==="spring"||!Rg(m.ease)}function v2(m,C){const l=new Gf({...C,keyframes:m,repeat:0,delay:0,isGenerator:!0});let g={done:!1,value:m[0]};const t=[];let e=0;for(;!g.done&&e<d2;)g=l.sample(e),t.push(g.value),e+=bo;return{times:void 0,keyframes:t,duration:e-bo,ease:"linear"}}class mp extends cg{constructor(C){super(C);const{name:l,motionValue:g,element:t,keyframes:e}=this.options;this.resolver=new fg(e,(h,r)=>this.onKeyframesResolved(h,r),l,g,t),this.resolver.scheduleResolve()}initPlayback(C,l){var g;let{duration:t=300,times:e,ease:h,type:r,motionValue:a,name:s,startTime:i}=this.options;if(!(!((g=a.owner)===null||g===void 0)&&g.current))return!1;if(c2(this.options)){const{onComplete:f,onUpdate:o,motionValue:u,element:d,...c}=this.options,v=v2(C,c);C=v.keyframes,C.length===1&&(C[1]=C[0]),t=v.duration,e=v.times,h=v.ease,r="keyframes"}const n=h2(a.owner.current,s,C,{...this.options,duration:t,times:e,ease:h});return n.startTime=i??this.calcStartTime(),this.pendingTimeline?(n.timeline=this.pendingTimeline,this.pendingTimeline=void 0):n.onfinish=()=>{const{onComplete:f}=this.options;a.set(fl(C,this.options,l)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:n,duration:t,times:e,type:r,ease:h,keyframes:C}}get duration(){const{resolved:C}=this;if(!C)return 0;const{duration:l}=C;return tn(l)}get time(){const{resolved:C}=this;if(!C)return 0;const{animation:l}=C;return tn(l.currentTime||0)}set time(C){const{resolved:l}=this;if(!l)return;const{animation:g}=l;g.currentTime=_i(C)}get speed(){const{resolved:C}=this;if(!C)return 1;const{animation:l}=C;return l.playbackRate}set speed(C){const{resolved:l}=this;if(!l)return;const{animation:g}=l;g.playbackRate=C}get state(){const{resolved:C}=this;if(!C)return"idle";const{animation:l}=C;return l.playState}get startTime(){const{resolved:C}=this;if(!C)return null;const{animation:l}=C;return l.startTime}attachTimeline(C){if(!this._resolved)this.pendingTimeline=C;else{const{resolved:l}=this;if(!l)return De;const{animation:g}=l;g.timeline=C,g.onfinish=null}return De}play(){if(this.isStopped)return;const{resolved:C}=this;if(!C)return;const{animation:l}=C;l.playState==="finished"&&this.updateFinishedPromise(),l.play()}pause(){const{resolved:C}=this;if(!C)return;const{animation:l}=C;l.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:C}=this;if(!C)return;const{animation:l,keyframes:g,duration:t,type:e,ease:h,times:r}=C;if(l.playState==="idle"||l.playState==="finished")return;if(this.time){const{motionValue:s,onUpdate:i,onComplete:n,element:f,...o}=this.options,u=new Gf({...o,keyframes:g,duration:t,type:e,ease:h,times:r,isGenerator:!0}),d=_i(this.time);s.setWithVelocity(u.sample(d-bo).value,u.sample(d).value,bo)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:C}=this;C&&C.animation.finish()}cancel(){const{resolved:C}=this;C&&C.animation.cancel()}static supports(C){const{motionValue:l,name:g,repeatDelay:t,repeatType:e,damping:h,type:r}=C;return f2()&&g&&Pg.has(g)&&l&&l.owner&&l.owner.current instanceof HTMLElement&&!l.owner.getProps().onUpdate&&!t&&e!=="mirror"&&h!==0&&r!=="inertia"}}function p2(m,C){let l;const g=()=>{const{currentTime:t}=C,h=(t===null?0:t.value)/100;l!==h&&m(h),l=h};return Kt.update(g,!0),()=>an(g)}const m2=dg(()=>window.ScrollTimeline!==void 0);class g2{constructor(C){this.stop=()=>this.runAll("stop"),this.animations=C.filter(Boolean)}then(C,l){return Promise.all(this.animations).then(C).catch(l)}getAll(C){return this.animations[0][C]}setAll(C,l){for(let g=0;g<this.animations.length;g++)this.animations[g][C]=l}attachTimeline(C){const l=this.animations.map(g=>{if(m2()&&g.attachTimeline)g.attachTimeline(C);else return g.pause(),p2(t=>{g.time=g.duration*t},C)});return()=>{l.forEach((g,t)=>{g&&g(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(C){this.setAll("time",C)}get speed(){return this.getAll("speed")}set speed(C){this.setAll("speed",C)}get startTime(){return this.getAll("startTime")}get duration(){let C=0;for(let l=0;l<this.animations.length;l++)C=Math.max(C,this.animations[l].duration);return C}runAll(C){this.animations.forEach(l=>l[C]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Uf=(m,C,l,g={},t,e,h)=>r=>{const a=Mf(g,m)||{},s=a.delay||g.delay||0;let{elapsed:i=0}=g;i=i-_i(s);let n={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:C.getVelocity(),...a,delay:-i,onUpdate:o=>{C.set(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{r(),a.onComplete&&a.onComplete(),h&&h()},onStop:h,name:m,motionValue:C,element:e?void 0:t};z1(a)||(n={...n,...U1(m,n)}),n.duration&&(n.duration=_i(n.duration)),n.repeatDelay&&(n.repeatDelay=_i(n.repeatDelay)),n.from!==void 0&&(n.keyframes[0]=n.from);let f=!1;if((n.type===!1||n.duration===0&&!n.repeatDelay)&&(n.duration=0,n.delay===0&&(f=!0)),f&&!e&&C.get()!==void 0){const o=fl(n.keyframes,a);if(o!==void 0)return Kt.update(()=>{n.onUpdate(o),n.onComplete()}),new g2([])}return!e&&mp.supports(n)?new mp(n):new Gf(n)},x2=m=>!!(m&&typeof m=="object"&&m.mix&&m.toValue),y2=m=>Kh(m)?m[m.length-1]||0:m;function dl(m,C){m.indexOf(C)===-1&&m.push(C)}function cl(m,C){const l=m.indexOf(C);l>-1&&m.splice(l,1)}class zf{constructor(){this.subscriptions=[]}add(C){return dl(this.subscriptions,C),()=>cl(this.subscriptions,C)}notify(C,l,g){const t=this.subscriptions.length;if(t)if(t===1)this.subscriptions[0](C,l,g);else for(let e=0;e<t;e++){const h=this.subscriptions[e];h&&h(C,l,g)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gp=30,T2=m=>!isNaN(parseFloat(m));class Og{constructor(C,l={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(g,t=!0)=>{const e=Gi.now();this.updatedAt!==e&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(g),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(C),this.owner=l.owner}setCurrent(C){this.current=C,this.updatedAt=Gi.now(),this.canTrackVelocity===null&&C!==void 0&&(this.canTrackVelocity=T2(this.current))}setPrevFrameValue(C=this.current){this.prevFrameValue=C,this.prevUpdatedAt=this.updatedAt}onChange(C){return this.on("change",C)}on(C,l){this.events[C]||(this.events[C]=new zf);const g=this.events[C].add(l);return C==="change"?()=>{g(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:g}clearListeners(){for(const C in this.events)this.events[C].clear()}attach(C,l){this.passiveEffect=C,this.stopPassiveEffect=l}set(C,l=!0){!l||!this.passiveEffect?this.updateAndNotify(C,l):this.passiveEffect(C,this.updateAndNotify)}setWithVelocity(C,l,g){this.set(l),this.prev=void 0,this.prevFrameValue=C,this.prevUpdatedAt=this.updatedAt-g}jump(C,l=!0){this.updateAndNotify(C),this.prev=C,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const C=Gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||C-this.updatedAt>gp)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,gp);return vg(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(C){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=C(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sa(m,C){return new Og(m,C)}function S2(m,C,l){m.hasValue(C)?m.getValue(C).set(l):m.addValue(C,sa(l))}function E2(m,C){const l=hl(m,C);let{transitionEnd:g={},transition:t={},...e}=l||{};e={...e,...g};for(const h in e){const r=y2(e[h]);S2(m,h,r)}}const vl=m=>m.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C2="framerAppearId",Fg="data-"+vl(C2);function Dg(m){return m.props[Fg]}function Ig(m){if(wn.has(m))return"transform";if(Pg.has(m))return vl(m)}class A2 extends Og{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(C){const l=Ig(C);if(!l)return;const g=this.counts.get(l)||0;this.counts.set(l,g+1),g===0&&(this.output.push(l),this.update());let t=!1;return()=>{if(t)return;t=!0;const e=this.counts.get(l)-1;this.counts.set(l,e),e===0&&(cl(this.output,l),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Fe=m=>!!(m&&m.getVelocity);function P2(m){return!!(Fe(m)&&m.add)}function _h(m,C){var l;if(!m.applyWillChange)return;let g=m.getValue("willChange");if(!g&&!(!((l=m.props.style)===null||l===void 0)&&l.willChange)&&(g=new A2("auto"),m.addValue("willChange",g)),P2(g))return g.add(C)}function M2({protectedKeys:m,needsAnimating:C},l){const g=m.hasOwnProperty(l)&&C[l]!==!0;return C[l]=!1,g}function Bg(m,C,{delay:l=0,transitionOverride:g,type:t}={}){var e;let{transition:h=m.getDefaultTransition(),transitionEnd:r,...a}=C;g&&(h=g);const s=[],i=t&&m.animationState&&m.animationState.getState()[t];for(const n in a){const f=m.getValue(n,(e=m.latestValues[n])!==null&&e!==void 0?e:null),o=a[n];if(o===void 0||i&&M2(i,n))continue;const u={delay:l,...Mf(h||{},n)};let d=!1;if(window.MotionHandoffAnimation){const v=Dg(m);if(v){const p=window.MotionHandoffAnimation(v,n,Kt);p!==null&&(u.startTime=p,d=!0)}}f.start(Uf(n,f,o,m.shouldReduceMotion&&wn.has(n)?{type:!1}:u,m,d,_h(m,n)));const c=f.animation;c&&s.push(c)}return r&&Promise.all(s).then(()=>{Kt.update(()=>{r&&E2(m,r)})}),s}function tf(m,C,l={}){var g;const t=hl(m,C,l.type==="exit"?(g=m.presenceContext)===null||g===void 0?void 0:g.custom:void 0);let{transition:e=m.getDefaultTransition()||{}}=t||{};l.transitionOverride&&(e=l.transitionOverride);const h=t?()=>Promise.all(Bg(m,t,l)):()=>Promise.resolve(),r=m.variantChildren&&m.variantChildren.size?(s=0)=>{const{delayChildren:i=0,staggerChildren:n,staggerDirection:f}=e;return R2(m,C,i+s,n,f,l)}:()=>Promise.resolve(),{when:a}=e;if(a){const[s,i]=a==="beforeChildren"?[h,r]:[r,h];return s().then(()=>i())}else return Promise.all([h(),r(l.delay)])}function R2(m,C,l=0,g=0,t=1,e){const h=[],r=(m.variantChildren.size-1)*g,a=t===1?(s=0)=>s*g:(s=0)=>r-s*g;return Array.from(m.variantChildren).sort(L2).forEach((s,i)=>{s.notify("AnimationStart",C),h.push(tf(s,C,{...e,delay:l+a(i)}).then(()=>s.notify("AnimationComplete",C)))}),Promise.all(h)}function L2(m,C){return m.sortNodePosition(C)}function O2(m,C,l={}){m.notify("AnimationStart",C);let g;if(Array.isArray(C)){const t=C.map(e=>tf(m,e,l));g=Promise.all(t)}else if(typeof C=="string")g=tf(m,C,l);else{const t=typeof C=="function"?hl(m,C,l.custom):C;g=Promise.all(Bg(m,t,l))}return g.then(()=>{m.notify("AnimationComplete",C)})}const F2=Pf.length;function Ng(m){if(!m)return;if(!m.isControllingVariants){const l=m.parent?Ng(m.parent)||{}:{};return m.props.initial!==void 0&&(l.initial=m.props.initial),l}const C={};for(let l=0;l<F2;l++){const g=Pf[l],t=m.props[g];(ia(t)||t===!1)&&(C[g]=t)}return C}const D2=[...Af].reverse(),I2=Af.length;function B2(m){return C=>Promise.all(C.map(({animation:l,options:g})=>O2(m,l,g)))}function N2(m){let C=B2(m),l=xp(),g=!0;const t=a=>(s,i)=>{var n;const f=hl(m,i,a==="exit"?(n=m.presenceContext)===null||n===void 0?void 0:n.custom:void 0);if(f){const{transition:o,transitionEnd:u,...d}=f;s={...s,...d,...u}}return s};function e(a){C=a(m)}function h(a){const{props:s}=m,i=Ng(m.parent)||{},n=[],f=new Set;let o={},u=1/0;for(let c=0;c<I2;c++){const v=D2[c],p=l[v],x=s[v]!==void 0?s[v]:i[v],y=ia(x),S=v===a?p.isActive:null;S===!1&&(u=c);let E=x===i[v]&&x!==s[v]&&y;if(E&&g&&m.manuallyAnimateOnMount&&(E=!1),p.protectedKeys={...o},!p.isActive&&S===null||!x&&!p.prevProp||ea(x)||typeof x=="boolean")continue;const A=w2(p.prevProp,x);let M=A||v===a&&p.isActive&&!E&&y||c>u&&y,L=!1;const F=Array.isArray(x)?x:[x];let O=F.reduce(t(v),{});S===!1&&(O={});const{prevResolvedValues:B={}}=p,N={...B,...O},G=b=>{M=!0,f.has(b)&&(L=!0,f.delete(b)),p.needsAnimating[b]=!0;const Z=m.getValue(b);Z&&(Z.liveStyle=!1)};for(const b in N){const Z=O[b],$=B[b];if(o.hasOwnProperty(b))continue;let w=!1;Kh(Z)&&Kh($)?w=!$m(Z,$):w=Z!==$,w?Z!=null?G(b):f.add(b):Z!==void 0&&f.has(b)?G(b):p.protectedKeys[b]=!0}p.prevProp=x,p.prevResolvedValues=O,p.isActive&&(o={...o,...O}),g&&m.blockInitialAnimation&&(M=!1),M&&(!(E&&A)||L)&&n.push(...F.map(b=>({animation:b,options:{type:v}})))}if(f.size){const c={};f.forEach(v=>{const p=m.getBaseTarget(v),x=m.getValue(v);x&&(x.liveStyle=!0),c[v]=p??null}),n.push({animation:c})}let d=!!n.length;return g&&(s.initial===!1||s.initial===s.animate)&&!m.manuallyAnimateOnMount&&(d=!1),g=!1,d?C(n):Promise.resolve()}function r(a,s){var i;if(l[a].isActive===s)return Promise.resolve();(i=m.variantChildren)===null||i===void 0||i.forEach(f=>{var o;return(o=f.animationState)===null||o===void 0?void 0:o.setActive(a,s)}),l[a].isActive=s;const n=h(a);for(const f in l)l[f].protectedKeys={};return n}return{animateChanges:h,setActive:r,setAnimateFunction:e,getState:()=>l,reset:()=>{l=xp(),g=!0}}}function w2(m,C){return typeof C=="string"?C!==m:Array.isArray(C)?!$m(C,m):!1}function qn(m=!1){return{isActive:m,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xp(){return{animate:qn(!0),whileInView:qn(),whileHover:qn(),whileTap:qn(),whileDrag:qn(),whileFocus:qn(),exit:qn()}}class Gn{constructor(C){this.isMounted=!1,this.node=C}update(){}}class G2 extends Gn{constructor(C){super(C),C.animationState||(C.animationState=N2(C))}updateAnimationControlsSubscription(){const{animate:C}=this.node.getProps();ea(C)&&(this.unmountControls=C.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:C}=this.node.getProps(),{animate:l}=this.node.prevProps||{};C!==l&&this.updateAnimationControlsSubscription()}unmount(){var C;this.node.animationState.reset(),(C=this.unmountControls)===null||C===void 0||C.call(this)}}let V2=0;class U2 extends Gn{constructor(){super(...arguments),this.id=V2++}update(){if(!this.node.presenceContext)return;const{isPresent:C,onExitComplete:l}=this.node.presenceContext,{isPresent:g}=this.node.prevPresenceContext||{};if(!this.node.animationState||C===g)return;const t=this.node.animationState.setActive("exit",!C);l&&!C&&t.then(()=>l(this.id))}mount(){const{register:C}=this.node.presenceContext||{};C&&(this.unmount=C(this.id))}unmount(){}}const z2={animation:{Feature:G2},exit:{Feature:U2}},wg=m=>m.pointerType==="mouse"?typeof m.button!="number"||m.button<=0:m.isPrimary!==!1;function pl(m,C="page"){return{point:{x:m[`${C}X`],y:m[`${C}Y`]}}}const Y2=m=>C=>wg(C)&&m(C,pl(C));function qi(m,C,l,g={passive:!0}){return m.addEventListener(C,l,g),()=>m.removeEventListener(C,l)}function nn(m,C,l,g){return qi(m,C,Y2(l),g)}const yp=(m,C)=>Math.abs(m-C);function X2(m,C){const l=yp(m.x,C.x),g=yp(m.y,C.y);return Math.sqrt(l**2+g**2)}class Gg{constructor(C,l,{transformPagePoint:g,contextWindow:t,dragSnapToOrigin:e=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const n=Eh(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,o=X2(n.offset,{x:0,y:0})>=3;if(!f&&!o)return;const{point:u}=n,{timestamp:d}=Ee;this.history.push({...u,timestamp:d});const{onStart:c,onMove:v}=this.handlers;f||(c&&c(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,n)},this.handlePointerMove=(n,f)=>{this.lastMoveEvent=n,this.lastMoveEventInfo=Sh(f,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(n,f)=>{this.end();const{onEnd:o,onSessionEnd:u,resumeAnimation:d}=this.handlers;if(this.dragSnapToOrigin&&d&&d(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Eh(n.type==="pointercancel"?this.lastMoveEventInfo:Sh(f,this.transformPagePoint),this.history);this.startEvent&&o&&o(n,c),u&&u(n,c)},!wg(C))return;this.dragSnapToOrigin=e,this.handlers=l,this.transformPagePoint=g,this.contextWindow=t||window;const h=pl(C),r=Sh(h,this.transformPagePoint),{point:a}=r,{timestamp:s}=Ee;this.history=[{...a,timestamp:s}];const{onSessionStart:i}=l;i&&i(C,Eh(r,this.history)),this.removeListeners=en(nn(this.contextWindow,"pointermove",this.handlePointerMove),nn(this.contextWindow,"pointerup",this.handlePointerUp),nn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(C){this.handlers=C}end(){this.removeListeners&&this.removeListeners(),an(this.updatePoint)}}function Sh(m,C){return C?{point:C(m.point)}:m}function Tp(m,C){return{x:m.x-C.x,y:m.y-C.y}}function Eh({point:m},C){return{point:m,delta:Tp(m,Vg(C)),offset:Tp(m,W2(C)),velocity:H2(C,.1)}}function W2(m){return m[0]}function Vg(m){return m[m.length-1]}function H2(m,C){if(m.length<2)return{x:0,y:0};let l=m.length-1,g=null;const t=Vg(m);for(;l>=0&&(g=m[l],!(t.timestamp-g.timestamp>_i(C)));)l--;if(!g)return{x:0,y:0};const e=tn(t.timestamp-g.timestamp);if(e===0)return{x:0,y:0};const h={x:(t.x-g.x)/e,y:(t.y-g.y)/e};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function Ug(m){let C=null;return()=>{const l=()=>{C=null};return C===null?(C=m,l):!1}}const Sp=Ug("dragHorizontal"),Ep=Ug("dragVertical");function zg(m){let C=!1;if(m==="y")C=Ep();else if(m==="x")C=Sp();else{const l=Sp(),g=Ep();l&&g?C=()=>{l(),g()}:(l&&l(),g&&g())}return C}function Yg(){const m=zg(!0);return m?(m(),!1):!0}function Hr(m){return m&&typeof m=="object"&&Object.prototype.hasOwnProperty.call(m,"current")}const Xg=1e-4,j2=1-Xg,K2=1+Xg,Wg=.01,b2=0-Wg,Z2=0+Wg;function ke(m){return m.max-m.min}function $2(m,C,l){return Math.abs(m-C)<=l}function Cp(m,C,l,g=.5){m.origin=g,m.originPoint=re(C.min,C.max,m.origin),m.scale=ke(l)/ke(C),m.translate=re(l.min,l.max,m.origin)-m.originPoint,(m.scale>=j2&&m.scale<=K2||isNaN(m.scale))&&(m.scale=1),(m.translate>=b2&&m.translate<=Z2||isNaN(m.translate))&&(m.translate=0)}function ks(m,C,l,g){Cp(m.x,C.x,l.x,g?g.originX:void 0),Cp(m.y,C.y,l.y,g?g.originY:void 0)}function Ap(m,C,l){m.min=l.min+C.min,m.max=m.min+ke(C)}function Q2(m,C,l){Ap(m.x,C.x,l.x),Ap(m.y,C.y,l.y)}function Pp(m,C,l){m.min=C.min-l.min,m.max=m.min+ke(C)}function qs(m,C,l){Pp(m.x,C.x,l.x),Pp(m.y,C.y,l.y)}function J2(m,{min:C,max:l},g){return C!==void 0&&m<C?m=g?re(C,m,g.min):Math.max(m,C):l!==void 0&&m>l&&(m=g?re(l,m,g.max):Math.min(m,l)),m}function Mp(m,C,l){return{min:C!==void 0?m.min+C:void 0,max:l!==void 0?m.max+l-(m.max-m.min):void 0}}function k2(m,{top:C,left:l,bottom:g,right:t}){return{x:Mp(m.x,l,t),y:Mp(m.y,C,g)}}function Rp(m,C){let l=C.min-m.min,g=C.max-m.max;return C.max-C.min<m.max-m.min&&([l,g]=[g,l]),{min:l,max:g}}function q2(m,C){return{x:Rp(m.x,C.x),y:Rp(m.y,C.y)}}function _2(m,C){let l=.5;const g=ke(m),t=ke(C);return t>g?l=ra(C.min,C.max-g,m.min):g>t&&(l=ra(m.min,m.max-t,C.min)),In(0,1,l)}function tS(m,C){const l={};return C.min!==void 0&&(l.min=C.min-m.min),C.max!==void 0&&(l.max=C.max-m.min),l}const ef=.35;function eS(m=ef){return m===!1?m=0:m===!0&&(m=ef),{x:Lp(m,"left","right"),y:Lp(m,"top","bottom")}}function Lp(m,C,l){return{min:Op(m,C),max:Op(m,l)}}function Op(m,C){return typeof m=="number"?m:m[C]||0}const Fp=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:Fp(),y:Fp()}),Dp=()=>({min:0,max:0}),le=()=>({x:Dp(),y:Dp()});function li(m){return[m("x"),m("y")]}function Hg({top:m,left:C,right:l,bottom:g}){return{x:{min:C,max:l},y:{min:m,max:g}}}function iS({x:m,y:C}){return{top:C.min,right:m.max,bottom:C.max,left:m.min}}function nS(m,C){if(!C)return m;const l=C({x:m.left,y:m.top}),g=C({x:m.right,y:m.bottom});return{top:l.y,left:l.x,bottom:g.y,right:g.x}}function Ch(m){return m===void 0||m===1}function nf({scale:m,scaleX:C,scaleY:l}){return!Ch(m)||!Ch(C)||!Ch(l)}function _n(m){return nf(m)||jg(m)||m.z||m.rotate||m.rotateX||m.rotateY||m.skewX||m.skewY}function jg(m){return Ip(m.x)||Ip(m.y)}function Ip(m){return m&&m!=="0%"}function Zo(m,C,l){const g=m-l,t=C*g;return l+t}function Bp(m,C,l,g,t){return t!==void 0&&(m=Zo(m,t,g)),Zo(m,l,g)+C}function rf(m,C=0,l=1,g,t){m.min=Bp(m.min,C,l,g,t),m.max=Bp(m.max,C,l,g,t)}function Kg(m,{x:C,y:l}){rf(m.x,C.translate,C.scale,C.originPoint),rf(m.y,l.translate,l.scale,l.originPoint)}const Np=.999999999999,wp=1.0000000000001;function rS(m,C,l,g=!1){const t=l.length;if(!t)return;C.x=C.y=1;let e,h;for(let r=0;r<t;r++){e=l[r],h=e.projectionDelta;const{visualElement:a}=e.options;a&&a.props.style&&a.props.style.display==="contents"||(g&&e.options.layoutScroll&&e.scroll&&e!==e.root&&br(m,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),h&&(C.x*=h.x.scale,C.y*=h.y.scale,Kg(m,h)),g&&_n(e.latestValues)&&br(m,e.latestValues))}C.x<wp&&C.x>Np&&(C.x=1),C.y<wp&&C.y>Np&&(C.y=1)}function Kr(m,C){m.min=m.min+C,m.max=m.max+C}function Gp(m,C,l,g,t=.5){const e=re(m.min,m.max,t);rf(m,C,l,e,g)}function br(m,C){Gp(m.x,C.x,C.scaleX,C.scale,C.originX),Gp(m.y,C.y,C.scaleY,C.scale,C.originY)}function bg(m,C){return Hg(nS(m.getBoundingClientRect(),C))}function sS(m,C,l){const g=bg(m,l),{scroll:t}=C;return t&&(Kr(g.x,t.offset.x),Kr(g.y,t.offset.y)),g}const Zg=({current:m})=>m?m.ownerDocument.defaultView:null,aS=new WeakMap;class oS{constructor(C){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.visualElement=C}start(C,{snapToCursor:l=!1}={}){const{presenceContext:g}=this.visualElement;if(g&&g.isPresent===!1)return;const t=i=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(pl(i,"page").point)},e=(i,n)=>{var f;const{drag:o,dragPropagation:u,onDragStart:d}=this.getProps();if(o&&!u&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zg(o),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(v=>{let p=this.getAxisMotionValue(v).get()||0;if(wi.test(p)){const{projection:x}=this.visualElement;if(x&&x.layout){const y=x.layout.layoutBox[v];y&&(p=ke(y)*(parseFloat(p)/100))}}this.originPoint[v]=p}),d&&Kt.postRender(()=>d(i,n)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=_h(this.visualElement,"transform");const{animationState:c}=this.visualElement;c&&c.setActive("whileDrag",!0)},h=(i,n)=>{const{dragPropagation:f,dragDirectionLock:o,onDirectionLock:u,onDrag:d}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:c}=n;if(o&&this.currentDirection===null){this.currentDirection=lS(c),this.currentDirection!==null&&u&&u(this.currentDirection);return}this.updateAxis("x",n.point,c),this.updateAxis("y",n.point,c),this.visualElement.render(),d&&d(i,n)},r=(i,n)=>this.stop(i,n),a=()=>li(i=>{var n;return this.getAnimationState(i)==="paused"&&((n=this.getAxisMotionValue(i).animation)===null||n===void 0?void 0:n.play())}),{dragSnapToOrigin:s}=this.getProps();this.panSession=new Gg(C,{onSessionStart:t,onStart:e,onMove:h,onSessionEnd:r,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:Zg(this.visualElement)})}stop(C,l){var g;(g=this.removeWillChange)===null||g===void 0||g.call(this);const t=this.isDragging;if(this.cancel(),!t)return;const{velocity:e}=l;this.startAnimation(e);const{onDragEnd:h}=this.getProps();h&&Kt.postRender(()=>h(C,l))}cancel(){this.isDragging=!1;const{projection:C,animationState:l}=this.visualElement;C&&(C.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:g}=this.getProps();!g&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(C,l,g){const{drag:t}=this.getProps();if(!g||!Fo(C,t,this.currentDirection))return;const e=this.getAxisMotionValue(C);let h=this.originPoint[C]+g[C];this.constraints&&this.constraints[C]&&(h=J2(h,this.constraints[C],this.elastic[C])),e.set(h)}resolveConstraints(){var C;const{dragConstraints:l,dragElastic:g}=this.getProps(),t=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(C=this.visualElement.projection)===null||C===void 0?void 0:C.layout,e=this.constraints;l&&Hr(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):l&&t?this.constraints=k2(t.layoutBox,l):this.constraints=!1,this.elastic=eS(g),e!==this.constraints&&t&&this.constraints&&!this.hasMutatedConstraints&&li(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=tS(t.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:C,onMeasureDragConstraints:l}=this.getProps();if(!C||!Hr(C))return!1;const g=C.current,{projection:t}=this.visualElement;if(!t||!t.layout)return!1;const e=sS(g,t.root,this.visualElement.getTransformPagePoint());let h=q2(t.layout.layoutBox,e);if(l){const r=l(iS(h));this.hasMutatedConstraints=!!r,r&&(h=Hg(r))}return h}startAnimation(C){const{drag:l,dragMomentum:g,dragElastic:t,dragTransition:e,dragSnapToOrigin:h,onDragTransitionEnd:r}=this.getProps(),a=this.constraints||{},s=li(i=>{if(!Fo(i,l,this.currentDirection))return;let n=a[i]||{};h&&(n={min:0,max:0});const f=t?200:1e6,o=t?40:1e7,u={type:"inertia",velocity:g?C[i]:0,bounceStiffness:f,bounceDamping:o,timeConstant:750,restDelta:1,restSpeed:10,...e,...n};return this.startAxisValueAnimation(i,u)});return Promise.all(s).then(r)}startAxisValueAnimation(C,l){const g=this.getAxisMotionValue(C);return g.start(Uf(C,g,0,l,this.visualElement,!1,_h(this.visualElement,C)))}stopAnimation(){li(C=>this.getAxisMotionValue(C).stop())}pauseAnimation(){li(C=>{var l;return(l=this.getAxisMotionValue(C).animation)===null||l===void 0?void 0:l.pause()})}getAnimationState(C){var l;return(l=this.getAxisMotionValue(C).animation)===null||l===void 0?void 0:l.state}getAxisMotionValue(C){const l=`_drag${C.toUpperCase()}`,g=this.visualElement.getProps(),t=g[l];return t||this.visualElement.getValue(C,(g.initial?g.initial[C]:void 0)||0)}snapToCursor(C){li(l=>{const{drag:g}=this.getProps();if(!Fo(l,g,this.currentDirection))return;const{projection:t}=this.visualElement,e=this.getAxisMotionValue(l);if(t&&t.layout){const{min:h,max:r}=t.layout.layoutBox[l];e.set(C[l]-re(h,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:C,dragConstraints:l}=this.getProps(),{projection:g}=this.visualElement;if(!Hr(l)||!g||!this.constraints)return;this.stopAnimation();const t={x:0,y:0};li(h=>{const r=this.getAxisMotionValue(h);if(r&&this.constraints!==!1){const a=r.get();t[h]=_2({min:a,max:a},this.constraints[h])}});const{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",g.root&&g.root.updateScroll(),g.updateLayout(),this.resolveConstraints(),li(h=>{if(!Fo(h,C,null))return;const r=this.getAxisMotionValue(h),{min:a,max:s}=this.constraints[h];r.set(re(a,s,t[h]))})}addListeners(){if(!this.visualElement.current)return;aS.set(this.visualElement,this);const C=this.visualElement.current,l=nn(C,"pointerdown",a=>{const{drag:s,dragListener:i=!0}=this.getProps();s&&i&&this.start(a)}),g=()=>{const{dragConstraints:a}=this.getProps();Hr(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:t}=this.visualElement,e=t.addEventListener("measure",g);t&&!t.layout&&(t.root&&t.root.updateScroll(),t.updateLayout()),Kt.read(g);const h=qi(window,"resize",()=>this.scalePositionWithinConstraints()),r=t.addEventListener("didUpdate",({delta:a,hasLayoutChanged:s})=>{this.isDragging&&s&&(li(i=>{const n=this.getAxisMotionValue(i);n&&(this.originPoint[i]+=a[i].translate,n.set(n.get()+a[i].translate))}),this.visualElement.render())});return()=>{h(),l(),e(),r&&r()}}getProps(){const C=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:g=!1,dragPropagation:t=!1,dragConstraints:e=!1,dragElastic:h=ef,dragMomentum:r=!0}=C;return{...C,drag:l,dragDirectionLock:g,dragPropagation:t,dragConstraints:e,dragElastic:h,dragMomentum:r}}}function Fo(m,C,l){return(C===!0||C===m)&&(l===null||l===m)}function lS(m,C=10){let l=null;return Math.abs(m.y)>C?l="y":Math.abs(m.x)>C&&(l="x"),l}class uS extends Gn{constructor(C){super(C),this.removeGroupControls=De,this.removeListeners=De,this.controls=new oS(C)}mount(){const{dragControls:C}=this.node.getProps();C&&(this.removeGroupControls=C.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||De}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vp=m=>(C,l)=>{m&&Kt.postRender(()=>m(C,l))};class hS extends Gn{constructor(){super(...arguments),this.removePointerDownListener=De}onPointerDown(C){this.session=new Gg(C,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zg(this.node)})}createPanHandlers(){const{onPanSessionStart:C,onPanStart:l,onPan:g,onPanEnd:t}=this.node.getProps();return{onSessionStart:Vp(C),onStart:Vp(l),onMove:g,onEnd:(e,h)=>{delete this.session,t&&Kt.postRender(()=>t(e,h))}}}mount(){this.removePointerDownListener=nn(this.node.current,"pointerdown",C=>this.onPointerDown(C))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ml=gt.createContext(null);function fS(){const m=gt.useContext(ml);if(m===null)return[!0,null];const{isPresent:C,onExitComplete:l,register:g}=m,t=gt.useId();gt.useEffect(()=>g(t),[]);const e=gt.useCallback(()=>l&&l(t),[t,l]);return!C&&l?[!1,e]:[!0]}const Yf=gt.createContext({}),$g=gt.createContext({}),zo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Up(m,C){return C.max===C.min?0:m/(C.max-C.min)*100}const Ks={correct:(m,C)=>{if(!C.target)return m;if(typeof m=="string")if(Dt.test(m))m=parseFloat(m);else return m;const l=Up(m,C.target.x),g=Up(m,C.target.y);return`${l}% ${g}%`}},dS={correct:(m,{treeScale:C,projectionDelta:l})=>{const g=m,t=Bn.parse(m);if(t.length>5)return g;const e=Bn.createTransformer(m),h=typeof t[0]!="number"?1:0,r=l.x.scale*C.x,a=l.y.scale*C.y;t[0+h]/=r,t[1+h]/=a;const s=re(r,a,.5);return typeof t[2+h]=="number"&&(t[2+h]/=s),typeof t[3+h]=="number"&&(t[3+h]/=s),e(t)}},$o={};function cS(m){Object.assign($o,m)}const{schedule:Xf,cancel:gO}=Qm(queueMicrotask,!1);class vS extends gt.Component{componentDidMount(){const{visualElement:C,layoutGroup:l,switchLayoutGroup:g,layoutId:t}=this.props,{projection:e}=C;cS(pS),e&&(l.group&&l.group.add(e),g&&g.register&&t&&g.register(e),e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),zo.hasEverUpdated=!0}getSnapshotBeforeUpdate(C){const{layoutDependency:l,visualElement:g,drag:t,isPresent:e}=this.props,h=g.projection;return h&&(h.isPresent=e,t||C.layoutDependency!==l||l===void 0?h.willUpdate():this.safeToRemove(),C.isPresent!==e&&(e?h.promote():h.relegate()||Kt.postRender(()=>{const r=h.getStack();(!r||!r.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:C}=this.props.visualElement;C&&(C.root.didUpdate(),Xf.postRender(()=>{!C.currentAnimation&&C.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:C,layoutGroup:l,switchLayoutGroup:g}=this.props,{projection:t}=C;t&&(t.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(t),g&&g.deregister&&g.deregister(t))}safeToRemove(){const{safeToRemove:C}=this.props;C&&C()}render(){return null}}function Qg(m){const[C,l]=fS(),g=gt.useContext(Yf);return lt.jsx(vS,{...m,layoutGroup:g,switchLayoutGroup:gt.useContext($g),isPresent:C,safeToRemove:l})}const pS={borderRadius:{...Ks,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ks,borderTopRightRadius:Ks,borderBottomLeftRadius:Ks,borderBottomRightRadius:Ks,boxShadow:dS},Jg=["TopLeft","TopRight","BottomLeft","BottomRight"],mS=Jg.length,zp=m=>typeof m=="string"?parseFloat(m):m,Yp=m=>typeof m=="number"||Dt.test(m);function gS(m,C,l,g,t,e){t?(m.opacity=re(0,l.opacity!==void 0?l.opacity:1,xS(g)),m.opacityExit=re(C.opacity!==void 0?C.opacity:1,0,yS(g))):e&&(m.opacity=re(C.opacity!==void 0?C.opacity:1,l.opacity!==void 0?l.opacity:1,g));for(let h=0;h<mS;h++){const r=`border${Jg[h]}Radius`;let a=Xp(C,r),s=Xp(l,r);if(a===void 0&&s===void 0)continue;a||(a=0),s||(s=0),a===0||s===0||Yp(a)===Yp(s)?(m[r]=Math.max(re(zp(a),zp(s),g),0),(wi.test(s)||wi.test(a))&&(m[r]+="%")):m[r]=s}(C.rotate||l.rotate)&&(m.rotate=re(C.rotate||0,l.rotate||0,g))}function Xp(m,C){return m[C]!==void 0?m[C]:m.borderRadius}const xS=kg(0,.5,Sg),yS=kg(.5,.95,De);function kg(m,C,l){return g=>g<m?0:g>C?1:l(ra(m,C,g))}function Wp(m,C){m.min=C.min,m.max=C.max}function oi(m,C){Wp(m.x,C.x),Wp(m.y,C.y)}function Hp(m,C){m.translate=C.translate,m.scale=C.scale,m.originPoint=C.originPoint,m.origin=C.origin}function jp(m,C,l,g,t){return m-=C,m=Zo(m,1/l,g),t!==void 0&&(m=Zo(m,1/t,g)),m}function TS(m,C=0,l=1,g=.5,t,e=m,h=m){if(wi.test(C)&&(C=parseFloat(C),C=re(h.min,h.max,C/100)-h.min),typeof C!="number")return;let r=re(e.min,e.max,g);m===e&&(r-=C),m.min=jp(m.min,C,l,r,t),m.max=jp(m.max,C,l,r,t)}function Kp(m,C,[l,g,t],e,h){TS(m,C[l],C[g],C[t],C.scale,e,h)}const SS=["x","scaleX","originX"],ES=["y","scaleY","originY"];function bp(m,C,l,g){Kp(m.x,C,SS,l?l.x:void 0,g?g.x:void 0),Kp(m.y,C,ES,l?l.y:void 0,g?g.y:void 0)}function Zp(m){return m.translate===0&&m.scale===1}function qg(m){return Zp(m.x)&&Zp(m.y)}function $p(m,C){return m.min===C.min&&m.max===C.max}function CS(m,C){return $p(m.x,C.x)&&$p(m.y,C.y)}function Qp(m,C){return Math.round(m.min)===Math.round(C.min)&&Math.round(m.max)===Math.round(C.max)}function _g(m,C){return Qp(m.x,C.x)&&Qp(m.y,C.y)}function Jp(m){return ke(m.x)/ke(m.y)}function kp(m,C){return m.translate===C.translate&&m.scale===C.scale&&m.originPoint===C.originPoint}class AS{constructor(){this.members=[]}add(C){dl(this.members,C),C.scheduleRender()}remove(C){if(cl(this.members,C),C===this.prevLead&&(this.prevLead=void 0),C===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(C){const l=this.members.findIndex(t=>C===t);if(l===0)return!1;let g;for(let t=l;t>=0;t--){const e=this.members[t];if(e.isPresent!==!1){g=e;break}}return g?(this.promote(g),!0):!1}promote(C,l){const g=this.lead;if(C!==g&&(this.prevLead=g,this.lead=C,C.show(),g)){g.instance&&g.scheduleRender(),C.scheduleRender(),C.resumeFrom=g,l&&(C.resumeFrom.preserveOpacity=!0),g.snapshot&&(C.snapshot=g.snapshot,C.snapshot.latestValues=g.animationValues||g.latestValues),C.root&&C.root.isUpdating&&(C.isLayoutDirty=!0);const{crossfade:t}=C.options;t===!1&&g.hide()}}exitAnimationComplete(){this.members.forEach(C=>{const{options:l,resumingFrom:g}=C;l.onExitComplete&&l.onExitComplete(),g&&g.options.onExitComplete&&g.options.onExitComplete()})}scheduleRender(){this.members.forEach(C=>{C.instance&&C.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PS(m,C,l){let g="";const t=m.x.translate/C.x,e=m.y.translate/C.y,h=(l==null?void 0:l.z)||0;if((t||e||h)&&(g=`translate3d(${t}px, ${e}px, ${h}px) `),(C.x!==1||C.y!==1)&&(g+=`scale(${1/C.x}, ${1/C.y}) `),l){const{transformPerspective:s,rotate:i,rotateX:n,rotateY:f,skewX:o,skewY:u}=l;s&&(g=`perspective(${s}px) ${g}`),i&&(g+=`rotate(${i}deg) `),n&&(g+=`rotateX(${n}deg) `),f&&(g+=`rotateY(${f}deg) `),o&&(g+=`skewX(${o}deg) `),u&&(g+=`skewY(${u}deg) `)}const r=m.x.scale*C.x,a=m.y.scale*C.y;return(r!==1||a!==1)&&(g+=`scale(${r}, ${a})`),g||"none"}const MS=(m,C)=>m.depth-C.depth;class RS{constructor(){this.children=[],this.isDirty=!1}add(C){dl(this.children,C),this.isDirty=!0}remove(C){cl(this.children,C),this.isDirty=!0}forEach(C){this.isDirty&&this.children.sort(MS),this.isDirty=!1,this.children.forEach(C)}}function Yo(m){const C=Fe(m)?m.get():m;return x2(C)?C.toValue():C}function LS(m,C){const l=Gi.now(),g=({timestamp:t})=>{const e=t-l;e>=C&&(an(g),m(e-C))};return Kt.read(g,!0),()=>an(g)}function OS(m){return m instanceof SVGElement&&m.tagName!=="svg"}function FS(m,C,l){const g=Fe(m)?m:sa(m);return g.start(Uf("",g,C,l)),g.animation}const tr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Zs=typeof window<"u"&&window.MotionDebug!==void 0,Ah=["","X","Y","Z"],DS={visibility:"hidden"},qp=1e3;let IS=0;function Ph(m,C,l,g){const{latestValues:t}=C;t[m]&&(l[m]=t[m],C.setStaticValue(m,0),g&&(g[m]=0))}function t0(m){if(m.hasCheckedOptimisedAppear=!0,m.root===m)return;const{visualElement:C}=m.options;if(!C)return;const l=Dg(C);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:t,layoutId:e}=m.options;window.MotionCancelOptimisedAnimation(l,"transform",Kt,!(t||e))}const{parent:g}=m;g&&!g.hasCheckedOptimisedAppear&&t0(g)}function e0({attachResizeListener:m,defaultParent:C,measureScroll:l,checkIsScrollRoot:g,resetTransform:t}){return class{constructor(h={},r=C==null?void 0:C()){this.id=IS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zs&&(tr.totalNodes=tr.resolvedTargetDeltas=tr.recalculatedProjection=0),this.nodes.forEach(wS),this.nodes.forEach(YS),this.nodes.forEach(XS),this.nodes.forEach(GS),Zs&&window.MotionDebug.record(tr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new RS)}addEventListener(h,r){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new zf),this.eventHandlers.get(h).add(r)}notifyListeners(h,...r){const a=this.eventHandlers.get(h);a&&a.notify(...r)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OS(h),this.instance=h;const{layoutId:a,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||a)&&(this.isLayoutDirty=!0),m){let n;const f=()=>this.root.updateBlockedByResize=!1;m(h,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=LS(f,250),zo.hasAnimatedSinceResize&&(zo.hasAnimatedSinceResize=!1,this.nodes.forEach(tm))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&i&&(a||s)&&this.addEventListener("didUpdate",({delta:n,hasLayoutChanged:f,hasRelativeTargetChanged:o,layout:u})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const d=this.options.transition||i.getDefaultTransition()||bS,{onLayoutAnimationStart:c,onLayoutAnimationComplete:v}=i.getProps(),p=!this.targetLayout||!_g(this.targetLayout,u)||o,x=!f&&o;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(n,x);const y={...Mf(d,"layout"),onPlay:c,onComplete:v};(i.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else f||tm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=u})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,an(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WS),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&t0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const n=this.path[i];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}const{layoutId:r,layout:a}=this.options;if(r===void 0&&!a)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_p);return}this.isUpdating||this.nodes.forEach(US),this.isUpdating=!1,this.nodes.forEach(zS),this.nodes.forEach(BS),this.nodes.forEach(NS),this.clearAllSnapshots();const r=Gi.now();Ee.delta=In(0,1e3/60,r-Ee.timestamp),Ee.timestamp=r,Ee.isProcessing=!0,gh.update.process(Ee),gh.preRender.process(Ee),gh.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VS),this.sharedNodes.forEach(HS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:r}=this.options;r&&r.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let r=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(r=!1),r){const a=g(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:a,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!t)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,r=this.projectionDelta&&!qg(this.projectionDelta),a=this.getTransformTemplate(),s=a?a(this.latestValues,""):void 0,i=s!==this.prevTransformTemplateValue;h&&(r||_n(this.latestValues)||i)&&(t(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const r=this.measurePageBox();let a=this.removeElementScroll(r);return h&&(a=this.removeTransform(a)),ZS(a),{animationId:this.root.animationId,measuredBox:r,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:r}=this.options;if(!r)return le();const a=r.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some($S))){const{scroll:i}=this.root;i&&(Kr(a.x,i.offset.x),Kr(a.y,i.offset.y))}return a}removeElementScroll(h){var r;const a=le();if(oi(a,h),!((r=this.scroll)===null||r===void 0)&&r.wasRoot)return a;for(let s=0;s<this.path.length;s++){const i=this.path[s],{scroll:n,options:f}=i;i!==this.root&&n&&f.layoutScroll&&(n.wasRoot&&oi(a,h),Kr(a.x,n.offset.x),Kr(a.y,n.offset.y))}return a}applyTransform(h,r=!1){const a=le();oi(a,h);for(let s=0;s<this.path.length;s++){const i=this.path[s];!r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&br(a,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),_n(i.latestValues)&&br(a,i.latestValues)}return _n(this.latestValues)&&br(a,this.latestValues),a}removeTransform(h){const r=le();oi(r,h);for(let a=0;a<this.path.length;a++){const s=this.path[a];if(!s.instance||!_n(s.latestValues))continue;nf(s.latestValues)&&s.updateSnapshot();const i=le(),n=s.measurePageBox();oi(i,n),bp(r,s.latestValues,s.snapshot?s.snapshot.layoutBox:void 0,i)}return _n(this.latestValues)&&bp(r,this.latestValues),r}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var r;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const s=!!this.resumingFrom||this!==a;if(!(h||s&&this.isSharedProjectionDirty||this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:n,layoutId:f}=this.options;if(!(!this.layout||!(n||f))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const o=this.getClosestProjectingParent();o&&o.layout&&this.animationProgress!==1?(this.relativeParent=o,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),qs(this.relativeTargetOrigin,this.layout.layoutBox,o.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),Kg(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const o=this.getClosestProjectingParent();o&&!!o.resumingFrom==!!this.resumingFrom&&!o.options.layoutScroll&&o.target&&this.animationProgress!==1?(this.relativeParent=o,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),qs(this.relativeTargetOrigin,this.target,o.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zs&&tr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nf(this.parent.latestValues)||jg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const r=this.getLead(),a=!!this.resumingFrom||this!==r;let s=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(s=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(s=!1),s)return;const{layout:i,layoutId:n}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||n))return;oi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,o=this.treeScale.y;rS(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=le());const{target:u}=r;if(!u){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hp(this.prevProjectionDelta.x,this.projectionDelta.x),Hp(this.prevProjectionDelta.y,this.projectionDelta.y)),ks(this.projectionDelta,this.layoutCorrected,u,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==o||!kp(this.projectionDelta.x,this.prevProjectionDelta.x)||!kp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),Zs&&tr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var r;if((r=this.options.visualElement)===null||r===void 0||r.scheduleRender(),h){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(h,r=!1){const a=this.snapshot,s=a?a.latestValues:{},i={...this.latestValues},n=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!r;const f=le(),o=a?a.source:void 0,u=this.layout?this.layout.source:void 0,d=o!==u,c=this.getStack(),v=!c||c.members.length<=1,p=!!(d&&!v&&this.options.crossfade===!0&&!this.path.some(KS));this.animationProgress=0;let x;this.mixTargetDelta=y=>{const S=y/1e3;em(n.x,h.x,S),em(n.y,h.y,S),this.setTargetDelta(n),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jS(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&CS(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=le()),oi(x,this.relativeTarget)),d&&(this.animationValues=i,gS(i,s,this.latestValues,S,p,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(an(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{zo.hasAnimatedSinceResize=!0,this.currentAnimation=FS(0,qp,{...h,onUpdate:r=>{this.mixTargetDelta(r),h.onUpdate&&h.onUpdate(r)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:r,target:a,layout:s,latestValues:i}=h;if(!(!r||!a||!s)){if(this!==h&&this.layout&&s&&i0(this.options.animationType,this.layout.layoutBox,s.layoutBox)){a=this.target||le();const n=ke(this.layout.layoutBox.x);a.x.min=h.target.x.min,a.x.max=a.x.min+n;const f=ke(this.layout.layoutBox.y);a.y.min=h.target.y.min,a.y.max=a.y.min+f}oi(r,a),br(r,i),ks(this.projectionDeltaWithTransform,this.layoutCorrected,r,i)}}registerSharedNode(h,r){this.sharedNodes.has(h)||this.sharedNodes.set(h,new AS),this.sharedNodes.get(h).add(r);const s=r.options.initialPromotionConfig;r.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(r):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:r}=this.options;return r?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:r}=this.options;return r?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:r,preserveFollowOpacity:a}={}){const s=this.getStack();s&&s.promote(this,a),h&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let r=!1;const{latestValues:a}=h;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(r=!0),!r)return;const s={};a.z&&Ph("z",h,s,this.animationValues);for(let i=0;i<Ah.length;i++)Ph(`rotate${Ah[i]}`,h,s,this.animationValues),Ph(`skew${Ah[i]}`,h,s,this.animationValues);h.render();for(const i in s)h.setStaticValue(i,s[i]),this.animationValues&&(this.animationValues[i]=s[i]);h.scheduleRender()}getProjectionStyles(h){var r,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DS;const s={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=Yo(h==null?void 0:h.pointerEvents)||"",s.transform=i?i(this.latestValues,""):"none",s;const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Yo(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!_n(this.latestValues)&&(d.transform=i?i({},""):"none",this.hasProjected=!1),d}const f=n.animationValues||n.latestValues;this.applyTransformsToTarget(),s.transform=PS(this.projectionDeltaWithTransform,this.treeScale,f),i&&(s.transform=i(f,s.transform));const{x:o,y:u}=this.projectionDelta;s.transformOrigin=`${o.origin*100}% ${u.origin*100}% 0`,n.animationValues?s.opacity=n===this?(a=(r=f.opacity)!==null&&r!==void 0?r:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=n===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const d in $o){if(f[d]===void 0)continue;const{correct:c,applyTo:v}=$o[d],p=s.transform==="none"?f[d]:c(f[d],n);if(v){const x=v.length;for(let y=0;y<x;y++)s[v[y]]=p}else s[d]=p}return this.options.layoutId&&(s.pointerEvents=n===this?Yo(h==null?void 0:h.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var r;return(r=h.currentAnimation)===null||r===void 0?void 0:r.stop()}),this.root.nodes.forEach(_p),this.root.sharedNodes.clear()}}}function BS(m){m.updateLayout()}function NS(m){var C;const l=((C=m.resumeFrom)===null||C===void 0?void 0:C.snapshot)||m.snapshot;if(m.isLead()&&m.layout&&l&&m.hasListeners("didUpdate")){const{layoutBox:g,measuredBox:t}=m.layout,{animationType:e}=m.options,h=l.source!==m.layout.source;e==="size"?li(n=>{const f=h?l.measuredBox[n]:l.layoutBox[n],o=ke(f);f.min=g[n].min,f.max=f.min+o}):i0(e,l.layoutBox,g)&&li(n=>{const f=h?l.measuredBox[n]:l.layoutBox[n],o=ke(g[n]);f.max=f.min+o,m.relativeTarget&&!m.currentAnimation&&(m.isProjectionDirty=!0,m.relativeTarget[n].max=m.relativeTarget[n].min+o)});const r=jr();ks(r,g,l.layoutBox);const a=jr();h?ks(a,m.applyTransform(t,!0),l.measuredBox):ks(a,g,l.layoutBox);const s=!qg(r);let i=!1;if(!m.resumeFrom){const n=m.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:f,layout:o}=n;if(f&&o){const u=le();qs(u,l.layoutBox,f.layoutBox);const d=le();qs(d,g,o.layoutBox),_g(u,d)||(i=!0),n.options.layoutRoot&&(m.relativeTarget=d,m.relativeTargetOrigin=u,m.relativeParent=n)}}}m.notifyListeners("didUpdate",{layout:g,snapshot:l,delta:a,layoutDelta:r,hasLayoutChanged:s,hasRelativeTargetChanged:i})}else if(m.isLead()){const{onExitComplete:g}=m.options;g&&g()}m.options.transition=void 0}function wS(m){Zs&&tr.totalNodes++,m.parent&&(m.isProjecting()||(m.isProjectionDirty=m.parent.isProjectionDirty),m.isSharedProjectionDirty||(m.isSharedProjectionDirty=!!(m.isProjectionDirty||m.parent.isProjectionDirty||m.parent.isSharedProjectionDirty)),m.isTransformDirty||(m.isTransformDirty=m.parent.isTransformDirty))}function GS(m){m.isProjectionDirty=m.isSharedProjectionDirty=m.isTransformDirty=!1}function VS(m){m.clearSnapshot()}function _p(m){m.clearMeasurements()}function US(m){m.isLayoutDirty=!1}function zS(m){const{visualElement:C}=m.options;C&&C.getProps().onBeforeLayoutMeasure&&C.notify("BeforeLayoutMeasure"),m.resetTransform()}function tm(m){m.finishAnimation(),m.targetDelta=m.relativeTarget=m.target=void 0,m.isProjectionDirty=!0}function YS(m){m.resolveTargetDelta()}function XS(m){m.calcProjection()}function WS(m){m.resetSkewAndRotation()}function HS(m){m.removeLeadSnapshot()}function em(m,C,l){m.translate=re(C.translate,0,l),m.scale=re(C.scale,1,l),m.origin=C.origin,m.originPoint=C.originPoint}function im(m,C,l,g){m.min=re(C.min,l.min,g),m.max=re(C.max,l.max,g)}function jS(m,C,l,g){im(m.x,C.x,l.x,g),im(m.y,C.y,l.y,g)}function KS(m){return m.animationValues&&m.animationValues.opacityExit!==void 0}const bS={duration:.45,ease:[.4,0,.1,1]},nm=m=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(m),rm=nm("applewebkit/")&&!nm("chrome/")?Math.round:De;function sm(m){m.min=rm(m.min),m.max=rm(m.max)}function ZS(m){sm(m.x),sm(m.y)}function i0(m,C,l){return m==="position"||m==="preserve-aspect"&&!$2(Jp(C),Jp(l),.2)}function $S(m){var C;return m!==m.root&&((C=m.scroll)===null||C===void 0?void 0:C.wasRoot)}const QS=e0({attachResizeListener:(m,C)=>qi(m,"resize",C),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mh={current:void 0},n0=e0({measureScroll:m=>({x:m.scrollLeft,y:m.scrollTop}),defaultParent:()=>{if(!Mh.current){const m=new QS({});m.mount(window),m.setOptions({layoutScroll:!0}),Mh.current=m}return Mh.current},resetTransform:(m,C)=>{m.style.transform=C!==void 0?C:"none"},checkIsScrollRoot:m=>window.getComputedStyle(m).position==="fixed"}),JS={pan:{Feature:hS},drag:{Feature:uS,ProjectionNode:n0,MeasureLayout:Qg}};function am(m,C){const l=C?"pointerenter":"pointerleave",g=C?"onHoverStart":"onHoverEnd",t=(e,h)=>{if(e.pointerType==="touch"||Yg())return;const r=m.getProps();m.animationState&&r.whileHover&&m.animationState.setActive("whileHover",C);const a=r[g];a&&Kt.postRender(()=>a(e,h))};return nn(m.current,l,t,{passive:!m.getProps()[g]})}class kS extends Gn{mount(){this.unmount=en(am(this.node,!0),am(this.node,!1))}unmount(){}}class qS extends Gn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let C=!1;try{C=this.node.current.matches(":focus-visible")}catch{C=!0}!C||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=en(qi(this.node.current,"focus",()=>this.onFocus()),qi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const r0=(m,C)=>C?m===C?!0:r0(m,C.parentElement):!1;function Rh(m,C){if(!C)return;const l=new PointerEvent("pointer"+m);C(l,pl(l))}class _S extends Gn{constructor(){super(...arguments),this.removeStartListeners=De,this.removeEndListeners=De,this.removeAccessibleListeners=De,this.startPointerPress=(C,l)=>{if(this.isPressing)return;this.removeEndListeners();const g=this.node.getProps(),e=nn(window,"pointerup",(r,a)=>{if(!this.checkPressEnd())return;const{onTap:s,onTapCancel:i,globalTapTarget:n}=this.node.getProps(),f=!n&&!r0(this.node.current,r.target)?i:s;f&&Kt.update(()=>f(r,a))},{passive:!(g.onTap||g.onPointerUp)}),h=nn(window,"pointercancel",(r,a)=>this.cancelPress(r,a),{passive:!(g.onTapCancel||g.onPointerCancel)});this.removeEndListeners=en(e,h),this.startPress(C,l)},this.startAccessiblePress=()=>{const C=e=>{if(e.key!=="Enter"||this.isPressing)return;const h=r=>{r.key!=="Enter"||!this.checkPressEnd()||Rh("up",(a,s)=>{const{onTap:i}=this.node.getProps();i&&Kt.postRender(()=>i(a,s))})};this.removeEndListeners(),this.removeEndListeners=qi(this.node.current,"keyup",h),Rh("down",(r,a)=>{this.startPress(r,a)})},l=qi(this.node.current,"keydown",C),g=()=>{this.isPressing&&Rh("cancel",(e,h)=>this.cancelPress(e,h))},t=qi(this.node.current,"blur",g);this.removeAccessibleListeners=en(l,t)}}startPress(C,l){this.isPressing=!0;const{onTapStart:g,whileTap:t}=this.node.getProps();t&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),g&&Kt.postRender(()=>g(C,l))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Yg()}cancelPress(C,l){if(!this.checkPressEnd())return;const{onTapCancel:g}=this.node.getProps();g&&Kt.postRender(()=>g(C,l))}mount(){const C=this.node.getProps(),l=nn(C.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(C.onTapStart||C.onPointerStart)}),g=qi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=en(l,g)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sf=new WeakMap,Lh=new WeakMap,tE=m=>{const C=sf.get(m.target);C&&C(m)},eE=m=>{m.forEach(tE)};function iE({root:m,...C}){const l=m||document;Lh.has(l)||Lh.set(l,{});const g=Lh.get(l),t=JSON.stringify(C);return g[t]||(g[t]=new IntersectionObserver(eE,{root:m,...C})),g[t]}function nE(m,C,l){const g=iE(C);return sf.set(m,l),g.observe(m),()=>{sf.delete(m),g.unobserve(m)}}const rE={some:0,all:1};class sE extends Gn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:C={}}=this.node.getProps(),{root:l,margin:g,amount:t="some",once:e}=C,h={root:l?l.current:void 0,rootMargin:g,threshold:typeof t=="number"?t:rE[t]},r=a=>{const{isIntersecting:s}=a;if(this.isInView===s||(this.isInView=s,e&&!s&&this.hasEnteredView))return;s&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",s);const{onViewportEnter:i,onViewportLeave:n}=this.node.getProps(),f=s?i:n;f&&f(a)};return nE(this.node.current,h,r)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:C,prevProps:l}=this.node;["amount","margin","root"].some(aE(C,l))&&this.startObserver()}unmount(){}}function aE({viewport:m={}},{viewport:C={}}={}){return l=>m[l]!==C[l]}const oE={inView:{Feature:sE},tap:{Feature:_S},focus:{Feature:qS},hover:{Feature:kS}},lE={layout:{ProjectionNode:n0,MeasureLayout:Qg}},Wf=gt.createContext({transformPagePoint:m=>m,isStatic:!1,reducedMotion:"never"}),gl=gt.createContext({}),Hf=typeof window<"u",s0=Hf?gt.useLayoutEffect:gt.useEffect,a0=gt.createContext({strict:!1});let om=!1;function uE(m,C,l,g,t){var e;const{visualElement:h}=gt.useContext(gl),r=gt.useContext(a0),a=gt.useContext(ml),s=gt.useContext(Wf).reducedMotion,i=gt.useRef();g=g||r.renderer,!i.current&&g&&(i.current=g(m,{visualState:C,parent:h,props:l,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:s}));const n=i.current,f=gt.useContext($g);n&&!n.projection&&t&&(n.type==="html"||n.type==="svg")&&fE(i.current,l,t,f),gt.useInsertionEffect(()=>{n&&n.update(l,a)});const o=l[Fg],u=gt.useRef(!!o&&!window.MotionHandoffIsComplete&&((e=window.MotionHasOptimisedAnimation)===null||e===void 0?void 0:e.call(window,o)));return s0(()=>{n&&(n.updateFeatures(),Xf.render(n.render),u.current&&n.animationState&&n.animationState.animateChanges())}),gt.useEffect(()=>{n&&(!u.current&&n.animationState&&n.animationState.animateChanges(),u.current=!1,om||(om=!0,queueMicrotask(hE)))}),n}function hE(){window.MotionHandoffIsComplete=!0}function fE(m,C,l,g){const{layoutId:t,layout:e,drag:h,dragConstraints:r,layoutScroll:a,layoutRoot:s}=C;m.projection=new l(m.latestValues,C["data-framer-portal-id"]?void 0:o0(m.parent)),m.projection.setOptions({layoutId:t,layout:e,alwaysMeasureLayout:!!h||r&&Hr(r),visualElement:m,animationType:typeof e=="string"?e:"both",initialPromotionConfig:g,layoutScroll:a,layoutRoot:s})}function o0(m){if(m)return m.options.allowProjection!==!1?m.projection:o0(m.parent)}function dE(m,C,l){return gt.useCallback(g=>{g&&m.mount&&m.mount(g),C&&(g?C.mount(g):C.unmount()),l&&(typeof l=="function"?l(g):Hr(l)&&(l.current=g))},[C])}function xl(m){return ea(m.animate)||Pf.some(C=>ia(m[C]))}function l0(m){return!!(xl(m)||m.variants)}function cE(m,C){if(xl(m)){const{initial:l,animate:g}=m;return{initial:l===!1||ia(l)?l:void 0,animate:ia(g)?g:void 0}}return m.inherit!==!1?C:{}}function vE(m){const{initial:C,animate:l}=cE(m,gt.useContext(gl));return gt.useMemo(()=>({initial:C,animate:l}),[lm(C),lm(l)])}function lm(m){return Array.isArray(m)?m.join(" "):m}const um={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_r={};for(const m in um)_r[m]={isEnabled:C=>um[m].some(l=>!!C[l])};function pE(m){for(const C in m)_r[C]={..._r[C],...m[C]}}const mE=Symbol.for("motionComponentSymbol");function gE({preloadedFeatures:m,createVisualElement:C,useRender:l,useVisualState:g,Component:t}){m&&pE(m);function e(r,a){let s;const i={...gt.useContext(Wf),...r,layoutId:xE(r)},{isStatic:n}=i,f=vE(r),o=g(r,n);if(!n&&Hf){yE();const u=TE(i);s=u.MeasureLayout,f.visualElement=uE(t,o,i,C,u.ProjectionNode)}return lt.jsxs(gl.Provider,{value:f,children:[s&&f.visualElement?lt.jsx(s,{visualElement:f.visualElement,...i}):null,l(t,r,dE(o,f.visualElement,a),o,n,f.visualElement)]})}const h=gt.forwardRef(e);return h[mE]=t,h}function xE({layoutId:m}){const C=gt.useContext(Yf).id;return C&&m!==void 0?C+"-"+m:m}function yE(m,C){gt.useContext(a0).strict}function TE(m){const{drag:C,layout:l}=_r;if(!C&&!l)return{};const g={...C,...l};return{MeasureLayout:C!=null&&C.isEnabled(m)||l!=null&&l.isEnabled(m)?g.MeasureLayout:void 0,ProjectionNode:g.ProjectionNode}}const SE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jf(m){return typeof m!="string"||m.includes("-")?!1:!!(SE.indexOf(m)>-1||/[A-Z]/u.test(m))}function u0(m,{style:C,vars:l},g,t){Object.assign(m.style,C,t&&t.getProjectionStyles(g));for(const e in l)m.style.setProperty(e,l[e])}const h0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f0(m,C,l,g){u0(m,C,void 0,g);for(const t in C.attrs)m.setAttribute(h0.has(t)?t:vl(t),C.attrs[t])}function d0(m,{layout:C,layoutId:l}){return wn.has(m)||m.startsWith("origin")||(C||l!==void 0)&&(!!$o[m]||m==="opacity")}function Kf(m,C,l){var g;const{style:t}=m,e={};for(const h in t)(Fe(t[h])||C.style&&Fe(C.style[h])||d0(h,m)||((g=l==null?void 0:l.getValue(h))===null||g===void 0?void 0:g.liveStyle)!==void 0)&&(e[h]=t[h]);return l&&t&&typeof t.willChange=="string"&&(l.applyWillChange=!1),e}function c0(m,C,l){const g=Kf(m,C,l);for(const t in m)if(Fe(m[t])||Fe(C[t])){const e=ha.indexOf(t)!==-1?"attr"+t.charAt(0).toUpperCase()+t.substring(1):t;g[e]=m[t]}return g}function bf(m){const C=gt.useRef(null);return C.current===null&&(C.current=m()),C.current}function EE({applyWillChange:m=!1,scrapeMotionValuesFromProps:C,createRenderState:l,onMount:g},t,e,h,r){const a={latestValues:AE(t,e,h,r?!1:m,C),renderState:l()};return g&&(a.mount=s=>g(t,s,a)),a}const v0=m=>(C,l)=>{const g=gt.useContext(gl),t=gt.useContext(ml),e=()=>EE(m,C,g,t,l);return l?e():bf(e)};function CE(m,C){const l=Ig(C);l&&dl(m,l)}function hm(m,C,l){const g=Array.isArray(C)?C:[C];for(let t=0;t<g.length;t++){const e=Cf(m,g[t]);if(e){const{transitionEnd:h,transition:r,...a}=e;l(a,h)}}}function AE(m,C,l,g,t){var e;const h={},r=[],a=g&&((e=m.style)===null||e===void 0?void 0:e.willChange)===void 0,s=t(m,{});for(const c in s)h[c]=Yo(s[c]);let{initial:i,animate:n}=m;const f=xl(m),o=l0(m);C&&o&&!f&&m.inherit!==!1&&(i===void 0&&(i=C.initial),n===void 0&&(n=C.animate));let u=l?l.initial===!1:!1;u=u||i===!1;const d=u?n:i;return d&&typeof d!="boolean"&&!ea(d)&&hm(m,d,(c,v)=>{for(const p in c){let x=c[p];if(Array.isArray(x)){const y=u?x.length-1:0;x=x[y]}x!==null&&(h[p]=x)}for(const p in v)h[p]=v[p]}),a&&(n&&i!==!1&&!ea(n)&&hm(m,n,c=>{for(const v in c)CE(r,v)}),r.length&&(h.willChange=r.join(","))),h}const Zf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),p0=()=>({...Zf(),attrs:{}}),m0=(m,C)=>C&&typeof m=="number"?C.transform(m):m,PE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ME=ha.length;function RE(m,C,l){let g="",t=!0;for(let e=0;e<ME;e++){const h=ha[e],r=m[h];if(r===void 0)continue;let a=!0;if(typeof r=="number"?a=r===(h.startsWith("scale")?1:0):a=parseFloat(r)===0,!a||l){const s=m0(r,Df[h]);if(!a){t=!1;const i=PE[h]||h;g+=`${i}(${s}) `}l&&(C[h]=s)}}return g=g.trim(),l?g=l(C,t?"":g):t&&(g="none"),g}function $f(m,C,l){const{style:g,vars:t,transformOrigin:e}=m;let h=!1,r=!1;for(const a in C){const s=C[a];if(wn.has(a)){h=!0;continue}else if(_m(a)){t[a]=s;continue}else{const i=m0(s,Df[a]);a.startsWith("origin")?(r=!0,e[a]=i):g[a]=i}}if(C.transform||(h||l?g.transform=RE(C,m.transform,l):g.transform&&(g.transform="none")),r){const{originX:a="50%",originY:s="50%",originZ:i=0}=e;g.transformOrigin=`${a} ${s} ${i}`}}function fm(m,C,l){return typeof m=="string"?m:Dt.transform(C+l*m)}function LE(m,C,l){const g=fm(C,m.x,m.width),t=fm(l,m.y,m.height);return`${g} ${t}`}const OE={offset:"stroke-dashoffset",array:"stroke-dasharray"},FE={offset:"strokeDashoffset",array:"strokeDasharray"};function DE(m,C,l=1,g=0,t=!0){m.pathLength=1;const e=t?OE:FE;m[e.offset]=Dt.transform(-g);const h=Dt.transform(C),r=Dt.transform(l);m[e.array]=`${h} ${r}`}function Qf(m,{attrX:C,attrY:l,attrScale:g,originX:t,originY:e,pathLength:h,pathSpacing:r=1,pathOffset:a=0,...s},i,n){if($f(m,s,n),i){m.style.viewBox&&(m.attrs.viewBox=m.style.viewBox);return}m.attrs=m.style,m.style={};const{attrs:f,style:o,dimensions:u}=m;f.transform&&(u&&(o.transform=f.transform),delete f.transform),u&&(t!==void 0||e!==void 0||o.transform)&&(o.transformOrigin=LE(u,t!==void 0?t:.5,e!==void 0?e:.5)),C!==void 0&&(f.x=C),l!==void 0&&(f.y=l),g!==void 0&&(f.scale=g),h!==void 0&&DE(f,h,r,a,!1)}const Jf=m=>typeof m=="string"&&m.toLowerCase()==="svg",IE={useVisualState:v0({scrapeMotionValuesFromProps:c0,createRenderState:p0,onMount:(m,C,{renderState:l,latestValues:g})=>{Kt.read(()=>{try{l.dimensions=typeof C.getBBox=="function"?C.getBBox():C.getBoundingClientRect()}catch{l.dimensions={x:0,y:0,width:0,height:0}}}),Kt.render(()=>{Qf(l,g,Jf(C.tagName),m.transformTemplate),f0(C,l)})}})},BE={useVisualState:v0({applyWillChange:!0,scrapeMotionValuesFromProps:Kf,createRenderState:Zf})};function g0(m,C,l){for(const g in C)!Fe(C[g])&&!d0(g,l)&&(m[g]=C[g])}function NE({transformTemplate:m},C){return gt.useMemo(()=>{const l=Zf();return $f(l,C,m),Object.assign({},l.vars,l.style)},[C])}function wE(m,C){const l=m.style||{},g={};return g0(g,l,m),Object.assign(g,NE(m,C)),g}function GE(m,C){const l={},g=wE(m,C);return m.drag&&m.dragListener!==!1&&(l.draggable=!1,g.userSelect=g.WebkitUserSelect=g.WebkitTouchCallout="none",g.touchAction=m.drag===!0?"none":`pan-${m.drag==="x"?"y":"x"}`),m.tabIndex===void 0&&(m.onTap||m.onTapStart||m.whileTap)&&(l.tabIndex=0),l.style=g,l}const VE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qo(m){return m.startsWith("while")||m.startsWith("drag")&&m!=="draggable"||m.startsWith("layout")||m.startsWith("onTap")||m.startsWith("onPan")||m.startsWith("onLayout")||VE.has(m)}let x0=m=>!Qo(m);function UE(m){m&&(x0=C=>C.startsWith("on")?!Qo(C):m(C))}try{UE(require("@emotion/is-prop-valid").default)}catch{}function zE(m,C,l){const g={};for(const t in m)t==="values"&&typeof m.values=="object"||(x0(t)||l===!0&&Qo(t)||!C&&!Qo(t)||m.draggable&&t.startsWith("onDrag"))&&(g[t]=m[t]);return g}function YE(m,C,l,g){const t=gt.useMemo(()=>{const e=p0();return Qf(e,C,Jf(g),m.transformTemplate),{...e.attrs,style:{...e.style}}},[C]);if(m.style){const e={};g0(e,m.style,m),t.style={...e,...t.style}}return t}function XE(m=!1){return(l,g,t,{latestValues:e},h)=>{const a=(jf(l)?YE:GE)(g,e,h,l),s=zE(g,typeof l=="string",m),i=l!==gt.Fragment?{...s,...a,ref:t}:{},{children:n}=g,f=gt.useMemo(()=>Fe(n)?n.get():n,[n]);return gt.createElement(l,{...i,children:f})}}function WE(m,C){return function(g,{forwardMotionProps:t}={forwardMotionProps:!1}){const h={...jf(g)?IE:BE,preloadedFeatures:m,useRender:XE(t),createVisualElement:C,Component:g};return gE(h)}}const af={current:null},y0={current:!1};function HE(){if(y0.current=!0,!!Hf)if(window.matchMedia){const m=window.matchMedia("(prefers-reduced-motion)"),C=()=>af.current=m.matches;m.addListener(C),C()}else af.current=!1}function jE(m,C,l){for(const g in C){const t=C[g],e=l[g];if(Fe(t))m.addValue(g,t);else if(Fe(e))m.addValue(g,sa(t,{owner:m}));else if(e!==t)if(m.hasValue(g)){const h=m.getValue(g);h.liveStyle===!0?h.jump(t):h.hasAnimated||h.set(t)}else{const h=m.getStaticValue(g);m.addValue(g,sa(h!==void 0?h:t,{owner:m}))}}for(const g in l)C[g]===void 0&&m.removeValue(g);return C}const dm=new WeakMap,KE=[...ig,Oe,Bn],bE=m=>KE.find(eg(m)),cm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZE{scrapeMotionValuesFromProps(C,l,g){return{}}constructor({parent:C,props:l,presenceContext:g,reducedMotionConfig:t,blockInitialAnimation:e,visualState:h},r={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Of,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Gi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Kt.render(this.render,!1,!0))};const{latestValues:a,renderState:s}=h;this.latestValues=a,this.baseTarget={...a},this.initialValues=l.initial?{...a}:{},this.renderState=s,this.parent=C,this.props=l,this.presenceContext=g,this.depth=C?C.depth+1:0,this.reducedMotionConfig=t,this.options=r,this.blockInitialAnimation=!!e,this.isControllingVariants=xl(l),this.isVariantNode=l0(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(C&&C.current);const{willChange:i,...n}=this.scrapeMotionValuesFromProps(l,{},this);for(const f in n){const o=n[f];a[f]!==void 0&&Fe(o)&&o.set(a[f],!1)}}mount(C){this.current=C,dm.set(C,this),this.projection&&!this.projection.instance&&this.projection.mount(C),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,g)=>this.bindToMotionValue(g,l)),y0.current||HE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:af.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dm.delete(this.current),this.projection&&this.projection.unmount(),an(this.notifyUpdate),an(this.render),this.valueSubscriptions.forEach(C=>C()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const C in this.events)this.events[C].clear();for(const C in this.features){const l=this.features[C];l&&(l.unmount(),l.isMounted=!1)}this.current=null}bindToMotionValue(C,l){this.valueSubscriptions.has(C)&&this.valueSubscriptions.get(C)();const g=wn.has(C),t=l.on("change",r=>{this.latestValues[C]=r,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),g&&this.projection&&(this.projection.isTransformDirty=!0)}),e=l.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,C,l)),this.valueSubscriptions.set(C,()=>{t(),e(),h&&h(),l.owner&&l.stop()})}sortNodePosition(C){return!this.current||!this.sortInstanceNodePosition||this.type!==C.type?0:this.sortInstanceNodePosition(this.current,C.current)}updateFeatures(){let C="animation";for(C in _r){const l=_r[C];if(!l)continue;const{isEnabled:g,Feature:t}=l;if(!this.features[C]&&t&&g(this.props)&&(this.features[C]=new t(this)),this.features[C]){const e=this.features[C];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(C){return this.latestValues[C]}setStaticValue(C,l){this.latestValues[C]=l}update(C,l){(C.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=C,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let g=0;g<cm.length;g++){const t=cm[g];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const e="on"+t,h=C[e];h&&(this.propEventSubscriptions[t]=this.on(t,h))}this.prevMotionValues=jE(this,this.scrapeMotionValuesFromProps(C,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(C){return this.props.variants?this.props.variants[C]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(C){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(C),()=>l.variantChildren.delete(C)}addValue(C,l){const g=this.values.get(C);l!==g&&(g&&this.removeValue(C),this.bindToMotionValue(C,l),this.values.set(C,l),this.latestValues[C]=l.get())}removeValue(C){this.values.delete(C);const l=this.valueSubscriptions.get(C);l&&(l(),this.valueSubscriptions.delete(C)),delete this.latestValues[C],this.removeValueFromRenderState(C,this.renderState)}hasValue(C){return this.values.has(C)}getValue(C,l){if(this.props.values&&this.props.values[C])return this.props.values[C];let g=this.values.get(C);return g===void 0&&l!==void 0&&(g=sa(l===null?void 0:l,{owner:this}),this.addValue(C,g)),g}readValue(C,l){var g;let t=this.latestValues[C]!==void 0||!this.current?this.latestValues[C]:(g=this.getBaseTargetFromProps(this.props,C))!==null&&g!==void 0?g:this.readValueFromInstance(this.current,C,this.options);return t!=null&&(typeof t=="string"&&(km(t)||Jm(t))?t=parseFloat(t):!bE(t)&&Bn.test(l)&&(t=hg(C,l)),this.setBaseTarget(C,Fe(t)?t.get():t)),Fe(t)?t.get():t}setBaseTarget(C,l){this.baseTarget[C]=l}getBaseTarget(C){var l;const{initial:g}=this.props;let t;if(typeof g=="string"||typeof g=="object"){const h=Cf(this.props,g,(l=this.presenceContext)===null||l===void 0?void 0:l.custom);h&&(t=h[C])}if(g&&t!==void 0)return t;const e=this.getBaseTargetFromProps(this.props,C);return e!==void 0&&!Fe(e)?e:this.initialValues[C]!==void 0&&t===void 0?void 0:this.baseTarget[C]}on(C,l){return this.events[C]||(this.events[C]=new zf),this.events[C].add(l)}notify(C,...l){this.events[C]&&this.events[C].notify(...l)}}class T0 extends ZE{constructor(){super(...arguments),this.KeyframeResolver=fg}sortInstanceNodePosition(C,l){return C.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(C,l){return C.style?C.style[l]:void 0}removeValueFromRenderState(C,{vars:l,style:g}){delete l[C],delete g[C]}}function $E(m){return window.getComputedStyle(m)}class QE extends T0{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=u0}readValueFromInstance(C,l){if(wn.has(l)){const g=If(l);return g&&g.default||0}else{const g=$E(C),t=(_m(l)?g.getPropertyValue(l):g[l])||0;return typeof t=="string"?t.trim():t}}measureInstanceViewportBox(C,{transformPagePoint:l}){return bg(C,l)}build(C,l,g){$f(C,l,g.transformTemplate)}scrapeMotionValuesFromProps(C,l,g){return Kf(C,l,g)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:C}=this.props;Fe(C)&&(this.childSubscription=C.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}class JE extends T0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(C,l){return C[l]}readValueFromInstance(C,l){if(wn.has(l)){const g=If(l);return g&&g.default||0}return l=h0.has(l)?l:vl(l),C.getAttribute(l)}scrapeMotionValuesFromProps(C,l,g){return c0(C,l,g)}build(C,l,g){Qf(C,l,this.isSVGTag,g.transformTemplate)}renderInstance(C,l,g,t){f0(C,l,g,t)}mount(C){this.isSVGTag=Jf(C.tagName),super.mount(C)}}const kE=(m,C)=>jf(m)?new JE(C):new QE(C,{allowProjection:m!==gt.Fragment}),qE=WE({...z2,...oE,...JS,...lE},kE),un=B1(qE);class _E extends gt.Component{getSnapshotBeforeUpdate(C){const l=this.props.childRef.current;if(l&&C.isPresent&&!this.props.isPresent){const g=this.props.sizeRef.current;g.height=l.offsetHeight||0,g.width=l.offsetWidth||0,g.top=l.offsetTop,g.left=l.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tC({children:m,isPresent:C}){const l=gt.useId(),g=gt.useRef(null),t=gt.useRef({width:0,height:0,top:0,left:0}),{nonce:e}=gt.useContext(Wf);return gt.useInsertionEffect(()=>{const{width:h,height:r,top:a,left:s}=t.current;if(C||!g.current||!h||!r)return;g.current.dataset.motionPopId=l;const i=document.createElement("style");return e&&(i.nonce=e),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${r}px !important;
            top: ${a}px !important;
            left: ${s}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[C]),lt.jsx(_E,{isPresent:C,childRef:g,sizeRef:t,children:gt.cloneElement(m,{ref:g})})}const eC=({children:m,initial:C,isPresent:l,onExitComplete:g,custom:t,presenceAffectsLayout:e,mode:h})=>{const r=bf(iC),a=gt.useId(),s=gt.useMemo(()=>({id:a,initial:C,isPresent:l,custom:t,onExitComplete:i=>{r.set(i,!0);for(const n of r.values())if(!n)return;g&&g()},register:i=>(r.set(i,!1),()=>r.delete(i))}),e?[Math.random()]:[l]);return gt.useMemo(()=>{r.forEach((i,n)=>r.set(n,!1))},[l]),gt.useEffect(()=>{!l&&!r.size&&g&&g()},[l]),h==="popLayout"&&(m=lt.jsx(tC,{isPresent:l,children:m})),lt.jsx(ml.Provider,{value:s,children:m})};function iC(){return new Map}const Do=m=>m.key||"";function vm(m){const C=[];return gt.Children.forEach(m,l=>{gt.isValidElement(l)&&C.push(l)}),C}const nC=({children:m,exitBeforeEnter:C,custom:l,initial:g=!0,onExitComplete:t,presenceAffectsLayout:e=!0,mode:h="sync"})=>{const r=gt.useMemo(()=>vm(m),[m]),a=r.map(Do),s=gt.useRef(!0),i=gt.useRef(r),n=bf(()=>new Map),[f,o]=gt.useState(r),[u,d]=gt.useState(r);s0(()=>{s.current=!1,i.current=r;for(let p=0;p<u.length;p++){const x=Do(u[p]);a.includes(x)?n.delete(x):n.get(x)!==!0&&n.set(x,!1)}},[u,a.length,a.join("-")]);const c=[];if(r!==f){let p=[...r];for(let x=0;x<u.length;x++){const y=u[x],S=Do(y);a.includes(S)||(p.splice(x,0,y),c.push(y))}h==="wait"&&c.length&&(p=c),d(vm(p)),o(r);return}const{forceRender:v}=gt.useContext(Yf);return lt.jsx(lt.Fragment,{children:u.map(p=>{const x=Do(p),y=r===u||a.includes(x),S=()=>{if(n.has(x))n.set(x,!0);else return;let E=!0;n.forEach(A=>{A||(E=!1)}),E&&(v==null||v(),d(i.current),t&&t())};return lt.jsx(eC,{isPresent:y,initial:!s.current||g?void 0:!1,custom:y?void 0:l,presenceAffectsLayout:e,mode:h,onExitComplete:y?void 0:S,children:p},x)})})},rC="_title_11eew_1",sC="_mainMenuButton_11eew_9",Oh={title:rC,mainMenuButton:sC},aC={active:!1,visible:!1,key:"MainMenu"};class oC extends Phaser.Scene{constructor(){super(aC);Gt(this,"reactOverlay");Gt(this,"choiceSelectSound");Gt(this,"menuMusic");Gt(this,"backgroundImage")}create(){this.choiceSelectSound=this.sound.add("choice-select"),this.backgroundImage=this.add.image(0,0,"main-menu").setOrigin(0,0).setAlpha(0),this.menuMusic=this.sound.add("main-menu-music",{loop:!0}),this.menuMusic.play();const l=()=>{const[g,t]=gt.useState(.001),e=()=>{this.tweens.add({targets:this.backgroundImage,alpha:0,duration:1e3,ease:"Linear"}),this.tweens.add({targets:this.menuMusic,volume:0,duration:500}),t(0),this.choiceSelectSound.play()},h=a=>{a.opacity===0&&(this.menuMusic.stop(),this.scene.start("World"))},r=()=>{this.menuMusic.stop(),this.choiceSelectSound.play(),this.scene.start("DialogueList")};return gt.useEffect(()=>{this.fadeInImage(()=>t(1))}),lt.jsxs(un.div,{initial:{opacity:g},animate:{opacity:g},transition:{duration:1},onAnimationComplete:h,children:[lt.jsx("h1",{className:Oh.title,children:"r e a p e r"}),lt.jsx("div",{className:Oh.mainMenuButton,onClick:e,children:"start game"}),lt.jsx("div",{className:Oh.mainMenuButton,onClick:r,children:"show dialogue list"})]})};this.reactOverlay.create(lt.jsx(l,{}),this)}fadeInImage(l){this.tweens.add({targets:this.backgroundImage,alpha:1,duration:1e3,ease:"Linear",onComplete:()=>{l()}})}}const lC="_loadingContainer_v2rpt_1",uC="_spinner_v2rpt_10",hC="_cube1_v2rpt_17",fC="_cube2_v2rpt_17",dC="_loadingText_v2rpt_29",zr={loadingContainer:lC,spinner:uC,cube1:hC,cube2:fC,"sk-cubemove":"_sk-cubemove_v2rpt_1",loadingText:dC},of=(m,C,l)=>Math.min(Math.max(C,m),l),cC=m=>Math.floor(Math.random()*m);var ge=(m=>(m.NORMAL="NORMAL",m.EXHAUSTED="EXHAUSTED",m.DEAD="DEAD",m))(ge||{});const vC=(m,C)=>{m.health+C>m.maxHealth&&(m.bleed-=m.health+C-m.maxHealth),m.health=Math.min(m.maxHealth,m.health+C)},S0=(m,C)=>{const l=m.bleed+C;m.bleed=of(0,l,m.health)},Fh=(m,C)=>{m.actionPoints=Math.min(m.maxActionPoints,m.actionPoints+C)},E0=(m,C)=>{if(m.status==="EXHAUSTED"&&(C*=2),C<0){S0(m,C);return}if(m.bleed+C>m.health){const l=m.health-(m.bleed+C-m.health);m.health=of(0,l,m.maxHealth),m.bleed=m.health}else{const l=m.bleed+C;m.bleed=of(0,l,m.health)}};var Ht=(m=>(m.FOLDER="folder",m.ENEMY="enemy",m.ALLY="ally",m.ITEM="item",m.ACTION="action",m.TECHNIQUE="technique",m))(Ht||{}),Bi=(m=>(m.SELF="SElF",m.SINGLE_TARGET="SINGLE_TARGET",m.ENEMIES="ENEMIES",m.ALLIES="ALLIES",m))(Bi||{});const pC=(m,C,l)=>{E0(m,l)},mC=(m,C,l)=>{S0(m,-l)},gC={type:Ht.ACTION,name:"Shatter",actionPointsCost:0,targetType:Bi.SELF,soundKeyName:"charged",description:"Deals damage",resolve:(m,C,l)=>{const g=[...C.activeTechniques].reduce((t,e)=>e.actionPointsCost+t,0);C.actionPoints+=g,C.activeTechniques=new Set},potency:50},va={type:Ht.ACTION,name:"Attack",actionPointsCost:1,targetType:Bi.ENEMIES,soundKeyName:"attack",description:"Deals damage",resolve:pC,potency:50},kf={type:Ht.ACTION,name:"Stanch",actionPointsCost:1,targetType:Bi.SELF,description:"Heals bleed on self",resolve:mC,potency:50,soundKeyName:"heal"},C0={type:Ht.TECHNIQUE,name:"Haste",actionPointsCost:1,description:"Technique: Increase Speed",soundKeyName:"smirk"},A0={type:Ht.TECHNIQUE,name:"Buff",actionPointsCost:1,description:"Technique: Increase Speed",soundKeyName:"smirk"},xC={type:Ht.FOLDER,name:"Cloud",desc:"Soul of Cloud",options:[va,kf,C0,A0,gC]},yC={type:Ht.ALLY,name:"Cloud",health:100,maxHealth:100,bleed:0,actionPoints:.1,maxActionPoints:2,actionPointsRegenRatePerSecond:.13,folder:xC,activeTechniques:new Set,status:ge.NORMAL,position:[-2,0,2],menuPortraitPath:"/reaper/characters/menu/cloud.png"},TC={type:Ht.FOLDER,name:"Barret",desc:"Soul of Barret",options:[va,kf]},SC={type:Ht.ALLY,name:"Barret",health:100,maxHealth:100,bleed:0,actionPoints:.4,maxActionPoints:2,actionPointsRegenRatePerSecond:.12,folder:TC,activeTechniques:new Set,status:ge.NORMAL,position:[0,0,2],menuPortraitPath:"/reaper/characters/menu/barret.png"},EC={type:Ht.FOLDER,desc:"Soul of Tifa",name:"Tifa",options:[va,kf]},CC={type:Ht.ALLY,name:"Tifa",health:100,bleed:0,maxHealth:100,actionPoints:0,maxActionPoints:3,actionPointsRegenRatePerSecond:.08,folder:EC,activeTechniques:new Set,status:ge.NORMAL,position:[2,0,2],menuPortraitPath:"/reaper/characters/menu/tifa.png"},AC=[yC,SC,CC],PC={type:Ht.ITEM,name:"Bomb",targetType:Bi.SINGLE_TARGET,soundKeyName:"attack",description:"Deals damage to target",execute:(m,C)=>{E0(m,50)},charges:1,maxCharges:3,castTimeInMs:250,canUseOutsideBattle:!1},MC={type:Ht.ITEM,name:"Potion",targetType:Bi.SINGLE_TARGET,soundKeyName:"heal",description:"Heals target",execute:m=>{vC(m,50)},charges:3,maxCharges:3,castTimeInMs:250,canUseOutsideBattle:!0},RC=[PC,MC],LC="Encounter",OC={active:!1,visible:!1,key:"Boot"};class FC extends Phaser.Scene{constructor(){super(OC);Gt(this,"reactOverlay")}preload(){this.registry.set("allies",AC),this.registry.set("inventory",RC);const l=()=>{const[g,t]=gt.useState(0),[e,h]=gt.useState(""),[r,a]=gt.useState(1);return gt.useEffect(()=>{this.load.on("progress",s=>t(Math.trunc(s*100))),this.load.on("fileprogress",s=>h(s.key)),this.load.on("complete",()=>a(0))}),lt.jsxs(un.div,{animate:{opacity:r},transition:{duration:.2},className:zr.loadingContainer,onAnimationComplete:s=>{s.opacity===0&&this.scene.start(LC)},children:[lt.jsxs("div",{className:zr.spinner,children:[lt.jsx("div",{className:zr.cube1}),lt.jsx("div",{className:zr.cube2})]}),lt.jsxs("div",{className:zr.loadingText,children:[g,"%"]}),lt.jsxs("div",{className:zr.loadingText,children:["Loading: ",e]})]})};this.reactOverlay.create(lt.jsx(l,{}),this),this.loadAssets()}loadAssets(){this.load.image("tiles","../reaper/tilesets/tuxmon-sample-32px-extruded.png"),this.load.tilemapTiledJSON("map","../reaper/tilemaps/tuxemon-town.json"),this.load.aseprite("shizuka","/reaper/sprites/shizuka.png","/reaper/sprites/shizuka.json"),this.load.image("rise","/reaper/characters/rise.png"),this.load.image("eji","/reaper/characters/eji.png"),this.load.image("slime","/reaper/sprites/slime.png"),this.load.image("main-menu","/reaper/backgrounds/main-menu.png"),this.load.image("crosshair","/reaper/ui/crosshair.png"),this.load.image("pointer","/reaper/ui/pointer.png"),this.load.audio("choice-hover","/reaper/sounds/choice-hover.wav"),this.load.audio("choice-select","/reaper/sounds/choice-select.wav"),this.load.audio("dialogue-advance","/reaper/sounds/dialogue-advance.wav"),this.load.audio("battle-start","/reaper/sounds/battle-start-2.mp3"),this.load.audio("heal","/reaper/sounds/heal.mp3"),this.load.audio("block","/reaper/sounds/block.wav"),this.load.audio("attack","/reaper/sounds/attack.wav"),this.load.audio("debuff","/reaper/sounds/debuff.wav"),this.load.audio("smirk","/reaper/sounds/smirk.mp3"),this.load.audio("charged","/reaper/sounds/charged.mp3"),this.load.audio("slime-noise","/reaper/sounds/slime-noise.mp3"),this.load.audio("stamina-depleted","/reaper/sounds/stamina-depleted.wav"),this.load.audio("main-menu-music","/reaper/music/isolate.exe.mp3"),this.load.audio("knight","/reaper/music/knight.mp3"),this.load.text("mission-4","/reaper/scripts/mission-4.yaml"),this.load.text("mission-6","/reaper/scripts/mission-6.yaml"),this.load.text("mission-7","/reaper/scripts/mission-7.yaml"),this.load.text("random-scripts","/reaper/scripts/random-scripts.yaml")}}class DC{enter(C){C.anims.play({key:"skid-"+C.direction,repeat:0},!0)}update(C,l,g){const t=g.scene.input.activePointer;if(g.body.velocity.length()<25&&g.anims.play({key:"idle-"+g.direction,repeat:0},!0),t.isDown&&t.getDistance()>ir.DEAD_ZONE){g.transition(g.possibleBehaviorStates.runState);return}}}const ll=class ll{enter(C){}update(C,l,g){const t=g.scene.input.activePointer;if(!t.isDown){g.transition(g.possibleBehaviorStates.idleState);return}const e=t.velocity.normalize().scale(ll.MAX_ACCELERATION);let h=g.body.velocity.add(e);const r=h.normalize().scale(ir.SPEED);h=h.length<r.length?h:r,g.setVelocity(h.x,h.y),g.changeDirection(g.body.velocity.angle()),g.anims.play({key:"run-"+g.direction,repeat:-1},!0)}};Gt(ll,"MAX_ACCELERATION",30);let lf=ll;class ir extends Phaser.Physics.Arcade.Sprite{constructor(l,g,t){super(l,g,t,"shizuka");Gt(this,"direction","down-neutral");Gt(this,"behaviorState");Gt(this,"possibleBehaviorStates",{idleState:new DC,runState:new lf});this.scene.physics.world.enable(this),this.scene.add.existing(this),this.scene.anims.createFromAseprite("shizuka"),this.behaviorState=this.possibleBehaviorStates.idleState,this.setDamping(!0),this.setDrag(.05),this.setDebug(!0,!0,16777215)}update(l,g){this.behaviorState.update(l,g,this)}transition(l){this.behaviorState=l,this.behaviorState.enter(this)}changeDirection(l){const g=Math.floor(l*(180/Math.PI)),t=this.getVerticalDirection(g),e=this.getHorizontalDirection(g);this.direction=t+"-"+e,this.setFlipX(g>90&&g<270)}getVerticalDirection(l){return l>22&&l<157?"down":l>202&&l<337?"up":"neutral"}getHorizontalDirection(l){return l>67&&l<112||l>247&&l<292?"neutral":"right"}}Gt(ir,"SPEED",300),Gt(ir,"DEAD_ZONE",20),Gt(ir,"SWIPE_DURATION_THRESHOLD",500),Gt(ir,"SWIPE_DISTANCE_THRESHOLD",100);const IC="_menuContainer_pxytc_1",BC="_menuContent_pxytc_12",NC="_window_pxytc_16",wC="_partyContainer_pxytc_25",GC="_inventoryContainer_pxytc_25",VC="_item_pxytc_32",UC="_abilitiesContainer_pxytc_40",zC="_ally_pxytc_44",YC="_navigation_pxytc_48",XC="_navigationButton_pxytc_67",Ce={menuContainer:IC,menuContent:BC,window:NC,partyContainer:wC,inventoryContainer:GC,item:VC,abilitiesContainer:UC,ally:zC,navigation:YC,navigationButton:XC},P0=m=>lt.jsx("div",{className:Ce.window,style:{display:"flex",justifyContent:"space-around",padding:"5px"},children:m.scene.allies.map(C=>lt.jsxs("div",{className:Ce.ally,children:[lt.jsx("img",{src:C.menuPortraitPath,style:{maxWidth:"70%"}}),lt.jsx("div",{children:C.name}),lt.jsxs("div",{children:["HP ",C.health,"/",C.maxHealth]})]},C.name))}),pm=m=>lt.jsxs("div",{className:Ce.partyContainer,children:[lt.jsx("div",{className:Ce.window,style:{marginBottom:"5px"},children:"desc placeholder"}),lt.jsx("div",{className:Ce.abilitiesContainer,children:lt.jsx("div",{children:"abilities placeholder"})}),lt.jsx(P0,{scene:m.scene})]}),WC=m=>lt.jsxs("div",{className:Ce.inventoryContainer,children:[lt.jsx("div",{className:Ce.window,style:{marginBottom:"5px"},children:"desc placeholder"}),lt.jsx(P0,{scene:m.scene}),lt.jsx("div",{className:Ce.window,style:{flex:1,padding:"5px",marginTop:"5px"},children:m.scene.inventory.map(C=>lt.jsx("div",{children:lt.jsx("button",{className:Ce.item,disabled:!C.canUseOutsideBattle||C.charges===0,children:`${C.name} ${C.charges}/${C.maxCharges}`})},C.name))})]}),HC=m=>{const[C,l]=gt.useState(!1),[g,t]=gt.useState(null),e=()=>{m.scene.allies=m.scene.registry.get("allies"),l(!C),m.scene.pause(),t(lt.jsx(pm,{scene:m.scene}))},h=()=>{m.scene.choiceSelectSound.play(),t(lt.jsx(pm,{scene:m.scene}))},r=()=>{m.scene.choiceSelectSound.play(),t(lt.jsx(WC,{scene:m.scene}))},a=()=>{m.scene.choiceSelectSound.play(),l(!C),t(null),m.scene.unpause()};return lt.jsxs("div",{className:Ce.menuContainer,children:[lt.jsx("div",{className:Ce.menuContent,children:g}),lt.jsx(un.div,{animate:{width:C?"100%":"100px"},className:Ce.navigation,children:C?lt.jsxs(lt.Fragment,{children:[lt.jsx("div",{className:Ce.navigationButton,onClick:h,children:"party"}),lt.jsx("div",{className:Ce.navigationButton,onClick:r,children:"inv"}),lt.jsx("div",{className:Ce.navigationButton,onClick:()=>m.scene.battle(),children:"battle"}),lt.jsx("div",{className:Ce.navigationButton,onClick:a,children:"exit"})]}):lt.jsx("div",{className:Ce.navigationButton,onClick:e,children:"menu"})})]})},jC=m=>m.health!==0,M0=(m,C)=>{const l=m.battleStore.allies.filter(jC);return l.at(cC(l.length))},KC={type:Ht.ENEMY,name:"Fencer",health:100,maxHealth:200,bleed:0,actionPoints:0,maxActionPoints:125,actionPointsRegenRatePerSecond:8,strategies:[{potentialOptions:[{option:va,getTarget:M0,cadence:500,singleUse:!1}],toExit:(m,C)=>m.actionPoints<25,toEnter:m=>m.actionPoints>100},{potentialOptions:[],toExit:(m,C)=>m.actionPoints>100,toEnter:m=>m.actionPoints>50},{potentialOptions:[],toExit:(m,C)=>m.actionPoints>50,toEnter:()=>!0}],timeTilNextAction:0,status:ge.NORMAL,position:[-1,0,-10],activeTechniques:new Set},bC={type:Ht.ENEMY,name:"Knight",health:200,maxHealth:200,bleed:0,actionPoints:0,maxActionPoints:125,actionPointsRegenRatePerSecond:5,strategies:[{potentialOptions:[{option:va,getTarget:M0,cadence:500,singleUse:!1}],toExit:(m,C)=>m.actionPoints<25,toEnter:m=>m.actionPoints>75},{potentialOptions:[],toExit:(m,C)=>m.actionPoints>75,toEnter:()=>!0}],timeTilNextAction:0,status:ge.NORMAL,position:[1,0,-5],activeTechniques:new Set},ZC={active:!1,visible:!1,key:"World"};class $C extends Phaser.Scene{constructor(){super(ZC);Gt(this,"player");Gt(this,"reactOverlay");Gt(this,"choiceSelectSound");Gt(this,"allies");Gt(this,"inventory")}create(){this.allies=this.registry.get("allies"),this.inventory=this.registry.get("inventory"),this.choiceSelectSound=this.sound.add("choice-select");const l=this.make.tilemap({key:"map"}),g=l.addTilesetImage("tuxmon-sample-32px-extruded","tiles");l.createLayer("Below Player",g,0,0);const t=l.createLayer("World",g,0,0).setCollisionByProperty({collides:!0});l.createLayer("Above Player",g,0,0).setDepth(10);const e=l.findObject("Objects",h=>h.name==="Spawn Point");this.player=new ir(this,e.x,e.y),this.physics.add.collider(this.player,t),this.cameras.main.startFollow(this.player),this.cameras.main.fadeIn(1200),this.reactOverlay.create(lt.jsx(HC,{scene:this}),this)}update(l,g){this.player.update(l,g)}pause(){this.choiceSelectSound.play(),this.scene.pause("World")}unpause(){this.choiceSelectSound.play(),this.scene.resume("World")}battle(){this.choiceSelectSound.play(),this.scene.pause(),this.scene.run("Battle",{enemies:[KC]})}world(){this.choiceSelectSound.play(),this.scene.manager.getScenes(!1).forEach(l=>{this.scene.stop(l.scene.key)}),this.scene.start("MainMenu")}}function Yt(m){for(var C=arguments.length,l=new Array(C>1?C-1:0),g=1;g<C;g++)l[g-1]=arguments[g];throw new Error(typeof m=="number"?"[MobX] minified error nr: "+m+(l.length?" "+l.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+m)}var QC={};function qf(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:QC}var R0=Object.assign,Jo=Object.getOwnPropertyDescriptor,Vi=Object.defineProperty,yl=Object.prototype,uf=[];Object.freeze(uf);var L0={};Object.freeze(L0);var JC=typeof Proxy<"u",kC=Object.toString();function O0(){JC||Yt("Proxy not available")}function F0(m){var C=!1;return function(){if(!C)return C=!0,m.apply(this,arguments)}}var Zr=function(){};function Ai(m){return typeof m=="function"}function ar(m){var C=typeof m;switch(C){case"string":case"symbol":case"number":return!0}return!1}function Tl(m){return m!==null&&typeof m=="object"}function on(m){if(!Tl(m))return!1;var C=Object.getPrototypeOf(m);if(C==null)return!0;var l=Object.hasOwnProperty.call(C,"constructor")&&C.constructor;return typeof l=="function"&&l.toString()===kC}function D0(m){var C=m==null?void 0:m.constructor;return C?C.name==="GeneratorFunction"||C.displayName==="GeneratorFunction":!1}function pa(m,C,l){Vi(m,C,{enumerable:!1,writable:!0,configurable:!0,value:l})}function I0(m,C,l){Vi(m,C,{enumerable:!1,writable:!1,configurable:!0,value:l})}function hr(m,C){var l="isMobX"+m;return C.prototype[l]=!0,function(g){return Tl(g)&&g[l]===!0}}function rs(m){return m!=null&&Object.prototype.toString.call(m)==="[object Map]"}function qC(m){var C=Object.getPrototypeOf(m),l=Object.getPrototypeOf(C),g=Object.getPrototypeOf(l);return g===null}function Qi(m){return m!=null&&Object.prototype.toString.call(m)==="[object Set]"}var B0=typeof Object.getOwnPropertySymbols<"u";function _C(m){var C=Object.keys(m);if(!B0)return C;var l=Object.getOwnPropertySymbols(m);return l.length?[].concat(C,l.filter(function(g){return yl.propertyIsEnumerable.call(m,g)})):C}var ts=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:B0?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:Object.getOwnPropertyNames;function N0(m){return m===null?null:typeof m=="object"?""+m:m}function rn(m,C){return yl.hasOwnProperty.call(m,C)}var tA=Object.getOwnPropertyDescriptors||function(C){var l={};return ts(C).forEach(function(g){l[g]=Jo(C,g)}),l};function Qe(m,C){return!!(m&C)}function Je(m,C,l){return l?m|=C:m&=~C,m}function mm(m,C){(C==null||C>m.length)&&(C=m.length);for(var l=0,g=Array(C);l<C;l++)g[l]=m[l];return g}function eA(m,C){for(var l=0;l<C.length;l++){var g=C[l];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,nA(g.key),g)}}function ss(m,C,l){return C&&eA(m.prototype,C),Object.defineProperty(m,"prototype",{writable:!1}),m}function $r(m,C){var l=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(l)return(l=l.call(m)).next.bind(l);if(Array.isArray(m)||(l=rA(m))||C){l&&(m=l);var g=0;return function(){return g>=m.length?{done:!0}:{done:!1,value:m[g++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(){return or=Object.assign?Object.assign.bind():function(m){for(var C=1;C<arguments.length;C++){var l=arguments[C];for(var g in l)({}).hasOwnProperty.call(l,g)&&(m[g]=l[g])}return m},or.apply(null,arguments)}function w0(m,C){m.prototype=Object.create(C.prototype),m.prototype.constructor=m,hf(m,C)}function hf(m,C){return hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,g){return l.__proto__=g,l},hf(m,C)}function iA(m,C){if(typeof m!="object"||!m)return m;var l=m[Symbol.toPrimitive];if(l!==void 0){var g=l.call(m,C);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}function nA(m){var C=iA(m,"string");return typeof C=="symbol"?C:C+""}function rA(m,C){if(m){if(typeof m=="string")return mm(m,C);var l={}.toString.call(m).slice(8,-1);return l==="Object"&&m.constructor&&(l=m.constructor.name),l==="Map"||l==="Set"?Array.from(m):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?mm(m,C):void 0}}var Ni=Symbol("mobx-stored-annotations");function Ui(m){function C(l,g){if(ma(g))return m.decorate_20223_(l,g);as(l,g,m)}return Object.assign(C,m)}function as(m,C,l){rn(m,Ni)||pa(m,Ni,or({},m[Ni])),cA(l)||(m[Ni][C]=l)}function sA(m){return rn(m,Ni)||pa(m,Ni,or({},m[Ni])),m[Ni]}function ma(m){return typeof m=="object"&&typeof m.kind=="string"}var It=Symbol("mobx administration"),Vn=function(){function m(l){l===void 0&&(l="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Wt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=l}var C=m.prototype;return C.onBO=function(){this.onBOL&&this.onBOL.forEach(function(g){return g()})},C.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(g){return g()})},C.reportObserved=function(){return k0(this)},C.reportChanged=function(){fi(),q0(this),di()},C.toString=function(){return this.name_},ss(m,[{key:"isBeingObserved",get:function(){return Qe(this.flags_,m.isBeingObservedMask_)},set:function(g){this.flags_=Je(this.flags_,m.isBeingObservedMask_,g)}},{key:"isPendingUnobservation",get:function(){return Qe(this.flags_,m.isPendingUnobservationMask_)},set:function(g){this.flags_=Je(this.flags_,m.isPendingUnobservationMask_,g)}},{key:"diffValue",get:function(){return Qe(this.flags_,m.diffValueMask_)?1:0},set:function(g){this.flags_=Je(this.flags_,m.diffValueMask_,g===1)}}])}();Vn.isBeingObservedMask_=1;Vn.isPendingUnobservationMask_=2;Vn.diffValueMask_=4;var _f=hr("Atom",Vn);function G0(m,C,l){C===void 0&&(C=Zr),l===void 0&&(l=Zr);var g=new Vn(m);return C!==Zr&&gP(g,C),l!==Zr&&nx(g,l),g}function aA(m,C){return m===C}function oA(m,C){return ad(m,C)}function lA(m,C){return ad(m,C,1)}function uA(m,C){return Object.is?Object.is(m,C):m===C?m!==0||1/m===1/C:m!==m&&C!==C}var ko={identity:aA,structural:oA,default:uA,shallow:lA};function lr(m,C,l){return lx(m)?m:Array.isArray(m)?Ae.array(m,{name:l}):on(m)?Ae.object(m,void 0,{name:l}):rs(m)?Ae.map(m,{name:l}):Qi(m)?Ae.set(m,{name:l}):typeof m=="function"&&!Pl(m)&&!oa(m)?D0(m)?es(m):aa(l,m):m}function hA(m,C,l){if(m==null||Rl(m)||Ml(m)||dr(m)||Ii(m))return m;if(Array.isArray(m))return Ae.array(m,{name:l,deep:!1});if(on(m))return Ae.object(m,void 0,{name:l,deep:!1});if(rs(m))return Ae.map(m,{name:l,deep:!1});if(Qi(m))return Ae.set(m,{name:l,deep:!1})}function Sl(m){return m}function fA(m,C){return ad(m,C)?C:m}var dA="override";function cA(m){return m.annotationType_===dA}function ga(m,C){return{annotationType_:m,options_:C,make_:vA,extend_:pA,decorate_20223_:mA}}function vA(m,C,l,g){var t;if((t=this.options_)!=null&&t.bound)return this.extend_(m,C,l,!1)===null?0:1;if(g===m.target_)return this.extend_(m,C,l,!1)===null?0:2;if(Pl(l.value))return 1;var e=V0(m,this,C,l,!1);return Vi(g,C,e),2}function pA(m,C,l,g){var t=V0(m,this,C,l);return m.defineProperty_(C,t,g)}function mA(m,C){var l=C.kind,g=C.name,t=C.addInitializer,e=this,h=function(s){var i,n,f,o;return ur((i=(n=e.options_)==null?void 0:n.name)!=null?i:g.toString(),s,(f=(o=e.options_)==null?void 0:o.autoAction)!=null?f:!1)};if(l=="field"){t(function(){as(this,g,e)});return}if(l=="method"){var r;return Pl(m)||(m=h(m)),(r=this.options_)!=null&&r.bound&&t(function(){var a=this,s=a[g].bind(a);s.isMobxAction=!0,a[g]=s}),m}Yt("Cannot apply '"+e.annotationType_+"' to '"+String(g)+"' (kind: "+l+"):"+(`
'`+e.annotationType_+"' can only be used on properties with a function value."))}function gA(m,C,l,g){C.annotationType_,g.value}function V0(m,C,l,g,t){var e,h,r,a,s,i,n;t===void 0&&(t=xt.safeDescriptors),gA(m,C,l,g);var f=g.value;if((e=C.options_)!=null&&e.bound){var o;f=f.bind((o=m.proxy_)!=null?o:m.target_)}return{value:ur((h=(r=C.options_)==null?void 0:r.name)!=null?h:l.toString(),f,(a=(s=C.options_)==null?void 0:s.autoAction)!=null?a:!1,(i=C.options_)!=null&&i.bound?(n=m.proxy_)!=null?n:m.target_:void 0),configurable:t?m.isPlainObject_:!0,enumerable:!1,writable:!t}}function U0(m,C){return{annotationType_:m,options_:C,make_:xA,extend_:yA,decorate_20223_:TA}}function xA(m,C,l,g){var t;if(g===m.target_)return this.extend_(m,C,l,!1)===null?0:2;if((t=this.options_)!=null&&t.bound&&(!rn(m.target_,C)||!oa(m.target_[C]))&&this.extend_(m,C,l,!1)===null)return 0;if(oa(l.value))return 1;var e=z0(m,this,C,l,!1,!1);return Vi(g,C,e),2}function yA(m,C,l,g){var t,e=z0(m,this,C,l,(t=this.options_)==null?void 0:t.bound);return m.defineProperty_(C,e,g)}function TA(m,C){var l,g=C.name,t=C.addInitializer;return oa(m)||(m=es(m)),(l=this.options_)!=null&&l.bound&&t(function(){var e=this,h=e[g].bind(e);h.isMobXFlow=!0,e[g]=h}),m}function SA(m,C,l,g){C.annotationType_,g.value}function z0(m,C,l,g,t,e){e===void 0&&(e=xt.safeDescriptors),SA(m,C,l,g);var h=g.value;if(oa(h)||(h=es(h)),t){var r;h=h.bind((r=m.proxy_)!=null?r:m.target_),h.isMobXFlow=!0}return{value:h,configurable:e?m.isPlainObject_:!0,enumerable:!1,writable:!e}}function td(m,C){return{annotationType_:m,options_:C,make_:EA,extend_:CA,decorate_20223_:AA}}function EA(m,C,l){return this.extend_(m,C,l,!1)===null?0:1}function CA(m,C,l,g){return PA(m,this,C,l),m.defineComputedProperty_(C,or({},this.options_,{get:l.get,set:l.set}),g)}function AA(m,C){var l=this,g=C.name,t=C.addInitializer;return t(function(){var e=cr(this)[It],h=or({},l.options_,{get:m,context:this});h.name||(h.name="ObservableObject."+g.toString()),e.values_.set(g,new Pi(h))}),function(){return this[It].getObservablePropValue_(g)}}function PA(m,C,l,g){C.annotationType_,g.get}function El(m,C){return{annotationType_:m,options_:C,make_:MA,extend_:RA,decorate_20223_:LA}}function MA(m,C,l){return this.extend_(m,C,l,!1)===null?0:1}function RA(m,C,l,g){var t,e;return OA(m,this),m.defineObservableProperty_(C,l.value,(t=(e=this.options_)==null?void 0:e.enhancer)!=null?t:lr,g)}function LA(m,C){var l=this,g=C.kind,t=C.name,e=new WeakSet;function h(r,a){var s,i,n=cr(r)[It],f=new rr(a,(s=(i=l.options_)==null?void 0:i.enhancer)!=null?s:lr,"ObservableObject."+t.toString(),!1);n.values_.set(t,f),e.add(r)}if(g=="accessor")return{get:function(){return e.has(this)||h(this,m.get.call(this)),this[It].getObservablePropValue_(t)},set:function(a){return e.has(this)||h(this,a),this[It].setObservablePropValue_(t,a)},init:function(a){return e.has(this)||h(this,a),a}}}function OA(m,C,l,g){C.annotationType_}var FA="true",DA=Y0();function Y0(m){return{annotationType_:FA,options_:m,make_:IA,extend_:BA,decorate_20223_:NA}}function IA(m,C,l,g){var t,e;if(l.get)return Cl.make_(m,C,l,g);if(l.set){var h=ur(C.toString(),l.set);return g===m.target_?m.defineProperty_(C,{configurable:xt.safeDescriptors?m.isPlainObject_:!0,set:h})===null?0:2:(Vi(g,C,{configurable:!0,set:h}),2)}if(g!==m.target_&&typeof l.value=="function"){var r;if(D0(l.value)){var a,s=(a=this.options_)!=null&&a.autoBind?es.bound:es;return s.make_(m,C,l,g)}var i=(r=this.options_)!=null&&r.autoBind?aa.bound:aa;return i.make_(m,C,l,g)}var n=((t=this.options_)==null?void 0:t.deep)===!1?Ae.ref:Ae;if(typeof l.value=="function"&&(e=this.options_)!=null&&e.autoBind){var f;l.value=l.value.bind((f=m.proxy_)!=null?f:m.target_)}return n.make_(m,C,l,g)}function BA(m,C,l,g){var t,e;if(l.get)return Cl.extend_(m,C,l,g);if(l.set)return m.defineProperty_(C,{configurable:xt.safeDescriptors?m.isPlainObject_:!0,set:ur(C.toString(),l.set)},g);if(typeof l.value=="function"&&(t=this.options_)!=null&&t.autoBind){var h;l.value=l.value.bind((h=m.proxy_)!=null?h:m.target_)}var r=((e=this.options_)==null?void 0:e.deep)===!1?Ae.ref:Ae;return r.extend_(m,C,l,g)}function NA(m,C){Yt("'"+this.annotationType_+"' cannot be used as a decorator")}var wA="observable",GA="observable.ref",VA="observable.shallow",UA="observable.struct",X0={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(X0);function Io(m){return m||X0}var ff=El(wA),zA=El(GA,{enhancer:Sl}),YA=El(VA,{enhancer:hA}),XA=El(UA,{enhancer:fA}),W0=Ui(ff);function Bo(m){return m.deep===!0?lr:m.deep===!1?Sl:HA(m.defaultDecorator)}function WA(m){var C;return m?(C=m.defaultDecorator)!=null?C:Y0(m):void 0}function HA(m){var C,l;return m&&(C=(l=m.options_)==null?void 0:l.enhancer)!=null?C:lr}function H0(m,C,l){if(ma(C))return ff.decorate_20223_(m,C);if(ar(C)){as(m,C,ff);return}return lx(m)?m:on(m)?Ae.object(m,C,l):Array.isArray(m)?Ae.array(m,C):rs(m)?Ae.map(m,C):Qi(m)?Ae.set(m,C):typeof m=="object"&&m!==null?m:Ae.box(m,C)}R0(H0,W0);var jA={box:function(C,l){var g=Io(l);return new rr(C,Bo(g),g.name,!0,g.equals)},array:function(C,l){var g=Io(l);return(xt.useProxies===!1||g.proxy===!1?XP:DP)(C,Bo(g),g.name)},map:function(C,l){var g=Io(l);return new fx(C,Bo(g),g.name)},set:function(C,l){var g=Io(l);return new dx(C,Bo(g),g.name)},object:function(C,l,g){return Un(function(){return sx(xt.useProxies===!1||(g==null?void 0:g.proxy)===!1?cr({},g):RP({},g),C,l)})},ref:Ui(zA),shallow:Ui(YA),deep:W0,struct:Ui(XA)},Ae=R0(H0,jA),j0="computed",KA="computed.struct",df=td(j0),bA=td(KA,{equals:ko.structural}),Cl=function(C,l){if(ma(l))return df.decorate_20223_(C,l);if(ar(l))return as(C,l,df);if(on(C))return Ui(td(j0,C));var g=on(l)?l:{};return g.get=C,g.name||(g.name=C.name||""),new Pi(g)};Object.assign(Cl,df);Cl.struct=Ui(bA);var gm,xm,qo=0,ZA=1,$A=(gm=(xm=Jo(function(){},"name"))==null?void 0:xm.configurable)!=null?gm:!1,ym={value:"action",configurable:!0,writable:!1,enumerable:!1};function ur(m,C,l,g){l===void 0&&(l=!1);function t(){return QA(m,l,C,g||this,arguments)}return t.isMobxAction=!0,t.toString=function(){return C.toString()},$A&&(ym.value=m,Vi(t,"name",ym)),t}function QA(m,C,l,g,t){var e=JA(m,C);try{return l.apply(g,t)}catch(h){throw e.error_=h,h}finally{kA(e)}}function JA(m,C,l,g){var t=!1,e=0,h=xt.trackingDerivation,r=!C||!h;fi();var a=xt.allowStateChanges;r&&(fr(),a=ed(!0));var s=nd(!0),i={runAsAction_:r,prevDerivation_:h,prevAllowStateChanges_:a,prevAllowStateReads_:s,notifySpy_:t,startTime_:e,actionId_:ZA++,parentActionId_:qo};return qo=i.actionId_,i}function kA(m){qo!==m.actionId_&&Yt(30),qo=m.parentActionId_,m.error_!==void 0&&(xt.suppressReactionErrors=!0),id(m.prevAllowStateChanges_),_s(m.prevAllowStateReads_),di(),m.runAsAction_&&sn(m.prevDerivation_),xt.suppressReactionErrors=!1}function ed(m){var C=xt.allowStateChanges;return xt.allowStateChanges=m,C}function id(m){xt.allowStateChanges=m}var rr=function(m){function C(g,t,e,h,r){var a;return e===void 0&&(e="ObservableValue"),r===void 0&&(r=ko.default),a=m.call(this,e)||this,a.enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=t,a.name_=e,a.equals=r,a.value_=t(g,void 0,e),a}w0(C,m);var l=C.prototype;return l.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},l.set=function(t){this.value_,t=this.prepareNewValue_(t),t!==xt.UNCHANGED&&this.setNewValue_(t)},l.prepareNewValue_=function(t){if(ui(this)){var e=hi(this,{object:this,type:zi,newValue:t});if(!e)return xt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?xt.UNCHANGED:t},l.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),Ei(this)&&Ci(this,{type:zi,object:this,newValue:t,oldValue:e})},l.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},l.intercept_=function(t){return xa(this,t)},l.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:zi,newValue:this.value_,oldValue:void 0}),ya(this,t)},l.raw=function(){return this.value_},l.toJSON=function(){return this.get()},l.toString=function(){return this.name_+"["+this.value_+"]"},l.valueOf=function(){return N0(this.get())},l[Symbol.toPrimitive]=function(){return this.valueOf()},C}(Vn),Pi=function(){function m(l){this.dependenciesState_=Wt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Wt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new tl(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=_o.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,l.get||Yt(31),this.derivation=l.get,this.name_=l.name||"ComputedValue",l.set&&(this.setter_=ur("ComputedValue-setter",l.set)),this.equals_=l.equals||(l.compareStructural||l.struct?ko.structural:ko.default),this.scope_=l.context,this.requiresReaction_=l.requiresReaction,this.keepAlive_=!!l.keepAlive}var C=m.prototype;return C.onBecomeStale_=function(){iP(this)},C.onBO=function(){this.onBOL&&this.onBOL.forEach(function(g){return g()})},C.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(g){return g()})},C.get=function(){if(this.isComputing&&Yt(32,this.name_,this.derivation),xt.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)cf(this)&&(this.warnAboutUntrackedRead_(),fi(),this.value_=this.computeValue_(!1),di());else if(k0(this),cf(this)){var g=xt.trackingContext;this.keepAlive_&&!g&&(xt.trackingContext=this),this.trackAndCompute()&&eP(this),xt.trackingContext=g}var t=this.value_;if(Xo(t))throw t.cause;return t},C.set=function(g){if(this.setter_){this.isRunningSetter&&Yt(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,g)}finally{this.isRunningSetter=!1}}else Yt(34,this.name_)},C.trackAndCompute=function(){var g=this.value_,t=this.dependenciesState_===Wt.NOT_TRACKING_,e=this.computeValue_(!0),h=t||Xo(g)||Xo(e)||!this.equals_(g,e);return h&&(this.value_=e),h},C.computeValue_=function(g){this.isComputing=!0;var t=ed(!1),e;if(g)e=K0(this,this.derivation,this.scope_);else if(xt.disableErrorBoundaries===!0)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(h){e=new tl(h)}return id(t),this.isComputing=!1,e},C.suspend_=function(){this.keepAlive_||(vf(this),this.value_=void 0)},C.observe_=function(g,t){var e=this,h=!0,r=void 0;return dP(function(){var a=e.get();if(!h||t){var s=fr();g({observableKind:"computed",debugObjectName:e.name_,type:zi,object:e,newValue:a,oldValue:r}),sn(s)}h=!1,r=a})},C.warnAboutUntrackedRead_=function(){},C.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},C.valueOf=function(){return N0(this.get())},C[Symbol.toPrimitive]=function(){return this.valueOf()},ss(m,[{key:"isComputing",get:function(){return Qe(this.flags_,m.isComputingMask_)},set:function(g){this.flags_=Je(this.flags_,m.isComputingMask_,g)}},{key:"isRunningSetter",get:function(){return Qe(this.flags_,m.isRunningSetterMask_)},set:function(g){this.flags_=Je(this.flags_,m.isRunningSetterMask_,g)}},{key:"isBeingObserved",get:function(){return Qe(this.flags_,m.isBeingObservedMask_)},set:function(g){this.flags_=Je(this.flags_,m.isBeingObservedMask_,g)}},{key:"isPendingUnobservation",get:function(){return Qe(this.flags_,m.isPendingUnobservationMask_)},set:function(g){this.flags_=Je(this.flags_,m.isPendingUnobservationMask_,g)}},{key:"diffValue",get:function(){return Qe(this.flags_,m.diffValueMask_)?1:0},set:function(g){this.flags_=Je(this.flags_,m.diffValueMask_,g===1)}}])}();Pi.isComputingMask_=1;Pi.isRunningSetterMask_=2;Pi.isBeingObservedMask_=4;Pi.isPendingUnobservationMask_=8;Pi.diffValueMask_=16;var Al=hr("ComputedValue",Pi),Wt;(function(m){m[m.NOT_TRACKING_=-1]="NOT_TRACKING_",m[m.UP_TO_DATE_=0]="UP_TO_DATE_",m[m.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",m[m.STALE_=2]="STALE_"})(Wt||(Wt={}));var _o;(function(m){m[m.NONE=0]="NONE",m[m.LOG=1]="LOG",m[m.BREAK=2]="BREAK"})(_o||(_o={}));var tl=function(C){this.cause=void 0,this.cause=C};function Xo(m){return m instanceof tl}function cf(m){switch(m.dependenciesState_){case Wt.UP_TO_DATE_:return!1;case Wt.NOT_TRACKING_:case Wt.STALE_:return!0;case Wt.POSSIBLY_STALE_:{for(var C=nd(!0),l=fr(),g=m.observing_,t=g.length,e=0;e<t;e++){var h=g[e];if(Al(h)){if(xt.disableErrorBoundaries)h.get();else try{h.get()}catch{return sn(l),_s(C),!0}if(m.dependenciesState_===Wt.STALE_)return sn(l),_s(C),!0}}return Z0(m),sn(l),_s(C),!1}}}function K0(m,C,l){var g=nd(!0);Z0(m),m.newObserving_=new Array(m.runId_===0?100:m.observing_.length),m.unboundDepsCount_=0,m.runId_=++xt.runId;var t=xt.trackingDerivation;xt.trackingDerivation=m,xt.inBatch++;var e;if(xt.disableErrorBoundaries===!0)e=C.call(l);else try{e=C.call(l)}catch(h){e=new tl(h)}return xt.inBatch--,xt.trackingDerivation=t,qA(m),_s(g),e}function qA(m){for(var C=m.observing_,l=m.observing_=m.newObserving_,g=Wt.UP_TO_DATE_,t=0,e=m.unboundDepsCount_,h=0;h<e;h++){var r=l[h];r.diffValue===0&&(r.diffValue=1,t!==h&&(l[t]=r),t++),r.dependenciesState_>g&&(g=r.dependenciesState_)}for(l.length=t,m.newObserving_=null,e=C.length;e--;){var a=C[e];a.diffValue===0&&Q0(a,m),a.diffValue=0}for(;t--;){var s=l[t];s.diffValue===1&&(s.diffValue=0,tP(s,m))}g!==Wt.UP_TO_DATE_&&(m.dependenciesState_=g,m.onBecomeStale_())}function vf(m){var C=m.observing_;m.observing_=[];for(var l=C.length;l--;)Q0(C[l],m);m.dependenciesState_=Wt.NOT_TRACKING_}function b0(m){var C=fr();try{return m()}finally{sn(C)}}function fr(){var m=xt.trackingDerivation;return xt.trackingDerivation=null,m}function sn(m){xt.trackingDerivation=m}function nd(m){var C=xt.allowStateReads;return xt.allowStateReads=m,C}function _s(m){xt.allowStateReads=m}function Z0(m){if(m.dependenciesState_!==Wt.UP_TO_DATE_){m.dependenciesState_=Wt.UP_TO_DATE_;for(var C=m.observing_,l=C.length;l--;)C[l].lowestObserverState_=Wt.UP_TO_DATE_}}var Wo=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ho=!0,$0=!1,xt=function(){var m=qf();return m.__mobxInstanceCount>0&&!m.__mobxGlobals&&(Ho=!1),m.__mobxGlobals&&m.__mobxGlobals.version!==new Wo().version&&(Ho=!1),Ho?m.__mobxGlobals?(m.__mobxInstanceCount+=1,m.__mobxGlobals.UNCHANGED||(m.__mobxGlobals.UNCHANGED={}),m.__mobxGlobals):(m.__mobxInstanceCount=1,m.__mobxGlobals=new Wo):(setTimeout(function(){$0||Yt(35)},1),new Wo)}();function _A(){if((xt.pendingReactions.length||xt.inBatch||xt.isRunningReactions)&&Yt(36),$0=!0,Ho){var m=qf();--m.__mobxInstanceCount===0&&(m.__mobxGlobals=void 0),xt=new Wo}}function tP(m,C){m.observers_.add(C),m.lowestObserverState_>C.dependenciesState_&&(m.lowestObserverState_=C.dependenciesState_)}function Q0(m,C){m.observers_.delete(C),m.observers_.size===0&&J0(m)}function J0(m){m.isPendingUnobservation===!1&&(m.isPendingUnobservation=!0,xt.pendingUnobservations.push(m))}function fi(){xt.inBatch++}function di(){if(--xt.inBatch===0){_0();for(var m=xt.pendingUnobservations,C=0;C<m.length;C++){var l=m[C];l.isPendingUnobservation=!1,l.observers_.size===0&&(l.isBeingObserved&&(l.isBeingObserved=!1,l.onBUO()),l instanceof Pi&&l.suspend_())}xt.pendingUnobservations=[]}}function k0(m){var C=xt.trackingDerivation;return C!==null?(C.runId_!==m.lastAccessedBy_&&(m.lastAccessedBy_=C.runId_,C.newObserving_[C.unboundDepsCount_++]=m,!m.isBeingObserved&&xt.trackingContext&&(m.isBeingObserved=!0,m.onBO())),m.isBeingObserved):(m.observers_.size===0&&xt.inBatch>0&&J0(m),!1)}function q0(m){m.lowestObserverState_!==Wt.STALE_&&(m.lowestObserverState_=Wt.STALE_,m.observers_.forEach(function(C){C.dependenciesState_===Wt.UP_TO_DATE_&&C.onBecomeStale_(),C.dependenciesState_=Wt.STALE_}))}function eP(m){m.lowestObserverState_!==Wt.STALE_&&(m.lowestObserverState_=Wt.STALE_,m.observers_.forEach(function(C){C.dependenciesState_===Wt.POSSIBLY_STALE_?C.dependenciesState_=Wt.STALE_:C.dependenciesState_===Wt.UP_TO_DATE_&&(m.lowestObserverState_=Wt.UP_TO_DATE_)}))}function iP(m){m.lowestObserverState_===Wt.UP_TO_DATE_&&(m.lowestObserverState_=Wt.POSSIBLY_STALE_,m.observers_.forEach(function(C){C.dependenciesState_===Wt.UP_TO_DATE_&&(C.dependenciesState_=Wt.POSSIBLY_STALE_,C.onBecomeStale_())}))}var ln=function(){function m(l,g,t,e){l===void 0&&(l="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Wt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=_o.NONE,this.name_=l,this.onInvalidate_=g,this.errorHandler_=t,this.requiresObservable_=e}var C=m.prototype;return C.onBecomeStale_=function(){this.schedule_()},C.schedule_=function(){this.isScheduled||(this.isScheduled=!0,xt.pendingReactions.push(this),_0())},C.runReaction_=function(){if(!this.isDisposed){fi(),this.isScheduled=!1;var g=xt.trackingContext;if(xt.trackingContext=this,cf(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}xt.trackingContext=g,di()}},C.track=function(g){if(!this.isDisposed){fi(),this.isRunning=!0;var t=xt.trackingContext;xt.trackingContext=this;var e=K0(this,g,void 0);xt.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&vf(this),Xo(e)&&this.reportExceptionInDerivation_(e.cause),di()}},C.reportExceptionInDerivation_=function(g){var t=this;if(this.errorHandler_){this.errorHandler_(g,this);return}if(xt.disableErrorBoundaries)throw g;var e="[mobx] uncaught error in '"+this+"'";xt.suppressReactionErrors||console.error(e,g),xt.globalReactionErrorHandlers.forEach(function(h){return h(g,t)})},C.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(fi(),vf(this),di()))},C.getDisposer_=function(g){var t=this,e=function h(){t.dispose(),g==null||g.removeEventListener==null||g.removeEventListener("abort",h)};return g==null||g.addEventListener==null||g.addEventListener("abort",e),e[It]=this,e},C.toString=function(){return"Reaction["+this.name_+"]"},C.trace=function(g){},ss(m,[{key:"isDisposed",get:function(){return Qe(this.flags_,m.isDisposedMask_)},set:function(g){this.flags_=Je(this.flags_,m.isDisposedMask_,g)}},{key:"isScheduled",get:function(){return Qe(this.flags_,m.isScheduledMask_)},set:function(g){this.flags_=Je(this.flags_,m.isScheduledMask_,g)}},{key:"isTrackPending",get:function(){return Qe(this.flags_,m.isTrackPendingMask_)},set:function(g){this.flags_=Je(this.flags_,m.isTrackPendingMask_,g)}},{key:"isRunning",get:function(){return Qe(this.flags_,m.isRunningMask_)},set:function(g){this.flags_=Je(this.flags_,m.isRunningMask_,g)}},{key:"diffValue",get:function(){return Qe(this.flags_,m.diffValueMask_)?1:0},set:function(g){this.flags_=Je(this.flags_,m.diffValueMask_,g===1)}}])}();ln.isDisposedMask_=1;ln.isScheduledMask_=2;ln.isTrackPendingMask_=4;ln.isRunningMask_=8;ln.diffValueMask_=16;var nP=100,pf=function(C){return C()};function _0(){xt.inBatch>0||xt.isRunningReactions||pf(rP)}function rP(){xt.isRunningReactions=!0;for(var m=xt.pendingReactions,C=0;m.length>0;){++C===nP&&(console.error("[mobx] cycle in reaction: "+m[0]),m.splice(0));for(var l=m.splice(0),g=0,t=l.length;g<t;g++)l[g].runReaction_()}xt.isRunningReactions=!1}var el=hr("Reaction",ln);function sP(m){var C=pf;pf=function(g){return m(function(){return C(g)})}}function ta(){return!1}function aP(m){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var tx="action",oP="action.bound",ex="autoAction",lP="autoAction.bound",uP="<unnamed action>",mf=ga(tx),hP=ga(oP,{bound:!0}),gf=ga(ex,{autoAction:!0}),fP=ga(lP,{autoAction:!0,bound:!0});function ix(m){var C=function(g,t){if(Ai(g))return ur(g.name||uP,g,m);if(Ai(t))return ur(g,t,m);if(ma(t))return(m?gf:mf).decorate_20223_(g,t);if(ar(t))return as(g,t,m?gf:mf);if(ar(g))return Ui(ga(m?ex:tx,{name:g,autoAction:m}))};return C}var Qr=ix(!1);Object.assign(Qr,mf);var aa=ix(!0);Object.assign(aa,gf);Qr.bound=Ui(hP);aa.bound=Ui(fP);function Pl(m){return Ai(m)&&m.isMobxAction===!0}function dP(m,C){var l,g,t,e;C===void 0&&(C=L0);var h=(l=(g=C)==null?void 0:g.name)!=null?l:"Autorun",r=!C.scheduler&&!C.delay,a;if(r)a=new ln(h,function(){this.track(n)},C.onError,C.requiresObservable);else{var s=vP(C),i=!1;a=new ln(h,function(){i||(i=!0,s(function(){i=!1,a.isDisposed||a.track(n)}))},C.onError,C.requiresObservable)}function n(){m(a)}return(t=C)!=null&&(t=t.signal)!=null&&t.aborted||a.schedule_(),a.getDisposer_((e=C)==null?void 0:e.signal)}var cP=function(C){return C()};function vP(m){return m.scheduler?m.scheduler:m.delay?function(C){return setTimeout(C,m.delay)}:cP}var pP="onBO",mP="onBUO";function gP(m,C,l){return rx(pP,m,C,l)}function nx(m,C,l){return rx(mP,m,C,l)}function rx(m,C,l,g){var t=rl(C),e=Ai(g)?g:l,h=m+"L";return t[h]?t[h].add(e):t[h]=new Set([e]),function(){var r=t[h];r&&(r.delete(e),r.size===0&&delete t[h])}}var xP="never",No="always",yP="observed";function TP(m){m.isolateGlobalState===!0&&_A();var C=m.useProxies,l=m.enforceActions;if(C!==void 0&&(xt.useProxies=C===No?!0:C===xP?!1:typeof Proxy<"u"),C==="ifavailable"&&(xt.verifyProxies=!0),l!==void 0){var g=l===No?No:l===yP;xt.enforceActions=g,xt.allowStateChanges=!(g===!0||g===No)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in m&&(xt[t]=!!m[t])}),xt.allowStateReads=!xt.observableRequiresReaction,m.reactionScheduler&&sP(m.reactionScheduler)}function sx(m,C,l,g){var t=tA(C);return Un(function(){var e=cr(m,g)[It];ts(t).forEach(function(h){e.extend_(h,t[h],l&&h in l?l[h]:!0)})}),m}function SP(m,C){return ax(rl(m,C))}function ax(m){var C={name:m.name_};return m.observing_&&m.observing_.length>0&&(C.dependencies=EP(m.observing_).map(ax)),C}function EP(m){return Array.from(new Set(m))}var CP=0;function ox(){this.message="FLOW_CANCELLED"}ox.prototype=Object.create(Error.prototype);var Dh=U0("flow"),AP=U0("flow.bound",{bound:!0}),es=Object.assign(function(C,l){if(ma(l))return Dh.decorate_20223_(C,l);if(ar(l))return as(C,l,Dh);var g=C,t=g.name||"<unnamed flow>",e=function(){var r=this,a=arguments,s=++CP,i=Qr(t+" - runid: "+s+" - init",g).apply(r,a),n,f=void 0,o=new Promise(function(u,d){var c=0;n=d;function v(y){f=void 0;var S;try{S=Qr(t+" - runid: "+s+" - yield "+c++,i.next).call(i,y)}catch(E){return d(E)}x(S)}function p(y){f=void 0;var S;try{S=Qr(t+" - runid: "+s+" - yield "+c++,i.throw).call(i,y)}catch(E){return d(E)}x(S)}function x(y){if(Ai(y==null?void 0:y.then)){y.then(x,d);return}return y.done?u(y.value):(f=Promise.resolve(y.value),f.then(v,p))}v(void 0)});return o.cancel=Qr(t+" - runid: "+s+" - cancel",function(){try{f&&Tm(f);var u=i.return(void 0),d=Promise.resolve(u.value);d.then(Zr,Zr),Tm(d),n(new ox)}catch(c){n(c)}}),o};return e.isMobXFlow=!0,e},Dh);es.bound=Ui(AP);function Tm(m){Ai(m.cancel)&&m.cancel()}function oa(m){return(m==null?void 0:m.isMobXFlow)===!0}function PP(m,C){return m?Rl(m)||!!m[It]||_f(m)||el(m)||Al(m):!1}function lx(m){return PP(m)}function Ji(m,C){C===void 0&&(C=void 0),fi();try{return m.apply(C)}finally{di()}}function Yr(m){return m[It]}var MP={has:function(C,l){return Yr(C).has_(l)},get:function(C,l){return Yr(C).get_(l)},set:function(C,l,g){var t;return ar(l)?(t=Yr(C).set_(l,g,!0))!=null?t:!0:!1},deleteProperty:function(C,l){var g;return ar(l)?(g=Yr(C).delete_(l,!0))!=null?g:!0:!1},defineProperty:function(C,l,g){var t;return(t=Yr(C).defineProperty_(l,g))!=null?t:!0},ownKeys:function(C){return Yr(C).ownKeys_()},preventExtensions:function(C){Yt(13)}};function RP(m,C){var l,g;return O0(),m=cr(m,C),(g=(l=m[It]).proxy_)!=null?g:l.proxy_=new Proxy(m,MP)}function ui(m){return m.interceptors_!==void 0&&m.interceptors_.length>0}function xa(m,C){var l=m.interceptors_||(m.interceptors_=[]);return l.push(C),F0(function(){var g=l.indexOf(C);g!==-1&&l.splice(g,1)})}function hi(m,C){var l=fr();try{for(var g=[].concat(m.interceptors_||[]),t=0,e=g.length;t<e&&(C=g[t](C),C&&!C.type&&Yt(14),!!C);t++);return C}finally{sn(l)}}function Ei(m){return m.changeListeners_!==void 0&&m.changeListeners_.length>0}function ya(m,C){var l=m.changeListeners_||(m.changeListeners_=[]);return l.push(C),F0(function(){var g=l.indexOf(C);g!==-1&&l.splice(g,1)})}function Ci(m,C){var l=fr(),g=m.changeListeners_;if(g){g=g.slice();for(var t=0,e=g.length;t<e;t++)g[t](C);sn(l)}}function LP(m,C,l){return Un(function(){var g,t=cr(m,l)[It];(g=C)!=null||(C=sA(m)),ts(C).forEach(function(e){return t.make_(e,C[e])})}),m}var Ih=Symbol("mobx-keys");function ux(m,C,l){return on(m)?sx(m,m,C,l):(Un(function(){var g=cr(m,l)[It];if(!m[Ih]){var t=Object.getPrototypeOf(m),e=new Set([].concat(ts(m),ts(t)));e.delete("constructor"),e.delete(It),pa(t,Ih,e)}m[Ih].forEach(function(h){return g.make_(h,C&&h in C?C[h]:!0)})}),m)}var Sm="splice",zi="update",OP=1e4,FP={get:function(C,l){var g=C[It];return l===It?g:l==="length"?g.getArrayLength_():typeof l=="string"&&!isNaN(l)?g.get_(parseInt(l)):rn(il,l)?il[l]:C[l]},set:function(C,l,g){var t=C[It];return l==="length"&&t.setArrayLength_(g),typeof l=="symbol"||isNaN(l)?C[l]=g:t.set_(parseInt(l),g),!0},preventExtensions:function(){Yt(15)}},rd=function(){function m(l,g,t,e){l===void 0&&(l="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=t,this.legacyMode_=e,this.atom_=new Vn(l),this.enhancer_=function(h,r){return g(h,r,"ObservableArray[..]")}}var C=m.prototype;return C.dehanceValue_=function(g){return this.dehancer!==void 0?this.dehancer(g):g},C.dehanceValues_=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},C.intercept_=function(g){return xa(this,g)},C.observe_=function(g,t){return t===void 0&&(t=!1),t&&g({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ya(this,g)},C.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},C.setArrayLength_=function(g){(typeof g!="number"||isNaN(g)||g<0)&&Yt("Out of range: "+g);var t=this.values_.length;if(g!==t)if(g>t){for(var e=new Array(g-t),h=0;h<g-t;h++)e[h]=void 0;this.spliceWithArray_(t,0,e)}else this.spliceWithArray_(g,t-g)},C.updateArrayLength_=function(g,t){g!==this.lastKnownLength_&&Yt(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&mx(g+t+1)},C.spliceWithArray_=function(g,t,e){var h=this;this.atom_;var r=this.values_.length;if(g===void 0?g=0:g>r?g=r:g<0&&(g=Math.max(0,r+g)),arguments.length===1?t=r-g:t==null?t=0:t=Math.max(0,Math.min(t,r-g)),e===void 0&&(e=uf),ui(this)){var a=hi(this,{object:this.proxy_,type:Sm,index:g,removedCount:t,added:e});if(!a)return uf;t=a.removedCount,e=a.added}if(e=e.length===0?e:e.map(function(n){return h.enhancer_(n,void 0)}),this.legacyMode_){var s=e.length-t;this.updateArrayLength_(r,s)}var i=this.spliceItemsIntoValues_(g,t,e);return(t!==0||e.length!==0)&&this.notifyArraySplice_(g,e,i),this.dehanceValues_(i)},C.spliceItemsIntoValues_=function(g,t,e){if(e.length<OP){var h;return(h=this.values_).splice.apply(h,[g,t].concat(e))}else{var r=this.values_.slice(g,g+t),a=this.values_.slice(g+t);this.values_.length+=e.length-t;for(var s=0;s<e.length;s++)this.values_[g+s]=e[s];for(var i=0;i<a.length;i++)this.values_[g+e.length+i]=a[i];return r}},C.notifyArrayChildUpdate_=function(g,t,e){var h=!this.owned_&&ta(),r=Ei(this),a=r||h?{observableKind:"array",object:this.proxy_,type:zi,debugObjectName:this.atom_.name_,index:g,newValue:t,oldValue:e}:null;this.atom_.reportChanged(),r&&Ci(this,a)},C.notifyArraySplice_=function(g,t,e){var h=!this.owned_&&ta(),r=Ei(this),a=r||h?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Sm,index:g,removed:e,added:t,removedCount:e.length,addedCount:t.length}:null;this.atom_.reportChanged(),r&&Ci(this,a)},C.get_=function(g){if(this.legacyMode_&&g>=this.values_.length){console.warn("[mobx] Out of bounds read: "+g);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[g])},C.set_=function(g,t){var e=this.values_;if(this.legacyMode_&&g>e.length&&Yt(17,g,e.length),g<e.length){this.atom_;var h=e[g];if(ui(this)){var r=hi(this,{type:zi,object:this.proxy_,index:g,newValue:t});if(!r)return;t=r.newValue}t=this.enhancer_(t,h);var a=t!==h;a&&(e[g]=t,this.notifyArrayChildUpdate_(g,t,h))}else{for(var s=new Array(g+1-e.length),i=0;i<s.length-1;i++)s[i]=void 0;s[s.length-1]=t,this.spliceWithArray_(e.length,0,s)}},m}();function DP(m,C,l,g){return l===void 0&&(l="ObservableArray"),g===void 0&&(g=!1),O0(),Un(function(){var t=new rd(l,C,g,!1);I0(t.values_,It,t);var e=new Proxy(t.values_,FP);return t.proxy_=e,m&&m.length&&t.spliceWithArray_(0,0,m),e})}var il={clear:function(){return this.splice(0)},replace:function(C){var l=this[It];return l.spliceWithArray_(0,l.values_.length,C)},toJSON:function(){return this.slice()},splice:function(C,l){for(var g=arguments.length,t=new Array(g>2?g-2:0),e=2;e<g;e++)t[e-2]=arguments[e];var h=this[It];switch(arguments.length){case 0:return[];case 1:return h.spliceWithArray_(C);case 2:return h.spliceWithArray_(C,l)}return h.spliceWithArray_(C,l,t)},spliceWithArray:function(C,l,g){return this[It].spliceWithArray_(C,l,g)},push:function(){for(var C=this[It],l=arguments.length,g=new Array(l),t=0;t<l;t++)g[t]=arguments[t];return C.spliceWithArray_(C.values_.length,0,g),C.values_.length},pop:function(){return this.splice(Math.max(this[It].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var C=this[It],l=arguments.length,g=new Array(l),t=0;t<l;t++)g[t]=arguments[t];return C.spliceWithArray_(0,0,g),C.values_.length},reverse:function(){return xt.trackingDerivation&&Yt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){xt.trackingDerivation&&Yt(37,"sort");var C=this.slice();return C.sort.apply(C,arguments),this.replace(C),this},remove:function(C){var l=this[It],g=l.dehanceValues_(l.values_).indexOf(C);return g>-1?(this.splice(g,1),!0):!1}};Qt("at",qe);Qt("concat",qe);Qt("flat",qe);Qt("includes",qe);Qt("indexOf",qe);Qt("join",qe);Qt("lastIndexOf",qe);Qt("slice",qe);Qt("toString",qe);Qt("toLocaleString",qe);Qt("toSorted",qe);Qt("toSpliced",qe);Qt("with",qe);Qt("every",Mi);Qt("filter",Mi);Qt("find",Mi);Qt("findIndex",Mi);Qt("findLast",Mi);Qt("findLastIndex",Mi);Qt("flatMap",Mi);Qt("forEach",Mi);Qt("map",Mi);Qt("some",Mi);Qt("toReversed",Mi);Qt("reduce",hx);Qt("reduceRight",hx);function Qt(m,C){typeof Array.prototype[m]=="function"&&(il[m]=C(m))}function qe(m){return function(){var C=this[It];C.atom_.reportObserved();var l=C.dehanceValues_(C.values_);return l[m].apply(l,arguments)}}function Mi(m){return function(C,l){var g=this,t=this[It];t.atom_.reportObserved();var e=t.dehanceValues_(t.values_);return e[m](function(h,r){return C.call(l,h,r,g)})}}function hx(m){return function(){var C=this,l=this[It];l.atom_.reportObserved();var g=l.dehanceValues_(l.values_),t=arguments[0];return arguments[0]=function(e,h,r){return t(e,h,r,C)},g[m].apply(g,arguments)}}var IP=hr("ObservableArrayAdministration",rd);function Ml(m){return Tl(m)&&IP(m[It])}var BP={},Fn="add",nl="delete",fx=function(){function m(l,g,t){var e=this;g===void 0&&(g=lr),t===void 0&&(t="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[It]=BP,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=g,this.name_=t,Ai(Map)||Yt(18),Un(function(){e.keysAtom_=G0("ObservableMap.keys()"),e.data_=new Map,e.hasMap_=new Map,l&&e.merge(l)})}var C=m.prototype;return C.has_=function(g){return this.data_.has(g)},C.has=function(g){var t=this;if(!xt.trackingDerivation)return this.has_(g);var e=this.hasMap_.get(g);if(!e){var h=e=new rr(this.has_(g),Sl,"ObservableMap.key?",!1);this.hasMap_.set(g,h),nx(h,function(){return t.hasMap_.delete(g)})}return e.get()},C.set=function(g,t){var e=this.has_(g);if(ui(this)){var h=hi(this,{type:e?zi:Fn,object:this,newValue:t,name:g});if(!h)return this;t=h.newValue}return e?this.updateValue_(g,t):this.addValue_(g,t),this},C.delete=function(g){var t=this;if(this.keysAtom_,ui(this)){var e=hi(this,{type:nl,object:this,name:g});if(!e)return!1}if(this.has_(g)){var h=ta(),r=Ei(this),a=r||h?{observableKind:"map",debugObjectName:this.name_,type:nl,object:this,oldValue:this.data_.get(g).value_,name:g}:null;return Ji(function(){var s;t.keysAtom_.reportChanged(),(s=t.hasMap_.get(g))==null||s.setNewValue_(!1);var i=t.data_.get(g);i.setNewValue_(void 0),t.data_.delete(g)}),r&&Ci(this,a),!0}return!1},C.updateValue_=function(g,t){var e=this.data_.get(g);if(t=e.prepareNewValue_(t),t!==xt.UNCHANGED){var h=ta(),r=Ei(this),a=r||h?{observableKind:"map",debugObjectName:this.name_,type:zi,object:this,oldValue:e.value_,name:g,newValue:t}:null;e.setNewValue_(t),r&&Ci(this,a)}},C.addValue_=function(g,t){var e=this;this.keysAtom_,Ji(function(){var s,i=new rr(t,e.enhancer_,"ObservableMap.key",!1);e.data_.set(g,i),t=i.value_,(s=e.hasMap_.get(g))==null||s.setNewValue_(!0),e.keysAtom_.reportChanged()});var h=ta(),r=Ei(this),a=r||h?{observableKind:"map",debugObjectName:this.name_,type:Fn,object:this,name:g,newValue:t}:null;r&&Ci(this,a)},C.get=function(g){return this.has(g)?this.dehanceValue_(this.data_.get(g).get()):this.dehanceValue_(void 0)},C.dehanceValue_=function(g){return this.dehancer!==void 0?this.dehancer(g):g},C.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},C.values=function(){var g=this,t=this.keys();return la({next:function(){var h=t.next(),r=h.done,a=h.value;return{done:r,value:r?void 0:g.get(a)}}})},C.entries=function(){var g=this,t=this.keys();return la({next:function(){var h=t.next(),r=h.done,a=h.value;return{done:r,value:r?void 0:[a,g.get(a)]}}})},C[Symbol.iterator]=function(){return this.entries()},C.forEach=function(g,t){for(var e=$r(this),h;!(h=e()).done;){var r=h.value,a=r[0],s=r[1];g.call(t,s,a,this)}},C.merge=function(g){var t=this;return dr(g)&&(g=new Map(g)),Ji(function(){on(g)?_C(g).forEach(function(e){return t.set(e,g[e])}):Array.isArray(g)?g.forEach(function(e){var h=e[0],r=e[1];return t.set(h,r)}):rs(g)?(qC(g)||Yt(19,g),g.forEach(function(e,h){return t.set(h,e)})):g!=null&&Yt(20,g)}),this},C.clear=function(){var g=this;Ji(function(){b0(function(){for(var t=$r(g.keys()),e;!(e=t()).done;){var h=e.value;g.delete(h)}})})},C.replace=function(g){var t=this;return Ji(function(){for(var e=NP(g),h=new Map,r=!1,a=$r(t.data_.keys()),s;!(s=a()).done;){var i=s.value;if(!e.has(i)){var n=t.delete(i);if(n)r=!0;else{var f=t.data_.get(i);h.set(i,f)}}}for(var o=$r(e.entries()),u;!(u=o()).done;){var d=u.value,c=d[0],v=d[1],p=t.data_.has(c);if(t.set(c,v),t.data_.has(c)){var x=t.data_.get(c);h.set(c,x),p||(r=!0)}}if(!r)if(t.data_.size!==h.size)t.keysAtom_.reportChanged();else for(var y=t.data_.keys(),S=h.keys(),E=y.next(),A=S.next();!E.done;){if(E.value!==A.value){t.keysAtom_.reportChanged();break}E=y.next(),A=S.next()}t.data_=h}),this},C.toString=function(){return"[object ObservableMap]"},C.toJSON=function(){return Array.from(this)},C.observe_=function(g,t){return ya(this,g)},C.intercept_=function(g){return xa(this,g)},ss(m,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),dr=hr("ObservableMap",fx);function NP(m){if(rs(m)||dr(m))return m;if(Array.isArray(m))return new Map(m);if(on(m)){var C=new Map;for(var l in m)C.set(l,m[l]);return C}else return Yt(21,m)}var wP={},dx=function(){function m(l,g,t){var e=this;g===void 0&&(g=lr),t===void 0&&(t="ObservableSet"),this.name_=void 0,this[It]=wP,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=t,Ai(Set)||Yt(22),this.enhancer_=function(h,r){return g(h,r,t)},Un(function(){e.atom_=G0(e.name_),l&&e.replace(l)})}var C=m.prototype;return C.dehanceValue_=function(g){return this.dehancer!==void 0?this.dehancer(g):g},C.clear=function(){var g=this;Ji(function(){b0(function(){for(var t=$r(g.data_.values()),e;!(e=t()).done;){var h=e.value;g.delete(h)}})})},C.forEach=function(g,t){for(var e=$r(this),h;!(h=e()).done;){var r=h.value;g.call(t,r,r,this)}},C.add=function(g){var t=this;if(this.atom_,ui(this)){var e=hi(this,{type:Fn,object:this,newValue:g});if(!e)return this}if(!this.has(g)){Ji(function(){t.data_.add(t.enhancer_(g,void 0)),t.atom_.reportChanged()});var h=!1,r=Ei(this),a=r||h?{observableKind:"set",debugObjectName:this.name_,type:Fn,object:this,newValue:g}:null;r&&Ci(this,a)}return this},C.delete=function(g){var t=this;if(ui(this)){var e=hi(this,{type:nl,object:this,oldValue:g});if(!e)return!1}if(this.has(g)){var h=!1,r=Ei(this),a=r||h?{observableKind:"set",debugObjectName:this.name_,type:nl,object:this,oldValue:g}:null;return Ji(function(){t.atom_.reportChanged(),t.data_.delete(g)}),r&&Ci(this,a),!0}return!1},C.has=function(g){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(g))},C.entries=function(){var g=0,t=Array.from(this.keys()),e=Array.from(this.values());return la({next:function(){var r=g;return g+=1,r<e.length?{value:[t[r],e[r]],done:!1}:{done:!0}}})},C.keys=function(){return this.values()},C.values=function(){this.atom_.reportObserved();var g=this,t=0,e=Array.from(this.data_.values());return la({next:function(){return t<e.length?{value:g.dehanceValue_(e[t++]),done:!1}:{done:!0}}})},C.intersection=function(g){if(Qi(g)&&!Ii(g))return g.intersection(this);var t=new Set(this);return t.intersection(g)},C.union=function(g){if(Qi(g)&&!Ii(g))return g.union(this);var t=new Set(this);return t.union(g)},C.difference=function(g){return new Set(this).difference(g)},C.symmetricDifference=function(g){if(Qi(g)&&!Ii(g))return g.symmetricDifference(this);var t=new Set(this);return t.symmetricDifference(g)},C.isSubsetOf=function(g){return new Set(this).isSubsetOf(g)},C.isSupersetOf=function(g){return new Set(this).isSupersetOf(g)},C.isDisjointFrom=function(g){if(Qi(g)&&!Ii(g))return g.isDisjointFrom(this);var t=new Set(this);return t.isDisjointFrom(g)},C.replace=function(g){var t=this;return Ii(g)&&(g=new Set(g)),Ji(function(){Array.isArray(g)?(t.clear(),g.forEach(function(e){return t.add(e)})):Qi(g)?(t.clear(),g.forEach(function(e){return t.add(e)})):g!=null&&Yt("Cannot initialize set from "+g)}),this},C.observe_=function(g,t){return ya(this,g)},C.intercept_=function(g){return xa(this,g)},C.toJSON=function(){return Array.from(this)},C.toString=function(){return"[object ObservableSet]"},C[Symbol.iterator]=function(){return this.values()},ss(m,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Ii=hr("ObservableSet",dx),Em=Object.create(null),Cm="remove",cx=function(){function m(l,g,t,e){g===void 0&&(g=new Map),e===void 0&&(e=DA),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=l,this.values_=g,this.name_=t,this.defaultAnnotation_=e,this.keysAtom_=new Vn("ObservableObject.keys"),this.isPlainObject_=on(this.target_)}var C=m.prototype;return C.getObservablePropValue_=function(g){return this.values_.get(g).get()},C.setObservablePropValue_=function(g,t){var e=this.values_.get(g);if(e instanceof Pi)return e.set(t),!0;if(ui(this)){var h=hi(this,{type:zi,object:this.proxy_||this.target_,name:g,newValue:t});if(!h)return null;t=h.newValue}if(t=e.prepareNewValue_(t),t!==xt.UNCHANGED){var r=Ei(this),a=!1,s=r||a?{type:zi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:e.value_,name:g,newValue:t}:null;e.setNewValue_(t),r&&Ci(this,s)}return!0},C.get_=function(g){return xt.trackingDerivation&&!rn(this.target_,g)&&this.has_(g),this.target_[g]},C.set_=function(g,t,e){return e===void 0&&(e=!1),rn(this.target_,g)?this.values_.has(g)?this.setObservablePropValue_(g,t):e?Reflect.set(this.target_,g,t):(this.target_[g]=t,!0):this.extend_(g,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,e)},C.has_=function(g){if(!xt.trackingDerivation)return g in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(g);return t||(t=new rr(g in this.target_,Sl,"ObservableObject.key?",!1),this.pendingKeys_.set(g,t)),t.get()},C.make_=function(g,t){if(t===!0&&(t=this.defaultAnnotation_),t!==!1){if(!(g in this.target_)){var e;if((e=this.target_[Ni])!=null&&e[g])return;Yt(1,t.annotationType_,this.name_+"."+g.toString())}for(var h=this.target_;h&&h!==yl;){var r=Jo(h,g);if(r){var a=t.make_(this,g,r,h);if(a===0)return;if(a===1)break}h=Object.getPrototypeOf(h)}Pm(this,t,g)}},C.extend_=function(g,t,e,h){if(h===void 0&&(h=!1),e===!0&&(e=this.defaultAnnotation_),e===!1)return this.defineProperty_(g,t,h);var r=e.extend_(this,g,t,h);return r&&Pm(this,e,g),r},C.defineProperty_=function(g,t,e){e===void 0&&(e=!1),this.keysAtom_;try{fi();var h=this.delete_(g);if(!h)return h;if(ui(this)){var r=hi(this,{object:this.proxy_||this.target_,name:g,type:Fn,newValue:t.value});if(!r)return null;var a=r.newValue;t.value!==a&&(t=or({},t,{value:a}))}if(e){if(!Reflect.defineProperty(this.target_,g,t))return!1}else Vi(this.target_,g,t);this.notifyPropertyAddition_(g,t.value)}finally{di()}return!0},C.defineObservableProperty_=function(g,t,e,h){h===void 0&&(h=!1),this.keysAtom_;try{fi();var r=this.delete_(g);if(!r)return r;if(ui(this)){var a=hi(this,{object:this.proxy_||this.target_,name:g,type:Fn,newValue:t});if(!a)return null;t=a.newValue}var s=Am(g),i={configurable:xt.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:s.get,set:s.set};if(h){if(!Reflect.defineProperty(this.target_,g,i))return!1}else Vi(this.target_,g,i);var n=new rr(t,e,"ObservableObject.key",!1);this.values_.set(g,n),this.notifyPropertyAddition_(g,n.value_)}finally{di()}return!0},C.defineComputedProperty_=function(g,t,e){e===void 0&&(e=!1),this.keysAtom_;try{fi();var h=this.delete_(g);if(!h)return h;if(ui(this)){var r=hi(this,{object:this.proxy_||this.target_,name:g,type:Fn,newValue:void 0});if(!r)return null}t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var a=Am(g),s={configurable:xt.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:a.get,set:a.set};if(e){if(!Reflect.defineProperty(this.target_,g,s))return!1}else Vi(this.target_,g,s);this.values_.set(g,new Pi(t)),this.notifyPropertyAddition_(g,void 0)}finally{di()}return!0},C.delete_=function(g,t){if(t===void 0&&(t=!1),this.keysAtom_,!rn(this.target_,g))return!0;if(ui(this)){var e=hi(this,{object:this.proxy_||this.target_,name:g,type:Cm});if(!e)return null}try{var h;fi();var r=Ei(this),a=!1,s=this.values_.get(g),i=void 0;if(!s&&(r||a)){var n;i=(n=Jo(this.target_,g))==null?void 0:n.value}if(t){if(!Reflect.deleteProperty(this.target_,g))return!1}else delete this.target_[g];if(s&&(this.values_.delete(g),s instanceof rr&&(i=s.value_),q0(s)),this.keysAtom_.reportChanged(),(h=this.pendingKeys_)==null||(h=h.get(g))==null||h.set(g in this.target_),r||a){var f={type:Cm,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:i,name:g};r&&Ci(this,f)}}finally{di()}return!0},C.observe_=function(g,t){return ya(this,g)},C.intercept_=function(g){return xa(this,g)},C.notifyPropertyAddition_=function(g,t){var e,h=Ei(this),r=!1;if(h||r){var a=h||r?{type:Fn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:g,newValue:t}:null;h&&Ci(this,a)}(e=this.pendingKeys_)==null||(e=e.get(g))==null||e.set(!0),this.keysAtom_.reportChanged()},C.ownKeys_=function(){return this.keysAtom_.reportObserved(),ts(this.target_)},C.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},m}();function cr(m,C){var l;if(rn(m,It))return m;var g=(l=C==null?void 0:C.name)!=null?l:"ObservableObject",t=new cx(m,new Map,String(g),WA(C));return pa(m,It,t),m}var GP=hr("ObservableObjectAdministration",cx);function Am(m){return Em[m]||(Em[m]={get:function(){return this[It].getObservablePropValue_(m)},set:function(l){return this[It].setObservablePropValue_(m,l)}})}function Rl(m){return Tl(m)?GP(m[It]):!1}function Pm(m,C,l){var g;(g=m.target_[Ni])==null||delete g[l]}var VP=px(0),UP=function(){var m=!1,C={};return Object.defineProperty(C,"0",{set:function(){m=!0}}),Object.create(C)[0]=1,m===!1}(),Bh=0,vx=function(){};function zP(m,C){Object.setPrototypeOf?Object.setPrototypeOf(m.prototype,C):m.prototype.__proto__!==void 0?m.prototype.__proto__=C:m.prototype=C}zP(vx,Array.prototype);var sd=function(m){function C(g,t,e,h){var r;return e===void 0&&(e="ObservableArray"),h===void 0&&(h=!1),r=m.call(this)||this,Un(function(){var a=new rd(e,t,h,!0);a.proxy_=r,I0(r,It,a),g&&g.length&&r.spliceWithArray(0,0,g),UP&&Object.defineProperty(r,"0",VP)}),r}w0(C,m);var l=C.prototype;return l.concat=function(){this[It].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),h=0;h<t;h++)e[h]=arguments[h];return Array.prototype.concat.apply(this.slice(),e.map(function(r){return Ml(r)?r.slice():r}))},l[Symbol.iterator]=function(){var g=this,t=0;return la({next:function(){return t<g.length?{value:g[t++],done:!1}:{done:!0,value:void 0}}})},ss(C,[{key:"length",get:function(){return this[It].getArrayLength_()},set:function(t){this[It].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(vx);Object.entries(il).forEach(function(m){var C=m[0],l=m[1];C!=="concat"&&pa(sd.prototype,C,l)});function px(m){return{enumerable:!1,configurable:!0,get:function(){return this[It].get_(m)},set:function(l){this[It].set_(m,l)}}}function YP(m){Vi(sd.prototype,""+m,px(m))}function mx(m){if(m>Bh){for(var C=Bh;C<m+100;C++)YP(C);Bh=m}}mx(1e3);function XP(m,C,l){return new sd(m,C,l)}function rl(m,C){if(typeof m=="object"&&m!==null){if(Ml(m))return C!==void 0&&Yt(23),m[It].atom_;if(Ii(m))return m.atom_;if(dr(m)){if(C===void 0)return m.keysAtom_;var l=m.data_.get(C)||m.hasMap_.get(C);return l||Yt(25,C,xf(m)),l}if(Rl(m)){if(!C)return Yt(26);var g=m[It].values_.get(C);return g||Yt(27,C,xf(m)),g}if(_f(m)||Al(m)||el(m))return m}else if(Ai(m)&&el(m[It]))return m[It];Yt(28)}function WP(m,C){if(m||Yt(29),_f(m)||Al(m)||el(m)||dr(m)||Ii(m))return m;if(m[It])return m[It];Yt(24,m)}function xf(m,C){var l;if(C!==void 0)l=rl(m,C);else{if(Pl(m))return m.name;Rl(m)||dr(m)||Ii(m)?l=WP(m):l=rl(m)}return l.name_}function Un(m){var C=fr(),l=ed(!0);fi();try{return m()}finally{di(),id(l),sn(C)}}var Mm=yl.toString;function ad(m,C,l){return l===void 0&&(l=-1),yf(m,C,l)}function yf(m,C,l,g,t){if(m===C)return m!==0||1/m===1/C;if(m==null||C==null)return!1;if(m!==m)return C!==C;var e=typeof m;if(e!=="function"&&e!=="object"&&typeof C!="object")return!1;var h=Mm.call(m);if(h!==Mm.call(C))return!1;switch(h){case"[object RegExp]":case"[object String]":return""+m==""+C;case"[object Number]":return+m!=+m?+C!=+C:+m==0?1/+m===1/C:+m==+C;case"[object Date]":case"[object Boolean]":return+m==+C;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(m)===Symbol.valueOf.call(C);case"[object Map]":case"[object Set]":l>=0&&l++;break}m=Rm(m),C=Rm(C);var r=h==="[object Array]";if(!r){if(typeof m!="object"||typeof C!="object")return!1;var a=m.constructor,s=C.constructor;if(a!==s&&!(Ai(a)&&a instanceof a&&Ai(s)&&s instanceof s)&&"constructor"in m&&"constructor"in C)return!1}if(l===0)return!1;l<0&&(l=-1),g=g||[],t=t||[];for(var i=g.length;i--;)if(g[i]===m)return t[i]===C;if(g.push(m),t.push(C),r){if(i=m.length,i!==C.length)return!1;for(;i--;)if(!yf(m[i],C[i],l-1,g,t))return!1}else{var n=Object.keys(m),f;if(i=n.length,Object.keys(C).length!==i)return!1;for(;i--;)if(f=n[i],!(rn(C,f)&&yf(m[f],C[f],l-1,g,t)))return!1}return g.pop(),t.pop(),!0}function Rm(m){return Ml(m)?m.slice():rs(m)||dr(m)||Qi(m)||Ii(m)?Array.from(m.entries()):m}function la(m){return m[Symbol.iterator]=HP,m}function HP(){return this}["Symbol","Map","Set"].forEach(function(m){var C=qf();typeof C[m]>"u"&&Yt("MobX requires global '"+m+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:aP,extras:{getDebugName:xf},$mobx:It});if(!gt.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!LP)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Nh={exports:{}},We={},wh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function jP(){return Lm||(Lm=1,function(m){function C(Z,$){var w=Z.length;Z.push($);t:for(;0<w;){var D=w-1>>>1,V=Z[D];if(0<t(V,$))Z[D]=$,Z[w]=V,w=D;else break t}}function l(Z){return Z.length===0?null:Z[0]}function g(Z){if(Z.length===0)return null;var $=Z[0],w=Z.pop();if(w!==$){Z[0]=w;t:for(var D=0,V=Z.length,z=V>>>1;D<z;){var X=2*(D+1)-1,j=Z[X],K=X+1,Q=Z[K];if(0>t(j,w))K<V&&0>t(Q,j)?(Z[D]=Q,Z[K]=w,D=K):(Z[D]=j,Z[X]=w,D=X);else if(K<V&&0>t(Q,w))Z[D]=Q,Z[K]=w,D=K;else break t}}return $}function t(Z,$){var w=Z.sortIndex-$.sortIndex;return w!==0?w:Z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var e=performance;m.unstable_now=function(){return e.now()}}else{var h=Date,r=h.now();m.unstable_now=function(){return h.now()-r}}var a=[],s=[],i=1,n=null,f=3,o=!1,u=!1,d=!1,c=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Z){for(var $=l(s);$!==null;){if($.callback===null)g(s);else if($.startTime<=Z)g(s),$.sortIndex=$.expirationTime,C(a,$);else break;$=l(s)}}function y(Z){if(d=!1,x(Z),!u)if(l(a)!==null)u=!0,H(S);else{var $=l(s);$!==null&&b(y,$.startTime-Z)}}function S(Z,$){u=!1,d&&(d=!1,v(M),M=-1),o=!0;var w=f;try{for(x($),n=l(a);n!==null&&(!(n.expirationTime>$)||Z&&!O());){var D=n.callback;if(typeof D=="function"){n.callback=null,f=n.priorityLevel;var V=D(n.expirationTime<=$);$=m.unstable_now(),typeof V=="function"?n.callback=V:n===l(a)&&g(a),x($)}else g(a);n=l(a)}if(n!==null)var z=!0;else{var X=l(s);X!==null&&b(y,X.startTime-$),z=!1}return z}finally{n=null,f=w,o=!1}}var E=!1,A=null,M=-1,L=5,F=-1;function O(){return!(m.unstable_now()-F<L)}function B(){if(A!==null){var Z=m.unstable_now();F=Z;var $=!0;try{$=A(!0,Z)}finally{$?N():(E=!1,A=null)}}else E=!1}var N;if(typeof p=="function")N=function(){p(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=B,N=function(){Y.postMessage(null)}}else N=function(){c(B,0)};function H(Z){A=Z,E||(E=!0,N())}function b(Z,$){M=c(function(){Z(m.unstable_now())},$)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(Z){Z.callback=null},m.unstable_continueExecution=function(){u||o||(u=!0,H(S))},m.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},m.unstable_getCurrentPriorityLevel=function(){return f},m.unstable_getFirstCallbackNode=function(){return l(a)},m.unstable_next=function(Z){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var w=f;f=$;try{return Z()}finally{f=w}},m.unstable_pauseExecution=function(){},m.unstable_requestPaint=function(){},m.unstable_runWithPriority=function(Z,$){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var w=f;f=Z;try{return $()}finally{f=w}},m.unstable_scheduleCallback=function(Z,$,w){var D=m.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?D+w:D):w=D,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=w+V,Z={id:i++,callback:$,priorityLevel:Z,startTime:w,expirationTime:V,sortIndex:-1},w>D?(Z.sortIndex=w,C(s,Z),l(a)===null&&Z===l(s)&&(d?(v(M),M=-1):d=!0,b(y,w-D))):(Z.sortIndex=V,C(a,Z),u||o||(u=!0,H(S))),Z},m.unstable_shouldYield=O,m.unstable_wrapCallback=function(Z){var $=f;return function(){var w=f;f=$;try{return Z.apply(this,arguments)}finally{f=w}}}}(Gh)),Gh}var Om;function KP(){return Om||(Om=1,wh.exports=jP()),wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function bP(){if(Fm)return We;Fm=1;var m=ul(),C=KP();function l(T){for(var P="https://reactjs.org/docs/error-decoder.html?invariant="+T,R=1;R<arguments.length;R++)P+="&args[]="+encodeURIComponent(arguments[R]);return"Minified React error #"+T+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=new Set,t={};function e(T,P){h(T,P),h(T+"Capture",P)}function h(T,P){for(t[T]=P,T=0;T<P.length;T++)g.add(P[T])}var r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a=Object.prototype.hasOwnProperty,s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i={},n={};function f(T){return a.call(n,T)?!0:a.call(i,T)?!1:s.test(T)?n[T]=!0:(i[T]=!0,!1)}function o(T,P,R,I){if(R!==null&&R.type===0)return!1;switch(typeof P){case"function":case"symbol":return!0;case"boolean":return I?!1:R!==null?!R.acceptsBooleans:(T=T.toLowerCase().slice(0,5),T!=="data-"&&T!=="aria-");default:return!1}}function u(T,P,R,I){if(P===null||typeof P>"u"||o(T,P,R,I))return!0;if(I)return!1;if(R!==null)switch(R.type){case 3:return!P;case 4:return P===!1;case 5:return isNaN(P);case 6:return isNaN(P)||1>P}return!1}function d(T,P,R,I,U,W,J){this.acceptsBooleans=P===2||P===3||P===4,this.attributeName=I,this.attributeNamespace=U,this.mustUseProperty=R,this.propertyName=T,this.type=P,this.sanitizeURL=W,this.removeEmptyString=J}var c={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(T){c[T]=new d(T,0,!1,T,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(T){var P=T[0];c[P]=new d(P,1,!1,T[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(T){c[T]=new d(T,2,!1,T.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(T){c[T]=new d(T,2,!1,T,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(T){c[T]=new d(T,3,!1,T.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(T){c[T]=new d(T,3,!0,T,null,!1,!1)}),["capture","download"].forEach(function(T){c[T]=new d(T,4,!1,T,null,!1,!1)}),["cols","rows","size","span"].forEach(function(T){c[T]=new d(T,6,!1,T,null,!1,!1)}),["rowSpan","start"].forEach(function(T){c[T]=new d(T,5,!1,T.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function p(T){return T[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(T){var P=T.replace(v,p);c[P]=new d(P,1,!1,T,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(T){var P=T.replace(v,p);c[P]=new d(P,1,!1,T,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(T){var P=T.replace(v,p);c[P]=new d(P,1,!1,T,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(T){c[T]=new d(T,1,!1,T.toLowerCase(),null,!1,!1)}),c.xlinkHref=new d("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(T){c[T]=new d(T,1,!1,T.toLowerCase(),null,!0,!0)});function x(T,P,R,I){var U=c.hasOwnProperty(P)?c[P]:null;(U!==null?U.type!==0:I||!(2<P.length)||P[0]!=="o"&&P[0]!=="O"||P[1]!=="n"&&P[1]!=="N")&&(u(P,R,U,I)&&(R=null),I||U===null?f(P)&&(R===null?T.removeAttribute(P):T.setAttribute(P,""+R)):U.mustUseProperty?T[U.propertyName]=R===null?U.type===3?!1:"":R:(P=U.attributeName,I=U.attributeNamespace,R===null?T.removeAttribute(P):(U=U.type,R=U===3||U===4&&R===!0?"":""+R,I?T.setAttributeNS(I,P,R):T.setAttribute(P,R))))}var y=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),Z=Symbol.iterator;function $(T){return T===null||typeof T!="object"?null:(T=Z&&T[Z]||T["@@iterator"],typeof T=="function"?T:null)}var w=Object.assign,D;function V(T){if(D===void 0)try{throw Error()}catch(R){var P=R.stack.trim().match(/\n( *(at )?)/);D=P&&P[1]||""}return`
`+D+T}var z=!1;function X(T,P){if(!T||z)return"";z=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(P)if(P=function(){throw Error()},Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(st){var I=st}Reflect.construct(T,[],P)}else{try{P.call()}catch(st){I=st}T.call(P.prototype)}else{try{throw Error()}catch(st){I=st}T()}}catch(st){if(st&&I&&typeof st.stack=="string"){for(var U=st.stack.split(`
`),W=I.stack.split(`
`),J=U.length-1,q=W.length-1;1<=J&&0<=q&&U[J]!==W[q];)q--;for(;1<=J&&0<=q;J--,q--)if(U[J]!==W[q]){if(J!==1||q!==1)do if(J--,q--,0>q||U[J]!==W[q]){var tt=`
`+U[J].replace(" at new "," at ");return T.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",T.displayName)),tt}while(1<=J&&0<=q);break}}}finally{z=!1,Error.prepareStackTrace=R}return(T=T?T.displayName||T.name:"")?V(T):""}function j(T){switch(T.tag){case 5:return V(T.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return T=X(T.type,!1),T;case 11:return T=X(T.type.render,!1),T;case 1:return T=X(T.type,!0),T;default:return""}}function K(T){if(T==null)return null;if(typeof T=="function")return T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case A:return"Fragment";case E:return"Portal";case L:return"Profiler";case M:return"StrictMode";case N:return"Suspense";case G:return"SuspenseList"}if(typeof T=="object")switch(T.$$typeof){case O:return(T.displayName||"Context")+".Consumer";case F:return(T._context.displayName||"Context")+".Provider";case B:var P=T.render;return T=T.displayName,T||(T=P.displayName||P.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case Y:return P=T.displayName||null,P!==null?P:K(T.type)||"Memo";case H:P=T._payload,T=T._init;try{return K(T(P))}catch{}}return null}function Q(T){var P=T.type;switch(T.tag){case 24:return"Cache";case 9:return(P.displayName||"Context")+".Consumer";case 10:return(P._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return T=P.render,T=T.displayName||T.name||"",P.displayName||(T!==""?"ForwardRef("+T+")":"ForwardRef");case 7:return"Fragment";case 5:return P;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(P);case 8:return P===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof P=="function")return P.displayName||P.name||null;if(typeof P=="string")return P}return null}function k(T){switch(typeof T){case"boolean":case"number":case"string":case"undefined":return T;case"object":return T;default:return""}}function _(T){var P=T.type;return(T=T.nodeName)&&T.toLowerCase()==="input"&&(P==="checkbox"||P==="radio")}function it(T){var P=_(T)?"checked":"value",R=Object.getOwnPropertyDescriptor(T.constructor.prototype,P),I=""+T[P];if(!T.hasOwnProperty(P)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var U=R.get,W=R.set;return Object.defineProperty(T,P,{configurable:!0,get:function(){return U.call(this)},set:function(J){I=""+J,W.call(this,J)}}),Object.defineProperty(T,P,{enumerable:R.enumerable}),{getValue:function(){return I},setValue:function(J){I=""+J},stopTracking:function(){T._valueTracker=null,delete T[P]}}}}function at(T){T._valueTracker||(T._valueTracker=it(T))}function ot(T){if(!T)return!1;var P=T._valueTracker;if(!P)return!0;var R=P.getValue(),I="";return T&&(I=_(T)?T.checked?"true":"false":T.value),T=I,T!==R?(P.setValue(T),!0):!1}function ct(T){if(T=T||(typeof document<"u"?document:void 0),typeof T>"u")return null;try{return T.activeElement||T.body}catch{return T.body}}function ut(T,P){var R=P.checked;return w({},P,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:R??T._wrapperState.initialChecked})}function mt(T,P){var R=P.defaultValue==null?"":P.defaultValue,I=P.checked!=null?P.checked:P.defaultChecked;R=k(P.value!=null?P.value:R),T._wrapperState={initialChecked:I,initialValue:R,controlled:P.type==="checkbox"||P.type==="radio"?P.checked!=null:P.value!=null}}function Nt(T,P){P=P.checked,P!=null&&x(T,"checked",P,!1)}function Mt(T,P){Nt(T,P);var R=k(P.value),I=P.type;if(R!=null)I==="number"?(R===0&&T.value===""||T.value!=R)&&(T.value=""+R):T.value!==""+R&&(T.value=""+R);else if(I==="submit"||I==="reset"){T.removeAttribute("value");return}P.hasOwnProperty("value")?ft(T,P.type,R):P.hasOwnProperty("defaultValue")&&ft(T,P.type,k(P.defaultValue)),P.checked==null&&P.defaultChecked!=null&&(T.defaultChecked=!!P.defaultChecked)}function Ct(T,P,R){if(P.hasOwnProperty("value")||P.hasOwnProperty("defaultValue")){var I=P.type;if(!(I!=="submit"&&I!=="reset"||P.value!==void 0&&P.value!==null))return;P=""+T._wrapperState.initialValue,R||P===T.value||(T.value=P),T.defaultValue=P}R=T.name,R!==""&&(T.name=""),T.defaultChecked=!!T._wrapperState.initialChecked,R!==""&&(T.name=R)}function ft(T,P,R){(P!=="number"||ct(T.ownerDocument)!==T)&&(R==null?T.defaultValue=""+T._wrapperState.initialValue:T.defaultValue!==""+R&&(T.defaultValue=""+R))}var wt=Array.isArray;function Tt(T,P,R,I){if(T=T.options,P){P={};for(var U=0;U<R.length;U++)P["$"+R[U]]=!0;for(R=0;R<T.length;R++)U=P.hasOwnProperty("$"+T[R].value),T[R].selected!==U&&(T[R].selected=U),U&&I&&(T[R].defaultSelected=!0)}else{for(R=""+k(R),P=null,U=0;U<T.length;U++){if(T[U].value===R){T[U].selected=!0,I&&(T[U].defaultSelected=!0);return}P!==null||T[U].disabled||(P=T[U])}P!==null&&(P.selected=!0)}}function Lt(T,P){if(P.dangerouslySetInnerHTML!=null)throw Error(l(91));return w({},P,{value:void 0,defaultValue:void 0,children:""+T._wrapperState.initialValue})}function xe(T,P){var R=P.value;if(R==null){if(R=P.children,P=P.defaultValue,R!=null){if(P!=null)throw Error(l(92));if(wt(R)){if(1<R.length)throw Error(l(93));R=R[0]}P=R}P==null&&(P=""),R=P}T._wrapperState={initialValue:k(R)}}function ye(T,P){var R=k(P.value),I=k(P.defaultValue);R!=null&&(R=""+R,R!==T.value&&(T.value=R),P.defaultValue==null&&T.defaultValue!==R&&(T.defaultValue=R)),I!=null&&(T.defaultValue=""+I)}function bt(T){var P=T.textContent;P===T._wrapperState.initialValue&&P!==""&&P!==null&&(T.value=P)}function Ut(T){switch(T){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(T,P){return T==null||T==="http://www.w3.org/1999/xhtml"?Ut(P):T==="http://www.w3.org/2000/svg"&&P==="foreignObject"?"http://www.w3.org/1999/xhtml":T}var Zt,Jt=function(T){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(P,R,I,U){MSApp.execUnsafeLocalFunction(function(){return T(P,R,I,U)})}:T}(function(T,P){if(T.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in T)T.innerHTML=P;else{for(Zt=Zt||document.createElement("div"),Zt.innerHTML="<svg>"+P.valueOf().toString()+"</svg>",P=Zt.firstChild;T.firstChild;)T.removeChild(T.firstChild);for(;P.firstChild;)T.appendChild(P.firstChild)}});function ue(T,P){if(P){var R=T.firstChild;if(R&&R===T.lastChild&&R.nodeType===3){R.nodeValue=P;return}}T.textContent=P}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ci=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(T){ci.forEach(function(P){P=P+T.charAt(0).toUpperCase()+T.substring(1),Be[P]=Be[T]})});function _e(T,P,R){return P==null||typeof P=="boolean"||P===""?"":R||typeof P!="number"||P===0||Be.hasOwnProperty(T)&&Be[T]?(""+P).trim():P+"px"}function ti(T,P){T=T.style;for(var R in P)if(P.hasOwnProperty(R)){var I=R.indexOf("--")===0,U=_e(R,P[R],I);R==="float"&&(R="cssFloat"),I?T.setProperty(R,U):T[R]=U}}var vi=w({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function je(T,P){if(P){if(vi[T]&&(P.children!=null||P.dangerouslySetInnerHTML!=null))throw Error(l(137,T));if(P.dangerouslySetInnerHTML!=null){if(P.children!=null)throw Error(l(60));if(typeof P.dangerouslySetInnerHTML!="object"||!("__html"in P.dangerouslySetInnerHTML))throw Error(l(61))}if(P.style!=null&&typeof P.style!="object")throw Error(l(62))}}function os(T,P){if(T.indexOf("-")===-1)return typeof P.is=="string";switch(T){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=null;function Fl(T){return T=T.target||T.srcElement||window,T.correspondingUseElement&&(T=T.correspondingUseElement),T.nodeType===3?T.parentNode:T}var Dl=null,pr=null,mr=null;function hd(T){if(T=Os(T)){if(typeof Dl!="function")throw Error(l(280));var P=T.stateNode;P&&(P=Wa(P),Dl(T.stateNode,T.type,P))}}function fd(T){pr?mr?mr.push(T):mr=[T]:pr=T}function dd(){if(pr){var T=pr,P=mr;if(mr=pr=null,hd(T),P)for(T=0;T<P.length;T++)hd(P[T])}}function cd(T,P){return T(P)}function vd(){}var Il=!1;function pd(T,P,R){if(Il)return T(P,R);Il=!0;try{return cd(T,P,R)}finally{Il=!1,(pr!==null||mr!==null)&&(vd(),dd())}}function ls(T,P){var R=T.stateNode;if(R===null)return null;var I=Wa(R);if(I===null)return null;R=I[P];t:switch(P){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(T=T.type,I=!(T==="button"||T==="input"||T==="select"||T==="textarea")),T=!I;break t;default:T=!1}if(T)return null;if(R&&typeof R!="function")throw Error(l(231,P,typeof R));return R}var Bl=!1;if(r)try{var us={};Object.defineProperty(us,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Bl=!1}function Ix(T,P,R,I,U,W,J,q,tt){var st=Array.prototype.slice.call(arguments,3);try{P.apply(R,st)}catch(dt){this.onError(dt)}}var hs=!1,Ta=null,Sa=!1,Nl=null,Bx={onError:function(T){hs=!0,Ta=T}};function Nx(T,P,R,I,U,W,J,q,tt){hs=!1,Ta=null,Ix.apply(Bx,arguments)}function wx(T,P,R,I,U,W,J,q,tt){if(Nx.apply(this,arguments),hs){if(hs){var st=Ta;hs=!1,Ta=null}else throw Error(l(198));Sa||(Sa=!0,Nl=st)}}function zn(T){var P=T,R=T;if(T.alternate)for(;P.return;)P=P.return;else{T=P;do P=T,P.flags&4098&&(R=P.return),T=P.return;while(T)}return P.tag===3?R:null}function md(T){if(T.tag===13){var P=T.memoizedState;if(P===null&&(T=T.alternate,T!==null&&(P=T.memoizedState)),P!==null)return P.dehydrated}return null}function gd(T){if(zn(T)!==T)throw Error(l(188))}function Gx(T){var P=T.alternate;if(!P){if(P=zn(T),P===null)throw Error(l(188));return P!==T?null:T}for(var R=T,I=P;;){var U=R.return;if(U===null)break;var W=U.alternate;if(W===null){if(I=U.return,I!==null){R=I;continue}break}if(U.child===W.child){for(W=U.child;W;){if(W===R)return gd(U),T;if(W===I)return gd(U),P;W=W.sibling}throw Error(l(188))}if(R.return!==I.return)R=U,I=W;else{for(var J=!1,q=U.child;q;){if(q===R){J=!0,R=U,I=W;break}if(q===I){J=!0,I=U,R=W;break}q=q.sibling}if(!J){for(q=W.child;q;){if(q===R){J=!0,R=W,I=U;break}if(q===I){J=!0,I=W,R=U;break}q=q.sibling}if(!J)throw Error(l(189))}}if(R.alternate!==I)throw Error(l(190))}if(R.tag!==3)throw Error(l(188));return R.stateNode.current===R?T:P}function xd(T){return T=Gx(T),T!==null?yd(T):null}function yd(T){if(T.tag===5||T.tag===6)return T;for(T=T.child;T!==null;){var P=yd(T);if(P!==null)return P;T=T.sibling}return null}var Td=C.unstable_scheduleCallback,Sd=C.unstable_cancelCallback,Vx=C.unstable_shouldYield,Ux=C.unstable_requestPaint,ae=C.unstable_now,zx=C.unstable_getCurrentPriorityLevel,wl=C.unstable_ImmediatePriority,Ed=C.unstable_UserBlockingPriority,Ea=C.unstable_NormalPriority,Yx=C.unstable_LowPriority,Cd=C.unstable_IdlePriority,Ca=null,Ri=null;function Xx(T){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(Ca,T,void 0,(T.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:jx,Wx=Math.log,Hx=Math.LN2;function jx(T){return T>>>=0,T===0?32:31-(Wx(T)/Hx|0)|0}var Aa=64,Pa=4194304;function fs(T){switch(T&-T){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return T&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return T&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return T}}function Ma(T,P){var R=T.pendingLanes;if(R===0)return 0;var I=0,U=T.suspendedLanes,W=T.pingedLanes,J=R&268435455;if(J!==0){var q=J&~U;q!==0?I=fs(q):(W&=J,W!==0&&(I=fs(W)))}else J=R&~U,J!==0?I=fs(J):W!==0&&(I=fs(W));if(I===0)return 0;if(P!==0&&P!==I&&!(P&U)&&(U=I&-I,W=P&-P,U>=W||U===16&&(W&4194240)!==0))return P;if(I&4&&(I|=R&16),P=T.entangledLanes,P!==0)for(T=T.entanglements,P&=I;0<P;)R=31-pi(P),U=1<<R,I|=T[R],P&=~U;return I}function Kx(T,P){switch(T){case 1:case 2:case 4:return P+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return P+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bx(T,P){for(var R=T.suspendedLanes,I=T.pingedLanes,U=T.expirationTimes,W=T.pendingLanes;0<W;){var J=31-pi(W),q=1<<J,tt=U[J];tt===-1?(!(q&R)||q&I)&&(U[J]=Kx(q,P)):tt<=P&&(T.expiredLanes|=q),W&=~q}}function Gl(T){return T=T.pendingLanes&-1073741825,T!==0?T:T&1073741824?1073741824:0}function Ad(){var T=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),T}function Vl(T){for(var P=[],R=0;31>R;R++)P.push(T);return P}function ds(T,P,R){T.pendingLanes|=P,P!==536870912&&(T.suspendedLanes=0,T.pingedLanes=0),T=T.eventTimes,P=31-pi(P),T[P]=R}function Zx(T,P){var R=T.pendingLanes&~P;T.pendingLanes=P,T.suspendedLanes=0,T.pingedLanes=0,T.expiredLanes&=P,T.mutableReadLanes&=P,T.entangledLanes&=P,P=T.entanglements;var I=T.eventTimes;for(T=T.expirationTimes;0<R;){var U=31-pi(R),W=1<<U;P[U]=0,I[U]=-1,T[U]=-1,R&=~W}}function Ul(T,P){var R=T.entangledLanes|=P;for(T=T.entanglements;R;){var I=31-pi(R),U=1<<I;U&P|T[I]&P&&(T[I]|=P),R&=~U}}var jt=0;function Pd(T){return T&=-T,1<T?4<T?T&268435455?16:536870912:4:1}var Md,zl,Rd,Ld,Od,Yl=!1,Ra=[],hn=null,fn=null,dn=null,cs=new Map,vs=new Map,cn=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(T,P){switch(T){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":cs.delete(P.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(P.pointerId)}}function ps(T,P,R,I,U,W){return T===null||T.nativeEvent!==W?(T={blockedOn:P,domEventName:R,eventSystemFlags:I,nativeEvent:W,targetContainers:[U]},P!==null&&(P=Os(P),P!==null&&zl(P)),T):(T.eventSystemFlags|=I,P=T.targetContainers,U!==null&&P.indexOf(U)===-1&&P.push(U),T)}function Qx(T,P,R,I,U){switch(P){case"focusin":return hn=ps(hn,T,P,R,I,U),!0;case"dragenter":return fn=ps(fn,T,P,R,I,U),!0;case"mouseover":return dn=ps(dn,T,P,R,I,U),!0;case"pointerover":var W=U.pointerId;return cs.set(W,ps(cs.get(W)||null,T,P,R,I,U)),!0;case"gotpointercapture":return W=U.pointerId,vs.set(W,ps(vs.get(W)||null,T,P,R,I,U)),!0}return!1}function Dd(T){var P=Yn(T.target);if(P!==null){var R=zn(P);if(R!==null){if(P=R.tag,P===13){if(P=md(R),P!==null){T.blockedOn=P,Od(T.priority,function(){Rd(R)});return}}else if(P===3&&R.stateNode.current.memoizedState.isDehydrated){T.blockedOn=R.tag===3?R.stateNode.containerInfo:null;return}}}T.blockedOn=null}function La(T){if(T.blockedOn!==null)return!1;for(var P=T.targetContainers;0<P.length;){var R=Wl(T.domEventName,T.eventSystemFlags,P[0],T.nativeEvent);if(R===null){R=T.nativeEvent;var I=new R.constructor(R.type,R);Ol=I,R.target.dispatchEvent(I),Ol=null}else return P=Os(R),P!==null&&zl(P),T.blockedOn=R,!1;P.shift()}return!0}function Id(T,P,R){La(T)&&R.delete(P)}function Jx(){Yl=!1,hn!==null&&La(hn)&&(hn=null),fn!==null&&La(fn)&&(fn=null),dn!==null&&La(dn)&&(dn=null),cs.forEach(Id),vs.forEach(Id)}function ms(T,P){T.blockedOn===P&&(T.blockedOn=null,Yl||(Yl=!0,C.unstable_scheduleCallback(C.unstable_NormalPriority,Jx)))}function gs(T){function P(U){return ms(U,T)}if(0<Ra.length){ms(Ra[0],T);for(var R=1;R<Ra.length;R++){var I=Ra[R];I.blockedOn===T&&(I.blockedOn=null)}}for(hn!==null&&ms(hn,T),fn!==null&&ms(fn,T),dn!==null&&ms(dn,T),cs.forEach(P),vs.forEach(P),R=0;R<cn.length;R++)I=cn[R],I.blockedOn===T&&(I.blockedOn=null);for(;0<cn.length&&(R=cn[0],R.blockedOn===null);)Dd(R),R.blockedOn===null&&cn.shift()}var gr=y.ReactCurrentBatchConfig,Oa=!0;function kx(T,P,R,I){var U=jt,W=gr.transition;gr.transition=null;try{jt=1,Xl(T,P,R,I)}finally{jt=U,gr.transition=W}}function qx(T,P,R,I){var U=jt,W=gr.transition;gr.transition=null;try{jt=4,Xl(T,P,R,I)}finally{jt=U,gr.transition=W}}function Xl(T,P,R,I){if(Oa){var U=Wl(T,P,R,I);if(U===null)su(T,P,I,Fa,R),Fd(T,I);else if(Qx(U,T,P,R,I))I.stopPropagation();else if(Fd(T,I),P&4&&-1<$x.indexOf(T)){for(;U!==null;){var W=Os(U);if(W!==null&&Md(W),W=Wl(T,P,R,I),W===null&&su(T,P,I,Fa,R),W===U)break;U=W}U!==null&&I.stopPropagation()}else su(T,P,I,null,R)}}var Fa=null;function Wl(T,P,R,I){if(Fa=null,T=Fl(I),T=Yn(T),T!==null)if(P=zn(T),P===null)T=null;else if(R=P.tag,R===13){if(T=md(P),T!==null)return T;T=null}else if(R===3){if(P.stateNode.current.memoizedState.isDehydrated)return P.tag===3?P.stateNode.containerInfo:null;T=null}else P!==T&&(T=null);return Fa=T,null}function Bd(T){switch(T){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zx()){case wl:return 1;case Ed:return 4;case Ea:case Yx:return 16;case Cd:return 536870912;default:return 16}default:return 16}}var vn=null,Hl=null,Da=null;function Nd(){if(Da)return Da;var T,P=Hl,R=P.length,I,U="value"in vn?vn.value:vn.textContent,W=U.length;for(T=0;T<R&&P[T]===U[T];T++);var J=R-T;for(I=1;I<=J&&P[R-I]===U[W-I];I++);return Da=U.slice(T,1<I?1-I:void 0)}function Ia(T){var P=T.keyCode;return"charCode"in T?(T=T.charCode,T===0&&P===13&&(T=13)):T=P,T===10&&(T=13),32<=T||T===13?T:0}function Ba(){return!0}function wd(){return!1}function Ke(T){function P(R,I,U,W,J){this._reactName=R,this._targetInst=U,this.type=I,this.nativeEvent=W,this.target=J,this.currentTarget=null;for(var q in T)T.hasOwnProperty(q)&&(R=T[q],this[q]=R?R(W):W[q]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?Ba:wd,this.isPropagationStopped=wd,this}return w(P.prototype,{preventDefault:function(){this.defaultPrevented=!0;var R=this.nativeEvent;R&&(R.preventDefault?R.preventDefault():typeof R.returnValue!="unknown"&&(R.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var R=this.nativeEvent;R&&(R.stopPropagation?R.stopPropagation():typeof R.cancelBubble!="unknown"&&(R.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),P}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(T){return T.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Ke(xr),xs=w({},xr,{view:0,detail:0}),_x=Ke(xs),Kl,bl,ys,Na=w({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(T){return T.relatedTarget===void 0?T.fromElement===T.srcElement?T.toElement:T.fromElement:T.relatedTarget},movementX:function(T){return"movementX"in T?T.movementX:(T!==ys&&(ys&&T.type==="mousemove"?(Kl=T.screenX-ys.screenX,bl=T.screenY-ys.screenY):bl=Kl=0,ys=T),Kl)},movementY:function(T){return"movementY"in T?T.movementY:bl}}),Gd=Ke(Na),ty=w({},Na,{dataTransfer:0}),ey=Ke(ty),iy=w({},xs,{relatedTarget:0}),Zl=Ke(iy),ny=w({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=Ke(ny),sy=w({},xr,{clipboardData:function(T){return"clipboardData"in T?T.clipboardData:window.clipboardData}}),ay=Ke(sy),oy=w({},xr,{data:0}),Vd=Ke(oy),ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fy(T){var P=this.nativeEvent;return P.getModifierState?P.getModifierState(T):(T=hy[T])?!!P[T]:!1}function $l(){return fy}var dy=w({},xs,{key:function(T){if(T.key){var P=ly[T.key]||T.key;if(P!=="Unidentified")return P}return T.type==="keypress"?(T=Ia(T),T===13?"Enter":String.fromCharCode(T)):T.type==="keydown"||T.type==="keyup"?uy[T.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(T){return T.type==="keypress"?Ia(T):0},keyCode:function(T){return T.type==="keydown"||T.type==="keyup"?T.keyCode:0},which:function(T){return T.type==="keypress"?Ia(T):T.type==="keydown"||T.type==="keyup"?T.keyCode:0}}),cy=Ke(dy),vy=w({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ud=Ke(vy),py=w({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),my=Ke(py),gy=w({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xy=Ke(gy),yy=w({},Na,{deltaX:function(T){return"deltaX"in T?T.deltaX:"wheelDeltaX"in T?-T.wheelDeltaX:0},deltaY:function(T){return"deltaY"in T?T.deltaY:"wheelDeltaY"in T?-T.wheelDeltaY:"wheelDelta"in T?-T.wheelDelta:0},deltaZ:0,deltaMode:0}),Ty=Ke(yy),Sy=[9,13,27,32],Ql=r&&"CompositionEvent"in window,Ts=null;r&&"documentMode"in document&&(Ts=document.documentMode);var Ey=r&&"TextEvent"in window&&!Ts,zd=r&&(!Ql||Ts&&8<Ts&&11>=Ts),Yd=" ",Xd=!1;function Wd(T,P){switch(T){case"keyup":return Sy.indexOf(P.keyCode)!==-1;case"keydown":return P.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(T){return T=T.detail,typeof T=="object"&&"data"in T?T.data:null}var yr=!1;function Cy(T,P){switch(T){case"compositionend":return Hd(P);case"keypress":return P.which!==32?null:(Xd=!0,Yd);case"textInput":return T=P.data,T===Yd&&Xd?null:T;default:return null}}function Ay(T,P){if(yr)return T==="compositionend"||!Ql&&Wd(T,P)?(T=Nd(),Da=Hl=vn=null,yr=!1,T):null;switch(T){case"paste":return null;case"keypress":if(!(P.ctrlKey||P.altKey||P.metaKey)||P.ctrlKey&&P.altKey){if(P.char&&1<P.char.length)return P.char;if(P.which)return String.fromCharCode(P.which)}return null;case"compositionend":return zd&&P.locale!=="ko"?null:P.data;default:return null}}var Py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(T){var P=T&&T.nodeName&&T.nodeName.toLowerCase();return P==="input"?!!Py[T.type]:P==="textarea"}function Kd(T,P,R,I){fd(I),P=za(P,"onChange"),0<P.length&&(R=new jl("onChange","change",null,R,I),T.push({event:R,listeners:P}))}var Ss=null,Es=null;function My(T){uc(T,0)}function wa(T){var P=Ar(T);if(ot(P))return T}function Ry(T,P){if(T==="change")return P}var bd=!1;if(r){var Jl;if(r){var kl="oninput"in document;if(!kl){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),kl=typeof Zd.oninput=="function"}Jl=kl}else Jl=!1;bd=Jl&&(!document.documentMode||9<document.documentMode)}function $d(){Ss&&(Ss.detachEvent("onpropertychange",Qd),Es=Ss=null)}function Qd(T){if(T.propertyName==="value"&&wa(Es)){var P=[];Kd(P,Es,T,Fl(T)),pd(My,P)}}function Ly(T,P,R){T==="focusin"?($d(),Ss=P,Es=R,Ss.attachEvent("onpropertychange",Qd)):T==="focusout"&&$d()}function Oy(T){if(T==="selectionchange"||T==="keyup"||T==="keydown")return wa(Es)}function Fy(T,P){if(T==="click")return wa(P)}function Dy(T,P){if(T==="input"||T==="change")return wa(P)}function Iy(T,P){return T===P&&(T!==0||1/T===1/P)||T!==T&&P!==P}var mi=typeof Object.is=="function"?Object.is:Iy;function Cs(T,P){if(mi(T,P))return!0;if(typeof T!="object"||T===null||typeof P!="object"||P===null)return!1;var R=Object.keys(T),I=Object.keys(P);if(R.length!==I.length)return!1;for(I=0;I<R.length;I++){var U=R[I];if(!a.call(P,U)||!mi(T[U],P[U]))return!1}return!0}function Jd(T){for(;T&&T.firstChild;)T=T.firstChild;return T}function kd(T,P){var R=Jd(T);T=0;for(var I;R;){if(R.nodeType===3){if(I=T+R.textContent.length,T<=P&&I>=P)return{node:R,offset:P-T};T=I}t:{for(;R;){if(R.nextSibling){R=R.nextSibling;break t}R=R.parentNode}R=void 0}R=Jd(R)}}function qd(T,P){return T&&P?T===P?!0:T&&T.nodeType===3?!1:P&&P.nodeType===3?qd(T,P.parentNode):"contains"in T?T.contains(P):T.compareDocumentPosition?!!(T.compareDocumentPosition(P)&16):!1:!1}function _d(){for(var T=window,P=ct();P instanceof T.HTMLIFrameElement;){try{var R=typeof P.contentWindow.location.href=="string"}catch{R=!1}if(R)T=P.contentWindow;else break;P=ct(T.document)}return P}function ql(T){var P=T&&T.nodeName&&T.nodeName.toLowerCase();return P&&(P==="input"&&(T.type==="text"||T.type==="search"||T.type==="tel"||T.type==="url"||T.type==="password")||P==="textarea"||T.contentEditable==="true")}function By(T){var P=_d(),R=T.focusedElem,I=T.selectionRange;if(P!==R&&R&&R.ownerDocument&&qd(R.ownerDocument.documentElement,R)){if(I!==null&&ql(R)){if(P=I.start,T=I.end,T===void 0&&(T=P),"selectionStart"in R)R.selectionStart=P,R.selectionEnd=Math.min(T,R.value.length);else if(T=(P=R.ownerDocument||document)&&P.defaultView||window,T.getSelection){T=T.getSelection();var U=R.textContent.length,W=Math.min(I.start,U);I=I.end===void 0?W:Math.min(I.end,U),!T.extend&&W>I&&(U=I,I=W,W=U),U=kd(R,W);var J=kd(R,I);U&&J&&(T.rangeCount!==1||T.anchorNode!==U.node||T.anchorOffset!==U.offset||T.focusNode!==J.node||T.focusOffset!==J.offset)&&(P=P.createRange(),P.setStart(U.node,U.offset),T.removeAllRanges(),W>I?(T.addRange(P),T.extend(J.node,J.offset)):(P.setEnd(J.node,J.offset),T.addRange(P)))}}for(P=[],T=R;T=T.parentNode;)T.nodeType===1&&P.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<P.length;R++)T=P[R],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}var Ny=r&&"documentMode"in document&&11>=document.documentMode,Tr=null,_l=null,As=null,tu=!1;function tc(T,P,R){var I=R.window===R?R.document:R.nodeType===9?R:R.ownerDocument;tu||Tr==null||Tr!==ct(I)||(I=Tr,"selectionStart"in I&&ql(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),As&&Cs(As,I)||(As=I,I=za(_l,"onSelect"),0<I.length&&(P=new jl("onSelect","select",null,P,R),T.push({event:P,listeners:I}),P.target=Tr)))}function Ga(T,P){var R={};return R[T.toLowerCase()]=P.toLowerCase(),R["Webkit"+T]="webkit"+P,R["Moz"+T]="moz"+P,R}var Sr={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},eu={},ec={};r&&(ec=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Va(T){if(eu[T])return eu[T];if(!Sr[T])return T;var P=Sr[T],R;for(R in P)if(P.hasOwnProperty(R)&&R in ec)return eu[T]=P[R];return T}var ic=Va("animationend"),nc=Va("animationiteration"),rc=Va("animationstart"),sc=Va("transitionend"),ac=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(T,P){ac.set(T,P),e(P,[T])}for(var iu=0;iu<oc.length;iu++){var nu=oc[iu],wy=nu.toLowerCase(),Gy=nu[0].toUpperCase()+nu.slice(1);pn(wy,"on"+Gy)}pn(ic,"onAnimationEnd"),pn(nc,"onAnimationIteration"),pn(rc,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(sc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),e("onBeforeInput",["compositionend","keypress","textInput","paste"]),e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function lc(T,P,R){var I=T.type||"unknown-event";T.currentTarget=R,wx(I,P,void 0,T),T.currentTarget=null}function uc(T,P){P=(P&4)!==0;for(var R=0;R<T.length;R++){var I=T[R],U=I.event;I=I.listeners;t:{var W=void 0;if(P)for(var J=I.length-1;0<=J;J--){var q=I[J],tt=q.instance,st=q.currentTarget;if(q=q.listener,tt!==W&&U.isPropagationStopped())break t;lc(U,q,st),W=tt}else for(J=0;J<I.length;J++){if(q=I[J],tt=q.instance,st=q.currentTarget,q=q.listener,tt!==W&&U.isPropagationStopped())break t;lc(U,q,st),W=tt}}}if(Sa)throw T=Nl,Sa=!1,Nl=null,T}function kt(T,P){var R=P[fu];R===void 0&&(R=P[fu]=new Set);var I=T+"__bubble";R.has(I)||(hc(P,T,2,!1),R.add(I))}function ru(T,P,R){var I=0;P&&(I|=4),hc(R,T,I,P)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Ms(T){if(!T[Ua]){T[Ua]=!0,g.forEach(function(R){R!=="selectionchange"&&(Vy.has(R)||ru(R,!1,T),ru(R,!0,T))});var P=T.nodeType===9?T:T.ownerDocument;P===null||P[Ua]||(P[Ua]=!0,ru("selectionchange",!1,P))}}function hc(T,P,R,I){switch(Bd(P)){case 1:var U=kx;break;case 4:U=qx;break;default:U=Xl}R=U.bind(null,P,R,T),U=void 0,!Bl||P!=="touchstart"&&P!=="touchmove"&&P!=="wheel"||(U=!0),I?U!==void 0?T.addEventListener(P,R,{capture:!0,passive:U}):T.addEventListener(P,R,!0):U!==void 0?T.addEventListener(P,R,{passive:U}):T.addEventListener(P,R,!1)}function su(T,P,R,I,U){var W=I;if(!(P&1)&&!(P&2)&&I!==null)t:for(;;){if(I===null)return;var J=I.tag;if(J===3||J===4){var q=I.stateNode.containerInfo;if(q===U||q.nodeType===8&&q.parentNode===U)break;if(J===4)for(J=I.return;J!==null;){var tt=J.tag;if((tt===3||tt===4)&&(tt=J.stateNode.containerInfo,tt===U||tt.nodeType===8&&tt.parentNode===U))return;J=J.return}for(;q!==null;){if(J=Yn(q),J===null)return;if(tt=J.tag,tt===5||tt===6){I=W=J;continue t}q=q.parentNode}}I=I.return}pd(function(){var st=W,dt=Fl(R),vt=[];t:{var ht=ac.get(T);if(ht!==void 0){var yt=jl,Et=T;switch(T){case"keypress":if(Ia(R)===0)break t;case"keydown":case"keyup":yt=cy;break;case"focusin":Et="focus",yt=Zl;break;case"focusout":Et="blur",yt=Zl;break;case"beforeblur":case"afterblur":yt=Zl;break;case"click":if(R.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=my;break;case ic:case nc:case rc:yt=ry;break;case sc:yt=xy;break;case"scroll":yt=_x;break;case"wheel":yt=Ty;break;case"copy":case"cut":case"paste":yt=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Ud}var At=(P&4)!==0,oe=!At&&T==="scroll",nt=At?ht!==null?ht+"Capture":null:ht;At=[];for(var et=st,rt;et!==null;){rt=et;var pt=rt.stateNode;if(rt.tag===5&&pt!==null&&(rt=pt,nt!==null&&(pt=ls(et,nt),pt!=null&&At.push(Rs(et,pt,rt)))),oe)break;et=et.return}0<At.length&&(ht=new yt(ht,Et,null,R,dt),vt.push({event:ht,listeners:At}))}}if(!(P&7)){t:{if(ht=T==="mouseover"||T==="pointerover",yt=T==="mouseout"||T==="pointerout",ht&&R!==Ol&&(Et=R.relatedTarget||R.fromElement)&&(Yn(Et)||Et[Xi]))break t;if((yt||ht)&&(ht=dt.window===dt?dt:(ht=dt.ownerDocument)?ht.defaultView||ht.parentWindow:window,yt?(Et=R.relatedTarget||R.toElement,yt=st,Et=Et?Yn(Et):null,Et!==null&&(oe=zn(Et),Et!==oe||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(yt=null,Et=st),yt!==Et)){if(At=Gd,pt="onMouseLeave",nt="onMouseEnter",et="mouse",(T==="pointerout"||T==="pointerover")&&(At=Ud,pt="onPointerLeave",nt="onPointerEnter",et="pointer"),oe=yt==null?ht:Ar(yt),rt=Et==null?ht:Ar(Et),ht=new At(pt,et+"leave",yt,R,dt),ht.target=oe,ht.relatedTarget=rt,pt=null,Yn(dt)===st&&(At=new At(nt,et+"enter",Et,R,dt),At.target=rt,At.relatedTarget=oe,pt=At),oe=pt,yt&&Et)e:{for(At=yt,nt=Et,et=0,rt=At;rt;rt=Er(rt))et++;for(rt=0,pt=nt;pt;pt=Er(pt))rt++;for(;0<et-rt;)At=Er(At),et--;for(;0<rt-et;)nt=Er(nt),rt--;for(;et--;){if(At===nt||nt!==null&&At===nt.alternate)break e;At=Er(At),nt=Er(nt)}At=null}else At=null;yt!==null&&fc(vt,ht,yt,At,!1),Et!==null&&oe!==null&&fc(vt,oe,Et,At,!0)}}t:{if(ht=st?Ar(st):window,yt=ht.nodeName&&ht.nodeName.toLowerCase(),yt==="select"||yt==="input"&&ht.type==="file")var Pt=Ry;else if(jd(ht))if(bd)Pt=Dy;else{Pt=Oy;var Ot=Ly}else(yt=ht.nodeName)&&yt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Pt=Fy);if(Pt&&(Pt=Pt(T,st))){Kd(vt,Pt,R,dt);break t}Ot&&Ot(T,ht,st),T==="focusout"&&(Ot=ht._wrapperState)&&Ot.controlled&&ht.type==="number"&&ft(ht,"number",ht.value)}switch(Ot=st?Ar(st):window,T){case"focusin":(jd(Ot)||Ot.contentEditable==="true")&&(Tr=Ot,_l=st,As=null);break;case"focusout":As=_l=Tr=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,tc(vt,R,dt);break;case"selectionchange":if(Ny)break;case"keydown":case"keyup":tc(vt,R,dt)}var Ft;if(Ql)t:{switch(T){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else yr?Wd(T,R)&&(Bt="onCompositionEnd"):T==="keydown"&&R.keyCode===229&&(Bt="onCompositionStart");Bt&&(zd&&R.locale!=="ko"&&(yr||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&yr&&(Ft=Nd()):(vn=dt,Hl="value"in vn?vn.value:vn.textContent,yr=!0)),Ot=za(st,Bt),0<Ot.length&&(Bt=new Vd(Bt,T,null,R,dt),vt.push({event:Bt,listeners:Ot}),Ft?Bt.data=Ft:(Ft=Hd(R),Ft!==null&&(Bt.data=Ft)))),(Ft=Ey?Cy(T,R):Ay(T,R))&&(st=za(st,"onBeforeInput"),0<st.length&&(dt=new Vd("onBeforeInput","beforeinput",null,R,dt),vt.push({event:dt,listeners:st}),dt.data=Ft))}uc(vt,P)})}function Rs(T,P,R){return{instance:T,listener:P,currentTarget:R}}function za(T,P){for(var R=P+"Capture",I=[];T!==null;){var U=T,W=U.stateNode;U.tag===5&&W!==null&&(U=W,W=ls(T,R),W!=null&&I.unshift(Rs(T,W,U)),W=ls(T,P),W!=null&&I.push(Rs(T,W,U))),T=T.return}return I}function Er(T){if(T===null)return null;do T=T.return;while(T&&T.tag!==5);return T||null}function fc(T,P,R,I,U){for(var W=P._reactName,J=[];R!==null&&R!==I;){var q=R,tt=q.alternate,st=q.stateNode;if(tt!==null&&tt===I)break;q.tag===5&&st!==null&&(q=st,U?(tt=ls(R,W),tt!=null&&J.unshift(Rs(R,tt,q))):U||(tt=ls(R,W),tt!=null&&J.push(Rs(R,tt,q)))),R=R.return}J.length!==0&&T.push({event:P,listeners:J})}var Uy=/\r\n?/g,zy=/\u0000|\uFFFD/g;function dc(T){return(typeof T=="string"?T:""+T).replace(Uy,`
`).replace(zy,"")}function Ya(T,P,R){if(P=dc(P),dc(T)!==P&&R)throw Error(l(425))}function Xa(){}var au=null,ou=null;function lu(T,P){return T==="textarea"||T==="noscript"||typeof P.children=="string"||typeof P.children=="number"||typeof P.dangerouslySetInnerHTML=="object"&&P.dangerouslySetInnerHTML!==null&&P.dangerouslySetInnerHTML.__html!=null}var uu=typeof setTimeout=="function"?setTimeout:void 0,Yy=typeof clearTimeout=="function"?clearTimeout:void 0,cc=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof cc<"u"?function(T){return cc.resolve(null).then(T).catch(Wy)}:uu;function Wy(T){setTimeout(function(){throw T})}function hu(T,P){var R=P,I=0;do{var U=R.nextSibling;if(T.removeChild(R),U&&U.nodeType===8)if(R=U.data,R==="/$"){if(I===0){T.removeChild(U),gs(P);return}I--}else R!=="$"&&R!=="$?"&&R!=="$!"||I++;R=U}while(R);gs(P)}function mn(T){for(;T!=null;T=T.nextSibling){var P=T.nodeType;if(P===1||P===3)break;if(P===8){if(P=T.data,P==="$"||P==="$!"||P==="$?")break;if(P==="/$")return null}}return T}function vc(T){T=T.previousSibling;for(var P=0;T;){if(T.nodeType===8){var R=T.data;if(R==="$"||R==="$!"||R==="$?"){if(P===0)return T;P--}else R==="/$"&&P++}T=T.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Li="__reactFiber$"+Cr,Ls="__reactProps$"+Cr,Xi="__reactContainer$"+Cr,fu="__reactEvents$"+Cr,Hy="__reactListeners$"+Cr,jy="__reactHandles$"+Cr;function Yn(T){var P=T[Li];if(P)return P;for(var R=T.parentNode;R;){if(P=R[Xi]||R[Li]){if(R=P.alternate,P.child!==null||R!==null&&R.child!==null)for(T=vc(T);T!==null;){if(R=T[Li])return R;T=vc(T)}return P}T=R,R=T.parentNode}return null}function Os(T){return T=T[Li]||T[Xi],!T||T.tag!==5&&T.tag!==6&&T.tag!==13&&T.tag!==3?null:T}function Ar(T){if(T.tag===5||T.tag===6)return T.stateNode;throw Error(l(33))}function Wa(T){return T[Ls]||null}var du=[],Pr=-1;function gn(T){return{current:T}}function qt(T){0>Pr||(T.current=du[Pr],du[Pr]=null,Pr--)}function $t(T,P){Pr++,du[Pr]=T.current,T.current=P}var xn={},Pe=gn(xn),Ve=gn(!1),Xn=xn;function Mr(T,P){var R=T.type.contextTypes;if(!R)return xn;var I=T.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===P)return I.__reactInternalMemoizedMaskedChildContext;var U={},W;for(W in R)U[W]=P[W];return I&&(T=T.stateNode,T.__reactInternalMemoizedUnmaskedChildContext=P,T.__reactInternalMemoizedMaskedChildContext=U),U}function Ue(T){return T=T.childContextTypes,T!=null}function Ha(){qt(Ve),qt(Pe)}function pc(T,P,R){if(Pe.current!==xn)throw Error(l(168));$t(Pe,P),$t(Ve,R)}function mc(T,P,R){var I=T.stateNode;if(P=P.childContextTypes,typeof I.getChildContext!="function")return R;I=I.getChildContext();for(var U in I)if(!(U in P))throw Error(l(108,Q(T)||"Unknown",U));return w({},R,I)}function ja(T){return T=(T=T.stateNode)&&T.__reactInternalMemoizedMergedChildContext||xn,Xn=Pe.current,$t(Pe,T),$t(Ve,Ve.current),!0}function gc(T,P,R){var I=T.stateNode;if(!I)throw Error(l(169));R?(T=mc(T,P,Xn),I.__reactInternalMemoizedMergedChildContext=T,qt(Ve),qt(Pe),$t(Pe,T)):qt(Ve),$t(Ve,R)}var Wi=null,Ka=!1,cu=!1;function xc(T){Wi===null?Wi=[T]:Wi.push(T)}function Ky(T){Ka=!0,xc(T)}function yn(){if(!cu&&Wi!==null){cu=!0;var T=0,P=jt;try{var R=Wi;for(jt=1;T<R.length;T++){var I=R[T];do I=I(!0);while(I!==null)}Wi=null,Ka=!1}catch(U){throw Wi!==null&&(Wi=Wi.slice(T+1)),Td(wl,yn),U}finally{jt=P,cu=!1}}return null}var Rr=[],Lr=0,ba=null,Za=0,ei=[],ii=0,Wn=null,Hi=1,ji="";function Hn(T,P){Rr[Lr++]=Za,Rr[Lr++]=ba,ba=T,Za=P}function yc(T,P,R){ei[ii++]=Hi,ei[ii++]=ji,ei[ii++]=Wn,Wn=T;var I=Hi;T=ji;var U=32-pi(I)-1;I&=~(1<<U),R+=1;var W=32-pi(P)+U;if(30<W){var J=U-U%5;W=(I&(1<<J)-1).toString(32),I>>=J,U-=J,Hi=1<<32-pi(P)+U|R<<U|I,ji=W+T}else Hi=1<<W|R<<U|I,ji=T}function vu(T){T.return!==null&&(Hn(T,1),yc(T,1,0))}function pu(T){for(;T===ba;)ba=Rr[--Lr],Rr[Lr]=null,Za=Rr[--Lr],Rr[Lr]=null;for(;T===Wn;)Wn=ei[--ii],ei[ii]=null,ji=ei[--ii],ei[ii]=null,Hi=ei[--ii],ei[ii]=null}var be=null,Ze=null,te=!1,gi=null;function Tc(T,P){var R=ai(5,null,null,0);R.elementType="DELETED",R.stateNode=P,R.return=T,P=T.deletions,P===null?(T.deletions=[R],T.flags|=16):P.push(R)}function Sc(T,P){switch(T.tag){case 5:var R=T.type;return P=P.nodeType!==1||R.toLowerCase()!==P.nodeName.toLowerCase()?null:P,P!==null?(T.stateNode=P,be=T,Ze=mn(P.firstChild),!0):!1;case 6:return P=T.pendingProps===""||P.nodeType!==3?null:P,P!==null?(T.stateNode=P,be=T,Ze=null,!0):!1;case 13:return P=P.nodeType!==8?null:P,P!==null?(R=Wn!==null?{id:Hi,overflow:ji}:null,T.memoizedState={dehydrated:P,treeContext:R,retryLane:1073741824},R=ai(18,null,null,0),R.stateNode=P,R.return=T,T.child=R,be=T,Ze=null,!0):!1;default:return!1}}function mu(T){return(T.mode&1)!==0&&(T.flags&128)===0}function gu(T){if(te){var P=Ze;if(P){var R=P;if(!Sc(T,P)){if(mu(T))throw Error(l(418));P=mn(R.nextSibling);var I=be;P&&Sc(T,P)?Tc(I,R):(T.flags=T.flags&-4097|2,te=!1,be=T)}}else{if(mu(T))throw Error(l(418));T.flags=T.flags&-4097|2,te=!1,be=T}}}function Ec(T){for(T=T.return;T!==null&&T.tag!==5&&T.tag!==3&&T.tag!==13;)T=T.return;be=T}function $a(T){if(T!==be)return!1;if(!te)return Ec(T),te=!0,!1;var P;if((P=T.tag!==3)&&!(P=T.tag!==5)&&(P=T.type,P=P!=="head"&&P!=="body"&&!lu(T.type,T.memoizedProps)),P&&(P=Ze)){if(mu(T))throw Cc(),Error(l(418));for(;P;)Tc(T,P),P=mn(P.nextSibling)}if(Ec(T),T.tag===13){if(T=T.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(l(317));t:{for(T=T.nextSibling,P=0;T;){if(T.nodeType===8){var R=T.data;if(R==="/$"){if(P===0){Ze=mn(T.nextSibling);break t}P--}else R!=="$"&&R!=="$!"&&R!=="$?"||P++}T=T.nextSibling}Ze=null}}else Ze=be?mn(T.stateNode.nextSibling):null;return!0}function Cc(){for(var T=Ze;T;)T=mn(T.nextSibling)}function Or(){Ze=be=null,te=!1}function xu(T){gi===null?gi=[T]:gi.push(T)}var by=y.ReactCurrentBatchConfig;function Fs(T,P,R){if(T=R.ref,T!==null&&typeof T!="function"&&typeof T!="object"){if(R._owner){if(R=R._owner,R){if(R.tag!==1)throw Error(l(309));var I=R.stateNode}if(!I)throw Error(l(147,T));var U=I,W=""+T;return P!==null&&P.ref!==null&&typeof P.ref=="function"&&P.ref._stringRef===W?P.ref:(P=function(J){var q=U.refs;J===null?delete q[W]:q[W]=J},P._stringRef=W,P)}if(typeof T!="string")throw Error(l(284));if(!R._owner)throw Error(l(290,T))}return T}function Qa(T,P){throw T=Object.prototype.toString.call(P),Error(l(31,T==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":T))}function Ac(T){var P=T._init;return P(T._payload)}function Pc(T){function P(nt,et){if(T){var rt=nt.deletions;rt===null?(nt.deletions=[et],nt.flags|=16):rt.push(et)}}function R(nt,et){if(!T)return null;for(;et!==null;)P(nt,et),et=et.sibling;return null}function I(nt,et){for(nt=new Map;et!==null;)et.key!==null?nt.set(et.key,et):nt.set(et.index,et),et=et.sibling;return nt}function U(nt,et){return nt=Rn(nt,et),nt.index=0,nt.sibling=null,nt}function W(nt,et,rt){return nt.index=rt,T?(rt=nt.alternate,rt!==null?(rt=rt.index,rt<et?(nt.flags|=2,et):rt):(nt.flags|=2,et)):(nt.flags|=1048576,et)}function J(nt){return T&&nt.alternate===null&&(nt.flags|=2),nt}function q(nt,et,rt,pt){return et===null||et.tag!==6?(et=uh(rt,nt.mode,pt),et.return=nt,et):(et=U(et,rt),et.return=nt,et)}function tt(nt,et,rt,pt){var Pt=rt.type;return Pt===A?dt(nt,et,rt.props.children,pt,rt.key):et!==null&&(et.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===H&&Ac(Pt)===et.type)?(pt=U(et,rt.props),pt.ref=Fs(nt,et,rt),pt.return=nt,pt):(pt=To(rt.type,rt.key,rt.props,null,nt.mode,pt),pt.ref=Fs(nt,et,rt),pt.return=nt,pt)}function st(nt,et,rt,pt){return et===null||et.tag!==4||et.stateNode.containerInfo!==rt.containerInfo||et.stateNode.implementation!==rt.implementation?(et=hh(rt,nt.mode,pt),et.return=nt,et):(et=U(et,rt.children||[]),et.return=nt,et)}function dt(nt,et,rt,pt,Pt){return et===null||et.tag!==7?(et=kn(rt,nt.mode,pt,Pt),et.return=nt,et):(et=U(et,rt),et.return=nt,et)}function vt(nt,et,rt){if(typeof et=="string"&&et!==""||typeof et=="number")return et=uh(""+et,nt.mode,rt),et.return=nt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return rt=To(et.type,et.key,et.props,null,nt.mode,rt),rt.ref=Fs(nt,null,et),rt.return=nt,rt;case E:return et=hh(et,nt.mode,rt),et.return=nt,et;case H:var pt=et._init;return vt(nt,pt(et._payload),rt)}if(wt(et)||$(et))return et=kn(et,nt.mode,rt,null),et.return=nt,et;Qa(nt,et)}return null}function ht(nt,et,rt,pt){var Pt=et!==null?et.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Pt!==null?null:q(nt,et,""+rt,pt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case S:return rt.key===Pt?tt(nt,et,rt,pt):null;case E:return rt.key===Pt?st(nt,et,rt,pt):null;case H:return Pt=rt._init,ht(nt,et,Pt(rt._payload),pt)}if(wt(rt)||$(rt))return Pt!==null?null:dt(nt,et,rt,pt,null);Qa(nt,rt)}return null}function yt(nt,et,rt,pt,Pt){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return nt=nt.get(rt)||null,q(et,nt,""+pt,Pt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case S:return nt=nt.get(pt.key===null?rt:pt.key)||null,tt(et,nt,pt,Pt);case E:return nt=nt.get(pt.key===null?rt:pt.key)||null,st(et,nt,pt,Pt);case H:var Ot=pt._init;return yt(nt,et,rt,Ot(pt._payload),Pt)}if(wt(pt)||$(pt))return nt=nt.get(rt)||null,dt(et,nt,pt,Pt,null);Qa(et,pt)}return null}function Et(nt,et,rt,pt){for(var Pt=null,Ot=null,Ft=et,Bt=et=0,me=null;Ft!==null&&Bt<rt.length;Bt++){Ft.index>Bt?(me=Ft,Ft=null):me=Ft.sibling;var Xt=ht(nt,Ft,rt[Bt],pt);if(Xt===null){Ft===null&&(Ft=me);break}T&&Ft&&Xt.alternate===null&&P(nt,Ft),et=W(Xt,et,Bt),Ot===null?Pt=Xt:Ot.sibling=Xt,Ot=Xt,Ft=me}if(Bt===rt.length)return R(nt,Ft),te&&Hn(nt,Bt),Pt;if(Ft===null){for(;Bt<rt.length;Bt++)Ft=vt(nt,rt[Bt],pt),Ft!==null&&(et=W(Ft,et,Bt),Ot===null?Pt=Ft:Ot.sibling=Ft,Ot=Ft);return te&&Hn(nt,Bt),Pt}for(Ft=I(nt,Ft);Bt<rt.length;Bt++)me=yt(Ft,nt,Bt,rt[Bt],pt),me!==null&&(T&&me.alternate!==null&&Ft.delete(me.key===null?Bt:me.key),et=W(me,et,Bt),Ot===null?Pt=me:Ot.sibling=me,Ot=me);return T&&Ft.forEach(function(Ln){return P(nt,Ln)}),te&&Hn(nt,Bt),Pt}function At(nt,et,rt,pt){var Pt=$(rt);if(typeof Pt!="function")throw Error(l(150));if(rt=Pt.call(rt),rt==null)throw Error(l(151));for(var Ot=Pt=null,Ft=et,Bt=et=0,me=null,Xt=rt.next();Ft!==null&&!Xt.done;Bt++,Xt=rt.next()){Ft.index>Bt?(me=Ft,Ft=null):me=Ft.sibling;var Ln=ht(nt,Ft,Xt.value,pt);if(Ln===null){Ft===null&&(Ft=me);break}T&&Ft&&Ln.alternate===null&&P(nt,Ft),et=W(Ln,et,Bt),Ot===null?Pt=Ln:Ot.sibling=Ln,Ot=Ln,Ft=me}if(Xt.done)return R(nt,Ft),te&&Hn(nt,Bt),Pt;if(Ft===null){for(;!Xt.done;Bt++,Xt=rt.next())Xt=vt(nt,Xt.value,pt),Xt!==null&&(et=W(Xt,et,Bt),Ot===null?Pt=Xt:Ot.sibling=Xt,Ot=Xt);return te&&Hn(nt,Bt),Pt}for(Ft=I(nt,Ft);!Xt.done;Bt++,Xt=rt.next())Xt=yt(Ft,nt,Bt,Xt.value,pt),Xt!==null&&(T&&Xt.alternate!==null&&Ft.delete(Xt.key===null?Bt:Xt.key),et=W(Xt,et,Bt),Ot===null?Pt=Xt:Ot.sibling=Xt,Ot=Xt);return T&&Ft.forEach(function(A1){return P(nt,A1)}),te&&Hn(nt,Bt),Pt}function oe(nt,et,rt,pt){if(typeof rt=="object"&&rt!==null&&rt.type===A&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case S:t:{for(var Pt=rt.key,Ot=et;Ot!==null;){if(Ot.key===Pt){if(Pt=rt.type,Pt===A){if(Ot.tag===7){R(nt,Ot.sibling),et=U(Ot,rt.props.children),et.return=nt,nt=et;break t}}else if(Ot.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===H&&Ac(Pt)===Ot.type){R(nt,Ot.sibling),et=U(Ot,rt.props),et.ref=Fs(nt,Ot,rt),et.return=nt,nt=et;break t}R(nt,Ot);break}else P(nt,Ot);Ot=Ot.sibling}rt.type===A?(et=kn(rt.props.children,nt.mode,pt,rt.key),et.return=nt,nt=et):(pt=To(rt.type,rt.key,rt.props,null,nt.mode,pt),pt.ref=Fs(nt,et,rt),pt.return=nt,nt=pt)}return J(nt);case E:t:{for(Ot=rt.key;et!==null;){if(et.key===Ot)if(et.tag===4&&et.stateNode.containerInfo===rt.containerInfo&&et.stateNode.implementation===rt.implementation){R(nt,et.sibling),et=U(et,rt.children||[]),et.return=nt,nt=et;break t}else{R(nt,et);break}else P(nt,et);et=et.sibling}et=hh(rt,nt.mode,pt),et.return=nt,nt=et}return J(nt);case H:return Ot=rt._init,oe(nt,et,Ot(rt._payload),pt)}if(wt(rt))return Et(nt,et,rt,pt);if($(rt))return At(nt,et,rt,pt);Qa(nt,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"?(rt=""+rt,et!==null&&et.tag===6?(R(nt,et.sibling),et=U(et,rt),et.return=nt,nt=et):(R(nt,et),et=uh(rt,nt.mode,pt),et.return=nt,nt=et),J(nt)):R(nt,et)}return oe}var Fr=Pc(!0),Mc=Pc(!1),Ja=gn(null),ka=null,Dr=null,yu=null;function Tu(){yu=Dr=ka=null}function Su(T){var P=Ja.current;qt(Ja),T._currentValue=P}function Eu(T,P,R){for(;T!==null;){var I=T.alternate;if((T.childLanes&P)!==P?(T.childLanes|=P,I!==null&&(I.childLanes|=P)):I!==null&&(I.childLanes&P)!==P&&(I.childLanes|=P),T===R)break;T=T.return}}function Ir(T,P){ka=T,yu=Dr=null,T=T.dependencies,T!==null&&T.firstContext!==null&&(T.lanes&P&&(ze=!0),T.firstContext=null)}function ni(T){var P=T._currentValue;if(yu!==T)if(T={context:T,memoizedValue:P,next:null},Dr===null){if(ka===null)throw Error(l(308));Dr=T,ka.dependencies={lanes:0,firstContext:T}}else Dr=Dr.next=T;return P}var jn=null;function Cu(T){jn===null?jn=[T]:jn.push(T)}function Rc(T,P,R,I){var U=P.interleaved;return U===null?(R.next=R,Cu(P)):(R.next=U.next,U.next=R),P.interleaved=R,Ki(T,I)}function Ki(T,P){T.lanes|=P;var R=T.alternate;for(R!==null&&(R.lanes|=P),R=T,T=T.return;T!==null;)T.childLanes|=P,R=T.alternate,R!==null&&(R.childLanes|=P),R=T,T=T.return;return R.tag===3?R.stateNode:null}var Tn=!1;function Au(T){T.updateQueue={baseState:T.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lc(T,P){T=T.updateQueue,P.updateQueue===T&&(P.updateQueue={baseState:T.baseState,firstBaseUpdate:T.firstBaseUpdate,lastBaseUpdate:T.lastBaseUpdate,shared:T.shared,effects:T.effects})}function bi(T,P){return{eventTime:T,lane:P,tag:0,payload:null,callback:null,next:null}}function Sn(T,P,R){var I=T.updateQueue;if(I===null)return null;if(I=I.shared,zt&2){var U=I.pending;return U===null?P.next=P:(P.next=U.next,U.next=P),I.pending=P,Ki(T,R)}return U=I.interleaved,U===null?(P.next=P,Cu(I)):(P.next=U.next,U.next=P),I.interleaved=P,Ki(T,R)}function qa(T,P,R){if(P=P.updateQueue,P!==null&&(P=P.shared,(R&4194240)!==0)){var I=P.lanes;I&=T.pendingLanes,R|=I,P.lanes=R,Ul(T,R)}}function Oc(T,P){var R=T.updateQueue,I=T.alternate;if(I!==null&&(I=I.updateQueue,R===I)){var U=null,W=null;if(R=R.firstBaseUpdate,R!==null){do{var J={eventTime:R.eventTime,lane:R.lane,tag:R.tag,payload:R.payload,callback:R.callback,next:null};W===null?U=W=J:W=W.next=J,R=R.next}while(R!==null);W===null?U=W=P:W=W.next=P}else U=W=P;R={baseState:I.baseState,firstBaseUpdate:U,lastBaseUpdate:W,shared:I.shared,effects:I.effects},T.updateQueue=R;return}T=R.lastBaseUpdate,T===null?R.firstBaseUpdate=P:T.next=P,R.lastBaseUpdate=P}function _a(T,P,R,I){var U=T.updateQueue;Tn=!1;var W=U.firstBaseUpdate,J=U.lastBaseUpdate,q=U.shared.pending;if(q!==null){U.shared.pending=null;var tt=q,st=tt.next;tt.next=null,J===null?W=st:J.next=st,J=tt;var dt=T.alternate;dt!==null&&(dt=dt.updateQueue,q=dt.lastBaseUpdate,q!==J&&(q===null?dt.firstBaseUpdate=st:q.next=st,dt.lastBaseUpdate=tt))}if(W!==null){var vt=U.baseState;J=0,dt=st=tt=null,q=W;do{var ht=q.lane,yt=q.eventTime;if((I&ht)===ht){dt!==null&&(dt=dt.next={eventTime:yt,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});t:{var Et=T,At=q;switch(ht=P,yt=R,At.tag){case 1:if(Et=At.payload,typeof Et=="function"){vt=Et.call(yt,vt,ht);break t}vt=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=At.payload,ht=typeof Et=="function"?Et.call(yt,vt,ht):Et,ht==null)break t;vt=w({},vt,ht);break t;case 2:Tn=!0}}q.callback!==null&&q.lane!==0&&(T.flags|=64,ht=U.effects,ht===null?U.effects=[q]:ht.push(q))}else yt={eventTime:yt,lane:ht,tag:q.tag,payload:q.payload,callback:q.callback,next:null},dt===null?(st=dt=yt,tt=vt):dt=dt.next=yt,J|=ht;if(q=q.next,q===null){if(q=U.shared.pending,q===null)break;ht=q,q=ht.next,ht.next=null,U.lastBaseUpdate=ht,U.shared.pending=null}}while(!0);if(dt===null&&(tt=vt),U.baseState=tt,U.firstBaseUpdate=st,U.lastBaseUpdate=dt,P=U.shared.interleaved,P!==null){U=P;do J|=U.lane,U=U.next;while(U!==P)}else W===null&&(U.shared.lanes=0);Zn|=J,T.lanes=J,T.memoizedState=vt}}function Fc(T,P,R){if(T=P.effects,P.effects=null,T!==null)for(P=0;P<T.length;P++){var I=T[P],U=I.callback;if(U!==null){if(I.callback=null,I=R,typeof U!="function")throw Error(l(191,U));U.call(I)}}}var Ds={},Oi=gn(Ds),Is=gn(Ds),Bs=gn(Ds);function Kn(T){if(T===Ds)throw Error(l(174));return T}function Pu(T,P){switch($t(Bs,P),$t(Is,T),$t(Oi,Ds),T=P.nodeType,T){case 9:case 11:P=(P=P.documentElement)?P.namespaceURI:_t(null,"");break;default:T=T===8?P.parentNode:P,P=T.namespaceURI||null,T=T.tagName,P=_t(P,T)}qt(Oi),$t(Oi,P)}function Br(){qt(Oi),qt(Is),qt(Bs)}function Dc(T){Kn(Bs.current);var P=Kn(Oi.current),R=_t(P,T.type);P!==R&&($t(Is,T),$t(Oi,R))}function Mu(T){Is.current===T&&(qt(Oi),qt(Is))}var ee=gn(0);function to(T){for(var P=T;P!==null;){if(P.tag===13){var R=P.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||R.data==="$?"||R.data==="$!"))return P}else if(P.tag===19&&P.memoizedProps.revealOrder!==void 0){if(P.flags&128)return P}else if(P.child!==null){P.child.return=P,P=P.child;continue}if(P===T)break;for(;P.sibling===null;){if(P.return===null||P.return===T)return null;P=P.return}P.sibling.return=P.return,P=P.sibling}return null}var Ru=[];function Lu(){for(var T=0;T<Ru.length;T++)Ru[T]._workInProgressVersionPrimary=null;Ru.length=0}var eo=y.ReactCurrentDispatcher,Ou=y.ReactCurrentBatchConfig,bn=0,ie=null,de=null,ve=null,io=!1,Ns=!1,ws=0,Zy=0;function Me(){throw Error(l(321))}function Fu(T,P){if(P===null)return!1;for(var R=0;R<P.length&&R<T.length;R++)if(!mi(T[R],P[R]))return!1;return!0}function Du(T,P,R,I,U,W){if(bn=W,ie=P,P.memoizedState=null,P.updateQueue=null,P.lanes=0,eo.current=T===null||T.memoizedState===null?ky:qy,T=R(I,U),Ns){W=0;do{if(Ns=!1,ws=0,25<=W)throw Error(l(301));W+=1,ve=de=null,P.updateQueue=null,eo.current=_y,T=R(I,U)}while(Ns)}if(eo.current=so,P=de!==null&&de.next!==null,bn=0,ve=de=ie=null,io=!1,P)throw Error(l(300));return T}function Iu(){var T=ws!==0;return ws=0,T}function Fi(){var T={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ie.memoizedState=ve=T:ve=ve.next=T,ve}function ri(){if(de===null){var T=ie.alternate;T=T!==null?T.memoizedState:null}else T=de.next;var P=ve===null?ie.memoizedState:ve.next;if(P!==null)ve=P,de=T;else{if(T===null)throw Error(l(310));de=T,T={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ve===null?ie.memoizedState=ve=T:ve=ve.next=T}return ve}function Gs(T,P){return typeof P=="function"?P(T):P}function Bu(T){var P=ri(),R=P.queue;if(R===null)throw Error(l(311));R.lastRenderedReducer=T;var I=de,U=I.baseQueue,W=R.pending;if(W!==null){if(U!==null){var J=U.next;U.next=W.next,W.next=J}I.baseQueue=U=W,R.pending=null}if(U!==null){W=U.next,I=I.baseState;var q=J=null,tt=null,st=W;do{var dt=st.lane;if((bn&dt)===dt)tt!==null&&(tt=tt.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),I=st.hasEagerState?st.eagerState:T(I,st.action);else{var vt={lane:dt,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};tt===null?(q=tt=vt,J=I):tt=tt.next=vt,ie.lanes|=dt,Zn|=dt}st=st.next}while(st!==null&&st!==W);tt===null?J=I:tt.next=q,mi(I,P.memoizedState)||(ze=!0),P.memoizedState=I,P.baseState=J,P.baseQueue=tt,R.lastRenderedState=I}if(T=R.interleaved,T!==null){U=T;do W=U.lane,ie.lanes|=W,Zn|=W,U=U.next;while(U!==T)}else U===null&&(R.lanes=0);return[P.memoizedState,R.dispatch]}function Nu(T){var P=ri(),R=P.queue;if(R===null)throw Error(l(311));R.lastRenderedReducer=T;var I=R.dispatch,U=R.pending,W=P.memoizedState;if(U!==null){R.pending=null;var J=U=U.next;do W=T(W,J.action),J=J.next;while(J!==U);mi(W,P.memoizedState)||(ze=!0),P.memoizedState=W,P.baseQueue===null&&(P.baseState=W),R.lastRenderedState=W}return[W,I]}function Ic(){}function Bc(T,P){var R=ie,I=ri(),U=P(),W=!mi(I.memoizedState,U);if(W&&(I.memoizedState=U,ze=!0),I=I.queue,wu(Gc.bind(null,R,I,T),[T]),I.getSnapshot!==P||W||ve!==null&&ve.memoizedState.tag&1){if(R.flags|=2048,Vs(9,wc.bind(null,R,I,U,P),void 0,null),pe===null)throw Error(l(349));bn&30||Nc(R,P,U)}return U}function Nc(T,P,R){T.flags|=16384,T={getSnapshot:P,value:R},P=ie.updateQueue,P===null?(P={lastEffect:null,stores:null},ie.updateQueue=P,P.stores=[T]):(R=P.stores,R===null?P.stores=[T]:R.push(T))}function wc(T,P,R,I){P.value=R,P.getSnapshot=I,Vc(P)&&Uc(T)}function Gc(T,P,R){return R(function(){Vc(P)&&Uc(T)})}function Vc(T){var P=T.getSnapshot;T=T.value;try{var R=P();return!mi(T,R)}catch{return!0}}function Uc(T){var P=Ki(T,1);P!==null&&Si(P,T,1,-1)}function zc(T){var P=Fi();return typeof T=="function"&&(T=T()),P.memoizedState=P.baseState=T,T={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:T},P.queue=T,T=T.dispatch=Jy.bind(null,ie,T),[P.memoizedState,T]}function Vs(T,P,R,I){return T={tag:T,create:P,destroy:R,deps:I,next:null},P=ie.updateQueue,P===null?(P={lastEffect:null,stores:null},ie.updateQueue=P,P.lastEffect=T.next=T):(R=P.lastEffect,R===null?P.lastEffect=T.next=T:(I=R.next,R.next=T,T.next=I,P.lastEffect=T)),T}function Yc(){return ri().memoizedState}function no(T,P,R,I){var U=Fi();ie.flags|=T,U.memoizedState=Vs(1|P,R,void 0,I===void 0?null:I)}function ro(T,P,R,I){var U=ri();I=I===void 0?null:I;var W=void 0;if(de!==null){var J=de.memoizedState;if(W=J.destroy,I!==null&&Fu(I,J.deps)){U.memoizedState=Vs(P,R,W,I);return}}ie.flags|=T,U.memoizedState=Vs(1|P,R,W,I)}function Xc(T,P){return no(8390656,8,T,P)}function wu(T,P){return ro(2048,8,T,P)}function Wc(T,P){return ro(4,2,T,P)}function Hc(T,P){return ro(4,4,T,P)}function jc(T,P){if(typeof P=="function")return T=T(),P(T),function(){P(null)};if(P!=null)return T=T(),P.current=T,function(){P.current=null}}function Kc(T,P,R){return R=R!=null?R.concat([T]):null,ro(4,4,jc.bind(null,P,T),R)}function Gu(){}function bc(T,P){var R=ri();P=P===void 0?null:P;var I=R.memoizedState;return I!==null&&P!==null&&Fu(P,I[1])?I[0]:(R.memoizedState=[T,P],T)}function Zc(T,P){var R=ri();P=P===void 0?null:P;var I=R.memoizedState;return I!==null&&P!==null&&Fu(P,I[1])?I[0]:(T=T(),R.memoizedState=[T,P],T)}function $c(T,P,R){return bn&21?(mi(R,P)||(R=Ad(),ie.lanes|=R,Zn|=R,T.baseState=!0),P):(T.baseState&&(T.baseState=!1,ze=!0),T.memoizedState=R)}function $y(T,P){var R=jt;jt=R!==0&&4>R?R:4,T(!0);var I=Ou.transition;Ou.transition={};try{T(!1),P()}finally{jt=R,Ou.transition=I}}function Qc(){return ri().memoizedState}function Qy(T,P,R){var I=Pn(T);if(R={lane:I,action:R,hasEagerState:!1,eagerState:null,next:null},Jc(T))kc(P,R);else if(R=Rc(T,P,R,I),R!==null){var U=we();Si(R,T,I,U),qc(R,P,I)}}function Jy(T,P,R){var I=Pn(T),U={lane:I,action:R,hasEagerState:!1,eagerState:null,next:null};if(Jc(T))kc(P,U);else{var W=T.alternate;if(T.lanes===0&&(W===null||W.lanes===0)&&(W=P.lastRenderedReducer,W!==null))try{var J=P.lastRenderedState,q=W(J,R);if(U.hasEagerState=!0,U.eagerState=q,mi(q,J)){var tt=P.interleaved;tt===null?(U.next=U,Cu(P)):(U.next=tt.next,tt.next=U),P.interleaved=U;return}}catch{}finally{}R=Rc(T,P,U,I),R!==null&&(U=we(),Si(R,T,I,U),qc(R,P,I))}}function Jc(T){var P=T.alternate;return T===ie||P!==null&&P===ie}function kc(T,P){Ns=io=!0;var R=T.pending;R===null?P.next=P:(P.next=R.next,R.next=P),T.pending=P}function qc(T,P,R){if(R&4194240){var I=P.lanes;I&=T.pendingLanes,R|=I,P.lanes=R,Ul(T,R)}}var so={readContext:ni,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},ky={readContext:ni,useCallback:function(T,P){return Fi().memoizedState=[T,P===void 0?null:P],T},useContext:ni,useEffect:Xc,useImperativeHandle:function(T,P,R){return R=R!=null?R.concat([T]):null,no(4194308,4,jc.bind(null,P,T),R)},useLayoutEffect:function(T,P){return no(4194308,4,T,P)},useInsertionEffect:function(T,P){return no(4,2,T,P)},useMemo:function(T,P){var R=Fi();return P=P===void 0?null:P,T=T(),R.memoizedState=[T,P],T},useReducer:function(T,P,R){var I=Fi();return P=R!==void 0?R(P):P,I.memoizedState=I.baseState=P,T={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:T,lastRenderedState:P},I.queue=T,T=T.dispatch=Qy.bind(null,ie,T),[I.memoizedState,T]},useRef:function(T){var P=Fi();return T={current:T},P.memoizedState=T},useState:zc,useDebugValue:Gu,useDeferredValue:function(T){return Fi().memoizedState=T},useTransition:function(){var T=zc(!1),P=T[0];return T=$y.bind(null,T[1]),Fi().memoizedState=T,[P,T]},useMutableSource:function(){},useSyncExternalStore:function(T,P,R){var I=ie,U=Fi();if(te){if(R===void 0)throw Error(l(407));R=R()}else{if(R=P(),pe===null)throw Error(l(349));bn&30||Nc(I,P,R)}U.memoizedState=R;var W={value:R,getSnapshot:P};return U.queue=W,Xc(Gc.bind(null,I,W,T),[T]),I.flags|=2048,Vs(9,wc.bind(null,I,W,R,P),void 0,null),R},useId:function(){var T=Fi(),P=pe.identifierPrefix;if(te){var R=ji,I=Hi;R=(I&~(1<<32-pi(I)-1)).toString(32)+R,P=":"+P+"R"+R,R=ws++,0<R&&(P+="H"+R.toString(32)),P+=":"}else R=Zy++,P=":"+P+"r"+R.toString(32)+":";return T.memoizedState=P},unstable_isNewReconciler:!1},qy={readContext:ni,useCallback:bc,useContext:ni,useEffect:wu,useImperativeHandle:Kc,useInsertionEffect:Wc,useLayoutEffect:Hc,useMemo:Zc,useReducer:Bu,useRef:Yc,useState:function(){return Bu(Gs)},useDebugValue:Gu,useDeferredValue:function(T){var P=ri();return $c(P,de.memoizedState,T)},useTransition:function(){var T=Bu(Gs)[0],P=ri().memoizedState;return[T,P]},useMutableSource:Ic,useSyncExternalStore:Bc,useId:Qc,unstable_isNewReconciler:!1},_y={readContext:ni,useCallback:bc,useContext:ni,useEffect:wu,useImperativeHandle:Kc,useInsertionEffect:Wc,useLayoutEffect:Hc,useMemo:Zc,useReducer:Nu,useRef:Yc,useState:function(){return Nu(Gs)},useDebugValue:Gu,useDeferredValue:function(T){var P=ri();return de===null?P.memoizedState=T:$c(P,de.memoizedState,T)},useTransition:function(){var T=Nu(Gs)[0],P=ri().memoizedState;return[T,P]},useMutableSource:Ic,useSyncExternalStore:Bc,useId:Qc,unstable_isNewReconciler:!1};function xi(T,P){if(T&&T.defaultProps){P=w({},P),T=T.defaultProps;for(var R in T)P[R]===void 0&&(P[R]=T[R]);return P}return P}function Vu(T,P,R,I){P=T.memoizedState,R=R(I,P),R=R==null?P:w({},P,R),T.memoizedState=R,T.lanes===0&&(T.updateQueue.baseState=R)}var ao={isMounted:function(T){return(T=T._reactInternals)?zn(T)===T:!1},enqueueSetState:function(T,P,R){T=T._reactInternals;var I=we(),U=Pn(T),W=bi(I,U);W.payload=P,R!=null&&(W.callback=R),P=Sn(T,W,U),P!==null&&(Si(P,T,U,I),qa(P,T,U))},enqueueReplaceState:function(T,P,R){T=T._reactInternals;var I=we(),U=Pn(T),W=bi(I,U);W.tag=1,W.payload=P,R!=null&&(W.callback=R),P=Sn(T,W,U),P!==null&&(Si(P,T,U,I),qa(P,T,U))},enqueueForceUpdate:function(T,P){T=T._reactInternals;var R=we(),I=Pn(T),U=bi(R,I);U.tag=2,P!=null&&(U.callback=P),P=Sn(T,U,I),P!==null&&(Si(P,T,I,R),qa(P,T,I))}};function _c(T,P,R,I,U,W,J){return T=T.stateNode,typeof T.shouldComponentUpdate=="function"?T.shouldComponentUpdate(I,W,J):P.prototype&&P.prototype.isPureReactComponent?!Cs(R,I)||!Cs(U,W):!0}function tv(T,P,R){var I=!1,U=xn,W=P.contextType;return typeof W=="object"&&W!==null?W=ni(W):(U=Ue(P)?Xn:Pe.current,I=P.contextTypes,W=(I=I!=null)?Mr(T,U):xn),P=new P(R,W),T.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=ao,T.stateNode=P,P._reactInternals=T,I&&(T=T.stateNode,T.__reactInternalMemoizedUnmaskedChildContext=U,T.__reactInternalMemoizedMaskedChildContext=W),P}function ev(T,P,R,I){T=P.state,typeof P.componentWillReceiveProps=="function"&&P.componentWillReceiveProps(R,I),typeof P.UNSAFE_componentWillReceiveProps=="function"&&P.UNSAFE_componentWillReceiveProps(R,I),P.state!==T&&ao.enqueueReplaceState(P,P.state,null)}function Uu(T,P,R,I){var U=T.stateNode;U.props=R,U.state=T.memoizedState,U.refs={},Au(T);var W=P.contextType;typeof W=="object"&&W!==null?U.context=ni(W):(W=Ue(P)?Xn:Pe.current,U.context=Mr(T,W)),U.state=T.memoizedState,W=P.getDerivedStateFromProps,typeof W=="function"&&(Vu(T,P,W,R),U.state=T.memoizedState),typeof P.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(P=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),P!==U.state&&ao.enqueueReplaceState(U,U.state,null),_a(T,R,U,I),U.state=T.memoizedState),typeof U.componentDidMount=="function"&&(T.flags|=4194308)}function Nr(T,P){try{var R="",I=P;do R+=j(I),I=I.return;while(I);var U=R}catch(W){U=`
Error generating stack: `+W.message+`
`+W.stack}return{value:T,source:P,stack:U,digest:null}}function zu(T,P,R){return{value:T,source:null,stack:R??null,digest:P??null}}function Yu(T,P){try{console.error(P.value)}catch(R){setTimeout(function(){throw R})}}var t1=typeof WeakMap=="function"?WeakMap:Map;function iv(T,P,R){R=bi(-1,R),R.tag=3,R.payload={element:null};var I=P.value;return R.callback=function(){vo||(vo=!0,eh=I),Yu(T,P)},R}function nv(T,P,R){R=bi(-1,R),R.tag=3;var I=T.type.getDerivedStateFromError;if(typeof I=="function"){var U=P.value;R.payload=function(){return I(U)},R.callback=function(){Yu(T,P)}}var W=T.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(R.callback=function(){Yu(T,P),typeof I!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var J=P.stack;this.componentDidCatch(P.value,{componentStack:J!==null?J:""})}),R}function rv(T,P,R){var I=T.pingCache;if(I===null){I=T.pingCache=new t1;var U=new Set;I.set(P,U)}else U=I.get(P),U===void 0&&(U=new Set,I.set(P,U));U.has(R)||(U.add(R),T=v1.bind(null,T,P,R),P.then(T,T))}function sv(T){do{var P;if((P=T.tag===13)&&(P=T.memoizedState,P=P!==null?P.dehydrated!==null:!0),P)return T;T=T.return}while(T!==null);return null}function av(T,P,R,I,U){return T.mode&1?(T.flags|=65536,T.lanes=U,T):(T===P?T.flags|=65536:(T.flags|=128,R.flags|=131072,R.flags&=-52805,R.tag===1&&(R.alternate===null?R.tag=17:(P=bi(-1,1),P.tag=2,Sn(R,P,1))),R.lanes|=1),T)}var e1=y.ReactCurrentOwner,ze=!1;function Ne(T,P,R,I){P.child=T===null?Mc(P,null,R,I):Fr(P,T.child,R,I)}function ov(T,P,R,I,U){R=R.render;var W=P.ref;return Ir(P,U),I=Du(T,P,R,I,W,U),R=Iu(),T!==null&&!ze?(P.updateQueue=T.updateQueue,P.flags&=-2053,T.lanes&=~U,Zi(T,P,U)):(te&&R&&vu(P),P.flags|=1,Ne(T,P,I,U),P.child)}function lv(T,P,R,I,U){if(T===null){var W=R.type;return typeof W=="function"&&!lh(W)&&W.defaultProps===void 0&&R.compare===null&&R.defaultProps===void 0?(P.tag=15,P.type=W,uv(T,P,W,I,U)):(T=To(R.type,null,I,P,P.mode,U),T.ref=P.ref,T.return=P,P.child=T)}if(W=T.child,!(T.lanes&U)){var J=W.memoizedProps;if(R=R.compare,R=R!==null?R:Cs,R(J,I)&&T.ref===P.ref)return Zi(T,P,U)}return P.flags|=1,T=Rn(W,I),T.ref=P.ref,T.return=P,P.child=T}function uv(T,P,R,I,U){if(T!==null){var W=T.memoizedProps;if(Cs(W,I)&&T.ref===P.ref)if(ze=!1,P.pendingProps=I=W,(T.lanes&U)!==0)T.flags&131072&&(ze=!0);else return P.lanes=T.lanes,Zi(T,P,U)}return Xu(T,P,R,I,U)}function hv(T,P,R){var I=P.pendingProps,U=I.children,W=T!==null?T.memoizedState:null;if(I.mode==="hidden")if(!(P.mode&1))P.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Gr,$e),$e|=R;else{if(!(R&1073741824))return T=W!==null?W.baseLanes|R:R,P.lanes=P.childLanes=1073741824,P.memoizedState={baseLanes:T,cachePool:null,transitions:null},P.updateQueue=null,$t(Gr,$e),$e|=T,null;P.memoizedState={baseLanes:0,cachePool:null,transitions:null},I=W!==null?W.baseLanes:R,$t(Gr,$e),$e|=I}else W!==null?(I=W.baseLanes|R,P.memoizedState=null):I=R,$t(Gr,$e),$e|=I;return Ne(T,P,U,R),P.child}function fv(T,P){var R=P.ref;(T===null&&R!==null||T!==null&&T.ref!==R)&&(P.flags|=512,P.flags|=2097152)}function Xu(T,P,R,I,U){var W=Ue(R)?Xn:Pe.current;return W=Mr(P,W),Ir(P,U),R=Du(T,P,R,I,W,U),I=Iu(),T!==null&&!ze?(P.updateQueue=T.updateQueue,P.flags&=-2053,T.lanes&=~U,Zi(T,P,U)):(te&&I&&vu(P),P.flags|=1,Ne(T,P,R,U),P.child)}function dv(T,P,R,I,U){if(Ue(R)){var W=!0;ja(P)}else W=!1;if(Ir(P,U),P.stateNode===null)lo(T,P),tv(P,R,I),Uu(P,R,I,U),I=!0;else if(T===null){var J=P.stateNode,q=P.memoizedProps;J.props=q;var tt=J.context,st=R.contextType;typeof st=="object"&&st!==null?st=ni(st):(st=Ue(R)?Xn:Pe.current,st=Mr(P,st));var dt=R.getDerivedStateFromProps,vt=typeof dt=="function"||typeof J.getSnapshotBeforeUpdate=="function";vt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(q!==I||tt!==st)&&ev(P,J,I,st),Tn=!1;var ht=P.memoizedState;J.state=ht,_a(P,I,J,U),tt=P.memoizedState,q!==I||ht!==tt||Ve.current||Tn?(typeof dt=="function"&&(Vu(P,R,dt,I),tt=P.memoizedState),(q=Tn||_c(P,R,q,I,ht,tt,st))?(vt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(P.flags|=4194308)):(typeof J.componentDidMount=="function"&&(P.flags|=4194308),P.memoizedProps=I,P.memoizedState=tt),J.props=I,J.state=tt,J.context=st,I=q):(typeof J.componentDidMount=="function"&&(P.flags|=4194308),I=!1)}else{J=P.stateNode,Lc(T,P),q=P.memoizedProps,st=P.type===P.elementType?q:xi(P.type,q),J.props=st,vt=P.pendingProps,ht=J.context,tt=R.contextType,typeof tt=="object"&&tt!==null?tt=ni(tt):(tt=Ue(R)?Xn:Pe.current,tt=Mr(P,tt));var yt=R.getDerivedStateFromProps;(dt=typeof yt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(q!==vt||ht!==tt)&&ev(P,J,I,tt),Tn=!1,ht=P.memoizedState,J.state=ht,_a(P,I,J,U);var Et=P.memoizedState;q!==vt||ht!==Et||Ve.current||Tn?(typeof yt=="function"&&(Vu(P,R,yt,I),Et=P.memoizedState),(st=Tn||_c(P,R,st,I,ht,Et,tt)||!1)?(dt||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(I,Et,tt),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(I,Et,tt)),typeof J.componentDidUpdate=="function"&&(P.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(P.flags|=1024)):(typeof J.componentDidUpdate!="function"||q===T.memoizedProps&&ht===T.memoizedState||(P.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||q===T.memoizedProps&&ht===T.memoizedState||(P.flags|=1024),P.memoizedProps=I,P.memoizedState=Et),J.props=I,J.state=Et,J.context=tt,I=st):(typeof J.componentDidUpdate!="function"||q===T.memoizedProps&&ht===T.memoizedState||(P.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||q===T.memoizedProps&&ht===T.memoizedState||(P.flags|=1024),I=!1)}return Wu(T,P,R,I,W,U)}function Wu(T,P,R,I,U,W){fv(T,P);var J=(P.flags&128)!==0;if(!I&&!J)return U&&gc(P,R,!1),Zi(T,P,W);I=P.stateNode,e1.current=P;var q=J&&typeof R.getDerivedStateFromError!="function"?null:I.render();return P.flags|=1,T!==null&&J?(P.child=Fr(P,T.child,null,W),P.child=Fr(P,null,q,W)):Ne(T,P,q,W),P.memoizedState=I.state,U&&gc(P,R,!0),P.child}function cv(T){var P=T.stateNode;P.pendingContext?pc(T,P.pendingContext,P.pendingContext!==P.context):P.context&&pc(T,P.context,!1),Pu(T,P.containerInfo)}function vv(T,P,R,I,U){return Or(),xu(U),P.flags|=256,Ne(T,P,R,I),P.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function ju(T){return{baseLanes:T,cachePool:null,transitions:null}}function pv(T,P,R){var I=P.pendingProps,U=ee.current,W=!1,J=(P.flags&128)!==0,q;if((q=J)||(q=T!==null&&T.memoizedState===null?!1:(U&2)!==0),q?(W=!0,P.flags&=-129):(T===null||T.memoizedState!==null)&&(U|=1),$t(ee,U&1),T===null)return gu(P),T=P.memoizedState,T!==null&&(T=T.dehydrated,T!==null)?(P.mode&1?T.data==="$!"?P.lanes=8:P.lanes=1073741824:P.lanes=1,null):(J=I.children,T=I.fallback,W?(I=P.mode,W=P.child,J={mode:"hidden",children:J},!(I&1)&&W!==null?(W.childLanes=0,W.pendingProps=J):W=So(J,I,0,null),T=kn(T,I,R,null),W.return=P,T.return=P,W.sibling=T,P.child=W,P.child.memoizedState=ju(R),P.memoizedState=Hu,T):Ku(P,J));if(U=T.memoizedState,U!==null&&(q=U.dehydrated,q!==null))return i1(T,P,J,I,q,U,R);if(W){W=I.fallback,J=P.mode,U=T.child,q=U.sibling;var tt={mode:"hidden",children:I.children};return!(J&1)&&P.child!==U?(I=P.child,I.childLanes=0,I.pendingProps=tt,P.deletions=null):(I=Rn(U,tt),I.subtreeFlags=U.subtreeFlags&14680064),q!==null?W=Rn(q,W):(W=kn(W,J,R,null),W.flags|=2),W.return=P,I.return=P,I.sibling=W,P.child=I,I=W,W=P.child,J=T.child.memoizedState,J=J===null?ju(R):{baseLanes:J.baseLanes|R,cachePool:null,transitions:J.transitions},W.memoizedState=J,W.childLanes=T.childLanes&~R,P.memoizedState=Hu,I}return W=T.child,T=W.sibling,I=Rn(W,{mode:"visible",children:I.children}),!(P.mode&1)&&(I.lanes=R),I.return=P,I.sibling=null,T!==null&&(R=P.deletions,R===null?(P.deletions=[T],P.flags|=16):R.push(T)),P.child=I,P.memoizedState=null,I}function Ku(T,P){return P=So({mode:"visible",children:P},T.mode,0,null),P.return=T,T.child=P}function oo(T,P,R,I){return I!==null&&xu(I),Fr(P,T.child,null,R),T=Ku(P,P.pendingProps.children),T.flags|=2,P.memoizedState=null,T}function i1(T,P,R,I,U,W,J){if(R)return P.flags&256?(P.flags&=-257,I=zu(Error(l(422))),oo(T,P,J,I)):P.memoizedState!==null?(P.child=T.child,P.flags|=128,null):(W=I.fallback,U=P.mode,I=So({mode:"visible",children:I.children},U,0,null),W=kn(W,U,J,null),W.flags|=2,I.return=P,W.return=P,I.sibling=W,P.child=I,P.mode&1&&Fr(P,T.child,null,J),P.child.memoizedState=ju(J),P.memoizedState=Hu,W);if(!(P.mode&1))return oo(T,P,J,null);if(U.data==="$!"){if(I=U.nextSibling&&U.nextSibling.dataset,I)var q=I.dgst;return I=q,W=Error(l(419)),I=zu(W,I,void 0),oo(T,P,J,I)}if(q=(J&T.childLanes)!==0,ze||q){if(I=pe,I!==null){switch(J&-J){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=U&(I.suspendedLanes|J)?0:U,U!==0&&U!==W.retryLane&&(W.retryLane=U,Ki(T,U),Si(I,T,U,-1))}return oh(),I=zu(Error(l(421))),oo(T,P,J,I)}return U.data==="$?"?(P.flags|=128,P.child=T.child,P=p1.bind(null,T),U._reactRetry=P,null):(T=W.treeContext,Ze=mn(U.nextSibling),be=P,te=!0,gi=null,T!==null&&(ei[ii++]=Hi,ei[ii++]=ji,ei[ii++]=Wn,Hi=T.id,ji=T.overflow,Wn=P),P=Ku(P,I.children),P.flags|=4096,P)}function mv(T,P,R){T.lanes|=P;var I=T.alternate;I!==null&&(I.lanes|=P),Eu(T.return,P,R)}function bu(T,P,R,I,U){var W=T.memoizedState;W===null?T.memoizedState={isBackwards:P,rendering:null,renderingStartTime:0,last:I,tail:R,tailMode:U}:(W.isBackwards=P,W.rendering=null,W.renderingStartTime=0,W.last=I,W.tail=R,W.tailMode=U)}function gv(T,P,R){var I=P.pendingProps,U=I.revealOrder,W=I.tail;if(Ne(T,P,I.children,R),I=ee.current,I&2)I=I&1|2,P.flags|=128;else{if(T!==null&&T.flags&128)t:for(T=P.child;T!==null;){if(T.tag===13)T.memoizedState!==null&&mv(T,R,P);else if(T.tag===19)mv(T,R,P);else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===P)break t;for(;T.sibling===null;){if(T.return===null||T.return===P)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}I&=1}if($t(ee,I),!(P.mode&1))P.memoizedState=null;else switch(U){case"forwards":for(R=P.child,U=null;R!==null;)T=R.alternate,T!==null&&to(T)===null&&(U=R),R=R.sibling;R=U,R===null?(U=P.child,P.child=null):(U=R.sibling,R.sibling=null),bu(P,!1,U,R,W);break;case"backwards":for(R=null,U=P.child,P.child=null;U!==null;){if(T=U.alternate,T!==null&&to(T)===null){P.child=U;break}T=U.sibling,U.sibling=R,R=U,U=T}bu(P,!0,R,null,W);break;case"together":bu(P,!1,null,null,void 0);break;default:P.memoizedState=null}return P.child}function lo(T,P){!(P.mode&1)&&T!==null&&(T.alternate=null,P.alternate=null,P.flags|=2)}function Zi(T,P,R){if(T!==null&&(P.dependencies=T.dependencies),Zn|=P.lanes,!(R&P.childLanes))return null;if(T!==null&&P.child!==T.child)throw Error(l(153));if(P.child!==null){for(T=P.child,R=Rn(T,T.pendingProps),P.child=R,R.return=P;T.sibling!==null;)T=T.sibling,R=R.sibling=Rn(T,T.pendingProps),R.return=P;R.sibling=null}return P.child}function n1(T,P,R){switch(P.tag){case 3:cv(P),Or();break;case 5:Dc(P);break;case 1:Ue(P.type)&&ja(P);break;case 4:Pu(P,P.stateNode.containerInfo);break;case 10:var I=P.type._context,U=P.memoizedProps.value;$t(Ja,I._currentValue),I._currentValue=U;break;case 13:if(I=P.memoizedState,I!==null)return I.dehydrated!==null?($t(ee,ee.current&1),P.flags|=128,null):R&P.child.childLanes?pv(T,P,R):($t(ee,ee.current&1),T=Zi(T,P,R),T!==null?T.sibling:null);$t(ee,ee.current&1);break;case 19:if(I=(R&P.childLanes)!==0,T.flags&128){if(I)return gv(T,P,R);P.flags|=128}if(U=P.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),$t(ee,ee.current),I)break;return null;case 22:case 23:return P.lanes=0,hv(T,P,R)}return Zi(T,P,R)}var xv,Zu,yv,Tv;xv=function(T,P){for(var R=P.child;R!==null;){if(R.tag===5||R.tag===6)T.appendChild(R.stateNode);else if(R.tag!==4&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===P)break;for(;R.sibling===null;){if(R.return===null||R.return===P)return;R=R.return}R.sibling.return=R.return,R=R.sibling}},Zu=function(){},yv=function(T,P,R,I){var U=T.memoizedProps;if(U!==I){T=P.stateNode,Kn(Oi.current);var W=null;switch(R){case"input":U=ut(T,U),I=ut(T,I),W=[];break;case"select":U=w({},U,{value:void 0}),I=w({},I,{value:void 0}),W=[];break;case"textarea":U=Lt(T,U),I=Lt(T,I),W=[];break;default:typeof U.onClick!="function"&&typeof I.onClick=="function"&&(T.onclick=Xa)}je(R,I);var J;R=null;for(st in U)if(!I.hasOwnProperty(st)&&U.hasOwnProperty(st)&&U[st]!=null)if(st==="style"){var q=U[st];for(J in q)q.hasOwnProperty(J)&&(R||(R={}),R[J]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(t.hasOwnProperty(st)?W||(W=[]):(W=W||[]).push(st,null));for(st in I){var tt=I[st];if(q=U!=null?U[st]:void 0,I.hasOwnProperty(st)&&tt!==q&&(tt!=null||q!=null))if(st==="style")if(q){for(J in q)!q.hasOwnProperty(J)||tt&&tt.hasOwnProperty(J)||(R||(R={}),R[J]="");for(J in tt)tt.hasOwnProperty(J)&&q[J]!==tt[J]&&(R||(R={}),R[J]=tt[J])}else R||(W||(W=[]),W.push(st,R)),R=tt;else st==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,q=q?q.__html:void 0,tt!=null&&q!==tt&&(W=W||[]).push(st,tt)):st==="children"?typeof tt!="string"&&typeof tt!="number"||(W=W||[]).push(st,""+tt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(t.hasOwnProperty(st)?(tt!=null&&st==="onScroll"&&kt("scroll",T),W||q===tt||(W=[])):(W=W||[]).push(st,tt))}R&&(W=W||[]).push("style",R);var st=W;(P.updateQueue=st)&&(P.flags|=4)}},Tv=function(T,P,R,I){R!==I&&(P.flags|=4)};function Us(T,P){if(!te)switch(T.tailMode){case"hidden":P=T.tail;for(var R=null;P!==null;)P.alternate!==null&&(R=P),P=P.sibling;R===null?T.tail=null:R.sibling=null;break;case"collapsed":R=T.tail;for(var I=null;R!==null;)R.alternate!==null&&(I=R),R=R.sibling;I===null?P||T.tail===null?T.tail=null:T.tail.sibling=null:I.sibling=null}}function Re(T){var P=T.alternate!==null&&T.alternate.child===T.child,R=0,I=0;if(P)for(var U=T.child;U!==null;)R|=U.lanes|U.childLanes,I|=U.subtreeFlags&14680064,I|=U.flags&14680064,U.return=T,U=U.sibling;else for(U=T.child;U!==null;)R|=U.lanes|U.childLanes,I|=U.subtreeFlags,I|=U.flags,U.return=T,U=U.sibling;return T.subtreeFlags|=I,T.childLanes=R,P}function r1(T,P,R){var I=P.pendingProps;switch(pu(P),P.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(P),null;case 1:return Ue(P.type)&&Ha(),Re(P),null;case 3:return I=P.stateNode,Br(),qt(Ve),qt(Pe),Lu(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(T===null||T.child===null)&&($a(P)?P.flags|=4:T===null||T.memoizedState.isDehydrated&&!(P.flags&256)||(P.flags|=1024,gi!==null&&(rh(gi),gi=null))),Zu(T,P),Re(P),null;case 5:Mu(P);var U=Kn(Bs.current);if(R=P.type,T!==null&&P.stateNode!=null)yv(T,P,R,I,U),T.ref!==P.ref&&(P.flags|=512,P.flags|=2097152);else{if(!I){if(P.stateNode===null)throw Error(l(166));return Re(P),null}if(T=Kn(Oi.current),$a(P)){I=P.stateNode,R=P.type;var W=P.memoizedProps;switch(I[Li]=P,I[Ls]=W,T=(P.mode&1)!==0,R){case"dialog":kt("cancel",I),kt("close",I);break;case"iframe":case"object":case"embed":kt("load",I);break;case"video":case"audio":for(U=0;U<Ps.length;U++)kt(Ps[U],I);break;case"source":kt("error",I);break;case"img":case"image":case"link":kt("error",I),kt("load",I);break;case"details":kt("toggle",I);break;case"input":mt(I,W),kt("invalid",I);break;case"select":I._wrapperState={wasMultiple:!!W.multiple},kt("invalid",I);break;case"textarea":xe(I,W),kt("invalid",I)}je(R,W),U=null;for(var J in W)if(W.hasOwnProperty(J)){var q=W[J];J==="children"?typeof q=="string"?I.textContent!==q&&(W.suppressHydrationWarning!==!0&&Ya(I.textContent,q,T),U=["children",q]):typeof q=="number"&&I.textContent!==""+q&&(W.suppressHydrationWarning!==!0&&Ya(I.textContent,q,T),U=["children",""+q]):t.hasOwnProperty(J)&&q!=null&&J==="onScroll"&&kt("scroll",I)}switch(R){case"input":at(I),Ct(I,W,!0);break;case"textarea":at(I),bt(I);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(I.onclick=Xa)}I=U,P.updateQueue=I,I!==null&&(P.flags|=4)}else{J=U.nodeType===9?U:U.ownerDocument,T==="http://www.w3.org/1999/xhtml"&&(T=Ut(R)),T==="http://www.w3.org/1999/xhtml"?R==="script"?(T=J.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild)):typeof I.is=="string"?T=J.createElement(R,{is:I.is}):(T=J.createElement(R),R==="select"&&(J=T,I.multiple?J.multiple=!0:I.size&&(J.size=I.size))):T=J.createElementNS(T,R),T[Li]=P,T[Ls]=I,xv(T,P,!1,!1),P.stateNode=T;t:{switch(J=os(R,I),R){case"dialog":kt("cancel",T),kt("close",T),U=I;break;case"iframe":case"object":case"embed":kt("load",T),U=I;break;case"video":case"audio":for(U=0;U<Ps.length;U++)kt(Ps[U],T);U=I;break;case"source":kt("error",T),U=I;break;case"img":case"image":case"link":kt("error",T),kt("load",T),U=I;break;case"details":kt("toggle",T),U=I;break;case"input":mt(T,I),U=ut(T,I),kt("invalid",T);break;case"option":U=I;break;case"select":T._wrapperState={wasMultiple:!!I.multiple},U=w({},I,{value:void 0}),kt("invalid",T);break;case"textarea":xe(T,I),U=Lt(T,I),kt("invalid",T);break;default:U=I}je(R,U),q=U;for(W in q)if(q.hasOwnProperty(W)){var tt=q[W];W==="style"?ti(T,tt):W==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,tt!=null&&Jt(T,tt)):W==="children"?typeof tt=="string"?(R!=="textarea"||tt!=="")&&ue(T,tt):typeof tt=="number"&&ue(T,""+tt):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(t.hasOwnProperty(W)?tt!=null&&W==="onScroll"&&kt("scroll",T):tt!=null&&x(T,W,tt,J))}switch(R){case"input":at(T),Ct(T,I,!1);break;case"textarea":at(T),bt(T);break;case"option":I.value!=null&&T.setAttribute("value",""+k(I.value));break;case"select":T.multiple=!!I.multiple,W=I.value,W!=null?Tt(T,!!I.multiple,W,!1):I.defaultValue!=null&&Tt(T,!!I.multiple,I.defaultValue,!0);break;default:typeof U.onClick=="function"&&(T.onclick=Xa)}switch(R){case"button":case"input":case"select":case"textarea":I=!!I.autoFocus;break t;case"img":I=!0;break t;default:I=!1}}I&&(P.flags|=4)}P.ref!==null&&(P.flags|=512,P.flags|=2097152)}return Re(P),null;case 6:if(T&&P.stateNode!=null)Tv(T,P,T.memoizedProps,I);else{if(typeof I!="string"&&P.stateNode===null)throw Error(l(166));if(R=Kn(Bs.current),Kn(Oi.current),$a(P)){if(I=P.stateNode,R=P.memoizedProps,I[Li]=P,(W=I.nodeValue!==R)&&(T=be,T!==null))switch(T.tag){case 3:Ya(I.nodeValue,R,(T.mode&1)!==0);break;case 5:T.memoizedProps.suppressHydrationWarning!==!0&&Ya(I.nodeValue,R,(T.mode&1)!==0)}W&&(P.flags|=4)}else I=(R.nodeType===9?R:R.ownerDocument).createTextNode(I),I[Li]=P,P.stateNode=I}return Re(P),null;case 13:if(qt(ee),I=P.memoizedState,T===null||T.memoizedState!==null&&T.memoizedState.dehydrated!==null){if(te&&Ze!==null&&P.mode&1&&!(P.flags&128))Cc(),Or(),P.flags|=98560,W=!1;else if(W=$a(P),I!==null&&I.dehydrated!==null){if(T===null){if(!W)throw Error(l(318));if(W=P.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(l(317));W[Li]=P}else Or(),!(P.flags&128)&&(P.memoizedState=null),P.flags|=4;Re(P),W=!1}else gi!==null&&(rh(gi),gi=null),W=!0;if(!W)return P.flags&65536?P:null}return P.flags&128?(P.lanes=R,P):(I=I!==null,I!==(T!==null&&T.memoizedState!==null)&&I&&(P.child.flags|=8192,P.mode&1&&(T===null||ee.current&1?ce===0&&(ce=3):oh())),P.updateQueue!==null&&(P.flags|=4),Re(P),null);case 4:return Br(),Zu(T,P),T===null&&Ms(P.stateNode.containerInfo),Re(P),null;case 10:return Su(P.type._context),Re(P),null;case 17:return Ue(P.type)&&Ha(),Re(P),null;case 19:if(qt(ee),W=P.memoizedState,W===null)return Re(P),null;if(I=(P.flags&128)!==0,J=W.rendering,J===null)if(I)Us(W,!1);else{if(ce!==0||T!==null&&T.flags&128)for(T=P.child;T!==null;){if(J=to(T),J!==null){for(P.flags|=128,Us(W,!1),I=J.updateQueue,I!==null&&(P.updateQueue=I,P.flags|=4),P.subtreeFlags=0,I=R,R=P.child;R!==null;)W=R,T=I,W.flags&=14680066,J=W.alternate,J===null?(W.childLanes=0,W.lanes=T,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=J.childLanes,W.lanes=J.lanes,W.child=J.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=J.memoizedProps,W.memoizedState=J.memoizedState,W.updateQueue=J.updateQueue,W.type=J.type,T=J.dependencies,W.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),R=R.sibling;return $t(ee,ee.current&1|2),P.child}T=T.sibling}W.tail!==null&&ae()>Vr&&(P.flags|=128,I=!0,Us(W,!1),P.lanes=4194304)}else{if(!I)if(T=to(J),T!==null){if(P.flags|=128,I=!0,R=T.updateQueue,R!==null&&(P.updateQueue=R,P.flags|=4),Us(W,!0),W.tail===null&&W.tailMode==="hidden"&&!J.alternate&&!te)return Re(P),null}else 2*ae()-W.renderingStartTime>Vr&&R!==1073741824&&(P.flags|=128,I=!0,Us(W,!1),P.lanes=4194304);W.isBackwards?(J.sibling=P.child,P.child=J):(R=W.last,R!==null?R.sibling=J:P.child=J,W.last=J)}return W.tail!==null?(P=W.tail,W.rendering=P,W.tail=P.sibling,W.renderingStartTime=ae(),P.sibling=null,R=ee.current,$t(ee,I?R&1|2:R&1),P):(Re(P),null);case 22:case 23:return ah(),I=P.memoizedState!==null,T!==null&&T.memoizedState!==null!==I&&(P.flags|=8192),I&&P.mode&1?$e&1073741824&&(Re(P),P.subtreeFlags&6&&(P.flags|=8192)):Re(P),null;case 24:return null;case 25:return null}throw Error(l(156,P.tag))}function s1(T,P){switch(pu(P),P.tag){case 1:return Ue(P.type)&&Ha(),T=P.flags,T&65536?(P.flags=T&-65537|128,P):null;case 3:return Br(),qt(Ve),qt(Pe),Lu(),T=P.flags,T&65536&&!(T&128)?(P.flags=T&-65537|128,P):null;case 5:return Mu(P),null;case 13:if(qt(ee),T=P.memoizedState,T!==null&&T.dehydrated!==null){if(P.alternate===null)throw Error(l(340));Or()}return T=P.flags,T&65536?(P.flags=T&-65537|128,P):null;case 19:return qt(ee),null;case 4:return Br(),null;case 10:return Su(P.type._context),null;case 22:case 23:return ah(),null;case 24:return null;default:return null}}var uo=!1,Le=!1,a1=typeof WeakSet=="function"?WeakSet:Set,St=null;function wr(T,P){var R=T.ref;if(R!==null)if(typeof R=="function")try{R(null)}catch(I){se(T,P,I)}else R.current=null}function $u(T,P,R){try{R()}catch(I){se(T,P,I)}}var Sv=!1;function o1(T,P){if(au=Oa,T=_d(),ql(T)){if("selectionStart"in T)var R={start:T.selectionStart,end:T.selectionEnd};else t:{R=(R=T.ownerDocument)&&R.defaultView||window;var I=R.getSelection&&R.getSelection();if(I&&I.rangeCount!==0){R=I.anchorNode;var U=I.anchorOffset,W=I.focusNode;I=I.focusOffset;try{R.nodeType,W.nodeType}catch{R=null;break t}var J=0,q=-1,tt=-1,st=0,dt=0,vt=T,ht=null;e:for(;;){for(var yt;vt!==R||U!==0&&vt.nodeType!==3||(q=J+U),vt!==W||I!==0&&vt.nodeType!==3||(tt=J+I),vt.nodeType===3&&(J+=vt.nodeValue.length),(yt=vt.firstChild)!==null;)ht=vt,vt=yt;for(;;){if(vt===T)break e;if(ht===R&&++st===U&&(q=J),ht===W&&++dt===I&&(tt=J),(yt=vt.nextSibling)!==null)break;vt=ht,ht=vt.parentNode}vt=yt}R=q===-1||tt===-1?null:{start:q,end:tt}}else R=null}R=R||{start:0,end:0}}else R=null;for(ou={focusedElem:T,selectionRange:R},Oa=!1,St=P;St!==null;)if(P=St,T=P.child,(P.subtreeFlags&1028)!==0&&T!==null)T.return=P,St=T;else for(;St!==null;){P=St;try{var Et=P.alternate;if(P.flags&1024)switch(P.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var At=Et.memoizedProps,oe=Et.memoizedState,nt=P.stateNode,et=nt.getSnapshotBeforeUpdate(P.elementType===P.type?At:xi(P.type,At),oe);nt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var rt=P.stateNode.containerInfo;rt.nodeType===1?rt.textContent="":rt.nodeType===9&&rt.documentElement&&rt.removeChild(rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(pt){se(P,P.return,pt)}if(T=P.sibling,T!==null){T.return=P.return,St=T;break}St=P.return}return Et=Sv,Sv=!1,Et}function zs(T,P,R){var I=P.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var U=I=I.next;do{if((U.tag&T)===T){var W=U.destroy;U.destroy=void 0,W!==void 0&&$u(P,R,W)}U=U.next}while(U!==I)}}function ho(T,P){if(P=P.updateQueue,P=P!==null?P.lastEffect:null,P!==null){var R=P=P.next;do{if((R.tag&T)===T){var I=R.create;R.destroy=I()}R=R.next}while(R!==P)}}function Qu(T){var P=T.ref;if(P!==null){var R=T.stateNode;switch(T.tag){case 5:T=R;break;default:T=R}typeof P=="function"?P(T):P.current=T}}function Ev(T){var P=T.alternate;P!==null&&(T.alternate=null,Ev(P)),T.child=null,T.deletions=null,T.sibling=null,T.tag===5&&(P=T.stateNode,P!==null&&(delete P[Li],delete P[Ls],delete P[fu],delete P[Hy],delete P[jy])),T.stateNode=null,T.return=null,T.dependencies=null,T.memoizedProps=null,T.memoizedState=null,T.pendingProps=null,T.stateNode=null,T.updateQueue=null}function Cv(T){return T.tag===5||T.tag===3||T.tag===4}function Av(T){t:for(;;){for(;T.sibling===null;){if(T.return===null||Cv(T.return))return null;T=T.return}for(T.sibling.return=T.return,T=T.sibling;T.tag!==5&&T.tag!==6&&T.tag!==18;){if(T.flags&2||T.child===null||T.tag===4)continue t;T.child.return=T,T=T.child}if(!(T.flags&2))return T.stateNode}}function Ju(T,P,R){var I=T.tag;if(I===5||I===6)T=T.stateNode,P?R.nodeType===8?R.parentNode.insertBefore(T,P):R.insertBefore(T,P):(R.nodeType===8?(P=R.parentNode,P.insertBefore(T,R)):(P=R,P.appendChild(T)),R=R._reactRootContainer,R!=null||P.onclick!==null||(P.onclick=Xa));else if(I!==4&&(T=T.child,T!==null))for(Ju(T,P,R),T=T.sibling;T!==null;)Ju(T,P,R),T=T.sibling}function ku(T,P,R){var I=T.tag;if(I===5||I===6)T=T.stateNode,P?R.insertBefore(T,P):R.appendChild(T);else if(I!==4&&(T=T.child,T!==null))for(ku(T,P,R),T=T.sibling;T!==null;)ku(T,P,R),T=T.sibling}var Te=null,yi=!1;function En(T,P,R){for(R=R.child;R!==null;)Pv(T,P,R),R=R.sibling}function Pv(T,P,R){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(Ca,R)}catch{}switch(R.tag){case 5:Le||wr(R,P);case 6:var I=Te,U=yi;Te=null,En(T,P,R),Te=I,yi=U,Te!==null&&(yi?(T=Te,R=R.stateNode,T.nodeType===8?T.parentNode.removeChild(R):T.removeChild(R)):Te.removeChild(R.stateNode));break;case 18:Te!==null&&(yi?(T=Te,R=R.stateNode,T.nodeType===8?hu(T.parentNode,R):T.nodeType===1&&hu(T,R),gs(T)):hu(Te,R.stateNode));break;case 4:I=Te,U=yi,Te=R.stateNode.containerInfo,yi=!0,En(T,P,R),Te=I,yi=U;break;case 0:case 11:case 14:case 15:if(!Le&&(I=R.updateQueue,I!==null&&(I=I.lastEffect,I!==null))){U=I=I.next;do{var W=U,J=W.destroy;W=W.tag,J!==void 0&&(W&2||W&4)&&$u(R,P,J),U=U.next}while(U!==I)}En(T,P,R);break;case 1:if(!Le&&(wr(R,P),I=R.stateNode,typeof I.componentWillUnmount=="function"))try{I.props=R.memoizedProps,I.state=R.memoizedState,I.componentWillUnmount()}catch(q){se(R,P,q)}En(T,P,R);break;case 21:En(T,P,R);break;case 22:R.mode&1?(Le=(I=Le)||R.memoizedState!==null,En(T,P,R),Le=I):En(T,P,R);break;default:En(T,P,R)}}function Mv(T){var P=T.updateQueue;if(P!==null){T.updateQueue=null;var R=T.stateNode;R===null&&(R=T.stateNode=new a1),P.forEach(function(I){var U=m1.bind(null,T,I);R.has(I)||(R.add(I),I.then(U,U))})}}function Ti(T,P){var R=P.deletions;if(R!==null)for(var I=0;I<R.length;I++){var U=R[I];try{var W=T,J=P,q=J;t:for(;q!==null;){switch(q.tag){case 5:Te=q.stateNode,yi=!1;break t;case 3:Te=q.stateNode.containerInfo,yi=!0;break t;case 4:Te=q.stateNode.containerInfo,yi=!0;break t}q=q.return}if(Te===null)throw Error(l(160));Pv(W,J,U),Te=null,yi=!1;var tt=U.alternate;tt!==null&&(tt.return=null),U.return=null}catch(st){se(U,P,st)}}if(P.subtreeFlags&12854)for(P=P.child;P!==null;)Rv(P,T),P=P.sibling}function Rv(T,P){var R=T.alternate,I=T.flags;switch(T.tag){case 0:case 11:case 14:case 15:if(Ti(P,T),Di(T),I&4){try{zs(3,T,T.return),ho(3,T)}catch(At){se(T,T.return,At)}try{zs(5,T,T.return)}catch(At){se(T,T.return,At)}}break;case 1:Ti(P,T),Di(T),I&512&&R!==null&&wr(R,R.return);break;case 5:if(Ti(P,T),Di(T),I&512&&R!==null&&wr(R,R.return),T.flags&32){var U=T.stateNode;try{ue(U,"")}catch(At){se(T,T.return,At)}}if(I&4&&(U=T.stateNode,U!=null)){var W=T.memoizedProps,J=R!==null?R.memoizedProps:W,q=T.type,tt=T.updateQueue;if(T.updateQueue=null,tt!==null)try{q==="input"&&W.type==="radio"&&W.name!=null&&Nt(U,W),os(q,J);var st=os(q,W);for(J=0;J<tt.length;J+=2){var dt=tt[J],vt=tt[J+1];dt==="style"?ti(U,vt):dt==="dangerouslySetInnerHTML"?Jt(U,vt):dt==="children"?ue(U,vt):x(U,dt,vt,st)}switch(q){case"input":Mt(U,W);break;case"textarea":ye(U,W);break;case"select":var ht=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!W.multiple;var yt=W.value;yt!=null?Tt(U,!!W.multiple,yt,!1):ht!==!!W.multiple&&(W.defaultValue!=null?Tt(U,!!W.multiple,W.defaultValue,!0):Tt(U,!!W.multiple,W.multiple?[]:"",!1))}U[Ls]=W}catch(At){se(T,T.return,At)}}break;case 6:if(Ti(P,T),Di(T),I&4){if(T.stateNode===null)throw Error(l(162));U=T.stateNode,W=T.memoizedProps;try{U.nodeValue=W}catch(At){se(T,T.return,At)}}break;case 3:if(Ti(P,T),Di(T),I&4&&R!==null&&R.memoizedState.isDehydrated)try{gs(P.containerInfo)}catch(At){se(T,T.return,At)}break;case 4:Ti(P,T),Di(T);break;case 13:Ti(P,T),Di(T),U=T.child,U.flags&8192&&(W=U.memoizedState!==null,U.stateNode.isHidden=W,!W||U.alternate!==null&&U.alternate.memoizedState!==null||(th=ae())),I&4&&Mv(T);break;case 22:if(dt=R!==null&&R.memoizedState!==null,T.mode&1?(Le=(st=Le)||dt,Ti(P,T),Le=st):Ti(P,T),Di(T),I&8192){if(st=T.memoizedState!==null,(T.stateNode.isHidden=st)&&!dt&&T.mode&1)for(St=T,dt=T.child;dt!==null;){for(vt=St=dt;St!==null;){switch(ht=St,yt=ht.child,ht.tag){case 0:case 11:case 14:case 15:zs(4,ht,ht.return);break;case 1:wr(ht,ht.return);var Et=ht.stateNode;if(typeof Et.componentWillUnmount=="function"){I=ht,R=ht.return;try{P=I,Et.props=P.memoizedProps,Et.state=P.memoizedState,Et.componentWillUnmount()}catch(At){se(I,R,At)}}break;case 5:wr(ht,ht.return);break;case 22:if(ht.memoizedState!==null){Fv(vt);continue}}yt!==null?(yt.return=ht,St=yt):Fv(vt)}dt=dt.sibling}t:for(dt=null,vt=T;;){if(vt.tag===5){if(dt===null){dt=vt;try{U=vt.stateNode,st?(W=U.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(q=vt.stateNode,tt=vt.memoizedProps.style,J=tt!=null&&tt.hasOwnProperty("display")?tt.display:null,q.style.display=_e("display",J))}catch(At){se(T,T.return,At)}}}else if(vt.tag===6){if(dt===null)try{vt.stateNode.nodeValue=st?"":vt.memoizedProps}catch(At){se(T,T.return,At)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===T)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===T)break t;for(;vt.sibling===null;){if(vt.return===null||vt.return===T)break t;dt===vt&&(dt=null),vt=vt.return}dt===vt&&(dt=null),vt.sibling.return=vt.return,vt=vt.sibling}}break;case 19:Ti(P,T),Di(T),I&4&&Mv(T);break;case 21:break;default:Ti(P,T),Di(T)}}function Di(T){var P=T.flags;if(P&2){try{t:{for(var R=T.return;R!==null;){if(Cv(R)){var I=R;break t}R=R.return}throw Error(l(160))}switch(I.tag){case 5:var U=I.stateNode;I.flags&32&&(ue(U,""),I.flags&=-33);var W=Av(T);ku(T,W,U);break;case 3:case 4:var J=I.stateNode.containerInfo,q=Av(T);Ju(T,q,J);break;default:throw Error(l(161))}}catch(tt){se(T,T.return,tt)}T.flags&=-3}P&4096&&(T.flags&=-4097)}function l1(T,P,R){St=T,Lv(T)}function Lv(T,P,R){for(var I=(T.mode&1)!==0;St!==null;){var U=St,W=U.child;if(U.tag===22&&I){var J=U.memoizedState!==null||uo;if(!J){var q=U.alternate,tt=q!==null&&q.memoizedState!==null||Le;q=uo;var st=Le;if(uo=J,(Le=tt)&&!st)for(St=U;St!==null;)J=St,tt=J.child,J.tag===22&&J.memoizedState!==null?Dv(U):tt!==null?(tt.return=J,St=tt):Dv(U);for(;W!==null;)St=W,Lv(W),W=W.sibling;St=U,uo=q,Le=st}Ov(T)}else U.subtreeFlags&8772&&W!==null?(W.return=U,St=W):Ov(T)}}function Ov(T){for(;St!==null;){var P=St;if(P.flags&8772){var R=P.alternate;try{if(P.flags&8772)switch(P.tag){case 0:case 11:case 15:Le||ho(5,P);break;case 1:var I=P.stateNode;if(P.flags&4&&!Le)if(R===null)I.componentDidMount();else{var U=P.elementType===P.type?R.memoizedProps:xi(P.type,R.memoizedProps);I.componentDidUpdate(U,R.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var W=P.updateQueue;W!==null&&Fc(P,W,I);break;case 3:var J=P.updateQueue;if(J!==null){if(R=null,P.child!==null)switch(P.child.tag){case 5:R=P.child.stateNode;break;case 1:R=P.child.stateNode}Fc(P,J,R)}break;case 5:var q=P.stateNode;if(R===null&&P.flags&4){R=q;var tt=P.memoizedProps;switch(P.type){case"button":case"input":case"select":case"textarea":tt.autoFocus&&R.focus();break;case"img":tt.src&&(R.src=tt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(P.memoizedState===null){var st=P.alternate;if(st!==null){var dt=st.memoizedState;if(dt!==null){var vt=dt.dehydrated;vt!==null&&gs(vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Le||P.flags&512&&Qu(P)}catch(ht){se(P,P.return,ht)}}if(P===T){St=null;break}if(R=P.sibling,R!==null){R.return=P.return,St=R;break}St=P.return}}function Fv(T){for(;St!==null;){var P=St;if(P===T){St=null;break}var R=P.sibling;if(R!==null){R.return=P.return,St=R;break}St=P.return}}function Dv(T){for(;St!==null;){var P=St;try{switch(P.tag){case 0:case 11:case 15:var R=P.return;try{ho(4,P)}catch(tt){se(P,R,tt)}break;case 1:var I=P.stateNode;if(typeof I.componentDidMount=="function"){var U=P.return;try{I.componentDidMount()}catch(tt){se(P,U,tt)}}var W=P.return;try{Qu(P)}catch(tt){se(P,W,tt)}break;case 5:var J=P.return;try{Qu(P)}catch(tt){se(P,J,tt)}}}catch(tt){se(P,P.return,tt)}if(P===T){St=null;break}var q=P.sibling;if(q!==null){q.return=P.return,St=q;break}St=P.return}}var u1=Math.ceil,fo=y.ReactCurrentDispatcher,qu=y.ReactCurrentOwner,si=y.ReactCurrentBatchConfig,zt=0,pe=null,he=null,Se=0,$e=0,Gr=gn(0),ce=0,Ys=null,Zn=0,co=0,_u=0,Xs=null,Ye=null,th=0,Vr=1/0,$i=null,vo=!1,eh=null,Cn=null,po=!1,An=null,mo=0,Ws=0,ih=null,go=-1,xo=0;function we(){return zt&6?ae():go!==-1?go:go=ae()}function Pn(T){return T.mode&1?zt&2&&Se!==0?Se&-Se:by.transition!==null?(xo===0&&(xo=Ad()),xo):(T=jt,T!==0||(T=window.event,T=T===void 0?16:Bd(T.type)),T):1}function Si(T,P,R,I){if(50<Ws)throw Ws=0,ih=null,Error(l(185));ds(T,R,I),(!(zt&2)||T!==pe)&&(T===pe&&(!(zt&2)&&(co|=R),ce===4&&Mn(T,Se)),Xe(T,I),R===1&&zt===0&&!(P.mode&1)&&(Vr=ae()+500,Ka&&yn()))}function Xe(T,P){var R=T.callbackNode;bx(T,P);var I=Ma(T,T===pe?Se:0);if(I===0)R!==null&&Sd(R),T.callbackNode=null,T.callbackPriority=0;else if(P=I&-I,T.callbackPriority!==P){if(R!=null&&Sd(R),P===1)T.tag===0?Ky(Bv.bind(null,T)):xc(Bv.bind(null,T)),Xy(function(){!(zt&6)&&yn()}),R=null;else{switch(Pd(I)){case 1:R=wl;break;case 4:R=Ed;break;case 16:R=Ea;break;case 536870912:R=Cd;break;default:R=Ea}R=Xv(R,Iv.bind(null,T))}T.callbackPriority=P,T.callbackNode=R}}function Iv(T,P){if(go=-1,xo=0,zt&6)throw Error(l(327));var R=T.callbackNode;if(Ur()&&T.callbackNode!==R)return null;var I=Ma(T,T===pe?Se:0);if(I===0)return null;if(I&30||I&T.expiredLanes||P)P=yo(T,I);else{P=I;var U=zt;zt|=2;var W=wv();(pe!==T||Se!==P)&&($i=null,Vr=ae()+500,Qn(T,P));do try{d1();break}catch(q){Nv(T,q)}while(!0);Tu(),fo.current=W,zt=U,he!==null?P=0:(pe=null,Se=0,P=ce)}if(P!==0){if(P===2&&(U=Gl(T),U!==0&&(I=U,P=nh(T,U))),P===1)throw R=Ys,Qn(T,0),Mn(T,I),Xe(T,ae()),R;if(P===6)Mn(T,I);else{if(U=T.current.alternate,!(I&30)&&!h1(U)&&(P=yo(T,I),P===2&&(W=Gl(T),W!==0&&(I=W,P=nh(T,W))),P===1))throw R=Ys,Qn(T,0),Mn(T,I),Xe(T,ae()),R;switch(T.finishedWork=U,T.finishedLanes=I,P){case 0:case 1:throw Error(l(345));case 2:Jn(T,Ye,$i);break;case 3:if(Mn(T,I),(I&130023424)===I&&(P=th+500-ae(),10<P)){if(Ma(T,0)!==0)break;if(U=T.suspendedLanes,(U&I)!==I){we(),T.pingedLanes|=T.suspendedLanes&U;break}T.timeoutHandle=uu(Jn.bind(null,T,Ye,$i),P);break}Jn(T,Ye,$i);break;case 4:if(Mn(T,I),(I&4194240)===I)break;for(P=T.eventTimes,U=-1;0<I;){var J=31-pi(I);W=1<<J,J=P[J],J>U&&(U=J),I&=~W}if(I=U,I=ae()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*u1(I/1960))-I,10<I){T.timeoutHandle=uu(Jn.bind(null,T,Ye,$i),I);break}Jn(T,Ye,$i);break;case 5:Jn(T,Ye,$i);break;default:throw Error(l(329))}}}return Xe(T,ae()),T.callbackNode===R?Iv.bind(null,T):null}function nh(T,P){var R=Xs;return T.current.memoizedState.isDehydrated&&(Qn(T,P).flags|=256),T=yo(T,P),T!==2&&(P=Ye,Ye=R,P!==null&&rh(P)),T}function rh(T){Ye===null?Ye=T:Ye.push.apply(Ye,T)}function h1(T){for(var P=T;;){if(P.flags&16384){var R=P.updateQueue;if(R!==null&&(R=R.stores,R!==null))for(var I=0;I<R.length;I++){var U=R[I],W=U.getSnapshot;U=U.value;try{if(!mi(W(),U))return!1}catch{return!1}}}if(R=P.child,P.subtreeFlags&16384&&R!==null)R.return=P,P=R;else{if(P===T)break;for(;P.sibling===null;){if(P.return===null||P.return===T)return!0;P=P.return}P.sibling.return=P.return,P=P.sibling}}return!0}function Mn(T,P){for(P&=~_u,P&=~co,T.suspendedLanes|=P,T.pingedLanes&=~P,T=T.expirationTimes;0<P;){var R=31-pi(P),I=1<<R;T[R]=-1,P&=~I}}function Bv(T){if(zt&6)throw Error(l(327));Ur();var P=Ma(T,0);if(!(P&1))return Xe(T,ae()),null;var R=yo(T,P);if(T.tag!==0&&R===2){var I=Gl(T);I!==0&&(P=I,R=nh(T,I))}if(R===1)throw R=Ys,Qn(T,0),Mn(T,P),Xe(T,ae()),R;if(R===6)throw Error(l(345));return T.finishedWork=T.current.alternate,T.finishedLanes=P,Jn(T,Ye,$i),Xe(T,ae()),null}function sh(T,P){var R=zt;zt|=1;try{return T(P)}finally{zt=R,zt===0&&(Vr=ae()+500,Ka&&yn())}}function $n(T){An!==null&&An.tag===0&&!(zt&6)&&Ur();var P=zt;zt|=1;var R=si.transition,I=jt;try{if(si.transition=null,jt=1,T)return T()}finally{jt=I,si.transition=R,zt=P,!(zt&6)&&yn()}}function ah(){$e=Gr.current,qt(Gr)}function Qn(T,P){T.finishedWork=null,T.finishedLanes=0;var R=T.timeoutHandle;if(R!==-1&&(T.timeoutHandle=-1,Yy(R)),he!==null)for(R=he.return;R!==null;){var I=R;switch(pu(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&Ha();break;case 3:Br(),qt(Ve),qt(Pe),Lu();break;case 5:Mu(I);break;case 4:Br();break;case 13:qt(ee);break;case 19:qt(ee);break;case 10:Su(I.type._context);break;case 22:case 23:ah()}R=R.return}if(pe=T,he=T=Rn(T.current,null),Se=$e=P,ce=0,Ys=null,_u=co=Zn=0,Ye=Xs=null,jn!==null){for(P=0;P<jn.length;P++)if(R=jn[P],I=R.interleaved,I!==null){R.interleaved=null;var U=I.next,W=R.pending;if(W!==null){var J=W.next;W.next=U,I.next=J}R.pending=I}jn=null}return T}function Nv(T,P){do{var R=he;try{if(Tu(),eo.current=so,io){for(var I=ie.memoizedState;I!==null;){var U=I.queue;U!==null&&(U.pending=null),I=I.next}io=!1}if(bn=0,ve=de=ie=null,Ns=!1,ws=0,qu.current=null,R===null||R.return===null){ce=1,Ys=P,he=null;break}t:{var W=T,J=R.return,q=R,tt=P;if(P=Se,q.flags|=32768,tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var st=tt,dt=q,vt=dt.tag;if(!(dt.mode&1)&&(vt===0||vt===11||vt===15)){var ht=dt.alternate;ht?(dt.updateQueue=ht.updateQueue,dt.memoizedState=ht.memoizedState,dt.lanes=ht.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var yt=sv(J);if(yt!==null){yt.flags&=-257,av(yt,J,q,W,P),yt.mode&1&&rv(W,st,P),P=yt,tt=st;var Et=P.updateQueue;if(Et===null){var At=new Set;At.add(tt),P.updateQueue=At}else Et.add(tt);break t}else{if(!(P&1)){rv(W,st,P),oh();break t}tt=Error(l(426))}}else if(te&&q.mode&1){var oe=sv(J);if(oe!==null){!(oe.flags&65536)&&(oe.flags|=256),av(oe,J,q,W,P),xu(Nr(tt,q));break t}}W=tt=Nr(tt,q),ce!==4&&(ce=2),Xs===null?Xs=[W]:Xs.push(W),W=J;do{switch(W.tag){case 3:W.flags|=65536,P&=-P,W.lanes|=P;var nt=iv(W,tt,P);Oc(W,nt);break t;case 1:q=tt;var et=W.type,rt=W.stateNode;if(!(W.flags&128)&&(typeof et.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(Cn===null||!Cn.has(rt)))){W.flags|=65536,P&=-P,W.lanes|=P;var pt=nv(W,q,P);Oc(W,pt);break t}}W=W.return}while(W!==null)}Vv(R)}catch(Pt){P=Pt,he===R&&R!==null&&(he=R=R.return);continue}break}while(!0)}function wv(){var T=fo.current;return fo.current=so,T===null?so:T}function oh(){(ce===0||ce===3||ce===2)&&(ce=4),pe===null||!(Zn&268435455)&&!(co&268435455)||Mn(pe,Se)}function yo(T,P){var R=zt;zt|=2;var I=wv();(pe!==T||Se!==P)&&($i=null,Qn(T,P));do try{f1();break}catch(U){Nv(T,U)}while(!0);if(Tu(),zt=R,fo.current=I,he!==null)throw Error(l(261));return pe=null,Se=0,ce}function f1(){for(;he!==null;)Gv(he)}function d1(){for(;he!==null&&!Vx();)Gv(he)}function Gv(T){var P=Yv(T.alternate,T,$e);T.memoizedProps=T.pendingProps,P===null?Vv(T):he=P,qu.current=null}function Vv(T){var P=T;do{var R=P.alternate;if(T=P.return,P.flags&32768){if(R=s1(R,P),R!==null){R.flags&=32767,he=R;return}if(T!==null)T.flags|=32768,T.subtreeFlags=0,T.deletions=null;else{ce=6,he=null;return}}else if(R=r1(R,P,$e),R!==null){he=R;return}if(P=P.sibling,P!==null){he=P;return}he=P=T}while(P!==null);ce===0&&(ce=5)}function Jn(T,P,R){var I=jt,U=si.transition;try{si.transition=null,jt=1,c1(T,P,R,I)}finally{si.transition=U,jt=I}return null}function c1(T,P,R,I){do Ur();while(An!==null);if(zt&6)throw Error(l(327));R=T.finishedWork;var U=T.finishedLanes;if(R===null)return null;if(T.finishedWork=null,T.finishedLanes=0,R===T.current)throw Error(l(177));T.callbackNode=null,T.callbackPriority=0;var W=R.lanes|R.childLanes;if(Zx(T,W),T===pe&&(he=pe=null,Se=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||po||(po=!0,Xv(Ea,function(){return Ur(),null})),W=(R.flags&15990)!==0,R.subtreeFlags&15990||W){W=si.transition,si.transition=null;var J=jt;jt=1;var q=zt;zt|=4,qu.current=null,o1(T,R),Rv(R,T),By(ou),Oa=!!au,ou=au=null,T.current=R,l1(R),Ux(),zt=q,jt=J,si.transition=W}else T.current=R;if(po&&(po=!1,An=T,mo=U),W=T.pendingLanes,W===0&&(Cn=null),Xx(R.stateNode),Xe(T,ae()),P!==null)for(I=T.onRecoverableError,R=0;R<P.length;R++)U=P[R],I(U.value,{componentStack:U.stack,digest:U.digest});if(vo)throw vo=!1,T=eh,eh=null,T;return mo&1&&T.tag!==0&&Ur(),W=T.pendingLanes,W&1?T===ih?Ws++:(Ws=0,ih=T):Ws=0,yn(),null}function Ur(){if(An!==null){var T=Pd(mo),P=si.transition,R=jt;try{if(si.transition=null,jt=16>T?16:T,An===null)var I=!1;else{if(T=An,An=null,mo=0,zt&6)throw Error(l(331));var U=zt;for(zt|=4,St=T.current;St!==null;){var W=St,J=W.child;if(St.flags&16){var q=W.deletions;if(q!==null){for(var tt=0;tt<q.length;tt++){var st=q[tt];for(St=st;St!==null;){var dt=St;switch(dt.tag){case 0:case 11:case 15:zs(8,dt,W)}var vt=dt.child;if(vt!==null)vt.return=dt,St=vt;else for(;St!==null;){dt=St;var ht=dt.sibling,yt=dt.return;if(Ev(dt),dt===st){St=null;break}if(ht!==null){ht.return=yt,St=ht;break}St=yt}}}var Et=W.alternate;if(Et!==null){var At=Et.child;if(At!==null){Et.child=null;do{var oe=At.sibling;At.sibling=null,At=oe}while(At!==null)}}St=W}}if(W.subtreeFlags&2064&&J!==null)J.return=W,St=J;else t:for(;St!==null;){if(W=St,W.flags&2048)switch(W.tag){case 0:case 11:case 15:zs(9,W,W.return)}var nt=W.sibling;if(nt!==null){nt.return=W.return,St=nt;break t}St=W.return}}var et=T.current;for(St=et;St!==null;){J=St;var rt=J.child;if(J.subtreeFlags&2064&&rt!==null)rt.return=J,St=rt;else t:for(J=et;St!==null;){if(q=St,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:ho(9,q)}}catch(Pt){se(q,q.return,Pt)}if(q===J){St=null;break t}var pt=q.sibling;if(pt!==null){pt.return=q.return,St=pt;break t}St=q.return}}if(zt=U,yn(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(Ca,T)}catch{}I=!0}return I}finally{jt=R,si.transition=P}}return!1}function Uv(T,P,R){P=Nr(R,P),P=iv(T,P,1),T=Sn(T,P,1),P=we(),T!==null&&(ds(T,1,P),Xe(T,P))}function se(T,P,R){if(T.tag===3)Uv(T,T,R);else for(;P!==null;){if(P.tag===3){Uv(P,T,R);break}else if(P.tag===1){var I=P.stateNode;if(typeof P.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Cn===null||!Cn.has(I))){T=Nr(R,T),T=nv(P,T,1),P=Sn(P,T,1),T=we(),P!==null&&(ds(P,1,T),Xe(P,T));break}}P=P.return}}function v1(T,P,R){var I=T.pingCache;I!==null&&I.delete(P),P=we(),T.pingedLanes|=T.suspendedLanes&R,pe===T&&(Se&R)===R&&(ce===4||ce===3&&(Se&130023424)===Se&&500>ae()-th?Qn(T,0):_u|=R),Xe(T,P)}function zv(T,P){P===0&&(T.mode&1?(P=Pa,Pa<<=1,!(Pa&130023424)&&(Pa=4194304)):P=1);var R=we();T=Ki(T,P),T!==null&&(ds(T,P,R),Xe(T,R))}function p1(T){var P=T.memoizedState,R=0;P!==null&&(R=P.retryLane),zv(T,R)}function m1(T,P){var R=0;switch(T.tag){case 13:var I=T.stateNode,U=T.memoizedState;U!==null&&(R=U.retryLane);break;case 19:I=T.stateNode;break;default:throw Error(l(314))}I!==null&&I.delete(P),zv(T,R)}var Yv;Yv=function(T,P,R){if(T!==null)if(T.memoizedProps!==P.pendingProps||Ve.current)ze=!0;else{if(!(T.lanes&R)&&!(P.flags&128))return ze=!1,n1(T,P,R);ze=!!(T.flags&131072)}else ze=!1,te&&P.flags&1048576&&yc(P,Za,P.index);switch(P.lanes=0,P.tag){case 2:var I=P.type;lo(T,P),T=P.pendingProps;var U=Mr(P,Pe.current);Ir(P,R),U=Du(null,P,I,T,U,R);var W=Iu();return P.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(P.tag=1,P.memoizedState=null,P.updateQueue=null,Ue(I)?(W=!0,ja(P)):W=!1,P.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,Au(P),U.updater=ao,P.stateNode=U,U._reactInternals=P,Uu(P,I,T,R),P=Wu(null,P,I,!0,W,R)):(P.tag=0,te&&W&&vu(P),Ne(null,P,U,R),P=P.child),P;case 16:I=P.elementType;t:{switch(lo(T,P),T=P.pendingProps,U=I._init,I=U(I._payload),P.type=I,U=P.tag=x1(I),T=xi(I,T),U){case 0:P=Xu(null,P,I,T,R);break t;case 1:P=dv(null,P,I,T,R);break t;case 11:P=ov(null,P,I,T,R);break t;case 14:P=lv(null,P,I,xi(I.type,T),R);break t}throw Error(l(306,I,""))}return P;case 0:return I=P.type,U=P.pendingProps,U=P.elementType===I?U:xi(I,U),Xu(T,P,I,U,R);case 1:return I=P.type,U=P.pendingProps,U=P.elementType===I?U:xi(I,U),dv(T,P,I,U,R);case 3:t:{if(cv(P),T===null)throw Error(l(387));I=P.pendingProps,W=P.memoizedState,U=W.element,Lc(T,P),_a(P,I,null,R);var J=P.memoizedState;if(I=J.element,W.isDehydrated)if(W={element:I,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},P.updateQueue.baseState=W,P.memoizedState=W,P.flags&256){U=Nr(Error(l(423)),P),P=vv(T,P,I,R,U);break t}else if(I!==U){U=Nr(Error(l(424)),P),P=vv(T,P,I,R,U);break t}else for(Ze=mn(P.stateNode.containerInfo.firstChild),be=P,te=!0,gi=null,R=Mc(P,null,I,R),P.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(Or(),I===U){P=Zi(T,P,R);break t}Ne(T,P,I,R)}P=P.child}return P;case 5:return Dc(P),T===null&&gu(P),I=P.type,U=P.pendingProps,W=T!==null?T.memoizedProps:null,J=U.children,lu(I,U)?J=null:W!==null&&lu(I,W)&&(P.flags|=32),fv(T,P),Ne(T,P,J,R),P.child;case 6:return T===null&&gu(P),null;case 13:return pv(T,P,R);case 4:return Pu(P,P.stateNode.containerInfo),I=P.pendingProps,T===null?P.child=Fr(P,null,I,R):Ne(T,P,I,R),P.child;case 11:return I=P.type,U=P.pendingProps,U=P.elementType===I?U:xi(I,U),ov(T,P,I,U,R);case 7:return Ne(T,P,P.pendingProps,R),P.child;case 8:return Ne(T,P,P.pendingProps.children,R),P.child;case 12:return Ne(T,P,P.pendingProps.children,R),P.child;case 10:t:{if(I=P.type._context,U=P.pendingProps,W=P.memoizedProps,J=U.value,$t(Ja,I._currentValue),I._currentValue=J,W!==null)if(mi(W.value,J)){if(W.children===U.children&&!Ve.current){P=Zi(T,P,R);break t}}else for(W=P.child,W!==null&&(W.return=P);W!==null;){var q=W.dependencies;if(q!==null){J=W.child;for(var tt=q.firstContext;tt!==null;){if(tt.context===I){if(W.tag===1){tt=bi(-1,R&-R),tt.tag=2;var st=W.updateQueue;if(st!==null){st=st.shared;var dt=st.pending;dt===null?tt.next=tt:(tt.next=dt.next,dt.next=tt),st.pending=tt}}W.lanes|=R,tt=W.alternate,tt!==null&&(tt.lanes|=R),Eu(W.return,R,P),q.lanes|=R;break}tt=tt.next}}else if(W.tag===10)J=W.type===P.type?null:W.child;else if(W.tag===18){if(J=W.return,J===null)throw Error(l(341));J.lanes|=R,q=J.alternate,q!==null&&(q.lanes|=R),Eu(J,R,P),J=W.sibling}else J=W.child;if(J!==null)J.return=W;else for(J=W;J!==null;){if(J===P){J=null;break}if(W=J.sibling,W!==null){W.return=J.return,J=W;break}J=J.return}W=J}Ne(T,P,U.children,R),P=P.child}return P;case 9:return U=P.type,I=P.pendingProps.children,Ir(P,R),U=ni(U),I=I(U),P.flags|=1,Ne(T,P,I,R),P.child;case 14:return I=P.type,U=xi(I,P.pendingProps),U=xi(I.type,U),lv(T,P,I,U,R);case 15:return uv(T,P,P.type,P.pendingProps,R);case 17:return I=P.type,U=P.pendingProps,U=P.elementType===I?U:xi(I,U),lo(T,P),P.tag=1,Ue(I)?(T=!0,ja(P)):T=!1,Ir(P,R),tv(P,I,U),Uu(P,I,U,R),Wu(null,P,I,!0,T,R);case 19:return gv(T,P,R);case 22:return hv(T,P,R)}throw Error(l(156,P.tag))};function Xv(T,P){return Td(T,P)}function g1(T,P,R,I){this.tag=T,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=P,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(T,P,R,I){return new g1(T,P,R,I)}function lh(T){return T=T.prototype,!(!T||!T.isReactComponent)}function x1(T){if(typeof T=="function")return lh(T)?1:0;if(T!=null){if(T=T.$$typeof,T===B)return 11;if(T===Y)return 14}return 2}function Rn(T,P){var R=T.alternate;return R===null?(R=ai(T.tag,P,T.key,T.mode),R.elementType=T.elementType,R.type=T.type,R.stateNode=T.stateNode,R.alternate=T,T.alternate=R):(R.pendingProps=P,R.type=T.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=T.flags&14680064,R.childLanes=T.childLanes,R.lanes=T.lanes,R.child=T.child,R.memoizedProps=T.memoizedProps,R.memoizedState=T.memoizedState,R.updateQueue=T.updateQueue,P=T.dependencies,R.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext},R.sibling=T.sibling,R.index=T.index,R.ref=T.ref,R}function To(T,P,R,I,U,W){var J=2;if(I=T,typeof T=="function")lh(T)&&(J=1);else if(typeof T=="string")J=5;else t:switch(T){case A:return kn(R.children,U,W,P);case M:J=8,U|=8;break;case L:return T=ai(12,R,P,U|2),T.elementType=L,T.lanes=W,T;case N:return T=ai(13,R,P,U),T.elementType=N,T.lanes=W,T;case G:return T=ai(19,R,P,U),T.elementType=G,T.lanes=W,T;case b:return So(R,U,W,P);default:if(typeof T=="object"&&T!==null)switch(T.$$typeof){case F:J=10;break t;case O:J=9;break t;case B:J=11;break t;case Y:J=14;break t;case H:J=16,I=null;break t}throw Error(l(130,T==null?T:typeof T,""))}return P=ai(J,R,P,U),P.elementType=T,P.type=I,P.lanes=W,P}function kn(T,P,R,I){return T=ai(7,T,I,P),T.lanes=R,T}function So(T,P,R,I){return T=ai(22,T,I,P),T.elementType=b,T.lanes=R,T.stateNode={isHidden:!1},T}function uh(T,P,R){return T=ai(6,T,null,P),T.lanes=R,T}function hh(T,P,R){return P=ai(4,T.children!==null?T.children:[],T.key,P),P.lanes=R,P.stateNode={containerInfo:T.containerInfo,pendingChildren:null,implementation:T.implementation},P}function y1(T,P,R,I,U){this.tag=P,this.containerInfo=T,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=I,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function fh(T,P,R,I,U,W,J,q,tt){return T=new y1(T,P,R,q,tt),P===1?(P=1,W===!0&&(P|=8)):P=0,W=ai(3,null,null,P),T.current=W,W.stateNode=T,W.memoizedState={element:I,isDehydrated:R,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(W),T}function T1(T,P,R){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:I==null?null:""+I,children:T,containerInfo:P,implementation:R}}function Wv(T){if(!T)return xn;T=T._reactInternals;t:{if(zn(T)!==T||T.tag!==1)throw Error(l(170));var P=T;do{switch(P.tag){case 3:P=P.stateNode.context;break t;case 1:if(Ue(P.type)){P=P.stateNode.__reactInternalMemoizedMergedChildContext;break t}}P=P.return}while(P!==null);throw Error(l(171))}if(T.tag===1){var R=T.type;if(Ue(R))return mc(T,R,P)}return P}function Hv(T,P,R,I,U,W,J,q,tt){return T=fh(R,I,!0,T,U,W,J,q,tt),T.context=Wv(null),R=T.current,I=we(),U=Pn(R),W=bi(I,U),W.callback=P??null,Sn(R,W,U),T.current.lanes=U,ds(T,U,I),Xe(T,I),T}function Eo(T,P,R,I){var U=P.current,W=we(),J=Pn(U);return R=Wv(R),P.context===null?P.context=R:P.pendingContext=R,P=bi(W,J),P.payload={element:T},I=I===void 0?null:I,I!==null&&(P.callback=I),T=Sn(U,P,J),T!==null&&(Si(T,U,J,W),qa(T,U,J)),J}function Co(T){if(T=T.current,!T.child)return null;switch(T.child.tag){case 5:return T.child.stateNode;default:return T.child.stateNode}}function jv(T,P){if(T=T.memoizedState,T!==null&&T.dehydrated!==null){var R=T.retryLane;T.retryLane=R!==0&&R<P?R:P}}function dh(T,P){jv(T,P),(T=T.alternate)&&jv(T,P)}var Kv=typeof reportError=="function"?reportError:function(T){console.error(T)};function ch(T){this._internalRoot=T}Ao.prototype.render=ch.prototype.render=function(T){var P=this._internalRoot;if(P===null)throw Error(l(409));Eo(T,P,null,null)},Ao.prototype.unmount=ch.prototype.unmount=function(){var T=this._internalRoot;if(T!==null){this._internalRoot=null;var P=T.containerInfo;$n(function(){Eo(null,T,null,null)}),P[Xi]=null}};function Ao(T){this._internalRoot=T}Ao.prototype.unstable_scheduleHydration=function(T){if(T){var P=Ld();T={blockedOn:null,target:T,priority:P};for(var R=0;R<cn.length&&P!==0&&P<cn[R].priority;R++);cn.splice(R,0,T),R===0&&Dd(T)}};function vh(T){return!(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)}function Po(T){return!(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11&&(T.nodeType!==8||T.nodeValue!==" react-mount-point-unstable "))}function bv(){}function S1(T,P,R,I,U){if(U){if(typeof I=="function"){var W=I;I=function(){var st=Co(J);W.call(st)}}var J=Hv(P,I,T,0,null,!1,!1,"",bv);return T._reactRootContainer=J,T[Xi]=J.current,Ms(T.nodeType===8?T.parentNode:T),$n(),J}for(;U=T.lastChild;)T.removeChild(U);if(typeof I=="function"){var q=I;I=function(){var st=Co(tt);q.call(st)}}var tt=fh(T,0,!1,null,null,!1,!1,"",bv);return T._reactRootContainer=tt,T[Xi]=tt.current,Ms(T.nodeType===8?T.parentNode:T),$n(function(){Eo(P,tt,R,I)}),tt}function Mo(T,P,R,I,U){var W=R._reactRootContainer;if(W){var J=W;if(typeof U=="function"){var q=U;U=function(){var tt=Co(J);q.call(tt)}}Eo(P,J,T,U)}else J=S1(R,P,T,U,I);return Co(J)}Md=function(T){switch(T.tag){case 3:var P=T.stateNode;if(P.current.memoizedState.isDehydrated){var R=fs(P.pendingLanes);R!==0&&(Ul(P,R|1),Xe(P,ae()),!(zt&6)&&(Vr=ae()+500,yn()))}break;case 13:$n(function(){var I=Ki(T,1);if(I!==null){var U=we();Si(I,T,1,U)}}),dh(T,1)}},zl=function(T){if(T.tag===13){var P=Ki(T,134217728);if(P!==null){var R=we();Si(P,T,134217728,R)}dh(T,134217728)}},Rd=function(T){if(T.tag===13){var P=Pn(T),R=Ki(T,P);if(R!==null){var I=we();Si(R,T,P,I)}dh(T,P)}},Ld=function(){return jt},Od=function(T,P){var R=jt;try{return jt=T,P()}finally{jt=R}},Dl=function(T,P,R){switch(P){case"input":if(Mt(T,R),P=R.name,R.type==="radio"&&P!=null){for(R=T;R.parentNode;)R=R.parentNode;for(R=R.querySelectorAll("input[name="+JSON.stringify(""+P)+'][type="radio"]'),P=0;P<R.length;P++){var I=R[P];if(I!==T&&I.form===T.form){var U=Wa(I);if(!U)throw Error(l(90));ot(I),Mt(I,U)}}}break;case"textarea":ye(T,R);break;case"select":P=R.value,P!=null&&Tt(T,!!R.multiple,P,!1)}},cd=sh,vd=$n;var E1={usingClientEntryPoint:!1,Events:[Os,Ar,Wa,fd,dd,sh]},Hs={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C1={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(T){return T=xd(T),T===null?null:T.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Ca=Ro.inject(C1),Ri=Ro}catch{}}return We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E1,We.createPortal=function(T,P){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(P))throw Error(l(200));return T1(T,P,null,R)},We.createRoot=function(T,P){if(!vh(T))throw Error(l(299));var R=!1,I="",U=Kv;return P!=null&&(P.unstable_strictMode===!0&&(R=!0),P.identifierPrefix!==void 0&&(I=P.identifierPrefix),P.onRecoverableError!==void 0&&(U=P.onRecoverableError)),P=fh(T,1,!1,null,null,R,!1,I,U),T[Xi]=P.current,Ms(T.nodeType===8?T.parentNode:T),new ch(P)},We.findDOMNode=function(T){if(T==null)return null;if(T.nodeType===1)return T;var P=T._reactInternals;if(P===void 0)throw typeof T.render=="function"?Error(l(188)):(T=Object.keys(T).join(","),Error(l(268,T)));return T=xd(P),T=T===null?null:T.stateNode,T},We.flushSync=function(T){return $n(T)},We.hydrate=function(T,P,R){if(!Po(P))throw Error(l(200));return Mo(null,T,P,!0,R)},We.hydrateRoot=function(T,P,R){if(!vh(T))throw Error(l(405));var I=R!=null&&R.hydratedSources||null,U=!1,W="",J=Kv;if(R!=null&&(R.unstable_strictMode===!0&&(U=!0),R.identifierPrefix!==void 0&&(W=R.identifierPrefix),R.onRecoverableError!==void 0&&(J=R.onRecoverableError)),P=Hv(P,null,T,1,R??null,U,!1,W,J),T[Xi]=P.current,Ms(T),I)for(T=0;T<I.length;T++)R=I[T],U=R._getVersion,U=U(R._source),P.mutableSourceEagerHydrationData==null?P.mutableSourceEagerHydrationData=[R,U]:P.mutableSourceEagerHydrationData.push(R,U);return new Ao(P)},We.render=function(T,P,R){if(!Po(P))throw Error(l(200));return Mo(null,T,P,!1,R)},We.unmountComponentAtNode=function(T){if(!Po(T))throw Error(l(40));return T._reactRootContainer?($n(function(){Mo(null,null,T,!1,function(){T._reactRootContainer=null,T[Xi]=null})}),!0):!1},We.unstable_batchedUpdates=sh,We.unstable_renderSubtreeIntoContainer=function(T,P,R,I){if(!Po(R))throw Error(l(200));if(T==null||T._reactInternals===void 0)throw Error(l(38));return Mo(T,P,R,!1,I)},We.version="18.3.1-next-f1338f8080-20240426",We}var Dm;function gx(){if(Dm)return Nh.exports;Dm=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(C){console.error(C)}}return m(),Nh.exports=bP(),Nh.exports}var ZP=gx();function $P(m){m()}function QP(m){m||(m=$P),TP({reactionScheduler:m})}function JP(m){return SP(m)}var kP=1e4,qP=1e4,_P=function(){function m(C){var l=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:C}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(g){g===void 0&&(g=kP),clearTimeout(l.sweepTimeout),l.sweepTimeout=void 0;var t=Date.now();l.registrations.forEach(function(e,h){t-e.registeredAt>=g&&(l.finalize(e.value),l.registrations.delete(h))}),l.registrations.size>0&&l.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){l.sweep(0)}})}return Object.defineProperty(m.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(C,l,g){this.registrations.set(g,{value:l,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(m.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(C){this.registrations.delete(C)}}),Object.defineProperty(m.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,qP))}}),m}(),tM=typeof FinalizationRegistry<"u"?FinalizationRegistry:_P,Tf=new tM(function(m){var C;(C=m.reaction)===null||C===void 0||C.dispose(),m.reaction=null}),Vh={exports:{}},Uh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function eM(){if(Im)return Uh;Im=1;var m=ul();function C(n,f){return n===f&&(n!==0||1/n===1/f)||n!==n&&f!==f}var l=typeof Object.is=="function"?Object.is:C,g=m.useState,t=m.useEffect,e=m.useLayoutEffect,h=m.useDebugValue;function r(n,f){var o=f(),u=g({inst:{value:o,getSnapshot:f}}),d=u[0].inst,c=u[1];return e(function(){d.value=o,d.getSnapshot=f,a(d)&&c({inst:d})},[n,o,f]),t(function(){return a(d)&&c({inst:d}),n(function(){a(d)&&c({inst:d})})},[n]),h(o),o}function a(n){var f=n.getSnapshot;n=n.value;try{var o=f();return!l(n,o)}catch{return!0}}function s(n,f){return f()}var i=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s:r;return Uh.useSyncExternalStore=m.useSyncExternalStore!==void 0?m.useSyncExternalStore:i,Uh}var Bm;function iM(){return Bm||(Bm=1,Vh.exports=eM()),Vh.exports}var nM=iM();function Nm(m){m.reaction=new ln("observer".concat(m.name),function(){var C;m.stateVersion=Symbol(),(C=m.onStoreChange)===null||C===void 0||C.call(m)})}function rM(m,C){C===void 0&&(C="observed");var l=qv.useRef(null);if(!l.current){var g={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:C,subscribe:function(r){return Tf.unregister(g),g.onStoreChange=r,g.reaction||(Nm(g),g.stateVersion=Symbol()),function(){var a;g.onStoreChange=null,(a=g.reaction)===null||a===void 0||a.dispose(),g.reaction=null}},getSnapshot:function(){return g.stateVersion}};l.current=g}var t=l.current;t.reaction||(Nm(t),Tf.register(l,t,t)),qv.useDebugValue(t.reaction,JP),nM.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot);var e,h;if(t.reaction.track(function(){try{e=m()}catch(r){h=r}}),h)throw h;return e}var zh,Yh,xx=typeof Symbol=="function"&&Symbol.for,sM=(Yh=(zh=Object.getOwnPropertyDescriptor(function(){},"name"))===null||zh===void 0?void 0:zh.configurable)!==null&&Yh!==void 0?Yh:!1,wm=xx?Symbol.for("react.forward_ref"):typeof gt.forwardRef=="function"&&gt.forwardRef(function(m){return null}).$$typeof,Gm=xx?Symbol.for("react.memo"):typeof gt.memo=="function"&&gt.memo(function(m){return null}).$$typeof;function vr(m,C){var l;if(Gm&&m.$$typeof===Gm)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var g=(l=void 0)!==null&&l!==void 0?l:!1,t=m,e=m.displayName||m.name;if(wm&&m.$$typeof===wm&&(g=!0,t=m.render,typeof t!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var h=function(r,a){return rM(function(){return t(r,a)},e)};return h.displayName=m.displayName,sM&&Object.defineProperty(h,"name",{value:m.name,writable:!0,configurable:!0}),m.contextTypes&&(h.contextTypes=m.contextTypes),g&&(h=gt.forwardRef(h)),h=gt.memo(h),oM(m,h),h}var aM={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function oM(m,C){Object.keys(m).forEach(function(l){aM[l]||Object.defineProperty(C,l,Object.getOwnPropertyDescriptor(m,l))})}var Xh;QP(ZP.unstable_batchedUpdates);Xh=Tf.finalizeAllImmediately;const lM="_encounterContainer_emy53_1",uM="_window_emy53_5",yx={encounterContainer:lM,window:uM},hM="_dialogueText_j1e4s_1",fM="_dialogueTextIndicator_j1e4s_10",dM={dialogueText:hM,dialogueTextIndicator:fM,"blink-animation":"_blink-animation_j1e4s_1"};var Sf=(m=>(m[m.SLOW=0]="SLOW",m[m.NORMAL=1]="NORMAL",m[m.FAST=2]="FAST",m))(Sf||{});function cM(m){switch(m){case 0:return 45;case 1:return 25;case 2:return 5;default:return 25}}const wo=({text:m,textSpeed:C=1})=>{const[l,g]=gt.useState(""),[t,e]=gt.useState(0),[h,r]=gt.useState(!0);return gt.useEffect(()=>{if(!h){g(m);return}if(t<m.length){const a=setTimeout(()=>{g(s=>s+m[t]),e(s=>s+1)},cM(C));return()=>clearTimeout(a)}r(!1)},[t,m]),lt.jsx("span",{className:dM.dialogueText,children:l})},vM=vr(({encounter:m})=>lt.jsx("div",{className:yx.encounterContainer,children:m.encounterStore.windows}));class pM{constructor(){Gt(this,"windows",[]);ux(this)}pushWindow(C){this.windows.push(C)}}const mM={initial:{scaleX:0,transformOrigin:"center"},animate:{scaleX:1,transition:{duration:.15,ease:"easeOut"}},exit:{scaleX:0,transition:{duration:.15,ease:"easeIn"}}},gM={active:!1,visible:!1,key:"Encounter"};class xM extends Phaser.Scene{constructor(){super(gM);Gt(this,"threadAdvanceSound");Gt(this,"reactOverlay");Gt(this,"thread",yM);Gt(this,"threadIndex",-1);Gt(this,"encounterStore")}init(){this.encounterStore=new pM}create(){this.threadAdvanceSound=this.sound.add("dialogue-advance"),this.reactOverlay.create(lt.jsx(vM,{encounter:this}),this),this.advanceThread()}advanceThread(){if(this.threadIndex++,this.threadIndex>=this.thread.length){this.scene.start("World");return}this.threadAdvanceSound.play(),this.pushInteractableWindow()}pushInteractableWindow(){const l=lt.jsx(un.div,{className:yx.window,onClick:()=>this.advanceThread(),variants:mM,initial:"initial",animate:"animate",exit:"exit",children:this.thread[this.threadIndex]},this.threadIndex);this.encounterStore.pushWindow(l)}}const yM=[lt.jsx(wo,{text:"Hi, I am an arbitrarilly long string meant to showcase the wordwrap feature in text."}),lt.jsx(wo,{text:"I love you senpai. (Slow speed test)",textSpeed:Sf.SLOW}),lt.jsx(wo,{text:"Random dialogue to test sound. (Fast speed test)",textSpeed:Sf.FAST}),lt.jsx(wo,{text:"Hello, how are you?"})],TM="_container_1j4ah_1",SM="_stageContainer_1j4ah_9",EM="_uiContainer_1j4ah_16",CM="_interactionContainer_1j4ah_26",AM="_menu_1j4ah_34",PM="_window_1j4ah_41",MM="_enemyWindow_1j4ah_55",RM="_windowName_1j4ah_69",LM="_combatantBar_1j4ah_74",OM="_characterCellContainer_1j4ah_79",FM="_actionPoints_1j4ah_88",DM="_chargeMeterContainer_1j4ah_100",IM="_enemyResourceDisplay_1j4ah_111",BM="_meterContainer_1j4ah_116",NM="_enemyMeterContainer_1j4ah_124",wM="_meterBackground_1j4ah_132",GM="_meter_1j4ah_116",VM="_resourceContainer_1j4ah_145",UM="_statContainer_1j4ah_153",zM="_EXHAUSTED_1j4ah_157",YM="_DEAD_1j4ah_162",XM="_tvContainer_1j4ah_167",WM="_background_1j4ah_175",HM="_enemyPortait_1j4ah_175",jM="_modalContainer_1j4ah_185",KM="_modalMenu_1j4ah_194",bM="_shake_1j4ah_205",ZM="_healthMeter_1j4ah_211",$M="_bleedMeter_1j4ah_215",QM="_meterNumber_1j4ah_219",JM="_menuContent_1j4ah_227",kM="_menuOption_1j4ah_231",qM="_optionCost_1j4ah_246",_M="_magicCost_1j4ah_252",tR="_castingWindow_1j4ah_256",eR="_unclickable_1j4ah_265",iR="_cursor_1j4ah_269",ne={container:TM,stageContainer:SM,uiContainer:EM,interactionContainer:CM,menu:AM,window:PM,enemyWindow:MM,windowName:RM,combatantBar:LM,characterCellContainer:OM,actionPoints:FM,chargeMeterContainer:DM,enemyResourceDisplay:IM,meterContainer:BM,enemyMeterContainer:NM,meterBackground:wM,meter:GM,resourceContainer:VM,statContainer:UM,EXHAUSTED:zM,DEAD:YM,tvContainer:XM,background:WM,enemyPortait:HM,modalContainer:jM,modalMenu:KM,shake:bM,healthMeter:ZM,bleedMeter:$M,meterNumber:QM,menuContent:JM,menuOption:kM,optionCost:qM,magicCost:_M,castingWindow:tR,unclickable:eR,cursor:iR,"blink-animation":"_blink-animation_1j4ah_1"},Vm=m=>{const{className:C,value:l,max:g}=m;return lt.jsx("div",{className:[ne.meterBackground,C].join(" "),children:lt.jsx("div",{className:ne.meter,style:{width:Math.min(Math.round(l/g*100),100)+"%"}})})},nR=m=>{const{technique:C}=m,l=()=>{const e=Math.random()*100,h=100/2;return[4*(1-Math.pow((e-h)/h,2)),e]},g=gt.useMemo(()=>{const[t,e]=l(),h=`${t}%`,r=`${e}%`;return{position:"absolute",top:h,left:r,transform:"translate(-50%, -50%)"}},[]);return lt.jsx("div",{style:g,children:lt.jsx(un.div,{className:ne.window,style:{fontSize:"16px"},initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},transition:{duration:.1,ease:"easeOut"},children:C.name})})},rR=vr(m=>{const{combatant:C}=m;return[...C.activeTechniques].map(l=>lt.jsx(nR,{technique:l},l.name))}),sR=vr(m=>{const C={[ge.NORMAL]:"",[ge.DEAD]:ne.DEAD,[ge.EXHAUSTED]:ne.EXHAUSTED},l=[ne.window,C[m.combatant.status]];return lt.jsxs("div",{className:l.join(" "),onClick:m.onClickCell,style:{flex:"1",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"1fr"},children:[lt.jsx(un.div,{className:ne.castingWindow,animate:{height:Math.abs(m.combatant.actionPoints%1)*100+"%"},transition:{duration:0}}),lt.jsxs("div",{className:ne.characterCellContainer,children:[lt.jsx("div",{style:{fontSize:"12px"},children:m.combatant.name}),lt.jsxs("div",{className:ne.meterContainer,children:[lt.jsx(Vm,{value:m.combatant.health,max:m.combatant.maxHealth,className:ne.bleedMeter}),lt.jsx(Vm,{value:m.combatant.health-m.combatant.bleed,max:m.combatant.maxHealth,className:ne.healthMeter}),lt.jsx("div",{className:ne.meterNumber,children:Math.ceil(m.combatant.health)})]})]}),lt.jsx("div",{className:ne.actionPoints,children:Math.floor(m.combatant.actionPoints)})]})});vr(m=>{var g;const C=(g=m.battle.battleStore.executable)==null?void 0:g.description,l={padding:5,width:"100%"};return lt.jsx(nC,{children:C&&lt.jsxs(un.fieldset,{style:l,initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},transition:{duration:.1,ease:"easeOut"},className:ne.window,children:[lt.jsx("legend",{children:"Help"}),C]})})});const aR=m=>{const{option:C}=m,l=()=>m.battleScene.selectOption(C);return lt.jsxs("button",{onClick:l,className:ne.menuOption,disabled:C.type===Ht.ITEM&&C.charges===0,children:[lt.jsx("div",{children:C.name}),C.type===Ht.ACTION&&lt.jsx("div",{className:ne.optionCost,children:C.actionPointsCost}),C.type===Ht.ITEM&&lt.jsxs("div",{className:ne.optionCost,children:[C.charges,"/",C.maxCharges]})]},C.name)},oR=vr(m=>{const C=e=>{e.stopPropagation()},t={right:50*(m.idx-1)+50+"px",bottom:50*(m.idx-1)+100+"px"};return lt.jsx("div",{className:ne.modalMenu,style:t,onClick:C,children:lt.jsx("div",{style:{display:"flex",flexDirection:"column"},children:lt.jsxs("fieldset",{className:ne.window,style:{minWidth:"100px",width:" 100%",padding:"0"},children:[lt.jsx("legend",{children:m.menuContent.name}),lt.jsx("div",{className:ne.menuContent,children:m.menuContent.options.map(e=>lt.jsx(aR,{option:e,battleScene:m.battleScene},e.name))})]})})})}),lR=vr(m=>{const C=()=>{m.battleScene.closeMenu()},l={initial:{opacity:0,x:"5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-5%"}};return lt.jsx("div",{style:{width:"100%",height:"100%",pointerEvents:"none"},children:m.battleScene.battleStore.menus.map((g,t)=>lt.jsx(un.div,{custom:{idx:t,total:m.battleScene.battleStore.menus.length},className:ne.modalContainer,onClick:C,variants:l,initial:"initial",animate:"animate",exit:"exit",style:{zIndex:10*(t+1)},children:lt.jsx(oR,{menuContent:g,idx:t,battleScene:m.battleScene})},t))})}),uR=vr(m=>{const{allies:C}=m.scene.battleStore,l=g=>{m.scene.openInitialMenu(g)};return lt.jsxs("div",{className:ne.container,children:[lt.jsx("div",{style:{flex:4,zIndex:-1}}),lt.jsx("div",{className:ne.combatantBar,children:C.map(g=>lt.jsxs("div",{style:{position:"relative",flex:"1"},children:[lt.jsx(rR,{combatant:g}),lt.jsx(sR,{battleScene:m.scene,combatant:g,onClickCell:()=>l(g)},g.name)]},g.name))}),lt.jsx(lR,{battleScene:m.scene})]})});class hR{constructor(C,l){Gt(this,"enemies");Gt(this,"allies");Gt(this,"caster");Gt(this,"executable");Gt(this,"target");Gt(this,"menus",[]);Gt(this,"resonance",0);this.enemies=C,this.allies=l,ux(this)}setCaster(C){this.caster=C}setTarget(C){this.target=C}setExecutable(C){this.executable=C}pushMenu(C){this.menus.push(C)}popMenu(){return this.menus.pop()}emptyMenu(){this.menus.splice(0,this.menus.length)}resetSelections(){this.emptyMenu(),this.setCaster(null),this.setExecutable(null),this.setTarget(null)}tickStats(C){[...this.allies,...this.enemies].forEach(l=>{if(l.status===ge.DEAD)return;if(l.bleed>0){const t=C/1e3*5;l.bleed-=t,l.health=Math.max(0,l.health-t)}const g=l.actionPointsRegenRatePerSecond*(l.activeTechniques.has(C0)?2:1)*(C/1e3);l.actionPoints=Math.min(l.maxActionPoints,l.actionPoints+g)})}updateCombatantsState(){[...this.allies,...this.enemies].forEach(C=>{C.health<=0?C.status=ge.DEAD:C.actionPoints<=0?C.status=ge.EXHAUSTED:C.status=ge.NORMAL})}getCombatants(){return[...this.enemies,...this.allies]}}const fR={active:!1,visible:!1,key:"Battle"};class dR extends Phaser.Scene{constructor(){super(fR);Gt(this,"reactOverlay");Gt(this,"music");Gt(this,"backgroundImageUrl");Gt(this,"battleStore")}init(l){this.battleStore=new hR(l.enemies||[bC],this.registry.get("allies")),this.backgroundImageUrl="/reaper/backgrounds/pikrepo.jpg",this.music=this.sound.add("knight",{loop:!0,volume:.5}),this.reactOverlay.create(lt.jsx(uR,{scene:this}),this)}update(l,g){this.battleStore.tickStats(g),this.battleStore.updateCombatantsState(),this.checkBattleEndConditions(),this.resetDeadAllyCasterMenu(),this.executeSelectedOption()}resetDeadAllyCasterMenu(){var l;this.battleStore.caster&&((l=this.battleStore)==null?void 0:l.caster.status)===ge.DEAD&&(this.battleStore.setCaster(null),this.battleStore.emptyMenu())}checkBattleEndConditions(){if(this.battleStore.allies.every(l=>l.status===ge.DEAD)){this.music.stop(),this.scene.manager.getScenes(!1).forEach(l=>this.scene.stop(l.scene.key)),this.scene.start("GameOver");return}this.battleStore.enemies.every(l=>l.status===ge.DEAD)&&(this.music.stop(),this.scene.stop(),this.battleStore.allies.forEach(l=>l.health=Math.ceil(l.health)),this.registry.set("allies",this.battleStore.allies),this.scene.resume("World",{allies:this.battleStore.allies}))}executeSelectedOption(){if(!this.battleStore.caster||!this.battleStore.executable||!this.battleStore.target)return;if(this.battleStore.executable.type===Ht.TECHNIQUE){const t=this.battleStore.executable;this.battleStore.caster.activeTechniques.has(this.battleStore.executable)?(Fh(this.battleStore.caster,t.actionPointsCost),this.battleStore.caster.activeTechniques.delete(this.battleStore.executable)):(Fh(this.battleStore.caster,-t.actionPointsCost),this.battleStore.caster.activeTechniques.add(this.battleStore.executable)),this.sound.play(t.soundKeyName),this.battleStore.resetSelections();return}const l=this.battleStore.executable;Fh(this.battleStore.caster,-l.actionPointsCost);const g=l.potency*(this.battleStore.caster.activeTechniques.has(A0)?2:1);l.resolve(this.battleStore.target,this.battleStore.caster,g),this.sound.play(l.soundKeyName),this.battleStore.resetSelections()}setCasterStatus(l){this.battleStore.caster.status=l}setExecutable(l){this.battleStore.executable=l}setTarget(l){this.battleStore.setTarget(l)}playSong(l){this.music=this.sound.add(l,{loop:!0}),this.music.play()}openInitialMenu(l){if([ge.DEAD,ge.EXHAUSTED].includes(l.status)){this.sound.play("stamina-depleted");return}this.sound.play("choice-select"),this.battleStore.setCaster(l),this.events.emit("caster-set",l),this.battleStore.pushMenu(l.folder)}closeMenu(){this.battleStore.popMenu(),this.battleStore.menus.length===0?this.battleStore.setCaster(null):this.battleStore.menus.length===1&&this.battleStore.setExecutable(null),this.sound.play("dialogue-advance")}selectOption(l){switch(this.sound.play("choice-select"),l.type){case Ht.ACTION:const g=l;switch(this.battleStore.setExecutable(g),g.targetType){case Bi.SELF:const r={type:Ht.FOLDER,name:l.name,desc:"Targets",options:[this.battleStore.caster]};this.battleStore.pushMenu(r);break;case Bi.ENEMIES:const a={type:Ht.FOLDER,name:l.name,desc:"Targets",options:[...this.battleStore.enemies]};this.battleStore.pushMenu(a);break;case Bi.ALLIES:const s={type:Ht.FOLDER,name:l.name,desc:"Targets",options:[...this.battleStore.allies]};this.battleStore.pushMenu(s);break;case Bi.SINGLE_TARGET:const i={type:Ht.FOLDER,name:l.name,desc:"Targets",options:[...this.battleStore.allies,...this.battleStore.enemies]};this.battleStore.pushMenu(i);break}break;case Ht.TECHNIQUE:const t=l;if(this.battleStore.setExecutable(t),this.battleStore.caster.activeTechniques.has(t)){const r={type:Ht.FOLDER,name:l.name,desc:"Shatter",options:[this.battleStore.caster]};this.battleStore.pushMenu(r)}else{const r={type:Ht.FOLDER,name:l.name,desc:"Targets",options:[this.battleStore.caster]};this.battleStore.pushMenu(r)}break;case Ht.ENEMY:case Ht.ALLY:const e=l;this.battleStore.setTarget(e);break;case Ht.FOLDER:const h=l;this.battleStore.pushMenu(h);break}}}const cR="_container_1vv2e_1",vR="_scriptButton_1vv2e_7",Um={container:cR,scriptButton:vR};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Tx(m){return typeof m>"u"||m===null}function pR(m){return typeof m=="object"&&m!==null}function mR(m){return Array.isArray(m)?m:Tx(m)?[]:[m]}function gR(m,C){var l,g,t,e;if(C)for(e=Object.keys(C),l=0,g=e.length;l<g;l+=1)t=e[l],m[t]=C[t];return m}function xR(m,C){var l="",g;for(g=0;g<C;g+=1)l+=m;return l}function yR(m){return m===0&&Number.NEGATIVE_INFINITY===1/m}var TR=Tx,SR=pR,ER=mR,CR=xR,AR=yR,PR=gR,Ge={isNothing:TR,isObject:SR,toArray:ER,repeat:CR,isNegativeZero:AR,extend:PR};function Sx(m,C){var l="",g=m.reason||"(unknown reason)";return m.mark?(m.mark.name&&(l+='in "'+m.mark.name+'" '),l+="("+(m.mark.line+1)+":"+(m.mark.column+1)+")",!C&&m.mark.snippet&&(l+=`

`+m.mark.snippet),g+" "+l):g}function ua(m,C){Error.call(this),this.name="YAMLException",this.reason=m,this.mark=C,this.message=Sx(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ua.prototype=Object.create(Error.prototype);ua.prototype.constructor=ua;ua.prototype.toString=function(C){return this.name+": "+Sx(this,C)};var ki=ua;function Wh(m,C,l,g,t){var e="",h="",r=Math.floor(t/2)-1;return g-C>r&&(e=" ... ",C=g-r+e.length),l-g>r&&(h=" ...",l=g+r-h.length),{str:e+m.slice(C,l).replace(/\t/g,"")+h,pos:g-C+e.length}}function Hh(m,C){return Ge.repeat(" ",C-m.length)+m}function MR(m,C){if(C=Object.create(C||null),!m.buffer)return null;C.maxLength||(C.maxLength=79),typeof C.indent!="number"&&(C.indent=1),typeof C.linesBefore!="number"&&(C.linesBefore=3),typeof C.linesAfter!="number"&&(C.linesAfter=2);for(var l=/\r?\n|\r|\0/g,g=[0],t=[],e,h=-1;e=l.exec(m.buffer);)t.push(e.index),g.push(e.index+e[0].length),m.position<=e.index&&h<0&&(h=g.length-2);h<0&&(h=g.length-1);var r="",a,s,i=Math.min(m.line+C.linesAfter,t.length).toString().length,n=C.maxLength-(C.indent+i+3);for(a=1;a<=C.linesBefore&&!(h-a<0);a++)s=Wh(m.buffer,g[h-a],t[h-a],m.position-(g[h]-g[h-a]),n),r=Ge.repeat(" ",C.indent)+Hh((m.line-a+1).toString(),i)+" | "+s.str+`
`+r;for(s=Wh(m.buffer,g[h],t[h],m.position,n),r+=Ge.repeat(" ",C.indent)+Hh((m.line+1).toString(),i)+" | "+s.str+`
`,r+=Ge.repeat("-",C.indent+i+3+s.pos)+`^
`,a=1;a<=C.linesAfter&&!(h+a>=t.length);a++)s=Wh(m.buffer,g[h+a],t[h+a],m.position-(g[h]-g[h+a]),n),r+=Ge.repeat(" ",C.indent)+Hh((m.line+a+1).toString(),i)+" | "+s.str+`
`;return r.replace(/\n$/,"")}var RR=MR,LR=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],OR=["scalar","sequence","mapping"];function FR(m){var C={};return m!==null&&Object.keys(m).forEach(function(l){m[l].forEach(function(g){C[String(g)]=l})}),C}function DR(m,C){if(C=C||{},Object.keys(C).forEach(function(l){if(LR.indexOf(l)===-1)throw new ki('Unknown option "'+l+'" is met in definition of "'+m+'" YAML type.')}),this.options=C,this.tag=m,this.kind=C.kind||null,this.resolve=C.resolve||function(){return!0},this.construct=C.construct||function(l){return l},this.instanceOf=C.instanceOf||null,this.predicate=C.predicate||null,this.represent=C.represent||null,this.representName=C.representName||null,this.defaultStyle=C.defaultStyle||null,this.multi=C.multi||!1,this.styleAliases=FR(C.styleAliases||null),OR.indexOf(this.kind)===-1)throw new ki('Unknown kind "'+this.kind+'" is specified for "'+m+'" YAML type.')}var Ie=DR;function zm(m,C){var l=[];return m[C].forEach(function(g){var t=l.length;l.forEach(function(e,h){e.tag===g.tag&&e.kind===g.kind&&e.multi===g.multi&&(t=h)}),l[t]=g}),l}function IR(){var m={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},C,l;function g(t){t.multi?(m.multi[t.kind].push(t),m.multi.fallback.push(t)):m[t.kind][t.tag]=m.fallback[t.tag]=t}for(C=0,l=arguments.length;C<l;C+=1)arguments[C].forEach(g);return m}function Ef(m){return this.extend(m)}Ef.prototype.extend=function(C){var l=[],g=[];if(C instanceof Ie)g.push(C);else if(Array.isArray(C))g=g.concat(C);else if(C&&(Array.isArray(C.implicit)||Array.isArray(C.explicit)))C.implicit&&(l=l.concat(C.implicit)),C.explicit&&(g=g.concat(C.explicit));else throw new ki("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");l.forEach(function(e){if(!(e instanceof Ie))throw new ki("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&e.loadKind!=="scalar")throw new ki("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new ki("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),g.forEach(function(e){if(!(e instanceof Ie))throw new ki("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var t=Object.create(Ef.prototype);return t.implicit=(this.implicit||[]).concat(l),t.explicit=(this.explicit||[]).concat(g),t.compiledImplicit=zm(t,"implicit"),t.compiledExplicit=zm(t,"explicit"),t.compiledTypeMap=IR(t.compiledImplicit,t.compiledExplicit),t};var BR=Ef,NR=new Ie("tag:yaml.org,2002:str",{kind:"scalar",construct:function(m){return m!==null?m:""}}),wR=new Ie("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(m){return m!==null?m:[]}}),GR=new Ie("tag:yaml.org,2002:map",{kind:"mapping",construct:function(m){return m!==null?m:{}}}),VR=new BR({explicit:[NR,wR,GR]});function UR(m){if(m===null)return!0;var C=m.length;return C===1&&m==="~"||C===4&&(m==="null"||m==="Null"||m==="NULL")}function zR(){return null}function YR(m){return m===null}var XR=new Ie("tag:yaml.org,2002:null",{kind:"scalar",resolve:UR,construct:zR,predicate:YR,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function WR(m){if(m===null)return!1;var C=m.length;return C===4&&(m==="true"||m==="True"||m==="TRUE")||C===5&&(m==="false"||m==="False"||m==="FALSE")}function HR(m){return m==="true"||m==="True"||m==="TRUE"}function jR(m){return Object.prototype.toString.call(m)==="[object Boolean]"}var KR=new Ie("tag:yaml.org,2002:bool",{kind:"scalar",resolve:WR,construct:HR,predicate:jR,represent:{lowercase:function(m){return m?"true":"false"},uppercase:function(m){return m?"TRUE":"FALSE"},camelcase:function(m){return m?"True":"False"}},defaultStyle:"lowercase"});function bR(m){return 48<=m&&m<=57||65<=m&&m<=70||97<=m&&m<=102}function ZR(m){return 48<=m&&m<=55}function $R(m){return 48<=m&&m<=57}function QR(m){if(m===null)return!1;var C=m.length,l=0,g=!1,t;if(!C)return!1;if(t=m[l],(t==="-"||t==="+")&&(t=m[++l]),t==="0"){if(l+1===C)return!0;if(t=m[++l],t==="b"){for(l++;l<C;l++)if(t=m[l],t!=="_"){if(t!=="0"&&t!=="1")return!1;g=!0}return g&&t!=="_"}if(t==="x"){for(l++;l<C;l++)if(t=m[l],t!=="_"){if(!bR(m.charCodeAt(l)))return!1;g=!0}return g&&t!=="_"}if(t==="o"){for(l++;l<C;l++)if(t=m[l],t!=="_"){if(!ZR(m.charCodeAt(l)))return!1;g=!0}return g&&t!=="_"}}if(t==="_")return!1;for(;l<C;l++)if(t=m[l],t!=="_"){if(!$R(m.charCodeAt(l)))return!1;g=!0}return!(!g||t==="_")}function JR(m){var C=m,l=1,g;if(C.indexOf("_")!==-1&&(C=C.replace(/_/g,"")),g=C[0],(g==="-"||g==="+")&&(g==="-"&&(l=-1),C=C.slice(1),g=C[0]),C==="0")return 0;if(g==="0"){if(C[1]==="b")return l*parseInt(C.slice(2),2);if(C[1]==="x")return l*parseInt(C.slice(2),16);if(C[1]==="o")return l*parseInt(C.slice(2),8)}return l*parseInt(C,10)}function kR(m){return Object.prototype.toString.call(m)==="[object Number]"&&m%1===0&&!Ge.isNegativeZero(m)}var qR=new Ie("tag:yaml.org,2002:int",{kind:"scalar",resolve:QR,construct:JR,predicate:kR,represent:{binary:function(m){return m>=0?"0b"+m.toString(2):"-0b"+m.toString(2).slice(1)},octal:function(m){return m>=0?"0o"+m.toString(8):"-0o"+m.toString(8).slice(1)},decimal:function(m){return m.toString(10)},hexadecimal:function(m){return m>=0?"0x"+m.toString(16).toUpperCase():"-0x"+m.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_R=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function tL(m){return!(m===null||!_R.test(m)||m[m.length-1]==="_")}function eL(m){var C,l;return C=m.replace(/_/g,"").toLowerCase(),l=C[0]==="-"?-1:1,"+-".indexOf(C[0])>=0&&(C=C.slice(1)),C===".inf"?l===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:C===".nan"?NaN:l*parseFloat(C,10)}var iL=/^[-+]?[0-9]+e/;function nL(m,C){var l;if(isNaN(m))switch(C){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===m)switch(C){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===m)switch(C){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ge.isNegativeZero(m))return"-0.0";return l=m.toString(10),iL.test(l)?l.replace("e",".e"):l}function rL(m){return Object.prototype.toString.call(m)==="[object Number]"&&(m%1!==0||Ge.isNegativeZero(m))}var sL=new Ie("tag:yaml.org,2002:float",{kind:"scalar",resolve:tL,construct:eL,predicate:rL,represent:nL,defaultStyle:"lowercase"}),aL=VR.extend({implicit:[XR,KR,qR,sL]}),oL=aL,Ex=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Cx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function lL(m){return m===null?!1:Ex.exec(m)!==null||Cx.exec(m)!==null}function uL(m){var C,l,g,t,e,h,r,a=0,s=null,i,n,f;if(C=Ex.exec(m),C===null&&(C=Cx.exec(m)),C===null)throw new Error("Date resolve error");if(l=+C[1],g=+C[2]-1,t=+C[3],!C[4])return new Date(Date.UTC(l,g,t));if(e=+C[4],h=+C[5],r=+C[6],C[7]){for(a=C[7].slice(0,3);a.length<3;)a+="0";a=+a}return C[9]&&(i=+C[10],n=+(C[11]||0),s=(i*60+n)*6e4,C[9]==="-"&&(s=-s)),f=new Date(Date.UTC(l,g,t,e,h,r,a)),s&&f.setTime(f.getTime()-s),f}function hL(m){return m.toISOString()}var fL=new Ie("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:lL,construct:uL,instanceOf:Date,represent:hL});function dL(m){return m==="<<"||m===null}var cL=new Ie("tag:yaml.org,2002:merge",{kind:"scalar",resolve:dL}),od=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function vL(m){if(m===null)return!1;var C,l,g=0,t=m.length,e=od;for(l=0;l<t;l++)if(C=e.indexOf(m.charAt(l)),!(C>64)){if(C<0)return!1;g+=6}return g%8===0}function pL(m){var C,l,g=m.replace(/[\r\n=]/g,""),t=g.length,e=od,h=0,r=[];for(C=0;C<t;C++)C%4===0&&C&&(r.push(h>>16&255),r.push(h>>8&255),r.push(h&255)),h=h<<6|e.indexOf(g.charAt(C));return l=t%4*6,l===0?(r.push(h>>16&255),r.push(h>>8&255),r.push(h&255)):l===18?(r.push(h>>10&255),r.push(h>>2&255)):l===12&&r.push(h>>4&255),new Uint8Array(r)}function mL(m){var C="",l=0,g,t,e=m.length,h=od;for(g=0;g<e;g++)g%3===0&&g&&(C+=h[l>>18&63],C+=h[l>>12&63],C+=h[l>>6&63],C+=h[l&63]),l=(l<<8)+m[g];return t=e%3,t===0?(C+=h[l>>18&63],C+=h[l>>12&63],C+=h[l>>6&63],C+=h[l&63]):t===2?(C+=h[l>>10&63],C+=h[l>>4&63],C+=h[l<<2&63],C+=h[64]):t===1&&(C+=h[l>>2&63],C+=h[l<<4&63],C+=h[64],C+=h[64]),C}function gL(m){return Object.prototype.toString.call(m)==="[object Uint8Array]"}var xL=new Ie("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vL,construct:pL,predicate:gL,represent:mL}),yL=Object.prototype.hasOwnProperty,TL=Object.prototype.toString;function SL(m){if(m===null)return!0;var C=[],l,g,t,e,h,r=m;for(l=0,g=r.length;l<g;l+=1){if(t=r[l],h=!1,TL.call(t)!=="[object Object]")return!1;for(e in t)if(yL.call(t,e))if(!h)h=!0;else return!1;if(!h)return!1;if(C.indexOf(e)===-1)C.push(e);else return!1}return!0}function EL(m){return m!==null?m:[]}var CL=new Ie("tag:yaml.org,2002:omap",{kind:"sequence",resolve:SL,construct:EL}),AL=Object.prototype.toString;function PL(m){if(m===null)return!0;var C,l,g,t,e,h=m;for(e=new Array(h.length),C=0,l=h.length;C<l;C+=1){if(g=h[C],AL.call(g)!=="[object Object]"||(t=Object.keys(g),t.length!==1))return!1;e[C]=[t[0],g[t[0]]]}return!0}function ML(m){if(m===null)return[];var C,l,g,t,e,h=m;for(e=new Array(h.length),C=0,l=h.length;C<l;C+=1)g=h[C],t=Object.keys(g),e[C]=[t[0],g[t[0]]];return e}var RL=new Ie("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:PL,construct:ML}),LL=Object.prototype.hasOwnProperty;function OL(m){if(m===null)return!0;var C,l=m;for(C in l)if(LL.call(l,C)&&l[C]!==null)return!1;return!0}function FL(m){return m!==null?m:{}}var DL=new Ie("tag:yaml.org,2002:set",{kind:"mapping",resolve:OL,construct:FL}),IL=oL.extend({implicit:[fL,cL],explicit:[xL,CL,RL,DL]}),Nn=Object.prototype.hasOwnProperty,sl=1,Ax=2,Px=3,al=4,jh=1,BL=2,Ym=3,NL=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,wL=/[\x85\u2028\u2029]/,GL=/[,\[\]\{\}]/,Mx=/^(?:!|!!|![a-z\-]+!)$/i,Rx=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Xm(m){return Object.prototype.toString.call(m)}function Yi(m){return m===10||m===13}function sr(m){return m===9||m===32}function He(m){return m===9||m===32||m===10||m===13}function Jr(m){return m===44||m===91||m===93||m===123||m===125}function VL(m){var C;return 48<=m&&m<=57?m-48:(C=m|32,97<=C&&C<=102?C-97+10:-1)}function UL(m){return m===120?2:m===117?4:m===85?8:0}function zL(m){return 48<=m&&m<=57?m-48:-1}function Wm(m){return m===48?"\0":m===97?"\x07":m===98?"\b":m===116||m===9?"	":m===110?`
`:m===118?"\v":m===102?"\f":m===114?"\r":m===101?"\x1B":m===32?" ":m===34?'"':m===47?"/":m===92?"\\":m===78?"":m===95?"":m===76?"\u2028":m===80?"\u2029":""}function YL(m){return m<=65535?String.fromCharCode(m):String.fromCharCode((m-65536>>10)+55296,(m-65536&1023)+56320)}var Lx=new Array(256),Ox=new Array(256);for(var Xr=0;Xr<256;Xr++)Lx[Xr]=Wm(Xr)?1:0,Ox[Xr]=Wm(Xr);function XL(m,C){this.input=m,this.filename=C.filename||null,this.schema=C.schema||IL,this.onWarning=C.onWarning||null,this.legacy=C.legacy||!1,this.json=C.json||!1,this.listener=C.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=m.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Fx(m,C){var l={name:m.filename,buffer:m.input.slice(0,-1),position:m.position,line:m.line,column:m.position-m.lineStart};return l.snippet=RR(l),new ki(C,l)}function Rt(m,C){throw Fx(m,C)}function ol(m,C){m.onWarning&&m.onWarning.call(null,Fx(m,C))}var Hm={YAML:function(C,l,g){var t,e,h;C.version!==null&&Rt(C,"duplication of %YAML directive"),g.length!==1&&Rt(C,"YAML directive accepts exactly one argument"),t=/^([0-9]+)\.([0-9]+)$/.exec(g[0]),t===null&&Rt(C,"ill-formed argument of the YAML directive"),e=parseInt(t[1],10),h=parseInt(t[2],10),e!==1&&Rt(C,"unacceptable YAML version of the document"),C.version=g[0],C.checkLineBreaks=h<2,h!==1&&h!==2&&ol(C,"unsupported YAML version of the document")},TAG:function(C,l,g){var t,e;g.length!==2&&Rt(C,"TAG directive accepts exactly two arguments"),t=g[0],e=g[1],Mx.test(t)||Rt(C,"ill-formed tag handle (first argument) of the TAG directive"),Nn.call(C.tagMap,t)&&Rt(C,'there is a previously declared suffix for "'+t+'" tag handle'),Rx.test(e)||Rt(C,"ill-formed tag prefix (second argument) of the TAG directive");try{e=decodeURIComponent(e)}catch{Rt(C,"tag prefix is malformed: "+e)}C.tagMap[t]=e}};function Dn(m,C,l,g){var t,e,h,r;if(C<l){if(r=m.input.slice(C,l),g)for(t=0,e=r.length;t<e;t+=1)h=r.charCodeAt(t),h===9||32<=h&&h<=1114111||Rt(m,"expected valid JSON character");else NL.test(r)&&Rt(m,"the stream contains non-printable characters");m.result+=r}}function jm(m,C,l,g){var t,e,h,r;for(Ge.isObject(l)||Rt(m,"cannot merge mappings; the provided source object is unacceptable"),t=Object.keys(l),h=0,r=t.length;h<r;h+=1)e=t[h],Nn.call(C,e)||(C[e]=l[e],g[e]=!0)}function kr(m,C,l,g,t,e,h,r,a){var s,i;if(Array.isArray(t))for(t=Array.prototype.slice.call(t),s=0,i=t.length;s<i;s+=1)Array.isArray(t[s])&&Rt(m,"nested arrays are not supported inside keys"),typeof t=="object"&&Xm(t[s])==="[object Object]"&&(t[s]="[object Object]");if(typeof t=="object"&&Xm(t)==="[object Object]"&&(t="[object Object]"),t=String(t),C===null&&(C={}),g==="tag:yaml.org,2002:merge")if(Array.isArray(e))for(s=0,i=e.length;s<i;s+=1)jm(m,C,e[s],l);else jm(m,C,e,l);else!m.json&&!Nn.call(l,t)&&Nn.call(C,t)&&(m.line=h||m.line,m.lineStart=r||m.lineStart,m.position=a||m.position,Rt(m,"duplicated mapping key")),t==="__proto__"?Object.defineProperty(C,t,{configurable:!0,enumerable:!0,writable:!0,value:e}):C[t]=e,delete l[t];return C}function ld(m){var C;C=m.input.charCodeAt(m.position),C===10?m.position++:C===13?(m.position++,m.input.charCodeAt(m.position)===10&&m.position++):Rt(m,"a line break is expected"),m.line+=1,m.lineStart=m.position,m.firstTabInLine=-1}function fe(m,C,l){for(var g=0,t=m.input.charCodeAt(m.position);t!==0;){for(;sr(t);)t===9&&m.firstTabInLine===-1&&(m.firstTabInLine=m.position),t=m.input.charCodeAt(++m.position);if(C&&t===35)do t=m.input.charCodeAt(++m.position);while(t!==10&&t!==13&&t!==0);if(Yi(t))for(ld(m),t=m.input.charCodeAt(m.position),g++,m.lineIndent=0;t===32;)m.lineIndent++,t=m.input.charCodeAt(++m.position);else break}return l!==-1&&g!==0&&m.lineIndent<l&&ol(m,"deficient indentation"),g}function Ll(m){var C=m.position,l;return l=m.input.charCodeAt(C),!!((l===45||l===46)&&l===m.input.charCodeAt(C+1)&&l===m.input.charCodeAt(C+2)&&(C+=3,l=m.input.charCodeAt(C),l===0||He(l)))}function ud(m,C){C===1?m.result+=" ":C>1&&(m.result+=Ge.repeat(`
`,C-1))}function WL(m,C,l){var g,t,e,h,r,a,s,i,n=m.kind,f=m.result,o;if(o=m.input.charCodeAt(m.position),He(o)||Jr(o)||o===35||o===38||o===42||o===33||o===124||o===62||o===39||o===34||o===37||o===64||o===96||(o===63||o===45)&&(t=m.input.charCodeAt(m.position+1),He(t)||l&&Jr(t)))return!1;for(m.kind="scalar",m.result="",e=h=m.position,r=!1;o!==0;){if(o===58){if(t=m.input.charCodeAt(m.position+1),He(t)||l&&Jr(t))break}else if(o===35){if(g=m.input.charCodeAt(m.position-1),He(g))break}else{if(m.position===m.lineStart&&Ll(m)||l&&Jr(o))break;if(Yi(o))if(a=m.line,s=m.lineStart,i=m.lineIndent,fe(m,!1,-1),m.lineIndent>=C){r=!0,o=m.input.charCodeAt(m.position);continue}else{m.position=h,m.line=a,m.lineStart=s,m.lineIndent=i;break}}r&&(Dn(m,e,h,!1),ud(m,m.line-a),e=h=m.position,r=!1),sr(o)||(h=m.position+1),o=m.input.charCodeAt(++m.position)}return Dn(m,e,h,!1),m.result?!0:(m.kind=n,m.result=f,!1)}function HL(m,C){var l,g,t;if(l=m.input.charCodeAt(m.position),l!==39)return!1;for(m.kind="scalar",m.result="",m.position++,g=t=m.position;(l=m.input.charCodeAt(m.position))!==0;)if(l===39)if(Dn(m,g,m.position,!0),l=m.input.charCodeAt(++m.position),l===39)g=m.position,m.position++,t=m.position;else return!0;else Yi(l)?(Dn(m,g,t,!0),ud(m,fe(m,!1,C)),g=t=m.position):m.position===m.lineStart&&Ll(m)?Rt(m,"unexpected end of the document within a single quoted scalar"):(m.position++,t=m.position);Rt(m,"unexpected end of the stream within a single quoted scalar")}function jL(m,C){var l,g,t,e,h,r;if(r=m.input.charCodeAt(m.position),r!==34)return!1;for(m.kind="scalar",m.result="",m.position++,l=g=m.position;(r=m.input.charCodeAt(m.position))!==0;){if(r===34)return Dn(m,l,m.position,!0),m.position++,!0;if(r===92){if(Dn(m,l,m.position,!0),r=m.input.charCodeAt(++m.position),Yi(r))fe(m,!1,C);else if(r<256&&Lx[r])m.result+=Ox[r],m.position++;else if((h=UL(r))>0){for(t=h,e=0;t>0;t--)r=m.input.charCodeAt(++m.position),(h=VL(r))>=0?e=(e<<4)+h:Rt(m,"expected hexadecimal character");m.result+=YL(e),m.position++}else Rt(m,"unknown escape sequence");l=g=m.position}else Yi(r)?(Dn(m,l,g,!0),ud(m,fe(m,!1,C)),l=g=m.position):m.position===m.lineStart&&Ll(m)?Rt(m,"unexpected end of the document within a double quoted scalar"):(m.position++,g=m.position)}Rt(m,"unexpected end of the stream within a double quoted scalar")}function KL(m,C){var l=!0,g,t,e,h=m.tag,r,a=m.anchor,s,i,n,f,o,u=Object.create(null),d,c,v,p;if(p=m.input.charCodeAt(m.position),p===91)i=93,o=!1,r=[];else if(p===123)i=125,o=!0,r={};else return!1;for(m.anchor!==null&&(m.anchorMap[m.anchor]=r),p=m.input.charCodeAt(++m.position);p!==0;){if(fe(m,!0,C),p=m.input.charCodeAt(m.position),p===i)return m.position++,m.tag=h,m.anchor=a,m.kind=o?"mapping":"sequence",m.result=r,!0;l?p===44&&Rt(m,"expected the node content, but found ','"):Rt(m,"missed comma between flow collection entries"),c=d=v=null,n=f=!1,p===63&&(s=m.input.charCodeAt(m.position+1),He(s)&&(n=f=!0,m.position++,fe(m,!0,C))),g=m.line,t=m.lineStart,e=m.position,is(m,C,sl,!1,!0),c=m.tag,d=m.result,fe(m,!0,C),p=m.input.charCodeAt(m.position),(f||m.line===g)&&p===58&&(n=!0,p=m.input.charCodeAt(++m.position),fe(m,!0,C),is(m,C,sl,!1,!0),v=m.result),o?kr(m,r,u,c,d,v,g,t,e):n?r.push(kr(m,null,u,c,d,v,g,t,e)):r.push(d),fe(m,!0,C),p=m.input.charCodeAt(m.position),p===44?(l=!0,p=m.input.charCodeAt(++m.position)):l=!1}Rt(m,"unexpected end of the stream within a flow collection")}function bL(m,C){var l,g,t=jh,e=!1,h=!1,r=C,a=0,s=!1,i,n;if(n=m.input.charCodeAt(m.position),n===124)g=!1;else if(n===62)g=!0;else return!1;for(m.kind="scalar",m.result="";n!==0;)if(n=m.input.charCodeAt(++m.position),n===43||n===45)jh===t?t=n===43?Ym:BL:Rt(m,"repeat of a chomping mode identifier");else if((i=zL(n))>=0)i===0?Rt(m,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?Rt(m,"repeat of an indentation width identifier"):(r=C+i-1,h=!0);else break;if(sr(n)){do n=m.input.charCodeAt(++m.position);while(sr(n));if(n===35)do n=m.input.charCodeAt(++m.position);while(!Yi(n)&&n!==0)}for(;n!==0;){for(ld(m),m.lineIndent=0,n=m.input.charCodeAt(m.position);(!h||m.lineIndent<r)&&n===32;)m.lineIndent++,n=m.input.charCodeAt(++m.position);if(!h&&m.lineIndent>r&&(r=m.lineIndent),Yi(n)){a++;continue}if(m.lineIndent<r){t===Ym?m.result+=Ge.repeat(`
`,e?1+a:a):t===jh&&e&&(m.result+=`
`);break}for(g?sr(n)?(s=!0,m.result+=Ge.repeat(`
`,e?1+a:a)):s?(s=!1,m.result+=Ge.repeat(`
`,a+1)):a===0?e&&(m.result+=" "):m.result+=Ge.repeat(`
`,a):m.result+=Ge.repeat(`
`,e?1+a:a),e=!0,h=!0,a=0,l=m.position;!Yi(n)&&n!==0;)n=m.input.charCodeAt(++m.position);Dn(m,l,m.position,!1)}return!0}function Km(m,C){var l,g=m.tag,t=m.anchor,e=[],h,r=!1,a;if(m.firstTabInLine!==-1)return!1;for(m.anchor!==null&&(m.anchorMap[m.anchor]=e),a=m.input.charCodeAt(m.position);a!==0&&(m.firstTabInLine!==-1&&(m.position=m.firstTabInLine,Rt(m,"tab characters must not be used in indentation")),!(a!==45||(h=m.input.charCodeAt(m.position+1),!He(h))));){if(r=!0,m.position++,fe(m,!0,-1)&&m.lineIndent<=C){e.push(null),a=m.input.charCodeAt(m.position);continue}if(l=m.line,is(m,C,Px,!1,!0),e.push(m.result),fe(m,!0,-1),a=m.input.charCodeAt(m.position),(m.line===l||m.lineIndent>C)&&a!==0)Rt(m,"bad indentation of a sequence entry");else if(m.lineIndent<C)break}return r?(m.tag=g,m.anchor=t,m.kind="sequence",m.result=e,!0):!1}function ZL(m,C,l){var g,t,e,h,r,a,s=m.tag,i=m.anchor,n={},f=Object.create(null),o=null,u=null,d=null,c=!1,v=!1,p;if(m.firstTabInLine!==-1)return!1;for(m.anchor!==null&&(m.anchorMap[m.anchor]=n),p=m.input.charCodeAt(m.position);p!==0;){if(!c&&m.firstTabInLine!==-1&&(m.position=m.firstTabInLine,Rt(m,"tab characters must not be used in indentation")),g=m.input.charCodeAt(m.position+1),e=m.line,(p===63||p===58)&&He(g))p===63?(c&&(kr(m,n,f,o,u,null,h,r,a),o=u=d=null),v=!0,c=!0,t=!0):c?(c=!1,t=!0):Rt(m,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),m.position+=1,p=g;else{if(h=m.line,r=m.lineStart,a=m.position,!is(m,l,Ax,!1,!0))break;if(m.line===e){for(p=m.input.charCodeAt(m.position);sr(p);)p=m.input.charCodeAt(++m.position);if(p===58)p=m.input.charCodeAt(++m.position),He(p)||Rt(m,"a whitespace character is expected after the key-value separator within a block mapping"),c&&(kr(m,n,f,o,u,null,h,r,a),o=u=d=null),v=!0,c=!1,t=!1,o=m.tag,u=m.result;else if(v)Rt(m,"can not read an implicit mapping pair; a colon is missed");else return m.tag=s,m.anchor=i,!0}else if(v)Rt(m,"can not read a block mapping entry; a multiline key may not be an implicit key");else return m.tag=s,m.anchor=i,!0}if((m.line===e||m.lineIndent>C)&&(c&&(h=m.line,r=m.lineStart,a=m.position),is(m,C,al,!0,t)&&(c?u=m.result:d=m.result),c||(kr(m,n,f,o,u,d,h,r,a),o=u=d=null),fe(m,!0,-1),p=m.input.charCodeAt(m.position)),(m.line===e||m.lineIndent>C)&&p!==0)Rt(m,"bad indentation of a mapping entry");else if(m.lineIndent<C)break}return c&&kr(m,n,f,o,u,null,h,r,a),v&&(m.tag=s,m.anchor=i,m.kind="mapping",m.result=n),v}function $L(m){var C,l=!1,g=!1,t,e,h;if(h=m.input.charCodeAt(m.position),h!==33)return!1;if(m.tag!==null&&Rt(m,"duplication of a tag property"),h=m.input.charCodeAt(++m.position),h===60?(l=!0,h=m.input.charCodeAt(++m.position)):h===33?(g=!0,t="!!",h=m.input.charCodeAt(++m.position)):t="!",C=m.position,l){do h=m.input.charCodeAt(++m.position);while(h!==0&&h!==62);m.position<m.length?(e=m.input.slice(C,m.position),h=m.input.charCodeAt(++m.position)):Rt(m,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!He(h);)h===33&&(g?Rt(m,"tag suffix cannot contain exclamation marks"):(t=m.input.slice(C-1,m.position+1),Mx.test(t)||Rt(m,"named tag handle cannot contain such characters"),g=!0,C=m.position+1)),h=m.input.charCodeAt(++m.position);e=m.input.slice(C,m.position),GL.test(e)&&Rt(m,"tag suffix cannot contain flow indicator characters")}e&&!Rx.test(e)&&Rt(m,"tag name cannot contain such characters: "+e);try{e=decodeURIComponent(e)}catch{Rt(m,"tag name is malformed: "+e)}return l?m.tag=e:Nn.call(m.tagMap,t)?m.tag=m.tagMap[t]+e:t==="!"?m.tag="!"+e:t==="!!"?m.tag="tag:yaml.org,2002:"+e:Rt(m,'undeclared tag handle "'+t+'"'),!0}function QL(m){var C,l;if(l=m.input.charCodeAt(m.position),l!==38)return!1;for(m.anchor!==null&&Rt(m,"duplication of an anchor property"),l=m.input.charCodeAt(++m.position),C=m.position;l!==0&&!He(l)&&!Jr(l);)l=m.input.charCodeAt(++m.position);return m.position===C&&Rt(m,"name of an anchor node must contain at least one character"),m.anchor=m.input.slice(C,m.position),!0}function JL(m){var C,l,g;if(g=m.input.charCodeAt(m.position),g!==42)return!1;for(g=m.input.charCodeAt(++m.position),C=m.position;g!==0&&!He(g)&&!Jr(g);)g=m.input.charCodeAt(++m.position);return m.position===C&&Rt(m,"name of an alias node must contain at least one character"),l=m.input.slice(C,m.position),Nn.call(m.anchorMap,l)||Rt(m,'unidentified alias "'+l+'"'),m.result=m.anchorMap[l],fe(m,!0,-1),!0}function is(m,C,l,g,t){var e,h,r,a=1,s=!1,i=!1,n,f,o,u,d,c;if(m.listener!==null&&m.listener("open",m),m.tag=null,m.anchor=null,m.kind=null,m.result=null,e=h=r=al===l||Px===l,g&&fe(m,!0,-1)&&(s=!0,m.lineIndent>C?a=1:m.lineIndent===C?a=0:m.lineIndent<C&&(a=-1)),a===1)for(;$L(m)||QL(m);)fe(m,!0,-1)?(s=!0,r=e,m.lineIndent>C?a=1:m.lineIndent===C?a=0:m.lineIndent<C&&(a=-1)):r=!1;if(r&&(r=s||t),(a===1||al===l)&&(sl===l||Ax===l?d=C:d=C+1,c=m.position-m.lineStart,a===1?r&&(Km(m,c)||ZL(m,c,d))||KL(m,d)?i=!0:(h&&bL(m,d)||HL(m,d)||jL(m,d)?i=!0:JL(m)?(i=!0,(m.tag!==null||m.anchor!==null)&&Rt(m,"alias node should not have any properties")):WL(m,d,sl===l)&&(i=!0,m.tag===null&&(m.tag="?")),m.anchor!==null&&(m.anchorMap[m.anchor]=m.result)):a===0&&(i=r&&Km(m,c))),m.tag===null)m.anchor!==null&&(m.anchorMap[m.anchor]=m.result);else if(m.tag==="?"){for(m.result!==null&&m.kind!=="scalar"&&Rt(m,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+m.kind+'"'),n=0,f=m.implicitTypes.length;n<f;n+=1)if(u=m.implicitTypes[n],u.resolve(m.result)){m.result=u.construct(m.result),m.tag=u.tag,m.anchor!==null&&(m.anchorMap[m.anchor]=m.result);break}}else if(m.tag!=="!"){if(Nn.call(m.typeMap[m.kind||"fallback"],m.tag))u=m.typeMap[m.kind||"fallback"][m.tag];else for(u=null,o=m.typeMap.multi[m.kind||"fallback"],n=0,f=o.length;n<f;n+=1)if(m.tag.slice(0,o[n].tag.length)===o[n].tag){u=o[n];break}u||Rt(m,"unknown tag !<"+m.tag+">"),m.result!==null&&u.kind!==m.kind&&Rt(m,"unacceptable node kind for !<"+m.tag+'> tag; it should be "'+u.kind+'", not "'+m.kind+'"'),u.resolve(m.result,m.tag)?(m.result=u.construct(m.result,m.tag),m.anchor!==null&&(m.anchorMap[m.anchor]=m.result)):Rt(m,"cannot resolve a node with !<"+m.tag+"> explicit tag")}return m.listener!==null&&m.listener("close",m),m.tag!==null||m.anchor!==null||i}function kL(m){var C=m.position,l,g,t,e=!1,h;for(m.version=null,m.checkLineBreaks=m.legacy,m.tagMap=Object.create(null),m.anchorMap=Object.create(null);(h=m.input.charCodeAt(m.position))!==0&&(fe(m,!0,-1),h=m.input.charCodeAt(m.position),!(m.lineIndent>0||h!==37));){for(e=!0,h=m.input.charCodeAt(++m.position),l=m.position;h!==0&&!He(h);)h=m.input.charCodeAt(++m.position);for(g=m.input.slice(l,m.position),t=[],g.length<1&&Rt(m,"directive name must not be less than one character in length");h!==0;){for(;sr(h);)h=m.input.charCodeAt(++m.position);if(h===35){do h=m.input.charCodeAt(++m.position);while(h!==0&&!Yi(h));break}if(Yi(h))break;for(l=m.position;h!==0&&!He(h);)h=m.input.charCodeAt(++m.position);t.push(m.input.slice(l,m.position))}h!==0&&ld(m),Nn.call(Hm,g)?Hm[g](m,g,t):ol(m,'unknown document directive "'+g+'"')}if(fe(m,!0,-1),m.lineIndent===0&&m.input.charCodeAt(m.position)===45&&m.input.charCodeAt(m.position+1)===45&&m.input.charCodeAt(m.position+2)===45?(m.position+=3,fe(m,!0,-1)):e&&Rt(m,"directives end mark is expected"),is(m,m.lineIndent-1,al,!1,!0),fe(m,!0,-1),m.checkLineBreaks&&wL.test(m.input.slice(C,m.position))&&ol(m,"non-ASCII line breaks are interpreted as content"),m.documents.push(m.result),m.position===m.lineStart&&Ll(m)){m.input.charCodeAt(m.position)===46&&(m.position+=3,fe(m,!0,-1));return}if(m.position<m.length-1)Rt(m,"end of the stream or a document separator is expected");else return}function Dx(m,C){m=String(m),C=C||{},m.length!==0&&(m.charCodeAt(m.length-1)!==10&&m.charCodeAt(m.length-1)!==13&&(m+=`
`),m.charCodeAt(0)===65279&&(m=m.slice(1)));var l=new XL(m,C),g=m.indexOf("\0");for(g!==-1&&(l.position=g,Rt(l,"null byte is not allowed in input")),l.input+="\0";l.input.charCodeAt(l.position)===32;)l.lineIndent+=1,l.position+=1;for(;l.position<l.length-1;)kL(l);return l.documents}function qL(m,C,l){C!==null&&typeof C=="object"&&typeof l>"u"&&(l=C,C=null);var g=Dx(m,l);if(typeof C!="function")return g;for(var t=0,e=g.length;t<e;t+=1)C(g[t])}function _L(m,C){var l=Dx(m,C);if(l.length!==0){if(l.length===1)return l[0];throw new ki("expected a single document in the stream, but found more")}}var tO=qL,eO=_L,iO={loadAll:tO,load:eO},nO=iO.load;const rO={active:!1,visible:!1,key:"DialogueList"};class sO extends Phaser.Scene{constructor(){super(rO);Gt(this,"reactOverlay");Gt(this,"choiceSelectSound")}create(){this.choiceSelectSound=this.sound.add("choice-select");const l=()=>{const g=this.cache.text.entries.keys().map(t=>{const e=this.cache.text.entries.get(t),h=nO(e),r=Object.keys(h),a=["briefing","seis_age","temporary_beauty","animal_souls","start"],s=r.filter(i=>a.includes(i)).map(i=>{const n=()=>{this.choiceSelectSound.play()};return lt.jsxs("div",{className:Um.scriptButton,onClick:n,children:["- ",i]},i)});return lt.jsxs("div",{children:[lt.jsx("h1",{children:t}),s]},t)});return lt.jsx("div",{className:Um.container,children:g})};this.reactOverlay.create(lt.jsx(l,{}),this)}}const aO="_title_1dzy1_1",oO="_mainMenuButton_1dzy1_9",bm={title:aO,mainMenuButton:oO},lO={active:!1,visible:!1,key:"GameOver"};class uO extends Phaser.Scene{constructor(){super(lO);Gt(this,"reactOverlay");Gt(this,"choiceSelectSound")}create(){this.choiceSelectSound=this.sound.add("choice-select");const l=()=>{const[g,t]=gt.useState(1),e=r=>{r.opacity===0&&this.scene.start("MainMenu")},h=()=>{this.choiceSelectSound.play(),t(0)};return lt.jsxs(un.div,{initial:{opacity:0},animate:{opacity:g},transition:{duration:1},onAnimationComplete:e,children:[lt.jsx("h1",{className:bm.title,children:"g a m e o v e r"}),lt.jsx("div",{className:bm.mainMenuButton,onClick:h,children:"main menu"})]})};this.reactOverlay.create(lt.jsx(l,{}),this)}}const hO=[FC,oC,$C,sO,xM,dR,uO];var Go={},Zm;function fO(){if(Zm)return Go;Zm=1;var m=gx();return Go.createRoot=m.createRoot,Go.hydrateRoot=m.hydrateRoot,Go}var dO=fO();class cO extends $s.Plugins.BasePlugin{constructor(l){super(l);Gt(this,"root");Gt(this,"uiMap",new Map)}init(){const l=this.game.domContainer;if(!l)return console.error("this plugins requires you have `dom: { createContainer: true }` in your game config");this.root=dO.createRoot(l),this.root.render(lt.jsx(lt.Fragment,{}))}create(l,g){this.uiMap.set(g.scene.key,l),this.root.render(l);const t=g.events;t.on("pause",this.pause,this),t.on("resume",this.resume,this),t.on("shutdown",this.shutdown,this),t.on("destroy",this.destroyScene,this)}pause(l,g){}resume(l){const g=this.uiMap.get(l.scenePlugin.key);this.root.render(g)}shutdown(l){this.clearUi(l.scenePlugin.key)}destroyScene(l){this.clearUi(l.scenePlugin.key)}clearUi(l){this.uiMap.delete(l),this.root.render(lt.jsx(lt.Fragment,{}))}}const vO={title:"r e a p e r",type:$s.AUTO,width:450,height:800,scale:{mode:$s.Scale.FIT,autoCenter:$s.Scale.CENTER_BOTH},scene:hO,physics:{default:"arcade",arcade:{debug:!0}},parent:"game",backgroundColor:"#000000",dom:{createContainer:!0},plugins:{global:[{key:"react-overlay",plugin:cO,start:!0,mapping:"reactOverlay"}]}},pO=new $s.Game(vO);window.addEventListener("resize",()=>{pO.scale.refresh()});
